{"version":3,"file":"js/app-legacy.79c77814.js","mappings":"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","sources":["webpack://my-choice/./src/App.vue","webpack://my-choice/./src/components/AppBar.vue","webpack://my-choice/./src/store/state.ts","webpack://my-choice/./src/views/Project.vue?c1fa","webpack://my-choice/./src/views/Project.vue","webpack://my-choice/./src/components/Empty.vue","webpack://my-choice/./src/components/Empty.vue?43be","webpack://my-choice/./src/views/Project.vue?c46e","webpack://my-choice/./src/views/Home.vue","webpack://my-choice/./src/components/Version.vue","webpack://my-choice/./src/components/Version.vue?9114","webpack://my-choice/./src/views/Home.vue?9051","webpack://my-choice/./src/views/Main.vue","webpack://my-choice/./src/components/TableList/TableList.vue?668a","webpack://my-choice/./src/components/TableList/TableList.vue","webpack://my-choice/./src/components/TableList/TableListHead.vue","webpack://my-choice/./src/components/TableList/TableListHead.vue?9196","webpack://my-choice/./src/components/TableList/TableListFoot.vue","webpack://my-choice/./src/components/ScoreIcon.vue?cdba","webpack://my-choice/./src/components/ScoreIcon.vue","webpack://my-choice/./src/components/ScoreIcon.vue?c879","webpack://my-choice/./src/components/TableList/TableListFoot.vue?e57e","webpack://my-choice/./src/components/TableList/TableListAim.vue?4351","webpack://my-choice/./src/components/TableList/TableListAim.vue","webpack://my-choice/./src/components/ItemsCount.vue?d937","webpack://my-choice/./src/components/ItemsCount.vue","webpack://my-choice/./src/components/ItemsCount.vue?1e1a","webpack://my-choice/./src/components/Acceptability.vue?d7ce","webpack://my-choice/./src/components/Acceptability.vue","webpack://my-choice/./src/components/Acceptability.vue?b4af","webpack://my-choice/./src/components/TableList/TableListAim.vue?ebbb","webpack://my-choice/./src/components/TableList/TableListCriterion.vue?2da6","webpack://my-choice/./src/components/TableList/TableListCriterion.vue","webpack://my-choice/./src/components/TableList/TableListCriterion.vue?09b4","webpack://my-choice/./src/components/TableList/TableListAlternative.vue","webpack://my-choice/./src/components/TableList/TableListCard.vue","webpack://my-choice/./src/components/TableList/TableListCard.vue?f3c0","webpack://my-choice/./src/components/TableList/TableListAlternative.vue?d28a","webpack://my-choice/./src/components/TableList/TableList.ts","webpack://my-choice/./src/components/TableList/TableList.vue?8723","webpack://my-choice/./src/components/Header.vue?9996","webpack://my-choice/./src/components/Header.vue","webpack://my-choice/./src/components/Header.vue?801b","webpack://my-choice/./src/components/SupersetCard.vue","webpack://my-choice/./src/components/SupersetCardItem.vue","webpack://my-choice/./src/components/SupersetCardItem.vue?483e","webpack://my-choice/./src/components/SupersetCard.vue?5507","webpack://my-choice/./src/views/Main.vue?0dcf","webpack://my-choice/./src/views/Properties.vue?39e3","webpack://my-choice/./src/views/Properties.vue","webpack://my-choice/./src/components/PropertiesList/PropertyListRow.vue?c656","webpack://my-choice/./src/components/PropertiesList/PropertyListRow.vue","webpack://my-choice/./src/components/PropertiesList/PropertiesListCriterion.vue?f030","webpack://my-choice/./src/components/PropertiesList/PropertiesListCriterion.vue","webpack://my-choice/./src/components/PropertiesList/PropertiesListCriterion.vue?4525","webpack://my-choice/./src/components/PropertiesList/PropertyListRow.vue?9157","webpack://my-choice/./src/views/Properties.vue?bf79","webpack://my-choice/./src/views/Stakeholders.vue?76f4","webpack://my-choice/./src/views/Stakeholders.vue","webpack://my-choice/./src/components/StakeholderList/StakeholderListRow.vue?43f5","webpack://my-choice/./src/components/StakeholderList/StakeholderListRow.vue","webpack://my-choice/./src/components/StakeholderList/StakeholderListRow.vue?1475","webpack://my-choice/./src/views/Stakeholders.vue?a536","webpack://my-choice/./src/router/index.ts","webpack://my-choice/./src/store/routes.ts","webpack://my-choice/./src/store/notifications.ts","webpack://my-choice/./src/store/utils.ts","webpack://my-choice/./src/store/cache.ts","webpack://my-choice/./src/data-spreadsheet.ts","webpack://my-choice/./src/store/spreadsheet.ts","webpack://my-choice/./src/data-renamed.ts","webpack://my-choice/./src/data-parser.ts","webpack://my-choice/./src/store/xlsx.ts","webpack://my-choice/./src/store/project.ts","webpack://my-choice/./src/store/fetch.ts","webpack://my-choice/./src/store/alternatives.ts","webpack://my-choice/./src/store/aims.ts","webpack://my-choice/./src/store/criterions.ts","webpack://my-choice/./src/store/items.ts","webpack://my-choice/./src/store/suboptions.ts","webpack://my-choice/./src/store/stakeholders.ts","webpack://my-choice/./src/store/supersets.ts","webpack://my-choice/./src/store/acceptability.ts","webpack://my-choice/./src/store/labels.ts","webpack://my-choice/./src/store/select.ts","webpack://my-choice/./src/store/filedrop.ts","webpack://my-choice/./src/data-csv.ts","webpack://my-choice/./src/store/csv.ts","webpack://my-choice/./src/store/index.ts","webpack://my-choice/./src/components/AppBar.vue?7e47","webpack://my-choice/./src/components/Drawer.vue","webpack://my-choice/./src/components/Drawer.vue?b302","webpack://my-choice/./src/components/OpenDialog.vue?d5e7","webpack://my-choice/./src/components/OpenDialog.vue","webpack://my-choice/./src/components/OpenDialog.vue?26ba","webpack://my-choice/./src/views/About.vue","webpack://my-choice/./src/views/About.vue?1393","webpack://my-choice/./src/App.vue?7ccd","webpack://my-choice/./src/plugins/vuetify.ts","webpack://my-choice/./src/plugins/text-highlight.ts","webpack://my-choice/./src/store/events.ts","webpack://my-choice/./src/main.ts","webpack://my-choice/webpack/bootstrap","webpack://my-choice/webpack/runtime/chunk loaded","webpack://my-choice/webpack/runtime/compat get default export","webpack://my-choice/webpack/runtime/define property getters","webpack://my-choice/webpack/runtime/global","webpack://my-choice/webpack/runtime/hasOwnProperty shorthand","webpack://my-choice/webpack/runtime/make namespace object","webpack://my-choice/webpack/runtime/node module decorator","webpack://my-choice/webpack/runtime/jsonp chunk loading","webpack://my-choice/webpack/startup"],"sourcesContent":["<template>\r\n  <v-app style=\"background-color: #fafafa;\">\r\n    <AppBar></AppBar>\r\n\r\n    <Drawer></Drawer>\r\n\r\n      <input style=\"display:none;\" ref=\"dropFileInputRef\" accept=\".xlsx\" type=\"file\" @change=\"onFileChange\"/>\r\n      <v-main>\r\n\r\n        <router-view />\r\n\r\n      </v-main>\r\n      \r\n\r\n    <v-dialog v-model=\"state.openDialog\" max-width=\"600px\">\r\n      <v-card>\r\n        <v-card-title>\r\n          <span class>\r\n            <v-icon class=\"mr-2\">mdi-cloud-upload</v-icon>Open online project\r\n          </span>\r\n        </v-card-title>\r\n\r\n        <v-card-text>\r\n          <OpenDialog />\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <v-dialog v-model=\"state.aboutDialog\" max-width=\"600px\">\r\n      <About />\r\n    </v-dialog>\r\n\r\n    <v-overlay z-index=\"3\" :value=\"state.overlay\">\r\n      <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\r\n    </v-overlay>\r\n\r\n    <v-snackbar top color=\"info\" v-model=\"isNotification\">\r\n      <v-icon align-center>mdi-information</v-icon>&nbsp;\r\n      <div>\r\n      <div v-for=\"(notification, index) in notifications\" :key=\"index\">\r\n      \r\n        {{ notification.message }}.\r\n\r\n        \r\n      </div>\r\n      </div>\r\n      <v-btn class=\"ml-3\" color=\"white\" small outlined\r\n          @click=\"refreshProject\"\r\n        >\r\n          Refresh \r\n        </v-btn>\r\n      \r\n    </v-snackbar>\r\n\r\n    <v-snackbar color=\"red\" v-model=\"isError\" :timeout=\"0\">\r\n      \r\n      <div>\r\n      <div v-for=\"(key, index) in getErrors\" :key=\"index\">\r\n        <span v-html=\"getErrorMessage(key)\"></span>.\r\n      </div>\r\n      </div>\r\n      <v-btn text @click=\"clearErrors()\">Close</v-btn>\r\n    </v-snackbar>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport AppBar from \"@/components/AppBar.vue\";\r\nimport Drawer from \"@/components/Drawer.vue\";\r\nimport OpenDialog from \"@/components/OpenDialog.vue\";\r\nimport About from \"@/views/About.vue\";\r\n\r\nimport {\r\n  state,\r\n  clearErrors,\r\n  getErrors,\r\n  getErrorMessage,\r\n  refreshProject,\r\n  onFileChange,\r\n  onFileDrop,\r\n  onFileDragEnter,\r\n  onFileDragLeave,\r\n  onFileDragOver,\r\n  initDropArea,\r\n  notifications\r\n} from \"@/store\";\r\n\r\nimport { ref, onMounted, computed, defineComponent } from \"vue\";\r\nimport { dropFileInputRef } from \"@/store\";\r\n\r\nexport default defineComponent({\r\n  name: 'App',\r\n  components: {\r\n    Drawer,\r\n    OpenDialog,\r\n    AppBar,\r\n    About\r\n  },\r\n  setup() {\r\n\r\n    onMounted(() => { \r\n      initDropArea();\r\n    });\r\n\r\n    const isNotification = computed({\r\n      get() {\r\n        return state.notifications && state.notifications.length > 0;\r\n      },\r\n      set(value) {\r\n        if (!value) state.notifications = [];\r\n      }\r\n    });\r\n\r\n    const isError = computed({\r\n      get() {\r\n        return Object.values(state.errors).some(error => error !== false);\r\n      },\r\n      set(value) {\r\n        if (!value) clearErrors();\r\n      }\r\n    });\r\n\r\n    return {\r\n      dropFileInputRef,\r\n      onFileChange,\r\n      onFileDrop,\r\n      onFileDragEnter,\r\n      onFileDragLeave,\r\n      onFileDragOver,\r\n      clearErrors,\r\n      getErrorMessage,\r\n      refreshProject,\r\n      state,\r\n      getErrors,\r\n      notifications,\r\n      isNotification,\r\n      isError\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n@import \"@/styles/main.scss\";\r\n</style>\r\n","<template>\r\n  <v-app-bar elevation=\"0\" color=\"secondary\" dark app>\r\n    <!-- <v-app-bar-nav-icon></v-app-bar-nav-icon> -->\r\n\r\n    <v-app-bar-nav-icon @click.stop=\"state.drawer = !state.drawer\"></v-app-bar-nav-icon>\r\n    <v-toolbar-title  class=\"d-flex align-center\" style=\"width: calc(50% - 2px - 20px - (48px - 12px) - (132px / 2) - 48px); margin-right: 48px;\" >\r\n      <a v-if=\"state.project && isProjectRoute\" style=\"text-overflow: ellipsis; display:block; overflow:hidden;\" class=\"white--text\" :title=\"state.project.name\" @click=\"switchToView('project')\">\r\n        {{\r\n        state.project.name\r\n        }}\r\n      </a>\r\n      <v-tooltip v-if=\"state.project && isProjectRoute && state.spreadsheet\" bottom>\r\n        <template v-slot:activator=\"{ on }\">\r\n          <v-btn\r\n            icon\r\n            target=\"_blank\"\r\n            :href=\"\r\n              `${getSpreadsheetLink(state.spreadsheet)}`\r\n            \"\r\n          >\r\n            <v-icon v-on=\"on\" title>mdi-google-spreadsheet</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <span>Open Spreadsheet</span>\r\n      </v-tooltip>\r\n    </v-toolbar-title>\r\n\r\n    <!-- <v-spacer v-if=\"!isProjectRoute\" class=\"flex-grow-1 flex-shrink-1\"></v-spacer> -->\r\n\r\n    <div class=\"d-flex\">\r\n      <router-link to=\"/\" class=\"logo-mychoice\">\r\n        <img :src=\"state.baseUrl + 'logo-mychoice.svg'\" />\r\n      </router-link>\r\n    </div>\r\n    <v-spacer class=\"flex-grow-1\"></v-spacer>\r\n\r\n    <div class=\"logo-inrae\">\r\n      <img :src=\"state.baseUrl + 'logo-inrae-white-transparent.png'\" />\r\n    </div>\r\n  </v-app-bar>\r\n</template>\r\n\r\n<script>\r\nimport { state, switchToView, getSpreadsheetLink } from \"@/store\";\r\nexport default {\r\n  data: () => ({\r\n    state\r\n  }),\r\n  methods: {\r\n    switchToView,\r\n    getSpreadsheetLink\r\n  },\r\n  computed: {\r\n    isProjectRoute: function() {\r\n      return this.$route.path.includes(\"/project\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\n//import { data } from \"../data\";\r\n\r\nimport { computed, Ref, reactive, watch, ref } from \"vue\";\r\nimport { NormalizedData, Project } from \"@/@types\";\r\nimport { LocalStorageCache, LocalStorageCacheProjectItem } from \".\";\r\n\r\nexport interface State {\r\n  vm: any;  // Utiliser `any` ou `ComponentPublicInstance` pour Vue 3\r\n  notifications: {\r\n    type?: string;\r\n    message: string;\r\n  }[];\r\n  readonly baseUrl: string;\r\n  spreadsheet: string | null;\r\n  data: NormalizedData | null;\r\n  project: Project | null;\r\n  searchInput: string;\r\n  selectedSuperset: string;\r\n  selectedSupersets: string[];\r\n  selectedAims: number[];\r\n  selectedCriterions: number[];\r\n  selectedStakeholders: number[];\r\n  mode:\r\n    | \"consensus\"\r\n    | \"interplay\"\r\n    | \"data-reliability\"\r\n    | \"expertise\"\r\n    | \"prospective\"\r\n    | \"multi-stakeholder\";\r\n  readonly modes: {\r\n    [key in State[\"mode\"]]?: {\r\n      name: string;\r\n    };\r\n  };\r\n  globalCardType: \"label\" | \"stakeholder\";\r\n  dialog: boolean;\r\n  compareDialog: boolean;\r\n  openDialog: boolean;\r\n  readonly icons: {\r\n    [id: string]: any;\r\n  };\r\n  aboutDialog: boolean;\r\n  creditsDialog: boolean;\r\n  // dropFileInputRef: null | Ref<HTMLInputElement>;\r\n  overlay: boolean;\r\n  drawer: boolean;\r\n  selectedView: string;\r\n  errors: {\r\n    [key: string]: boolean | string | null;\r\n  };\r\n  snackbar: boolean;\r\n  readonly errorMessages: {\r\n    [key: string]: string;\r\n  };\r\n  recentProjects: LocalStorageCacheProjectItem[];\r\n  recentProjectNames: {\r\n    [key: string]: {\r\n      name: string;\r\n      date: number;\r\n    };\r\n  };\r\n  recentProjectSpreadsheets: {\r\n    [key: string]: {\r\n      name: string;\r\n      id: string;\r\n      date: number;\r\n    };\r\n  };\r\n  fields: {\r\n    projectName: string;\r\n    spreadsheetUrl: string;\r\n    nextcloudUrl: string;\r\n  };\r\n}\r\n\r\nexport const DEFAULTS: Pick<\r\n  State,\r\n  | \"mode\"\r\n  | \"searchInput\"\r\n  | \"selectedSuperset\"\r\n  | \"selectedSupersets\"\r\n  | \"selectedAims\"\r\n  | \"selectedCriterions\"\r\n  | \"selectedStakeholders\"\r\n  | \"compareDialog\"\r\n  | \"dialog\"\r\n  | \"openDialog\"\r\n  | \"spreadsheet\"\r\n  | \"selectedView\"\r\n  | \"data\"\r\n  | \"project\"\r\n  | \"aboutDialog\"\r\n  | \"creditsDialog\"\r\n  | \"globalCardType\"\r\n  // | \"dropFileInputRef\"\r\n> = {\r\n  mode: \"consensus\",\r\n  globalCardType: \"label\",\r\n  searchInput: \"\",\r\n  selectedSuperset: \"\",\r\n  selectedSupersets: [],\r\n  selectedAims: [],\r\n  selectedCriterions: [],\r\n  selectedStakeholders: [],\r\n  compareDialog: false,\r\n  dialog: false,\r\n  openDialog: false,\r\n  spreadsheet: null,\r\n  selectedView: \"table-view\",\r\n  data: null,\r\n  project: null,\r\n  aboutDialog: false,\r\n  creditsDialog: false,\r\n  // dropFileInputRef: null,\r\n};\r\n\r\nexport const dropFileInputRef = ref<HTMLInputElement | null>(null);\r\n\r\nexport const state = reactive<State>({\r\n  vm: null,\r\n  notifications: [],\r\n  baseUrl: process.env.BASE_URL,\r\n  selectedView: DEFAULTS.selectedView,\r\n  spreadsheet: DEFAULTS.spreadsheet,\r\n  data: DEFAULTS.data,\r\n  project: DEFAULTS.project,\r\n  searchInput: DEFAULTS.searchInput,\r\n  selectedSuperset: DEFAULTS.selectedSuperset,\r\n  selectedSupersets: DEFAULTS.selectedSupersets,\r\n  selectedAims: DEFAULTS.selectedAims,\r\n  selectedCriterions: DEFAULTS.selectedCriterions,\r\n  selectedStakeholders: DEFAULTS.selectedStakeholders,\r\n  mode: DEFAULTS.mode,\r\n  modes: {\r\n    consensus: {\r\n      name: \"Consensus\",\r\n    },\r\n    interplay: {\r\n      name: \"Interplay\",\r\n    },\r\n    prospective: {\r\n      name: \"Prospective\",\r\n    },\r\n    expertise: {\r\n      name: \"Expertise\",\r\n    },\r\n    \"data-reliability\": {\r\n      name: \"Data reliability\",\r\n    },\r\n    \"multi-stakeholder\": {\r\n      name: \"Multi Stakeholder\",\r\n    },\r\n  },\r\n  globalCardType: \"label\",\r\n  dialog: DEFAULTS.dialog,\r\n  compareDialog: DEFAULTS.compareDialog,\r\n  openDialog: DEFAULTS.openDialog,\r\n  aboutDialog: DEFAULTS.aboutDialog,\r\n  creditsDialog: DEFAULTS.creditsDialog,\r\n  // dropFileInputRef: ref<HTMLInputElement | null>(null),\r\n  icons: {\r\n    subOption: {\r\n      1: \"mdi-emoticon-happy-outline\",\r\n      2: \"mdi-emoticon-sad-outline\",\r\n    },\r\n    compare: \"mdi\",\r\n  },\r\n  overlay: false,\r\n  drawer: false,\r\n  errors: {\r\n    FAILED_TO_FETCH_SPREADSHEET: false,\r\n    FAILED_TO_FETCH_ICO: false,\r\n  },\r\n  snackbar: false,\r\n  fields: {\r\n    projectName: \"\",\r\n    spreadsheetUrl: \"\",\r\n    nextcloudUrl: \"\",\r\n  },\r\n  errorMessages: {\r\n    FAILED_TO_FETCH_SPREADSHEET:\r\n      \"The Spreadsheet isn't published or doesn't exist\",\r\n    FAILED_TO_FETCH_ICO:\r\n      \"This project name doesn't exist (note: name is case-sensitive)\",\r\n  },\r\n  recentProjects: [],\r\n  recentProjectNames:\r\n    localStorage.recentProjectNames &&\r\n    JSON.parse(localStorage.recentProjectNames) !== null\r\n      ? JSON.parse(localStorage.recentProjectNames)\r\n      : {},\r\n  recentProjectSpreadsheets:\r\n    localStorage.recentProjectSpreadsheets &&\r\n    JSON.parse(localStorage.recentProjectSpreadsheets) !== null\r\n      ? JSON.parse(localStorage.recentProjectSpreadsheets)\r\n      : {},\r\n});\r\n\r\nexport const clearAppDataAndProject = () => {\r\n  state.data = DEFAULTS.data;\r\n  state.project = DEFAULTS.project;\r\n  state.spreadsheet = DEFAULTS.spreadsheet;\r\n};\r\n\r\nexport const clearAppMode = () => {\r\n  state.mode = DEFAULTS.mode;\r\n};\r\n\r\nexport const clearAll = () => {\r\n  clearAppDataAndProject();\r\n  clearAppFilters();\r\n  clearAppMode();\r\n  clearAppDialogs();\r\n};\r\n\r\nexport const clearAppDialogs = () => {\r\n  state.selectedSuperset = DEFAULTS.selectedSuperset;\r\n  state.selectedSupersets.splice(0); // Clear the array\r\n  state.compareDialog = DEFAULTS.compareDialog;\r\n  state.dialog = DEFAULTS.dialog;\r\n  state.openDialog = DEFAULTS.openDialog;\r\n};\r\n\r\nexport const clearAppFilters = () => {\r\n  state.searchInput = DEFAULTS.searchInput;\r\n  state.selectedAims = DEFAULTS.selectedAims;\r\n  state.selectedCriterions = DEFAULTS.selectedCriterions;\r\n  state.selectedStakeholders = DEFAULTS.selectedStakeholders;\r\n};\r\n\r\nexport const getImagePath = (url: string) => {\r\n  const regex = new RegExp(\"^(?:[a-z]+:)?//\", \"i\");\r\n  const isAbsoluteUrl = regex.test(url);\r\n  return isAbsoluteUrl\r\n    ? url\r\n    : process.env.VUE_APP_ROOT_URL + \"img/\" + state.project!.name + \"/\" + url;\r\n};\r\n\r\nexport const isSpreadsheet = computed(() =>\r\n  state.vm &&\r\n  state.vm.$route &&\r\n  state.vm.$route.query &&\r\n  state.vm.$route.query.spreadsheet\r\n    ? true\r\n    : false\r\n);\r\n\r\nexport const getCurrentRoute = computed(() =>\r\n  state.vm && state.vm.$route ? state.vm.$route : null\r\n);\r\n\r\nexport const isLoading = computed(() => state.overlay);\r\nexport const isEmptyProject = computed(() => state.project === null);\r\n\r\nexport const getSpreadsheetLink = (spreadsheetId: string) =>\r\n  `https://docs.google.com/spreadsheets/d/${spreadsheetId}`;\r\n\r\nexport const getProjectName = computed(() =>\r\n  state.project && state.project.name ? state.project.name : null\r\n);\r\n\r\nexport const is1stLevelStakeholdersMode = computed(() =>\r\n  state.globalCardType === \"stakeholder\" ? true : false\r\n);\r\n\r\nexport const selectedSupersets = computed(() => state.selectedSupersets);\r\n\r\nexport const showOverlay = () => {\r\n  state.overlay = true;\r\n};\r\n\r\nexport const hideOverlay = () => {\r\n  state.overlay = false;\r\n};\r\n\r\nwatch(\r\n  () => state.globalCardType,\r\n  (newValue, oldValue) => {\r\n    if (newValue !== oldValue) {\r\n      clearAppDialogs();\r\n    }\r\n  }\r\n);\r\n\r\nexport const recentSpreadsheetProjects = computed(() => {\r\n  return Object.entries(state.recentProjects).filter(\r\n    ([key, { type }]) => type === \"googlespreadsheet\"\r\n  );\r\n});\r\n\r\nexport const recentIcoProjects = computed(() => {\r\n  return Object.entries(state.recentProjects).filter(\r\n    ([key, { type }]) => type === \"ico\"\r\n  );\r\n});\r\n\r\nexport const recentNextcloudProjects = computed(() => {\r\n  return Object.entries(state.recentProjects).filter(\r\n    ([key, { type }]) => type === \"nextcloud\"\r\n  );\r\n});\r\n","import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"text-center mt-0\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"font-weight-light caption mx-2\"\n}\nconst _hoisted_3 = { class: \"text-center mt-n6 mb-3\" }\nconst _hoisted_4 = { class: \"text-justify body-1\" }\nconst _hoisted_5 = { class: \"versus-list\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"d-flex align-center mx-auto\"\n}\nconst _hoisted_7 = { class: \"title lh-1 mb-1 font-weight-bold\" }\nconst _hoisted_8 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_card_subtitle = _resolveComponent(\"v-card-subtitle\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_img = _resolveComponent(\"v-img\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_avatar = _resolveComponent(\"v-avatar\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_Empty = _resolveComponent(\"Empty\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, {\n    tile: \"\",\n    class: \"flex-grow-1 white--text grey lighten-4\"\n  }, {\n    default: _withCtx(() => [\n      (_ctx.state.project)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n            _createVNode(_component_v_img, {\n              class: \"align-center\",\n              height: \"300px\",\n              src: `${_ctx.getImagePath(_ctx.state.project.image)}`\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_card_title, { class: \"display-1 mb-4 justify-center\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(_ctx.state.project.name), 1)\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_card_subtitle, { class: \"title font-weight-light pb-0 white--text justify-center text-center\" }, {\n                  default: _withCtx(() => _cache[1] || (_cache[1] = [\n                    _createTextVNode(\"The alternatives discussed in the project are: \")\n                  ])),\n                  _: 1\n                }),\n                _createElementVNode(\"div\", _hoisted_1, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternativesIds, (alternativeId, index) => {\n                    return (_openBlock(), _createElementBlock(\"span\", {\n                      class: \"title\",\n                      key: alternativeId\n                    }, [\n                      (index !== 0)\n                        ? (_openBlock(), _createElementBlock(\"small\", _hoisted_2, \"VS\"))\n                        : _createCommentVNode(\"\", true),\n                      _createVNode(_component_v_icon, { dark: \"\" }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(_ctx.getAlternatives[alternativeId].icon), 1)\n                        ]),\n                        _: 2\n                      }, 1024),\n                      _createTextVNode(\" \" + _toDisplayString(_ctx.getAlternatives[alternativeId].name), 1)\n                    ]))\n                  }), 128))\n                ])\n              ]),\n              _: 1\n            }, 8, [\"src\"]),\n            _createElementVNode(\"div\", _hoisted_3, [\n              _createVNode(_component_v_btn, {\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.switchToView('global-view'))),\n                \"x-large\": \"\",\n                color: \"primary\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Open \" + _toDisplayString(_ctx.state.project.name) + \" project\", 1)\n                ]),\n                _: 1\n              })\n            ]),\n            _createVNode(_component_v_container, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_card_text, { class: \"text--primary d-flex justify-center\" }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"p\", _hoisted_4, _toDisplayString(_ctx.state.project.description), 1)\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_row, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_col, { style: {\"overflow-x\":\"auto\",\"text-align\":\"center\"} }, {\n                      default: _withCtx(() => [\n                        _createElementVNode(\"div\", _hoisted_5, [\n                          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternativesIds, (alternativeId, index) => {\n                            return (_openBlock(), _createElementBlock(\"div\", {\n                              class: \"versus-list__item\",\n                              key: 'card-' + alternativeId + index\n                            }, [\n                              (index !== 0)\n                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _cache[2] || (_cache[2] = [\n                                    _createElementVNode(\"small\", { class: \"grey--text text--lighten-1 font-weight-bold title px-6\" }, \"VS\", -1)\n                                  ])))\n                                : _createCommentVNode(\"\", true),\n                              _createVNode(_component_v_card, {\n                                \"min-width\": \"280\",\n                                \"max-width\": \"320\",\n                                class: \"\",\n                                outlined: \"\"\n                              }, {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_v_list_item, { \"three-line\": \"\" }, {\n                                    default: _withCtx(() => [\n                                      _createElementVNode(\"div\", _hoisted_7, [\n                                        _createVNode(_component_v_icon, {\n                                          class: \"primary--text text--lighten-2\",\n                                          light: \"\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(_toDisplayString(_ctx.getAlternatives[alternativeId].icon), 1)\n                                          ]),\n                                          _: 2\n                                        }, 1024),\n                                        _createTextVNode(\" \" + _toDisplayString(_ctx.getAlternatives[alternativeId].name), 1)\n                                      ]),\n                                      _createVNode(_component_v_avatar, {\n                                        size: \"56\",\n                                        color: \"grey\"\n                                      }, {\n                                        default: _withCtx(() => [\n                                          _createElementVNode(\"img\", {\n                                            src: \r\n                      `${_ctx.getImagePath(_ctx.getAlternatives[alternativeId].image)}`\r\n                    \n                                          }, null, 8, _hoisted_8)\n                                        ]),\n                                        _: 2\n                                      }, 1024)\n                                    ]),\n                                    _: 2\n                                  }, 1024),\n                                  _createVNode(_component_v_card_text, null, {\n                                    default: _withCtx(() => [\n                                      _createElementVNode(\"p\", null, _toDisplayString(_ctx.getAlternatives[alternativeId].description), 1)\n                                    ]),\n                                    _: 2\n                                  }, 1024)\n                                ]),\n                                _: 2\n                              }, 1024)\n                            ]))\n                          }), 128))\n                        ])\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_row, null, {\n                  default: _withCtx(() => _cache[3] || (_cache[3] = [\n                    _createElementVNode(\"div\", { class: \"disclaimer\" }, [\n                      _createElementVNode(\"div\", { class: \"title\" }, \"Disclaimer\"),\n                      _createElementVNode(\"ul\", { class: \"caption\" }, [\n                        _createElementVNode(\"li\", null, \"The authors and publisher of the software cannot be held liable in any way for the consequences that may result from the use or interpretation of the information processed by the MyChoice software. In addition, the information entered is that of the users. Their quality conditions the quality of the final result. The user is solely responsible for the use made of the information as it results from the processing by the MyChoice software. \"),\n                        _createElementVNode(\"li\", null, [\n                          _createTextVNode(\"By using the MyChoice software, users agree to explicitly cite the tool (home page \"),\n                          _createElementVNode(\"a\", { href: \"https://ico.iate.inra.fr/MyChoice/\" }, \"https://ico.iate.inra.fr/MyChoice/\"),\n                          _createTextVNode(\" and associated publications indicated on the home page) in any communication using MyChoice, clearly indicating the contributions from the MyChoice software (in particular methods to structure and analyze arguments and associated data). The use of contributors' attributes (logo, brands, etc.) without explicit, duly formalized acceptance, is prohibited. \")\n                        ])\n                      ])\n                    ], -1)\n                  ])),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ], 64))\n        : _createCommentVNode(\"\", true),\n      (!_ctx.state.project)\n        ? (_openBlock(), _createBlock(_component_Empty, { key: 1 }))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }))\n}","<template>\r\n  <v-card\r\n    \r\n    tile\r\n    class=\"flex-grow-1 white--text grey lighten-4\"\r\n  >\r\n  <template v-if=\"state.project\">\r\n    <v-img\r\n      class=\"align-center \"\r\n      height=\"300px\"\r\n      :src=\"`${getImagePath(state.project.image)}`\"\r\n    >\r\n      <v-card-title class=\"display-1 mb-4 justify-center\">{{\r\n        state.project.name\r\n      }}</v-card-title>\r\n      <v-card-subtitle\r\n        class=\"title font-weight-light pb-0 white--text justify-center text-center\"\r\n        >The alternatives discussed in the project are:\r\n      </v-card-subtitle>\r\n      <div class=\"text-center mt-0\">\r\n        <span\r\n          class=\"title\"\r\n          v-for=\"(alternativeId, index) in alternativesIds\"\r\n          :key=\"alternativeId\"        >\r\n          <small v-if=\"index !== 0\" class=\"font-weight-light caption mx-2\"\r\n            >VS</small\r\n          >\r\n          <v-icon dark>{{ getAlternatives[alternativeId].icon }}</v-icon>\r\n          {{ getAlternatives[alternativeId].name }}\r\n        </span>\r\n        </div>\r\n    </v-img>\r\n\r\n    <div class=\"text-center  mt-n6 mb-3\">\r\n      <v-btn @click=\"switchToView('global-view')\" x-large color=\"primary\"\r\n        >Open {{ state.project.name }} project</v-btn\r\n      >\r\n    </div>\r\n\r\n    <v-container>\r\n      <v-card-text class=\"text--primary d-flex justify-center\">\r\n        <p class=\"text-justify body-1\t\">\r\n          {{ state.project.description }}\r\n        </p>\r\n      </v-card-text>\r\n\r\n      <v-row>\r\n        <v-col style=\"overflow-x:auto; text-align:center;\">\r\n        <div class=\"versus-list\">\r\n          <div\r\n            class=\"versus-list__item\"\r\n            v-for=\"(alternativeId, index) in alternativesIds\"\r\n            :key=\"'card-' + alternativeId + index\"\r\n          >\r\n            <div v-if=\"index !== 0\" class=\"d-flex align-center mx-auto\">\r\n              <small\r\n                \r\n                class=\"grey--text text--lighten-1 font-weight-bold title px-6\"\r\n                >VS</small\r\n              >\r\n            </div>\r\n            <v-card min-width=\"280\" max-width=\"320\" class outlined=\"\">\r\n              <v-list-item three-line>\r\n                <!-- <v-list-item-content> -->\r\n                  <!-- <div class=\"overline mb-4\">OVERLINE</div> -->\r\n                  <div class=\"title lh-1 mb-1 font-weight-bold\">\r\n                    <v-icon class=\"primary--text text--lighten-2\" light>{{\r\n                      getAlternatives[alternativeId].icon\r\n                    }}</v-icon>\r\n                    {{ getAlternatives[alternativeId].name }}\r\n                  </div>\r\n                  <!-- <v-list-item-subtitle v-if=\"state.data\">\r\n                        from\r\n                        {{\r\n                        getFilteredItemsBy({\r\n                            alternative: alternativeId\r\n                        }).length\r\n                        }}\r\n                        arguments\r\n                    </v-list-item-subtitle> -->\r\n                <!-- </v-list-item-content> -->\r\n\r\n                <v-avatar size=\"56\" color=\"grey\">\r\n                  <img\r\n                    :src=\"\r\n                      `${getImagePath(getAlternatives[alternativeId].image)}`\r\n                    \"\r\n                  />\r\n                </v-avatar>\r\n              </v-list-item>\r\n\r\n              <v-card-text>\r\n                <p>\r\n                  {{ getAlternatives[alternativeId].description }}\r\n                </p>\r\n              </v-card-text>\r\n            </v-card>\r\n          </div>\r\n          \r\n          \r\n\r\n        </div>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <div class=\"disclaimer\">\r\n        <div class=\"title\">Disclaimer</div>\r\n        <ul class=\"caption\">\r\n          <li >The authors and publisher of the software cannot be held liable in any way for the consequences that may result from the use or interpretation of the information processed by the MyChoice software. In addition, the information entered is that of the users. Their quality conditions the quality of the final result. The user is solely responsible for the use made of the information as it results from the processing by the MyChoice software.\r\n          </li> \r\n          <li>By using the MyChoice software, users agree to explicitly cite the tool (home page <a href=\"https://ico.iate.inra.fr/MyChoice/\">https://ico.iate.inra.fr/MyChoice/</a> and associated publications indicated on the home page) in any communication using MyChoice, clearly indicating the contributions from the MyChoice software (in particular methods to structure and analyze arguments and associated data). The use of contributors' attributes (logo, brands, etc.) without explicit, duly formalized acceptance, is prohibited.\r\n          </li> \r\n        </ul>\r\n        </div>\r\n      </v-row>\r\n    </v-container>\r\n  </template>\r\n  <template v-if=\"!state.project\">\r\n    <Empty />\r\n  </template>\r\n  </v-card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Empty from \"@/components/Empty.vue\"\r\nimport {\r\n  state,\r\n  alternativesIds,\r\n  getAlternatives,\r\n  getImagePath,\r\n  getFilteredItemsBy,\r\n  switchToView\r\n} from \"@/store\";\r\nimport { defineComponent, computed } from \"vue\";\r\nexport default defineComponent ({\r\n  setup() {    \r\n\r\n    return {\r\n      alternativesIds: computed(() => alternativesIds()),\r\n      getAlternatives: computed(() => getAlternatives()),\r\n      switchToView: function(routeName: string) {\r\n        return switchToView(routeName);\r\n      },\r\n      getImagePath,\r\n      getFilteredItemsBy,\r\n      state\r\n    }\r\n  },\r\n  components: {\r\n    Empty\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <div class=\"d-flex flex-column align-center justify-center flex-grow-1\" style=\"min-height: 100%;\" v-if=\"isEmptyProject && !isLoading\">\r\n            <v-card color=\"transparent\" class=\"text-center\" elevation=\"0\">\r\n                <v-container>\r\n                    <!-- <Menu />\r\n                    <v-divider />\r\n                    <RecentProjects /> -->\r\n                    <h4 class=\"mb-5\">\r\n                        \r\n                        <span v-if=\"!isSpreadsheet\">{{getRouteProjectId}}</span>\r\n                        \r\n                        <a target=\"_blank\" :href=\"getSpreadsheetLink(getRouteProjectId)\" v-if=\"isSpreadsheet\">{{getRouteProjectId}}</a>\r\n                        <v-icon class=\"ml-2\" v-if=\"isSpreadsheet\">mdi-google-spreadsheet</v-icon>\r\n                    </h4>\r\n\r\n                    <v-btn @click=\"refreshProject\">\r\n                        <v-icon small class=\"mr-3\">mdi-autorenew</v-icon>Refresh project\r\n                    </v-btn>\r\n\r\n                </v-container>\r\n            </v-card>\r\n\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nimport { state, refreshProject, isLoading, isEmptyProject, getRouteProjectId, isSpreadsheet, getSpreadsheetLink } from \"@/store\";\r\n\r\nimport {defineComponent} from \"vue\"\r\n\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n        getSpreadsheetLink,\r\n        isSpreadsheet,\r\n        getRouteProjectId,\r\n      state,\r\n      refreshProject,\r\n      isLoading,\r\n      isEmptyProject\r\n    }\r\n  }\r\n});\r\n</script>\r\n","import { render } from \"./Empty.vue?vue&type=template&id=618a6dfe\"\nimport script from \"./Empty.vue?vue&type=script&lang=js\"\nexport * from \"./Empty.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Project.vue?vue&type=template&id=37051ee8&ts=true\"\nimport script from \"./Project.vue?vue&type=script&lang=ts\"\nexport * from \"./Project.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"flex-grow-1 d-flex flex-column\">\r\n    <div class=\"flex-grow-1 d-flex flex-column\">\r\n      <!-- <v-container class=\"my-auto\">\r\n        <v-row class align=\"center\" justify=\"center\">\r\n          <v-btn @click=\"state.openDialog = true\">\r\n            <v-icon class=\"mr-2\">mdi-folder-open-outline</v-icon>Open project\r\n          </v-btn>\r\n        </v-row>\r\n      </v-container>-->\r\n\r\n      <v-container class=\"mb-auto\">\r\n        <v-row>\r\n          <v-col cols=\"12\">\r\n            <v-row>\r\n              <v-col>\r\n                <img\r\n                  style=\"padding: 2rem 0; width:100%; max-width: 240px;\"\r\n                  class=\"d-flex mr-auto\"\r\n                  :src=\"state.baseUrl + 'logo-mychoice-color.svg'\"\r\n                />\r\n              </v-col>\r\n            </v-row>\r\n            <v-row justify=\"center\" class=\"grey lighten-5\">\r\n              <v-col cols=\"12\" sm=\"8\" lg=\"8\">           \r\n                <b>MyChoice</b> is a web application supporting collective\r\n                decision, designed by INRAE. The software enables project\r\n                participants to:\r\n                <ul class=\"mb-6\">\r\n                  <li>\r\n                    Analyze, compare and assess stakeholders' attitudes towards\r\n                    different alternatives.\r\n                  </li>\r\n                  <li>\r\n                    Review explanatory arguments stemming from various sources\r\n                    and reflecting different concerns.\r\n                  </li>\r\n                  <li>Explain the criteria, aims and features pursued.</li>\r\n                  <li>Highlight potential synergies or competing concerns.</li>\r\n                  <li>\r\n                    Propose different modes of decision support (expert,\r\n                    consensual, prospective, etc.).\r\n                  </li>\r\n                </ul>\r\n                <br>\r\n                <div  class align=\"center\" justify=\"center\">\r\n                <video controls width=\"50%\" height=\"30%\">\r\n                <source src=\"presentation_mychoice.mp4\">\r\n                Votre navigateur ne gre pas l'lment <code>video</code>.\r\n                </video>\r\n                </div>\r\n                  \r\n               \r\n                <br>\r\n                <h6 class=\"overline mb-2\">References</h6>\r\n                <ul class=\"caption\">\r\n                  <li>\r\n                    Rallou Thomopoulos, Julien Cufi, Maxime Le Breton. A Generic\r\n                    Software to Support Collective Decision in Food Chains and\r\n                    in Multi-Stakeholder Situations.\r\n                    <em>FoodSim 2020</em>, Sep 2020, Ghent, Belgium. (<a\r\n                      href=\"https://hal.archives-ouvertes.fr/hal-02484363\"\r\n                      target=\"_blank\"\r\n                      >hal-02484363</a\r\n                    >)\r\n                  </li>\r\n                  <li>\r\n                    Rallou Thomopoulos. A practical application approach to\r\n                    argumentation for multicriteria analysis and decision\r\n                    support.\r\n                    <em>EURO journal on decision processes</em>, Springer, 2018,\r\n                    6 (3-4), pp.237-255. (<a\r\n                      href=\"https://dx.doi.org/10.1007/s40070-018-0087-2\"\r\n                      target=\"_blank\"\r\n                      >10.1007/s40070-018-0087-2</a\r\n                    >). (<a\r\n                      href=\"https://hal.archives-ouvertes.fr/hal-01918020\"\r\n                      target=\"_blank\"\r\n                      >hal-01918020</a\r\n                    >)\r\n                  </li>\r\n                </ul><br/>\r\n\r\n                 <h6 class=\"overline mb-2\">Disclaimer</h6>\r\n                <div class=\"caption\">                    \r\n                  <ul>\r\n                    <li>The authors and publisher of the software cannot be held liable in any way for the consequences that may result from the use or interpretation of the information processed by the MyChoice software. In addition, the information entered is that of the users. Their quality conditions the quality of the final result. The user is solely responsible for the use made of the information as it results from the processing by the MyChoice software.\r\n                    </li> \r\n                    <li>By using the MyChoice software, users agree to explicitly cite the tool (home page <a href=\"https://ico.iate.inra.fr/MyChoice/\">https://ico.iate.inra.fr/MyChoice/</a> and associated publications indicated on the home page) in any communication using MyChoice, clearly indicating the contributions from the MyChoice software (in particular methods to structure and analyze arguments and associated data). The use of contributors' attributes (logo, brands, etc.) without explicit, duly formalized acceptance, is prohibited.\r\n                    </li> \r\n                  </ul>\r\n                </div>\r\n              </v-col>\r\n              <!-- <v-divider vertical style=\"margin-left:-1px;\" /> -->\r\n\r\n              <v-col class=\"py-0\" lg=\"4\">\r\n                <v-row>\r\n                  <v-col class=\"d-flex\" lg=\"12\">\r\n                    <v-row>\r\n                      <v-col class=\"d-flex\">\r\n                    <v-btn\r\n                      class=\"mx-auto my-auto\"\r\n                      @click=\"handleLoadFile\"\r\n                    >\r\n                      <v-icon class=\"mr-2\">mdi-upload</v-icon>Open local project\r\n                    </v-btn>\r\n                      </v-col>\r\n                      <v-col class=\"d-flex\">\r\n                     <v-btn\r\n                      class=\"mx-auto my-auto\"\r\n                      @click=\"state.openDialog = true\"\r\n                    >\r\n                      <v-icon class=\"mr-2\">mdi-cloud-upload</v-icon>Open\r\n                      online project\r\n                    </v-btn>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </v-col>\r\n                  \r\n\r\n                  <v-col lg=\"12\">\r\n                    <!-- <v-subheader>Recent projects</v-subheader> -->\r\n                    <v-list-subheader>Recent projects</v-list-subheader>\r\n                    <v-card :disabled=\"!recentProjects.length\" flat tile>\r\n                      <v-card-subtitle v-if=\"!recentProjects.length\"\r\n                        >No recent projects</v-card-subtitle\r\n                      >\r\n                      <!-- <v-skeleton-loader\r\n                        boilerplate=\"false\"\r\n                        ref=\"skeleton\"\r\n                        type=\"list-item\"\r\n                        class=\"mx-auto\"\r\n                        loading=\"false\"\r\n                      ></v-skeleton-loader>-->\r\n                      \r\n                      <v-list v-if=\"recentProjects.length\">\r\n                        <v-list-item\r\n                          :to=\"getHrefFromTypeId({type: value.type, id: value.id})\r\n                          \"\r\n                          :key=\"'home-recent-' + projectName\"\r\n                          v-for=\"(value, projectName) in recentProjects\"\r\n                        >\r\n                          <v-list-item-title>\r\n                            {{ value.name || value.id }}\r\n                          </v-list-item-title>\r\n                          <!-- <v-list-item-icon pos v-if=\"value.type === 'googlespreadsheet'\"> -->\r\n                            <v-icon pos v-if=\"value.type === 'googlespreadsheet'\">\r\n                              mdi-google-spreadsheet\r\n                            </v-icon>\r\n                          <!-- </v-list-item-icon> -->\r\n                          <v-spacer></v-spacer>\r\n                  <v-list-item-action @click.stop>\r\n                    <v-btn\r\n                      icon\r\n                      @click.stop.prevent=\"\r\n                        removeFromRecentProjects(value.type, {id: value.id})\r\n                      \"\r\n                    >\r\n                      <v-icon>mdi-close</v-icon>\r\n                    </v-btn>\r\n                  </v-list-item-action>\r\n                        </v-list-item>\r\n                      </v-list>\r\n                    </v-card>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n            </v-row>\r\n            <!-- <v-row>\r\n              <v-col cols=\"6\">\r\n                <OpenIcoField />\r\n              </v-col>\r\n              <v-col cols=\"6\">\r\n                <OpenSpreadsheetField />\r\n              </v-col>\r\n            </v-row>-->\r\n          </v-col>\r\n        </v-row>\r\n        <v-row></v-row>\r\n      </v-container>\r\n      <v-footer>\r\n        <Version />\r\n      </v-footer>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <div class=\"flex-grow-1\">\r\n    <v-card tile>\r\n      <v-toolbar flat>\r\n        <v-toolbar-title>Welcome My Choice</v-toolbar-title>\r\n      </v-toolbar>\r\n      <v-banner single-line :sticky=\"sticky\">\r\n        We can't save your edits while you are in offline mode.\r\n        <template v-slot:actions>\r\n          <v-btn text color=\"deep-purple accent-4\">Get Online</v-btn>\r\n        </template>\r\n      </v-banner>\r\n    </v-card>\r\n    <v-container>\r\n      <OpenDialog class></OpenDialog>\r\n    </v-container>\r\n  </div>-->\r\n</template>\r\n\r\n<script>\r\n// import OpenIcoField from \"@/components/Open/OpenIcoField.vue\";\r\n// import OpenSpreadsheetField from \"@/components/Open/OpenSpreadsheetField.vue\";\r\nimport Version from \"@/components/Version.vue\";\r\nimport { state, openSpreadsheet, openIco, getRecentProjects, recentProjects, getHrefFromTypeId,removeFromRecentProjects, handleLoadFile } from \"@/store\";\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() {\r\n\r\n    return {\r\n      state,\r\n      recentProjects,\r\n      getHrefFromTypeId,\r\n      removeFromRecentProjects,\r\n      handleLoadFile\r\n    }\r\n\r\n  },\r\n  \r\n  components: {\r\n    Version\r\n    // OpenIcoField,\r\n    // OpenSpreadsheetField\r\n  }\r\n  \r\n});\r\n</script>\r\n","<template>\r\n  <small class=\"text--small grey--text\">v{{ version }}</small>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: () => ({\r\n    version: process.env.VUE_APP_VERSION,\r\n  }),\r\n};\r\n</script>\r\n","import { render } from \"./Version.vue?vue&type=template&id=fc4b7858\"\nimport script from \"./Version.vue?vue&type=script&lang=js\"\nexport * from \"./Version.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Home.vue?vue&type=template&id=b36b976c\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"full\" v-if=\"state.project && state.data\">\r\n    <div class=\"full__item\" style=\"flex-shrink: 1; flex-grow: 0;\">\r\n      <v-container fluid>\r\n        <Header />\r\n      </v-container>\r\n    </div>\r\n    <div class=\"full__item\" style=\"padding: 0; margin:0 12px 12px 12px; position: relative; overflow: hidden;\">\r\n      <v-container class=\"tablelist-container\" style=\"margin: 0 0 0 0; padding-left: 0;\" fluid>\r\n        <v-card  elevation=\"0\" rounded-card>\r\n          <div class=\"tablelist-x-shadow\"></div>\r\n          <div class=\"tablelist-y-shadow\"></div>\r\n          <TableList :key=\"state.project.name\" />\r\n        </v-card>\r\n      </v-container>\r\n    </div>\r\n    <div class=\"full__item\" style=\"flex-shrink: 1; flex-grow: 0;\">\r\n      <!-- <br /> -->\r\n      <!-- <v-container fluid>{{ getFilteredItems.length }}/{{ getAllItems.length }} arguments</v-container> -->\r\n    </div>\r\n    <v-btn\r\n      @click=\"state.compareDialog = !state.compareDialog\"\r\n      fab\r\n      color=\"secondary\"\r\n      :disabled=\"selectedSupersets.length === 0\"\r\n      :dark=\"selectedSupersets.length === 0 ? false : true\"\r\n      absolute\r\n      bottom\r\n      left\r\n      style=\"transform: translateY(calc(-50% - 32px)) translateX(0); \"\r\n    >\r\n      <v-icon>mdi-select-compare</v-icon>\r\n      <v-badge v-if=\"selectedSupersets.length > 0\" style=\"margin-top:-50%;\" dark>\r\n        <template v-slot:badge>\r\n          <span>{{ selectedSupersets.length }}</span>\r\n        </template>\r\n      </v-badge>\r\n    </v-btn>\r\n    <v-dialog\r\n      @click:outside=\"state.selectedSuperset = ''\"\r\n      :value=\"state.selectedSuperset.length ? true : false\"\r\n      max-width=\"480px\"\r\n    >\r\n      <div>\r\n        <SupersetCard\r\n          v-if=\"state.selectedSuperset.length\"\r\n          :superset=\"JSON.parse(state.selectedSuperset)\"\r\n        />\r\n      </div>\r\n    </v-dialog>\r\n\r\n    <v-expand-transition>\r\n      <div\r\n        class=\"compare-container elevation-3\"\r\n        v-show=\"state.compareDialog && selectedSupersets.length\"\r\n      >\r\n        <v-card color=\"grey lighten-4\" tile>\r\n          <div\r\n            style=\"position: fixed; left: 0; transform: translateY(-50%) translateX(-25%);\"\r\n            class=\"overline ml-4 pt-3\"\r\n          >\r\n            <v-btn @click=\"state.compareDialog = false\" fab x-small color=\"secondary\" dark>\r\n              <v-icon>mdi-close</v-icon>\r\n            </v-btn>\r\n          </div>\r\n          <!-- <v-toolbar\r\n          color=\"grey\"\r\n          elevation=\"1\"\r\n          style=\"position: sticky; top: 0; z-index: 1;\"\r\n          dense\r\n          flat\r\n          light\r\n        >\r\n          <v-btn color=\"primary\" icon light @click=\"state.compareDialog = !state.compareDialog\">\r\n            <v-icon>{{state.compareDialog ? 'mdi-minus' : 'mdi-plus'}}</v-icon>\r\n          </v-btn>\r\n          <v-toolbar-title class=\"pl-0\">Compare</v-toolbar-title>\r\n          <v-spacer></v-spacer>\r\n          <v-toolbar-items></v-toolbar-items>\r\n          </v-toolbar>-->\r\n          <v-container class=\"supersets-container\" fluid>\r\n            <div class=\"card-compare\" :key=\"superset+state.mode\" v-for=\"superset in selectedSupersets\">\r\n              <!-- <v-btn\r\n                class=\"mr-auto card-compare-btn-top\"\r\n                @click=\"removeSupersetInSelection(JSON.parse(superset))\"\r\n                fab\r\n                dark\r\n                x-small\r\n                color=\"red\"\r\n              >\r\n                <v-icon>mdi-close</v-icon>\r\n              </v-btn>-->\r\n              <SupersetCard :compare=\"true\" :cols=\"4\" :superset=\"JSON.parse(superset)\" />\r\n            </div>\r\n          </v-container>\r\n        </v-card>\r\n      </div>\r\n    </v-expand-transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TableList from \"@/components/TableList/TableList.vue\";\r\nimport Header from \"@/components/Header.vue\";\r\nimport SupersetCard from \"@/components/SupersetCard.vue\";\r\nimport {\r\n  state,\r\n  getFilteredItems,\r\n  getAllItems,\r\n  removeSupersetInSelection,\r\n  selectedSupersets\r\n} from \"@/store\";\r\nimport { defineComponent, computed } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n      state,\r\n      selectedSupersets,\r\n      getFilteredItems: computed(() => getFilteredItems()),\r\n      getAllItems: computed(() => getAllItems()),\r\n\r\n      removeSupersetInSelection\r\n    }\r\n  },\r\n  \r\n  components: {\r\n    Header,\r\n    TableList,\r\n    SupersetCard\r\n  }\r\n});\r\n</script>\r\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = { class: \"tablelist table\" }\nconst _hoisted_2 = {\n  key: 0,\n  style: {\"height\":\"100%\"},\n  class: \"text-center\"\n}\nconst _hoisted_3 = [\"colspan\"]\nconst _hoisted_4 = { class: \"grey--text\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_TableListHead = _resolveComponent(\"TableListHead\")!\n  const _component_TableListFoot = _resolveComponent(\"TableListFoot\")!\n  const _component_TableListCriterion = _resolveComponent(\"TableListCriterion\")!\n  const _component_TableListAim = _resolveComponent(\"TableListAim\")!\n  const _component_TableListAlternative = _resolveComponent(\"TableListAlternative\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n\n  return (_openBlock(), _createElementBlock(\"table\", _hoisted_1, [\n    _createElementVNode(\"thead\", null, [\n      _createVNode(_component_TableListHead)\n    ]),\n    _createElementVNode(\"tfoot\", null, [\n      _createVNode(_component_TableListFoot)\n    ]),\n    _createElementVNode(\"tbody\", null, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_criterionsIds, (criterionId) => {\n        return (_openBlock(), _createElementBlock(_Fragment, null, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getAimsBy('criterion', criterionId), (aim, index) => {\n            return (_openBlock(), _createElementBlock(\"tr\", {\n              key: `aim-${criterionId}-${index}`\n            }, [\n              (index === 0)\n                ? _withDirectives((_openBlock(), _createBlock(_component_TableListCriterion, {\n                    key: 0,\n                    aim: aim,\n                    criterionId: criterionId\n                  }, null, 8, [\"aim\", \"criterionId\"])), [\n                    [_vShow, _ctx.getFilteredCriterions.includes(criterionId)]\n                  ])\n                : _createCommentVNode(\"\", true),\n              _withDirectives(_createVNode(_component_TableListAim, { aim: aim }, null, 8, [\"aim\"]), [\n                [_vShow, _ctx.getFilteredAims.includes(aim.id)]\n              ]),\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternativesIds, (alternativeId) => {\n                return (_openBlock(), _createElementBlock(_Fragment, null, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.subOptionsIds, (subOptionId) => {\n                    return _withDirectives((_openBlock(), _createBlock(_component_TableListAlternative, {\n                      key: `alternative-${alternativeId}-${subOptionId}`,\n                      aim: aim,\n                      criterionId: criterionId,\n                      alternativeId: alternativeId,\n                      subOptionId: subOptionId,\n                      alternativesIds: _ctx.alternativesIds,\n                      subOptionsIds: _ctx.subOptionsIds\n                    }, null, 8, [\"aim\", \"criterionId\", \"alternativeId\", \"subOptionId\", \"alternativesIds\", \"subOptionsIds\"])), [\n                      [_vShow, _ctx.getFilteredAims.includes(aim.id)]\n                    ])\n                  }), 128))\n                ], 64))\n              }), 256))\n            ]))\n          }), 128))\n        ], 64))\n      }), 256)),\n      (!_ctx.getFilteredItems.length)\n        ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_2, [\n            _createElementVNode(\"td\", {\n              class: \"pt-10\",\n              colspan: 5 + _ctx.alternativesIds.length\n            }, [\n              _createElementVNode(\"b\", _hoisted_4, [\n                _cache[2] || (_cache[2] = _createTextVNode(\" No results. \")),\n                _cache[3] || (_cache[3] = _createElementVNode(\"br\", null, null, -1)),\n                _cache[4] || (_cache[4] = _createElementVNode(\"br\", null, null, -1)),\n                _createVNode(_component_v_btn, {\n                  small: \"\",\n                  color: \"secondary\",\n                  onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.clearAppFilters()))\n                }, {\n                  default: _withCtx(() => _cache[1] || (_cache[1] = [\n                    _createTextVNode(\"clear filters\")\n                  ])),\n                  _: 1\n                })\n              ])\n            ], 8, _hoisted_3)\n          ]))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}","<template>\r\n  <!-- <div class=\"tablelist-overflow\"> -->\r\n  <table class=\"tablelist table\">\r\n    <thead>\r\n      <!-- <TableListHead class=\"is-sticky-clone\" /> -->\r\n      <!-- <TableListHead class=\"is-sticky-reference\" /> -->\r\n      <TableListHead />\r\n      <!-- <TableListHead /> -->\r\n    </thead>\r\n    <tfoot>\r\n      <!-- <TableListFoot class=\"is-sticky-clone\" /> -->\r\n      <!-- <TableListFoot class=\"is-sticky-reference\" /> -->\r\n      <TableListFoot />\r\n      <!-- <TableListFoot /> -->\r\n    </tfoot>\r\n    <tbody>\r\n      <template v-for=\"criterionId in c_criterionsIds\">\r\n        <tr\r\n          :key=\"`aim-${criterionId}-${index}`\"\r\n          v-for=\"(aim, index) in getAimsBy('criterion', criterionId)\"\r\n        >\r\n          <TableListCriterion\r\n            v-if=\"index === 0\"\r\n            v-show=\"getFilteredCriterions.includes(criterionId)\"\r\n            :aim=\"aim\"\r\n            :criterionId=\"criterionId\"\r\n          />\r\n          <TableListAim v-show=\"getFilteredAims.includes(aim.id)\" :aim=\"aim\" />\r\n          <template v-for=\"alternativeId in alternativesIds\">\r\n            <TableListAlternative\r\n              v-show=\"getFilteredAims.includes(aim.id)\"\r\n              :key=\"`alternative-${alternativeId}-${subOptionId}`\"\r\n              v-for=\"subOptionId in subOptionsIds\"\r\n              :aim=\"aim\"\r\n              :criterionId=\"criterionId\"\r\n              :alternativeId=\"alternativeId\"\r\n              :subOptionId=\"subOptionId\"\r\n              :alternativesIds=\"alternativesIds\"\r\n              :subOptionsIds=\"subOptionsIds\"\r\n            />\r\n          </template>\r\n        </tr>\r\n      </template>\r\n      <template v-if=\"!getFilteredItems.length\">\r\n        <tr style=\"height:100%;\" class=\"text-center\">\r\n          <td class=\"pt-10\" :colspan=\"5 + alternativesIds.length\">\r\n            <b class=\"grey--text\">\r\n              No results.\r\n              <br />\r\n              <br />\r\n              <v-btn small color=\"secondary\" @click=\"clearAppFilters()\"\r\n                >clear filters</v-btn\r\n              >\r\n            </b>\r\n          </td>\r\n        </tr>\r\n      </template>\r\n    </tbody>\r\n  </table>\r\n  <!-- </div> -->\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport TableListHead from \"./TableListHead.vue\";\r\nimport TableListFoot from \"./TableListFoot.vue\";\r\nimport TableListAim from \"./TableListAim.vue\";\r\nimport TableListCriterion from \"./TableListCriterion.vue\";\r\nimport TableListAlternative from \"./TableListAlternative.vue\";\r\n\r\nimport { sortBy } from \"lodash\";\r\n\r\nimport { setStickyTable, handleStickyTableResize } from \"./TableList\";\r\n\r\nimport {\r\n  clearAppFilters,\r\n  subOptionsIds,\r\n  alternativesIds,\r\n  criterionsIds,\r\n  c_criterionsIds,\r\n  aimsIds,\r\n  getAimsBy,\r\n  getAlternatives,\r\n  getSubOptions,\r\n  state,\r\n  getFilteredCriterions,\r\n  getFilteredItems,\r\n  getFilteredAims\r\n} from \"@/store\";\r\nimport { computed, defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n\r\n      state,\r\n      \r\n      sortBy,\r\n      getAimsBy,\r\n      setStickyTable,\r\n      handleStickyTableResize,\r\n      clearAppFilters,\r\n\r\n      c_criterionsIds,\r\n\r\n      getFilteredCriterions: computed(() => getFilteredCriterions()),\r\n      subOptionsIds: computed(() => subOptionsIds()),\r\n      alternativesIds: computed(() => alternativesIds()),\r\n      criterionsIds: computed(() => criterionsIds()),\r\n      aimsIds: computed(() => aimsIds()),\r\n      getAlternatives: computed(() => getAlternatives()),\r\n      getSubOptions: computed(() => getSubOptions()),\r\n      getFilteredItems: computed(() => getFilteredItems()),\r\n      getFilteredAims: computed(() => getFilteredAims()),\r\n      project: computed(() => state.project)\r\n    }\r\n  },\r\n  \r\n  \r\n  mounted() {\r\n    this.$nextTick(setStickyTable);\r\n  },\r\n  created() {\r\n    window.addEventListener(\"resize\", this.handleStickyTableResize);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"resize\", this.handleStickyTableResize);\r\n  },\r\n  watch: {\r\n    // project() {\r\n    //   this.$forceUpdate();\r\n    //   setStickyTable();\r\n    // }\r\n  },\r\n\r\n  components: {\r\n    TableListCriterion,\r\n    TableListHead,\r\n    TableListFoot,\r\n    TableListAlternative,\r\n    TableListAim\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <tr class=\"text-uppercase\">\r\n    <th criterion>Criterion</th>\r\n    <th aim>Aim</th>\r\n    <th\r\n      alternative\r\n      :key=\"`alternative-${alternativeId}`\"\r\n      v-for=\"alternativeId in alternativesIds\"\r\n      :colspan=\"subOptionsIds.length\"\r\n    >\r\n      <v-icon v-if=\"state.data\">{{state.data.alternatives[alternativeId].icon}}</v-icon>\r\n      {{getAlternatives[alternativeId].name}}\r\n    </th>\r\n  </tr>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {\r\n  state,\r\n  alternativesIds,\r\n  subOptionsIds,\r\n  getAlternatives,\r\n  \r\n} from \"@/store\";\r\nimport { computed, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() {\r\n\r\n    return {\r\n      state,\r\n      \r\n\r\n      alternativesIds: computed(() => alternativesIds()),\r\n      subOptionsIds: computed(() => subOptionsIds()),\r\n      getAlternatives: computed(() => getAlternatives())\r\n\r\n    }\r\n  }\r\n});\r\n</script>","import { render } from \"./TableListHead.vue?vue&type=template&id=b37cc5ce\"\nimport script from \"./TableListHead.vue?vue&type=script&lang=js\"\nexport * from \"./TableListHead.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <tr tablelistfoot>\r\n    <!-- <th class=\"text-right\" criterion>\r\n      <v-container>\r\n        <small\r\n          style=\"font-weight: normal;\"\r\n        >{{ getFilteredItems.length }}/{{ getAllItems.length }} arguments</small>\r\n      </v-container>\r\n    </th>\r\n    <th class=\"text-left\" aim></th>-->\r\n    <th criterion-aim class=\"text-right\" colspan=\"2\">\r\n      <v-container>\r\n        <small class=\"grey--text\" style=\"font-weight: normal;\">\r\n          Arguments:\r\n          <b>{{ getFilteredItems.length }}/{{ getAllItems.length }}</b>\r\n        </small>\r\n      </v-container>\r\n    </th>\r\n\r\n    <template v-for=\"alternativeId in subOptionsIds\" :key=\"`subOption-${alternativeId}`\">\r\n      <th\r\n        alternative\r\n        :colspan=\"subOptionsIds.length\"\r\n      >\r\n        <table style=\"width: 100%;\">\r\n          <tr>\r\n            <td class=\"text-left\">\r\n              <v-icon\r\n                color=\"green\"\r\n                :title=\"\r\n                  pluralize('{count} {argument:count}', {\r\n                    count: getFilteredItemsBy({\r\n                      alternative: alternativeId,\r\n                      favorable: true\r\n                    }).length\r\n                  })\r\n                \"\r\n                >mdi-emoticon-happy-outline</v-icon\r\n              >\r\n              <!-- <small class=\"green--text\">\r\n                {{\r\n                  getFilteredItemsBy({\r\n                    alternative: alternativeId,\r\n                    favorable: true\r\n                  }).length\r\n                }}\r\n              </small> -->\r\n            </td>\r\n            <td>\r\n              <!-- {{getAcceptabilityFromAlternativeId(alternativeId)}} -->\r\n              Attitude: {{ totalAcceptability[alternativeId] }}\r\n              <!-- <Acceptability\r\n                :items=\"getFilteredItemsBy({\r\n              alternative: alternativeId\r\n          })\"\r\n              />-->\r\n              <ScoreIcon\r\n                :alternative=\"alternativeId\"\r\n                :score=\"totalAcceptability[alternativeId]\"\r\n              />\r\n            </td>\r\n            <td class=\"text-right\">\r\n              <!-- <small class=\"red--text\">\r\n                {{\r\n                  getFilteredItemsBy({\r\n                    alternative: alternativeId,\r\n                    favorable: false\r\n                  }).length\r\n                }}\r\n              </small> -->\r\n              <v-icon\r\n                color=\"red\"\r\n                :title=\"\r\n                  pluralize('{count} {argument:count}', {\r\n                    count: getFilteredItemsBy({\r\n                      alternative: alternativeId,\r\n                      favorable: false\r\n                    }).length\r\n                  })\r\n                \"\r\n                >mdi-emoticon-sad-outline</v-icon\r\n              >\r\n              <!-- <div>{{getSubOptions[2].name}}</div> -->\r\n            </td>\r\n          </tr>\r\n        </table>\r\n\r\n        <!-- <tr>\r\n            <td :colspan=\"subOptionsIds.length\">\r\n              \r\n            </td>\r\n        </tr>-->\r\n      </th>\r\n    </template>\r\n  </tr>\r\n</template>\r\n\r\n<script>\r\n// import Acceptability from \"@/components/Acceptability.vue\";\r\nimport ScoreIcon from \"@/components/ScoreIcon.vue\";\r\nimport {\r\n  pluralize,\r\n  alternativesIds,\r\n  subOptionsIds,\r\n  getSubOptions,\r\n  getFilteredItemsBy,\r\n  getWeightedAcceptability,\r\n  getAcceptabilityFromAlternativeId,\r\n  getFilteredItems,\r\n  getAllItems,\r\n  state\r\n} from \"@/store\";\r\nimport { computed, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() {\r\n\r\n    return  {\r\n      state,\r\n\r\n      getAcceptabilityFromAlternativeId,\r\n      getFilteredItemsBy,\r\n      getWeightedAcceptability,\r\n      pluralize,\r\n\r\n      totalAcceptability: computed(() => {\r\n        return getWeightedAcceptability(getFilteredItems());\r\n      }),\r\n      alternativesIds: computed(() => alternativesIds()),\r\n      subOptionsIds: computed(() => subOptionsIds()),\r\n      getSubOptions: computed(() => getSubOptions()),\r\n      getFilteredItems: computed(() => getFilteredItems()),\r\n      getAllItems: computed(() => getAllItems())\r\n    }\r\n  },\r\n  \r\n  components: {\r\n    ScoreIcon\r\n  }\r\n});\r\n</script>\r\n","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createVNode as _createVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_avatar = _resolveComponent(\"v-avatar\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n\n  return (_openBlock(), _createElementBlock(\"span\", null, [\n    (!_ctx.icon)\n      ? (_openBlock(), _createBlock(_component_v_icon, {\n          key: 0,\n          title: _ctx.title,\n          \"x-small\": \"\",\n          color: _ctx.getColorName(_ctx.getAcceptabilityName(_ctx.score))\n        }, {\n          default: _withCtx(() => _cache[0] || (_cache[0] = [\n            _createTextVNode(\"mdi-circle\")\n          ])),\n          _: 1\n        }, 8, [\"title\", \"color\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.icon)\n      ? (_openBlock(), _createBlock(_component_v_chip, {\n          key: 1,\n          title: _ctx.title,\n          outlined: \"\",\n          dark: \"\",\n          small: \"\",\n          style: {\"padding\":\"0\"},\n          color: _ctx.getColorName(_ctx.getAcceptabilityName(_ctx.score))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_avatar, null, {\n              default: _withCtx(() => [\n                (_ctx.state.data)\n                  ? (_openBlock(), _createBlock(_component_v_icon, {\n                      key: 0,\n                      small: \"\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(_ctx.state.data.alternatives[_ctx.alternative].icon), 1)\n                      ]),\n                      _: 1\n                    }))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"title\", \"color\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","<template>\r\n  <span>\r\n    <v-icon\r\n      :title=\"title\"\r\n      v-if=\"!icon\"\r\n      x-small\r\n      :color=\"getColorName(getAcceptabilityName(score))\"\r\n      >mdi-circle</v-icon\r\n    >\r\n\r\n    <v-chip\r\n      :title=\"title\"\r\n      outlined\r\n      dark\r\n      small\r\n      v-if=\"icon\"\r\n      style=\"padding: 0;\"\r\n      :color=\"getColorName(getAcceptabilityName(score))\"\r\n    >\r\n      <v-avatar>\r\n        <v-icon small v-if=\"state.data\">{{\r\n          state.data.alternatives[alternative].icon\r\n        }}</v-icon>\r\n      </v-avatar>\r\n    </v-chip>\r\n  </span>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { getAcceptabilityName, state } from \"@/store\";\r\nimport { defineComponent, toRefs } from \"vue\";\r\nexport default defineComponent({\r\n\r\n\r\n  props: {\r\n    score: {\r\n      type: Number || null\r\n    },\r\n    title: {}, \r\n    alternative: {\r\n      type: Number\r\n    },\r\n    icon: {}\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    \r\n\r\n    return {\r\n      \r\n      state,\r\n\r\n      getColorName: (name: string) => {\r\n        if (name === \"pro\") {\r\n          return \"green\";\r\n        } else if (name === \"con\") {\r\n          return \"red\";\r\n        } else if (name === \"mix\") {\r\n          return \"orange\";\r\n        } else {\r\n          return \"rgba(0,0,0,.2)\";\r\n        }\r\n      },\r\n      getAcceptabilityName\r\n    }\r\n  },\r\n  \r\n\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.acceptability {\r\n  &::before {\r\n    content: \"\\200b\";\r\n    width: 1em;\r\n    height: 1em;\r\n    background: #000;\r\n    display: inline-block;\r\n    border-radius: 50%;\r\n    vertical-align: middle;\r\n    clear: both;\r\n  }\r\n  &::after {\r\n    content: \" \"; /* 1 */\r\n    display: table; /* 2 */\r\n    clear: both;\r\n  }\r\n\r\n  margin: auto;\r\n}\r\n.pro::before {\r\n  background-color: green;\r\n}\r\n.con::before {\r\n  background-color: red;\r\n}\r\n.mix::before {\r\n  background-color: orange;\r\n}\r\n</style>\r\n","import { render } from \"./ScoreIcon.vue?vue&type=template&id=4fc178f2&ts=true\"\nimport script from \"./ScoreIcon.vue?vue&type=script&lang=ts\"\nexport * from \"./ScoreIcon.vue?vue&type=script&lang=ts\"\n\nimport \"./ScoreIcon.vue?vue&type=style&index=0&id=4fc178f2&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TableListFoot.vue?vue&type=template&id=5e2ad523\"\nimport script from \"./TableListFoot.vue?vue&type=script&lang=js\"\nexport * from \"./TableListFoot.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { aim: \"\" }\nconst _hoisted_2 = { class: \"d-flex flex-column justify-space-between text-break\" }\nconst _hoisted_3 = { class: \"d-flex\" }\nconst _hoisted_4 = { class: \"mt-1 flex-grow-1 flex-wrap d-flex\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Acceptability = _resolveComponent(\"Acceptability\")!\n  const _component_ItemsCount = _resolveComponent(\"ItemsCount\")!\n\n  return (_openBlock(), _createElementBlock(\"td\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, _toDisplayString(_ctx.aim.name), 1),\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n          return (_openBlock(), _createBlock(_component_Acceptability, {\n            key: 'aim-alternative-'+index+_ctx.aimsItems[alternativeId],\n            class: \"mb-1 mr-1\",\n            icon: true,\n            alternative: alternativeId,\n            items: _ctx.aimsItems[alternativeId]\n          }, null, 8, [\"alternative\", \"items\"]))\n        }), 128))\n      ])\n    ]),\n    _createVNode(_component_ItemsCount, { count: _ctx.totalItems }, null, 8, [\"count\"])\n  ]))\n}","<template>\r\n  <td aim>\r\n    <!-- <router-link :to=\"`aim/${aim.id}`\">{{aim.name}}</router-link> -->\r\n    <div class=\"d-flex flex-column justify-space-between text-break\">\r\n      <div class=\"d-flex\">{{aim.name}}</div>\r\n      <div class=\"mt-1 flex-grow-1 flex-wrap d-flex\">\r\n        <Acceptability\r\n          :key=\"'aim-alternative-'+index+aimsItems[alternativeId]\"\r\n          v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n          class=\"mb-1 mr-1\"\r\n          :icon=\"true\"\r\n          :alternative=\"alternativeId\"\r\n          :items=\"aimsItems[alternativeId]\"\r\n        />\r\n        <!-- <Acceptability\r\n          class=\"mb-1 mr-1\"\r\n          :icon=\"true\"\r\n          :alternative=\"1\"\r\n          :items=\"alternativeItems[1]\"\r\n        />\r\n        <Acceptability :icon=\"true\" :alternative=\"2\" :items=\"alternativeItems[2]\" />-->\r\n      </div>\r\n    </div>\r\n    <ItemsCount :count=\"totalItems\" />\r\n  </td>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport ItemsCount from \"@/components/ItemsCount.vue\";\r\nimport Acceptability from \"@/components/Acceptability.vue\";\r\nimport { getFilteredItemsBy, c_alternativesIds } from \"@/store\";\r\nimport { computed, defineComponent, PropType, ref, toRefs  } from \"vue\";\r\nimport { NormalizedAim, NormalizedArgument } from \"@/@types\";\r\nexport default defineComponent({\r\n\r\n\r\n  props: {\r\n    aim: {\r\n      type: Object as PropType<NormalizedAim>\r\n    }\r\n  },\r\n\r\n\r\n  setup(props) {\r\n\r\n    const {aim} = toRefs(props)\r\n\r\n  \r\n    const aimsItems = computed(() => {\r\n      let obj : {[key: string]: NormalizedArgument[]} = {};\r\n      c_alternativesIds.value.forEach(alternativeId => {\r\n        const items = getFilteredItemsBy({\r\n          alternative: alternativeId,\r\n          aim: aim.value.id\r\n        });\r\n\r\n        obj[alternativeId] = items;\r\n      });\r\n      return obj;\r\n    })\r\n\r\n    const totalItems = computed(() => {\r\n      return Object.values(aimsItems.value).reduce((acc, items) => {\r\n        return acc + items.length;\r\n      }, 0)\r\n      })\r\n\r\n    return {\r\n      \r\n\r\n      c_alternativesIds,\r\n      aimsItems,\r\n      totalItems,\r\n\r\n      getFilteredItemsBy\r\n\r\n    }\r\n\r\n  },\r\n  // props: [\"aim\"],\r\n  components: {\r\n    Acceptability,\r\n    ItemsCount\r\n  },\r\n  // computed: {\r\n    \r\n    \r\n    \r\n    // alternativeItems: function() {\r\n    //   return {\r\n    //     1: getFilteredItemsBy({\r\n    //       alternative: 1,\r\n    //       aim: this.aim.id\r\n    //     }),\r\n    //     2: getFilteredItemsBy({\r\n    //       alternative: 2,\r\n    //       aim: this.aim.id\r\n    //     })\r\n    //   };\r\n    // }\r\n  // },\r\n  // methods: {\r\n    \r\n  // }\r\n});\r\n</script>\r\n\r\n","import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n\n  return (_openBlock(), _createBlock(_component_v_chip, {\n    outlined: \"\",\n    \"x-small\": \"\",\n    title: _ctx.title\n  }, {\n    default: _withCtx(() => [\n      _createTextVNode(_toDisplayString(_ctx.count), 1)\n    ]),\n    _: 1\n  }, 8, [\"title\"]))\n}","<template>\r\n  <v-chip outlined x-small :title=\"title\">{{count}}</v-chip>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { pluralize } from \"@/store\";\r\nimport { computed, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  props: [\"count\"],\r\n\r\n  setup(props) {\r\n\r\n    return {\r\n      title: computed(() => {\r\n        return pluralize(\"{count} {argument:count}\", {\r\n          count: props.count\r\n        })\r\n      })\r\n    }\r\n\r\n  }\r\n  \r\n});\r\n</script>","import { render } from \"./ItemsCount.vue?vue&type=template&id=0fd2ed62&ts=true\"\nimport script from \"./ItemsCount.vue?vue&type=script&lang=ts\"\nexport * from \"./ItemsCount.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ScoreIcon = _resolveComponent(\"ScoreIcon\")!\n\n  return (_openBlock(), _createBlock(_component_ScoreIcon, {\n    title: \r\n      `${\r\n        _ctx.acceptability !== null\r\n          ? `${_ctx.pluralize('{count} {argument:count}', {\r\n              count: _ctx.items.length\r\n            })} - ${_ctx.acceptability * 100}% pro`\r\n          : ''\r\n      }`\r\n    ,\n    alternative: _ctx.alternative,\n    icon: _ctx.icon,\n    score: _ctx.acceptability\n  }, null, 8, [\"title\", \"alternative\", \"icon\", \"score\"]))\n}","<template>\r\n  <!-- <v-chip\r\n    x-small\r\n    dark\r\n    :color=\"getColorName(getAcceptabilityName(acceptability))\"\r\n    :title=\"acceptability\"\r\n  ></v-chip>-->\r\n\r\n  <ScoreIcon\r\n    :title=\"\r\n      `${\r\n        acceptability !== null\r\n          ? `${pluralize('{count} {argument:count}', {\r\n              count: items.length\r\n            })} - ${acceptability * 100}% pro`\r\n          : ''\r\n      }`\r\n    \"\r\n    :alternative=\"alternative\"\r\n    :icon=\"icon\"\r\n    :score=\"acceptability\"\r\n  />\r\n\r\n  <!-- <span\r\n    v-if=\"items.length\"\r\n    :title=\"acceptability\"\r\n    :class=\"'acceptability '+getAcceptabilityName(acceptability)\"\r\n  >-->\r\n  <!-- <span :key=\"index\" v-for=\"(item, index) in items\">{{item.favorable}}</span> -->\r\n  <!-- </span> -->\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { NormalizedArgument } from \"@/@types\";\r\nimport { getAcceptabilityFromProCon, pluralize } from \"@/store\";\r\nimport { computed, defineComponent, PropType, toRefs } from \"vue\";\r\nimport ScoreIcon from \"./ScoreIcon.vue\";\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    items: {\r\n      type: Array as PropType<NormalizedArgument[]>\r\n    },\r\n    alternative: {\r\n      type: Number\r\n    },\r\n    icon: {\r\n      type: Boolean\r\n    }\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    const {items, alternative, icon} = toRefs(props)\r\n\r\n    return {\r\n      \r\n\r\n      acceptability: computed(() => getAcceptabilityFromProCon(items.value)),\r\n\r\n      getAcceptabilityFromProCon,\r\n      pluralize\r\n    \r\n    }\r\n  },\r\n\r\n  components: {\r\n    ScoreIcon\r\n  },\r\n  // props: [\"items\", \"alternative\", \"icon\"],\r\n  computed: {\r\n    \r\n  },\r\n  methods: {\r\n    \r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\"></style>\r\n","import { render } from \"./Acceptability.vue?vue&type=template&id=6be76ee9&ts=true\"\nimport script from \"./Acceptability.vue?vue&type=script&lang=ts\"\nexport * from \"./Acceptability.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TableListAim.vue?vue&type=template&id=0f76cf32&ts=true\"\nimport script from \"./TableListAim.vue?vue&type=script&lang=ts\"\nexport * from \"./TableListAim.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = [\"rowspan\"]\nconst _hoisted_2 = { class: \"d-flex flex-column justify-space-between text-break\" }\nconst _hoisted_3 = { class: \"mt-1 flex-grow-1 flex-wrap d-flex\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Acceptability = _resolveComponent(\"Acceptability\")!\n  const _component_ItemsCount = _resolveComponent(\"ItemsCount\")!\n\n  return (_openBlock(), _createElementBlock(\"td\", {\n    criterion: \"\",\n    rowspan: _ctx.getAimsBy('criterion', _ctx.criterionId).length\n  }, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", null, _toDisplayString(_ctx.c_criterions[_ctx.aim.criterion].name), 1),\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n          return (_openBlock(), _createBlock(_component_Acceptability, {\n            key: 'citerion-alternative-'+index+_ctx.criterionItems[alternativeId],\n            class: \"mb-1 mr-1\",\n            icon: true,\n            alternative: alternativeId,\n            items: _ctx.criterionItems[alternativeId]\n          }, null, 8, [\"alternative\", \"items\"]))\n        }), 128))\n      ])\n    ]),\n    _createVNode(_component_ItemsCount, { count: _ctx.totalItems }, null, 8, [\"count\"])\n  ], 8, _hoisted_1))\n}","<template>\r\n  <td criterion :rowspan=\"getAimsBy('criterion', criterionId).length\">\r\n    <div class=\"d-flex flex-column justify-space-between text-break\">\r\n      <div>{{c_criterions[aim.criterion].name}}</div>\r\n      <div class=\"mt-1 flex-grow-1 flex-wrap d-flex\">\r\n        <Acceptability\r\n          :key=\"'citerion-alternative-'+index+criterionItems[alternativeId]\"\r\n          v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n          class=\"mb-1 mr-1\"\r\n          :icon=\"true\"\r\n          :alternative=\"alternativeId\"\r\n          :items=\"criterionItems[alternativeId]\"\r\n        />\r\n\r\n        <!-- <Acceptability :icon=\"true\" :alternative=\"2\" :items=\"criterionItems[2]\" /> -->\r\n      </div>\r\n    </div>\r\n    <ItemsCount :count=\"totalItems\" />\r\n  </td>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  getFilteredItemsBy,\r\n  getAimsBy,\r\n  c_criterions,\r\n  getFilteredCriterions,\r\n  c_alternativesIds\r\n} from \"@/store\";\r\nimport ItemsCount from \"@/components/ItemsCount.vue\";\r\nimport Acceptability from \"@/components/Acceptability.vue\";\r\nimport { defineComponent, computed, PropType, toRefs } from \"vue\";\r\nimport { NormalizedAim, NormalizedArgument } from \"@/@types\";\r\n\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    aim: {\r\n      type: Object as PropType<NormalizedAim>\r\n    },\r\n    criterionId: {\r\n      type: Number\r\n    }\r\n\r\n  },\r\n\r\n\r\n  setup(props) {\r\n\r\n    const {aim, criterionId} = toRefs(props)\r\n  \r\n    const criterionItems = computed(() => {\r\n      let obj: {[key: string]: NormalizedArgument[]} = {};\r\n      c_alternativesIds.value.forEach(alternativeId => {\r\n        const items = getFilteredItemsBy({\r\n          alternative: alternativeId,\r\n          criterion: criterionId.value\r\n        });\r\n\r\n        \r\n        obj[alternativeId] = items;\r\n\r\n        // return {\r\n        //   1: getFilteredItemsBy({\r\n        //     alternative: 1,\r\n        //     criterion: this.criterionId\r\n        //   }),\r\n        //   2: getFilteredItemsBy({\r\n        //     alternative: 2,\r\n        //     criterion: this.criterionId\r\n        //   })\r\n        // };\r\n      });\r\n      return obj;\r\n    })\r\n\r\n\r\n    return {\r\n\r\n      getAimsBy,\r\n      c_alternativesIds,\r\n      criterionItems,\r\n\r\n      totalItems: computed(()=> {\r\n        return Object.values(criterionItems.value).reduce((acc, items) => {\r\n          return acc + items.length;\r\n        }, 0);\r\n      }),\r\n\r\n    \r\n      c_criterions,\r\n      getFilteredCriterions\r\n    }\r\n\r\n  },\r\n  components: {\r\n    Acceptability,\r\n    ItemsCount\r\n  }\r\n  \r\n  \r\n});\r\n</script>\r\n\r\n","import { render } from \"./TableListCriterion.vue?vue&type=template&id=2605c440&ts=true\"\nimport script from \"./TableListCriterion.vue?vue&type=script&lang=ts\"\nexport * from \"./TableListCriterion.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <td\r\n    :class=\"getLabels().length ? '' : 'is-empty'\"\r\n    alternative\r\n    :key=\"`${alternativeId}${subOptionId}`\"\r\n  >\r\n  <template v-if=\"is1stLevelStakeholdersMode\">\r\n    \r\n    <TableListCard\r\n      v-for=\"(value, key) in getCardsByStakeholder()\"\r\n      :superset=\"{\r\n        criterion: criterionId,\r\n        aim: aim.id,\r\n        alternative: alternativeId,\r\n        subOption: subOptionId,\r\n        stakeholder: Number(key)\r\n      }\"\r\n      :key=\"`superset-${aim.id}-stakeholder-${key}`\"\r\n      \r\n    />\r\n  </template>\r\n  <template v-else>\r\n    <TableListCard\r\n      v-for=\"(label, index) in getLabels()\"\r\n      :superset=\"{\r\n        criterion: criterionId,\r\n        aim: aim.id,\r\n        alternative: alternativeId,\r\n        subOption: subOptionId,\r\n        property: label.property,\r\n        value: label.value,\r\n      }\"\r\n      :key=\"`superset-${label.property}-${label.value}-${index}`\"\r\n    />\r\n  </template>\r\n  </td>\r\n</template>\r\n\r\n<script>\r\nimport { getUniqueFilteredLabelsBy, getFilteredItemsBy, getFilteredItemsGroupByProp, is1stLevelStakeholdersMode } from \"@/store\";\r\nimport { sortBy } from \"lodash\";\r\nimport { defineComponent } from \"vue\";\r\nimport TableListCard from \"./TableListCard\";\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n      is1stLevelStakeholdersMode\r\n    }\r\n  },\r\n  components: {\r\n    TableListCard\r\n  },\r\n  methods: {\r\n    getLabels: function() {\r\n      return sortBy(\r\n        getUniqueFilteredLabelsBy({\r\n          alternative: this.alternativeId,\r\n          subOption: this.subOptionId,\r\n          aim: this.aim.id,\r\n          criterion: this.criterionId\r\n        }),\r\n        \"property\"\r\n      );\r\n    },\r\n    getItems: function() {\r\n\r\n      return getFilteredItemsBy({\r\n        alternative: this.alternativeId,\r\n          subOption: this.subOptionId,\r\n          aim: this.aim.id,\r\n          criterion: this.criterionId\r\n      })\r\n\r\n    },\r\n\r\n    getCardsByStakeholder: function() {\r\n      return getFilteredItemsGroupByProp({\r\n        alternative: this.alternativeId,\r\n          subOption: this.subOptionId,\r\n          aim: this.aim.id,\r\n          criterion: this.criterionId\r\n      }, \"stakeholder\")\r\n    }\r\n  },\r\n  props: [\"alternativeId\", \"subOptionId\", \"aim\", \"criterionId\"]\r\n});\r\n</script>\r\n","<template>\r\n  <v-card elevation=\"1\" @click=\"toggleSuperset(superset)\" class=\"text-center mb-3\" max-width=\"344\">\r\n    \r\n    <!-- <v-btn\r\n      x-small\r\n      absolute\r\n      bottom\r\n      right\r\n      text\r\n      icon\r\n      :color=\"findSuperset(superset) ? 'green' : ''\"\r\n      @click=\"toggleSuperset(superset)\"\r\n    >\r\n      <v-icon>mdi-eye</v-icon>\r\n    </v-btn>-->\r\n    <v-container>\r\n      <div>\r\n        <b v-if=\"is1stLevelStakeholdersMode\"><text-highlight :queries=\"[state.searchInput]\">{{getStakeholderName(superset.stakeholder)}}</text-highlight></b>\r\n        <b v-else>\r\n          <text-highlight :queries=\"[state.searchInput]\">{{superset.property}}</text-highlight>\r\n        </b>\r\n      </div>\r\n      <div :class=\"superset.subOption === 1 ? 'green--text' : 'red--text'\">\r\n        <text-highlight :queries=\"[state.searchInput]\">{{superset.value}}</text-highlight>\r\n      </div>\r\n      <v-chip outlined x-small>{{items.length}}</v-chip>\r\n      <!-- <small>\r\n        <b>{{ items.length > 1 ? `${items.length} arguments` : `${items.length} argument`}}</b>\r\n      </small>-->\r\n      <!-- <ul>\r\n      <li :key=\"'item-' + index\" v-for=\"(item, index) in supersetItems\">\r\n        {{ item.assertion }}\r\n        <br />\r\n        <br />\r\n      </li>\r\n      </ul>-->\r\n    </v-container>\r\n\r\n  <div class=\"d-flex\">\r\n    <div class=\"card-compare-btn\">\r\n      <v-btn\r\n        v-if=\"!findSuperset(superset)\"\r\n        @click.stop=\"addSupersetInSelection(superset)\"\r\n        text\r\n        icon\r\n        small\r\n      >\r\n        <v-icon x-small>mdi-plus-circle-outline</v-icon>\r\n      </v-btn>\r\n      <v-btn\r\n        v-if=\"findSuperset(superset)\"\r\n        @click.stop=\"removeSupersetInSelection(superset)\"\r\n        text\r\n        icon\r\n        small\r\n        color=\"secondary\"\r\n      >\r\n        <v-icon x-small>mdi-plus-circle</v-icon>\r\n      </v-btn>\r\n\r\n    </div>\r\n      <small v-if=\"condition\" class=\"ml-auto mr-2 mb-1 text-right\" style=\"text-overflow: ellipsis;display: block;overflow: hidden;width: calc(100% - 4em);white-space: nowrap;\">{{condition}}</small>\r\n  </div>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  state,\r\n  getItemsBy,\r\n  toggleSuperset,\r\n  findSuperset,\r\n  addSupersetInSelection,\r\n  removeSupersetInSelection,\r\n  getStakeholderName,\r\n  is1stLevelStakeholdersMode\r\n} from \"@/store\";\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n      state,\r\n      addSupersetInSelection,\r\n    removeSupersetInSelection,\r\n    getItemsBy,\r\n    toggleSuperset,\r\n    findSuperset,\r\n    getStakeholderName,\r\n    is1stLevelStakeholdersMode\r\n    }  \r\n  },\r\n  \r\n  computed: {\r\n    items: function() {\r\n      if (is1stLevelStakeholdersMode.value) {\r\n        return getItemsBy({\r\n          stakeholder: this.superset.stakeholder,\r\n          alternative: this.superset.alternative,\r\n          subOption: this.superset.subOption,\r\n          aim: this.superset.aim,\r\n          criterion: this.superset.criterion\r\n        });\r\n      } else {\r\n        return getItemsBy({\r\n          property: this.superset.property,\r\n          value: this.superset.value,\r\n          alternative: this.superset.alternative,\r\n          subOption: this.superset.subOption,\r\n          aim: this.superset.aim,\r\n          criterion: this.superset.criterion\r\n        });\r\n      }\r\n      \r\n    },\r\n    condition: function() {\r\n      return this.items.reduce((acc, item) => {\r\n        if (item.condition) {\r\n          if (acc.length) {\r\n            return acc + \", \" + item.condition\r\n          } else {\r\n            return acc + item.condition\r\n          }\r\n        } else {\r\n          return acc\r\n        }\r\n      }, \"\")\r\n    }\r\n    // supersetItems: function() {\r\n    //   return getItemsBy({\r\n    //     alternative: this.superset.alternative,\r\n    //     subOption: this.superset.subOption,\r\n    //     aim: this.superset.aim,\r\n    //     criterion: this.superset.criterion,\r\n    //     property: this.superset.property,\r\n    //     value: this.superset.value\r\n    //   });\r\n    //}\r\n  },\r\n  props: [\"superset\", \"label\"]\r\n});\r\n</script>\r\n\r\n<style>\r\n.card {\r\n  padding: 1em;\r\n  margin-bottom: 1em;\r\n}\r\n</style>","import { render } from \"./TableListCard.vue?vue&type=template&id=23f54e0b\"\nimport script from \"./TableListCard.vue?vue&type=script&lang=js\"\nexport * from \"./TableListCard.vue?vue&type=script&lang=js\"\n\nimport \"./TableListCard.vue?vue&type=style&index=0&id=23f54e0b&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TableListAlternative.vue?vue&type=template&id=2daf9d0c\"\nimport script from \"./TableListAlternative.vue?vue&type=script&lang=js\"\nexport * from \"./TableListAlternative.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nconst stickyElements = {\r\n  root: null,\r\n  container: null,\r\n  yEnd: null,\r\n  xStart: null,\r\n  xEnd: null,\r\n  yStart: null,\r\n  xShadow: null,\r\n  yShadow: null\r\n} as {\r\n  [key: string]: Element | null;\r\n};\r\nconst stickyRects: {\r\n  [key: string]: ClientRect | null;\r\n} = {\r\n  container: null,\r\n  yStart: null,\r\n  yEnd: null,\r\n  xStart: null\r\n};\r\n\r\nexport const addTableListStickyEvent = function(\r\n  element: Element,\r\n  rootMargin: string,\r\n  callback: IntersectionObserverCallback\r\n) {\r\n  const observer = new IntersectionObserver(callback, {\r\n    root: stickyElements.root,\r\n    rootMargin: rootMargin,\r\n    threshold: [1]\r\n  });\r\n\r\n  observer.observe(element);\r\n};\r\n\r\nexport const saveStickyRects = () => {\r\n  stickyRects.root = stickyElements!.root!.getBoundingClientRect();\r\n  stickyRects.container = stickyElements!.container!.getBoundingClientRect();\r\n  stickyRects.xStart = stickyElements!.xStart!.getBoundingClientRect();\r\n  stickyRects.xEnd = stickyElements!.xEnd!.getBoundingClientRect();\r\n  stickyRects.yStart = stickyElements!.yStart!.getBoundingClientRect();\r\n  stickyRects.yEnd = stickyElements!.yEnd!.getBoundingClientRect();\r\n};\r\n\r\nexport const initStickyElements = () => {\r\n  stickyElements.root = document.querySelector(\".tablelist\");\r\n  stickyElements.container = document.querySelector(\".tablelist-container\");\r\n\r\n  stickyElements.xStart = document.querySelector(\r\n    \".tablelist tbody td[criterion]\"\r\n  );\r\n  stickyElements.xEnd = document.querySelector(\".tablelist tbody td[aim]\");\r\n  stickyElements.yStart = document.querySelector(\r\n    \".tablelist thead th[criterion]\"\r\n  );\r\n  stickyElements.yEnd = document.querySelector(\r\n    \".tablelist tfoot th[criterion-aim]\"\r\n  );\r\n  stickyElements.xShadow = document.querySelector(\".tablelist-x-shadow\");\r\n  stickyElements.yShadow = document.querySelector(\".tablelist-y-shadow\");\r\n};\r\n\r\nexport const resizeYTableListShadow = () => {\r\n  if (stickyElements.yShadow) {\r\n    stickyElements.yShadow.setAttribute(\r\n      \"style\",\r\n      `top:${stickyRects.yStart!.bottom - 1}px; left:${\r\n        stickyRects.yStart!.left\r\n        //}px; width:${stickyRects.root!.width}px;`\r\n      }px; width:calc(100% - ${stickyRects.yStart!.left * 2}px);`\r\n    );\r\n  }\r\n};\r\n\r\nexport const resizeXTableListShadow = () => {\r\n  if (stickyElements.xShadow) {\r\n    stickyElements.xShadow.setAttribute(\r\n      \"style\",\r\n      `left:${stickyRects.xEnd!.right}px;  height:${stickyRects.yEnd!.top -\r\n        stickyRects.container!.top}px; top:${stickyRects.container!.top}px;`\r\n    );\r\n  }\r\n};\r\n\r\nexport const initTableListStickyEvents = () => {\r\n  if (stickyElements.yStart) {\r\n    addTableListStickyEvent(\r\n      stickyElements.yStart,\r\n      `-1px 0px 0px 1px`,\r\n      ([e]) => {\r\n        if (stickyElements.yShadow) {\r\n          stickyElements.yShadow.classList.toggle(\r\n            \"is-pinned\",\r\n            e.intersectionRatio >= 1\r\n          );\r\n          resizeYTableListShadow();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  if (stickyElements.xStart) {\r\n    addTableListStickyEvent(\r\n      stickyElements.xStart,\r\n      `-1px 0px 0px -1px`,\r\n      ([e]) => {\r\n        if (stickyElements.xShadow) {\r\n          stickyElements.xShadow.classList.toggle(\r\n            \"is-pinned\",\r\n            e.intersectionRatio >= 1\r\n          );\r\n          resizeXTableListShadow();\r\n        }\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\nexport const handleStickyTableResize = () => {\r\n  saveStickyRects();\r\n  resizeYTableListShadow();\r\n  resizeXTableListShadow();\r\n  // handleStickyClones()\r\n};\r\n\r\nexport const handleStickyClones = () => {\r\n  console.info(\"RESIZE STICKY TABLE\");\r\n  const tablelistContainerElement = document.querySelector(\r\n    \".tablelist-container\"\r\n  ) as HTMLDivElement;\r\n  const TFootStickyElement = document.querySelector(\r\n    \"tfoot .is-sticky-clone\"\r\n  ) as HTMLDivElement;\r\n\r\n  if (!tablelistContainerElement || !TFootStickyElement) {\r\n    return;\r\n  }\r\n  const tablelistContainerRect = tablelistContainerElement.getBoundingClientRect();\r\n  //const TFootStickyRect = TFootStickyElement.getBoundingClientRect();\r\n  const referenceColElements = document.querySelectorAll(\r\n    \".is-sticky-reference th\"\r\n  );\r\n  const stickyColElements = document.querySelectorAll(\".is-sticky-clone th\");\r\n  const referenceElements: {\r\n    [id: string]: Element;\r\n  } = {};\r\n  referenceColElements.forEach((element, index) => {\r\n    referenceElements[index] = element;\r\n  });\r\n\r\n  const stickyElements: {\r\n    [id: string]: Element;\r\n  } = {};\r\n  stickyColElements.forEach((element, index) => {\r\n    stickyElements[index] = element;\r\n  });\r\n\r\n  Object.keys(stickyElements).forEach(elementName => {\r\n    const stickyElement = stickyElements[elementName] as HTMLDivElement;\r\n    const referenceElement = referenceElements[elementName] as HTMLDivElement;\r\n    if (!referenceElement || !referenceElement) {\r\n      return;\r\n    }\r\n    const referenceRect = referenceElement.getBoundingClientRect();\r\n    stickyElement.style.width = referenceRect.width.toString() + \"px\";\r\n  });\r\n  TFootStickyElement.style.top =\r\n    Math.round(tablelistContainerRect.bottom).toString() + \"px\";\r\n};\r\n\r\nexport const setStickyTable = () => {\r\n  initStickyElements();\r\n  saveStickyRects();\r\n  initTableListStickyEvents();\r\n};\r\n","import { render } from \"./TableList.vue?vue&type=template&id=a9c26422&ts=true\"\nimport script from \"./TableList.vue?vue&type=script&lang=ts\"\nexport * from \"./TableList.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toHandlers as _toHandlers, mergeProps as _mergeProps, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, vShow as _vShow, withDirectives as _withDirectives } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_list = _resolveComponent(\"v-list\")!\n  const _component_v_menu = _resolveComponent(\"v-menu\")!\n  const _component_v_btn_toggle = _resolveComponent(\"v-btn-toggle\")!\n  const _component_v_select = _resolveComponent(\"v-select\")!\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_autocomplete = _resolveComponent(\"v-autocomplete\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n\n  return (_openBlock(), _createBlock(_component_v_row, { \"table-filters\": \"\" }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_col, {\n        class: \"flex-grow-0\",\n        style: {\"align-self\":\"center\"}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_row, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_toolbar, {\n                color: \"transparent\",\n                flat: \"\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_btn_toggle, {\n                    light: \"\",\n                    color: \"transparent\",\n                    \"background-color\": \"transparent\",\n                    onChange: _ctx.switchToView,\n                    mandatory: \"\",\n                    value: _ctx.$router.currentRoute.name\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_menu, {\n                        \"offset-y\": \"\",\n                        bottom: \"\"\n                      }, {\n                        activator: _withCtx(({ on: menu, attrs }) => [\n                          _createVNode(_component_v_tooltip, { top: \"\" }, {\n                            activator: _withCtx(({ on: tooltip  }) => [\n                              _createVNode(_component_v_btn, _mergeProps({\n                                color: _ctx.$router.currentRoute.name === 'global-view' ? '' : ''\n                              }, _toHandlers(tooltip || {}), attrs, { value: 'global-view' }), {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_v_icon, {\n                                    color: \r\n                      _ctx.$router.currentRoute.name === 'global-view'\r\n                        ? 'primary'\r\n                        : 'grey'\r\n                    \n                                  }, {\n                                    default: _withCtx(() => _cache[6] || (_cache[6] = [\n                                      _createTextVNode(\"mdi-table\")\n                                    ])),\n                                    _: 1\n                                  }, 8, [\"color\"]),\n                                  _createVNode(_component_v_btn, _mergeProps({\n                                    \"x-small\": \"\",\n                                    icon: \"\",\n                                    color: \"transparent\",\n                                    value: 'global-view'\n                                  }, _toHandlers(menu || {}), attrs), {\n                                    default: _withCtx(() => [\n                                      _createVNode(_component_v_icon, {\n                                        color: \r\n                      _ctx.$router.currentRoute.name === 'global-view'\r\n                        ? 'primary'\r\n                        : 'grey'\r\n                    \n                                      }, {\n                                        default: _withCtx(() => _cache[7] || (_cache[7] = [\n                                          _createTextVNode(\"mdi-chevron-down\")\n                                        ])),\n                                        _: 1\n                                      }, 8, [\"color\"])\n                                    ]),\n                                    _: 2\n                                  }, 1040)\n                                ]),\n                                _: 2\n                              }, 1040, [\"color\"])\n                            ]),\n                            default: _withCtx(() => [\n                              _cache[8] || (_cache[8] = _createElementVNode(\"span\", null, \"Global view\", -1))\n                            ]),\n                            _: 2\n                          }, 1024)\n                        ]),\n                        default: _withCtx(() => [\n                          _createVNode(_component_v_list, null, {\n                            default: _withCtx(() => [\n                              (!_ctx.is1stLevelStakeholdersMode)\n                                ? (_openBlock(), _createBlock(_component_v_list_item, {\n                                    key: 0,\n                                    onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.state.globalCardType = 'stakeholder'))\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createVNode(_component_v_list_item_title, null, {\n                                        default: _withCtx(() => _cache[9] || (_cache[9] = [\n                                          _createTextVNode(\"By Stakeholder\")\n                                        ])),\n                                        _: 1\n                                      })\n                                    ]),\n                                    _: 1\n                                  }))\n                                : _createCommentVNode(\"\", true),\n                              (_ctx.is1stLevelStakeholdersMode)\n                                ? (_openBlock(), _createBlock(_component_v_list_item, {\n                                    key: 1,\n                                    onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.state.globalCardType = 'label'))\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createVNode(_component_v_list_item_title, null, {\n                                        default: _withCtx(() => _cache[10] || (_cache[10] = [\n                                          _createTextVNode(\"By Label\")\n                                        ])),\n                                        _: 1\n                                      })\n                                    ]),\n                                    _: 1\n                                  }))\n                                : _createCommentVNode(\"\", true)\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_component_v_tooltip, { top: \"\" }, {\n                        activator: _withCtx(({ on }) => [\n                          _createVNode(_component_v_btn, _mergeProps({\n                            text: \"\",\n                            color: \r\n                    _ctx.$router.currentRoute.name === 'stakeholder-view' ? '' : ''\r\n                  \n                          }, _toHandlers(on), { value: 'stakeholder-view' }), {\n                            default: _withCtx(() => [\n                              _createVNode(_component_v_icon, {\n                                color: \r\n                      _ctx.$router.currentRoute.name === 'stakeholder-view'\r\n                        ? 'primary'\r\n                        : 'grey'\r\n                    \n                              }, {\n                                default: _withCtx(() => _cache[11] || (_cache[11] = [\n                                  _createTextVNode(\"mdi-account-multiple\")\n                                ])),\n                                _: 1\n                              }, 8, [\"color\"])\n                            ]),\n                            _: 2\n                          }, 1040, [\"color\"])\n                        ]),\n                        default: _withCtx(() => [\n                          _cache[12] || (_cache[12] = _createElementVNode(\"span\", null, \"Stakeholder view\", -1))\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_component_v_tooltip, { top: \"\" }, {\n                        activator: _withCtx(({ on }) => [\n                          _createVNode(_component_v_btn, _mergeProps({\n                            text: \"\",\n                            color: \r\n                    _ctx.$router.currentRoute.name === 'property-view' ? '' : ''\r\n                  \n                          }, _toHandlers(on), { value: 'property-view' }), {\n                            default: _withCtx(() => [\n                              _createVNode(_component_v_icon, {\n                                color: \r\n                      _ctx.$router.currentRoute.name === 'property-view'\r\n                        ? 'primary'\r\n                        : 'grey'\r\n                    \n                              }, {\n                                default: _withCtx(() => _cache[13] || (_cache[13] = [\n                                  _createTextVNode(\"mdi-format-list-bulleted\")\n                                ])),\n                                _: 1\n                              }, 8, [\"color\"])\n                            ]),\n                            _: 2\n                          }, 1040, [\"color\"])\n                        ]),\n                        default: _withCtx(() => [\n                          _cache[14] || (_cache[14] = _createElementVNode(\"span\", null, \"Property view\", -1))\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  }, 8, [\"onChange\", \"value\"]),\n                  _createVNode(_component_v_select, {\n                    items: _ctx.getSelectModes,\n                    modelValue: _ctx.state.mode,\n                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.state.mode) = $event)),\n                    \"hide-selected\": \"\",\n                    label: \"Select mode\",\n                    \"hide-details\": \"\",\n                    solo: \"\",\n                    style: {\"min-width\":\"200px\"},\n                    class: \"ml-6 flex-grow-1\"\n                  }, null, 8, [\"items\", \"modelValue\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_v_col, { class: \"py-0 px-6\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_row, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_col, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_autocomplete, {\n                    clearable: \"\",\n                    flat: \"\",\n                    \"item-color\": \"secondary\",\n                    color: \"secondary\",\n                    label: `Stakeholders`,\n                    modelValue: _ctx.state.selectedStakeholders,\n                    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.state.selectedStakeholders) = $event)),\n                    items: _ctx.orderByPropName(_ctx.getSelectStakeholders, 'text'),\n                    multiple: \"\",\n                    hint: \r\n              `${_ctx.state.selectedStakeholders.length}/${_ctx.getSelectStakeholders.length}`\r\n            ,\n                    \"persistent-hint\": \"\",\n                    autocomplete: \"off\",\n                    id: \"selected-stakeholders\"\n                  }, null, 8, [\"modelValue\", \"items\", \"hint\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_v_col, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_autocomplete, {\n                    clearable: \"\",\n                    flat: \"\",\n                    \"item-color\": \"secondary\",\n                    color: \"secondary\",\n                    label: \"Criteria\",\n                    modelValue: _ctx.state.selectedCriterions,\n                    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.state.selectedCriterions) = $event)),\n                    items: _ctx.orderByPropName(_ctx.getSelectCriterions, 'text'),\n                    multiple: \"\",\n                    hint: \r\n              `${_ctx.state.selectedCriterions.length}/${_ctx.getSelectCriterions.length}`\r\n            ,\n                    \"persistent-hint\": \"\",\n                    autocomplete: \"off\",\n                    id: \"selected-criteria\"\n                  }, null, 8, [\"modelValue\", \"items\", \"hint\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_v_col, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_autocomplete, {\n                    clearable: \"\",\n                    flat: \"\",\n                    \"item-color\": \"secondary\",\n                    color: \"secondary\",\n                    label: \"Aims\",\n                    modelValue: _ctx.state.selectedAims,\n                    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.state.selectedAims) = $event)),\n                    items: _ctx.orderByPropName(_ctx.getSelectAims, 'text'),\n                    hint: `${_ctx.state.selectedAims.length}/${_ctx.getSelectAims.length}`,\n                    \"persistent-hint\": \"\",\n                    multiple: \"\",\n                    autocomplete: \"off\",\n                    id: \"selected-aims\"\n                  }, null, 8, [\"modelValue\", \"items\", \"hint\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_v_col, {\n        class: \"flex-grow-0\",\n        style: {\"min-width\":\"200px\"}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_text_field, {\n            flat: \"\",\n            \"item-color\": \"secondary\",\n            color: \"secondary\",\n            label: \"Search\",\n            value: _ctx.state.searchInput,\n            onInput: _ctx.debounceInput\n          }, {\n            default: _withCtx(() => [\n              _withDirectives(_createVNode(_component_v_icon, {\n                onClick: _ctx.clearSearch,\n                slot: \"append\"\n              }, {\n                default: _withCtx(() => _cache[15] || (_cache[15] = [\n                  _createTextVNode(\"mdi-close\")\n                ])),\n                _: 1\n              }, 8, [\"onClick\"]), [\n                [_vShow, _ctx.state.searchInput]\n              ]),\n              _createVNode(_component_v_icon, { slot: \"append\" }, {\n                default: _withCtx(() => _cache[16] || (_cache[16] = [\n                  _createTextVNode(\"mdi-magnify\")\n                ])),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"value\", \"onInput\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","<template>\r\n  <v-row table-filters>\r\n    <v-col class=\"flex-grow-0\" style=\"align-self: center;\">\r\n      <v-row>\r\n        <v-toolbar color=\"transparent\" flat>\r\n          <!-- <v-btn icon>\r\n            <v-icon>mdi-arrow-left</v-icon>\r\n          </v-btn>-->\r\n          <!-- <v-toolbar-title>{{state.project.name}}</v-toolbar-title> -->\r\n\r\n          <!-- <v-btn icon :to=\"{ path: '/', query: $router.currentRoute.query }\">\r\n            <v-icon>mdi-table</v-icon>\r\n          </v-btn>\r\n          <v-btn icon :to=\"{ path: '/properties', query: $router.currentRoute.query }\">\r\n            <v-icon>mdi-format-list-bulleted</v-icon>\r\n          </v-btn>-->\r\n\r\n          <v-btn-toggle\r\n            light\r\n            color=\"transparent\"\r\n            background-color=\"transparent\"\r\n            @change=\"switchToView\"\r\n            mandatory\r\n            :value=\"$router.currentRoute.name\"\r\n          >\r\n          <v-menu offset-y bottom >\r\n      <template v-slot:activator=\"{ on: menu, attrs }\">\r\n            <v-tooltip top>\r\n              <template v-slot:activator=\"{ on: tooltip  }\">\r\n                <v-btn\r\n                  :color=\"$router.currentRoute.name === 'global-view' ? '' : ''\"\r\n                  v-on=\"tooltip || {}\"\r\n                  v-bind=\"attrs\"\r\n                  :value=\"'global-view'\"\r\n                >\r\n                  <v-icon\r\n                    :color=\"\r\n                      $router.currentRoute.name === 'global-view'\r\n                        ? 'primary'\r\n                        : 'grey'\r\n                    \"\r\n                  >mdi-table</v-icon>\r\n                <v-btn x-small icon color=\"transparent\" :value=\"'global-view'\" v-on=\"menu || {}\" v-bind=\"attrs\">\r\n                  <v-icon :color=\"\r\n                      $router.currentRoute.name === 'global-view'\r\n                        ? 'primary'\r\n                        : 'grey'\r\n                    \">mdi-chevron-down</v-icon>\r\n                  </v-btn>\r\n                </v-btn>\r\n              </template>\r\n              <span>Global view</span>\r\n            </v-tooltip>\r\n            </template>\r\n            <v-list>\r\n              <v-list-item v-if=\"!is1stLevelStakeholdersMode\"\r\n              @click=\"state.globalCardType = 'stakeholder'\"\r\n              >\r\n                <v-list-item-title>By Stakeholder</v-list-item-title>\r\n              </v-list-item>\r\n              <v-list-item v-if=\"is1stLevelStakeholdersMode\"\r\n              @click=\"state.globalCardType = 'label'\"\r\n              >\r\n                <v-list-item-title>By Label</v-list-item-title>\r\n              </v-list-item>\r\n            </v-list>\r\n          </v-menu>\r\n\r\n  \r\n\r\n            <v-tooltip top>\r\n              <template v-slot:activator=\"{ on }\">\r\n                <v-btn\r\n                  text\r\n                  :color=\"\r\n                    $router.currentRoute.name === 'stakeholder-view' ? '' : ''\r\n                  \"\r\n                  v-on=\"on\"\r\n                  :value=\"'stakeholder-view'\"\r\n                >\r\n                  <v-icon\r\n                    :color=\"\r\n                      $router.currentRoute.name === 'stakeholder-view'\r\n                        ? 'primary'\r\n                        : 'grey'\r\n                    \"\r\n                  >mdi-account-multiple</v-icon>\r\n                </v-btn>\r\n              </template>\r\n              <span>Stakeholder view</span>\r\n            </v-tooltip>\r\n            <v-tooltip top>\r\n              <template v-slot:activator=\"{ on }\">\r\n                <v-btn\r\n                  text\r\n                  :color=\"\r\n                    $router.currentRoute.name === 'property-view' ? '' : ''\r\n                  \"\r\n                  v-on=\"on\"\r\n                  :value=\"'property-view'\"\r\n                >\r\n                  <v-icon\r\n                    :color=\"\r\n                      $router.currentRoute.name === 'property-view'\r\n                        ? 'primary'\r\n                        : 'grey'\r\n                    \"\r\n                  >mdi-format-list-bulleted</v-icon>\r\n                </v-btn>\r\n              </template>\r\n              <span>Property view</span>\r\n            </v-tooltip>\r\n          </v-btn-toggle>\r\n          <!-- <v-spacer></v-spacer> -->\r\n          <v-select\r\n            :items=\"getSelectModes\"\r\n            v-model=\"state.mode\"\r\n            hide-selected\r\n            label=\"Select mode\"\r\n            hide-details\r\n            solo\r\n            style=\"min-width: 200px;\"\r\n            class=\"ml-6 flex-grow-1\"\r\n          ></v-select>\r\n          <!-- <v-divider vertical></v-divider> -->\r\n          <!-- <v-select\r\n            class\r\n            hide-details\r\n            append-icon=\"mdi-filter-variant\"\r\n            label=\"Mode\"\r\n            outlined\r\n            light\r\n            dense\r\n            :items=\"getSelectModes\"\r\n            v-model=\"state.mode\"\r\n          ></v-select>-->\r\n          <!-- <v-spacer></v-spacer> -->\r\n        </v-toolbar>\r\n      </v-row>\r\n    </v-col>\r\n\r\n    <v-col class=\"py-0 px-6\">\r\n      <v-row>\r\n        <v-col>\r\n          <v-autocomplete\r\n            clearable\r\n            flat\r\n            item-color=\"secondary\"\r\n            color=\"secondary\"\r\n            :label=\"`Stakeholders`\"\r\n            v-model=\"state.selectedStakeholders\"\r\n            :items=\"orderByPropName(getSelectStakeholders, 'text')\"\r\n            multiple\r\n            :hint=\"\r\n              `${state.selectedStakeholders.length}/${getSelectStakeholders.length}`\r\n            \"\r\n            persistent-hint\r\n            autocomplete=\"off\"\r\n            id=\"selected-stakeholders\"\r\n          ></v-autocomplete>\r\n        </v-col>\r\n\r\n        <v-col>\r\n          <v-autocomplete\r\n            clearable\r\n            flat\r\n            item-color=\"secondary\"\r\n            color=\"secondary\"\r\n            label=\"Criteria\"\r\n            v-model=\"state.selectedCriterions\"\r\n            :items=\"orderByPropName(getSelectCriterions, 'text')\"\r\n            multiple\r\n            :hint=\"\r\n              `${state.selectedCriterions.length}/${getSelectCriterions.length}`\r\n            \"\r\n            persistent-hint\r\n            autocomplete=\"off\"\r\n            id=\"selected-criteria\"\r\n          ></v-autocomplete>\r\n        </v-col>\r\n        <v-col>\r\n          <v-autocomplete\r\n            clearable\r\n            flat\r\n            item-color=\"secondary\"\r\n            color=\"secondary\"\r\n            label=\"Aims\"\r\n            v-model=\"state.selectedAims\"\r\n            :items=\"orderByPropName(getSelectAims, 'text')\"\r\n            :hint=\"`${state.selectedAims.length}/${getSelectAims.length}`\"\r\n            persistent-hint\r\n            multiple\r\n            autocomplete=\"off\"\r\n            id=\"selected-aims\"\r\n          ></v-autocomplete>\r\n        </v-col>\r\n      </v-row>\r\n    </v-col>\r\n\r\n    <v-col class=\"flex-grow-0\" style=\"min-width: 200px;\">\r\n      <v-text-field\r\n        flat\r\n        item-color=\"secondary\"\r\n        color=\"secondary\"\r\n        label=\"Search\"\r\n        :value=\"state.searchInput\"\r\n        @input=\"debounceInput\"\r\n      >\r\n        <v-icon v-show=\"state.searchInput\" @click=\"clearSearch\" slot=\"append\">mdi-close</v-icon>\r\n        <v-icon slot=\"append\">mdi-magnify</v-icon>\r\n      </v-text-field>\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  getSelectStakeholders,\r\n  getSelectAims,\r\n  getSelectCriterions,\r\n  state,\r\n  getFilteredItems,\r\n  getAllItems,\r\n  orderByPropName,\r\n  getSelectModes,\r\n  loadAll,\r\n  switchToView,\r\n  is1stLevelStakeholdersMode,\r\n} from \"@/store\";\r\nimport { debounce } from \"lodash\";\r\nimport { computed, defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  setup() {\r\n    return  {\r\n      state,\r\n\r\n      clearSearch: () => {\r\n        state.searchInput = \"\";\r\n      },\r\n      switchToView: function(routeName: string) {\r\n        return switchToView(routeName);\r\n      },\r\n      debounceInput: debounce(value => {\r\n        state.searchInput = value;\r\n      }, 200),\r\n\r\n      orderByPropName,\r\n      is1stLevelStakeholdersMode,\r\n      getSelectModes: computed(() => getSelectModes()),\r\n      getAllItems: computed(() => getAllItems()),\r\n      getSelectStakeholders: computed(() => getSelectStakeholders()),\r\n      getSelectAims: computed(() => getSelectAims()),\r\n      getSelectCriterions: computed(() => getSelectCriterions()),\r\n      getFilteredItems: computed(() => getFilteredItems()),\r\n      \r\n      mode: computed(() => {\r\n        return state.mode;\r\n      })\r\n    }\r\n  },\r\n  \r\n  \r\n  \r\n  watch: {\r\n    async mode() {\r\n      \r\n      await loadAll(this.$router.currentRoute.value, false);\r\n    },\r\n    \r\n  }\r\n});\r\n</script>\r\n","import { render } from \"./Header.vue?vue&type=template&id=acdde194&ts=true\"\nimport script from \"./Header.vue?vue&type=script&lang=ts\"\nexport * from \"./Header.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-card superset class=\"superset-card\">\r\n    <div class=\"d-flex\" style=\"background: rgba(0,0,0,.7);position: relative;\">\r\n      <div\r\n        class=\"card-background\"\r\n        :style=\"`background-image: url(${getImagePath(state.data.alternatives[superset.alternative].image\r\n            )}); background-size: cover;`\"\r\n      ></div>\r\n      <div class=\"mr-auto zi-front\">\r\n        <v-card-title class=\"subtitle-2 white--text text-uppercase\">\r\n          {{\r\n          getAlternativeName(superset.alternative)\r\n          }}\r\n        </v-card-title>\r\n        <v-card-subtitle class=\"font-weight-light white--text\">\r\n          {{\r\n          getCriterionName(superset.criterion)\r\n          }}\r\n        </v-card-subtitle>\r\n      </div>\r\n      <div class=\"mx-4 my-4 zi-front\">\r\n        <v-icon color=\"white\" v-if=\"state.data\">\r\n          {{\r\n          state.data.alternatives[superset.alternative].icon\r\n          }}\r\n        </v-icon>\r\n      </div>\r\n      <!-- <v-toolbar color=\"transparent\" flat>\r\n        <v-spacer></v-spacer>\r\n\r\n        <v-btn\r\n          @click=\"unselectSuperset(superset); addSupersetInSelection(superset)\"\r\n          text\r\n          icon\r\n          color=\"white\"\r\n        >\r\n          <v-icon>mdi-plus-circle</v-icon>\r\n        </v-btn>\r\n        <v-btn @click=\"unselectSuperset(superset)\" text icon color=\"white\">\r\n          <v-icon>mdi-close</v-icon>\r\n        </v-btn>\r\n      </v-toolbar>-->\r\n    </div>\r\n\r\n    <v-card-text>\r\n      <div class=\"mt-0 mb-3 d-flex\">\r\n        <span class=\"mr-auto\">{{ getAimName(superset.aim) }}</span>\r\n        <v-icon class=\"ml-2\" small>mdi-bullseye-arrow</v-icon>\r\n      </div>\r\n      <div>\r\n        <div style=\"margin-bottom: -.33em;\" class=\"title d-flex text--primary\">\r\n          <b v-if=\"is1stLevelStakeholdersMode\">{{getStakeholderName(superset.stakeholder)}}</b>\r\n          <template v-else>\r\n          <b>{{ superset.property }}</b>\r\n          <v-icon\r\n            :color=\"superset.subOption === 1 ? 'green' : 'red'\"\r\n            class=\"ml-auto\"\r\n          >{{ state.icons.subOption[superset.subOption] }}</v-icon>\r\n          </template>\r\n        </div>\r\n        <div v-if=\"!is1stLevelStakeholdersMode\"\r\n          :class=\"\r\n            `title font-weight-regular\t  ${\r\n              superset.subOption === 1 ? 'green--text' : 'red--text'\r\n            }`\r\n          \"\r\n        >{{ superset.value }}</div>\r\n      </div>\r\n    </v-card-text>\r\n\r\n    <v-divider class=\"my-1\" />\r\n    <v-card-text>\r\n      <!-- <v-subheader class=\"px-0\" v-text=\"`Arguments (${supersetItems.length})`\"></v-subheader> -->\r\n      <v-list-subheader class=\"px-0\" v-text=\"`Arguments (${supersetItems.length})`\"></v-list-subheader>\r\n\r\n      \r\n      \r\n      <div :key=\"index\" v-for=\"(items, index) in duplicateGroups\" class=\"mb-5 no-mb-last\">\r\n\r\n        <superset-card-item :item=\"items[0]\" :index=\"index\" :duplicatesCount=\"items.length\" />\r\n        \r\n      </div>\r\n      \r\n    </v-card-text>\r\n    <!-- explication (explanation) -> conclusion 'assertion' -->\r\n    <v-divider />\r\n    <v-card-actions>\r\n      <v-btn\r\n        @click=\"addSupersetInSelection(superset)\"\r\n        class=\"mr-auto\"\r\n        text\r\n        icon\r\n        v-if=\"!findSuperset(superset) && !compare\"\r\n      >\r\n        <v-icon>mdi-plus-circle-outline</v-icon>\r\n      </v-btn>\r\n      <v-btn\r\n        v-if=\"findSuperset(superset)\"\r\n        :class=\"compare ? 'mx-auto' : 'mr-auto'\"\r\n        color=\"secondary\"\r\n        @click=\"removeSupersetInSelection(superset)\"\r\n        text\r\n        icon\r\n      >\r\n        <v-icon>{{ compare ? \"mdi-close\" : \"mdi-plus-circle\" }}</v-icon>\r\n      </v-btn>\r\n      <v-btn v-if=\"!compare\" @click=\"unselectSuperset(superset)\" text icon>\r\n        <v-icon>mdi-close</v-icon>\r\n      </v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n// import Vue from \"vue\";\r\n\r\nimport {\r\n  getItemsBy,\r\n  getCriterionById,\r\n  getStakeholderById,\r\n  getAlternativeName,\r\n  getCriterionName,\r\n  getStakeholderName,\r\n  getAimName,\r\n  addSupersetInSelection,\r\n  unselectSuperset,\r\n  removeSupersetInSelection,\r\n  findSuperset,\r\n  state,\r\n  formatDate,\r\n  getImagePath,\r\n  getDuplicatesGroups,\r\n  is1stLevelStakeholdersMode\r\n} from \"@/store\";\r\nimport SupersetCardItem from './SupersetCardItem.vue';\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n      state,\r\n      getImagePath,\r\n      addSupersetInSelection,\r\n      removeSupersetInSelection,\r\n      unselectSuperset,\r\n      findSuperset,\r\n      getItemsBy,\r\n      getCriterionById,\r\n      getAlternativeName,\r\n      getCriterionName,\r\n      getStakeholderName,\r\n      getAimName,\r\n      formatDate,\r\n      is1stLevelStakeholdersMode\r\n    }\r\n  },\r\n  components: { SupersetCardItem },\r\n  props: [\"superset\", \"compare\"],\r\n  \r\n  computed: {\r\n    supersetItems: function() {\r\n      \r\n      return getItemsBy(this.superset);\r\n    },\r\n    duplicateGroups: function() {\r\n      return getDuplicatesGroups(this.supersetItems)\r\n    }\r\n  },\r\n  mounted() {\r\n    \r\n  },\r\n  \r\n});\r\n</script>\r\n\r\n<style>\r\n.card-background {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-size: cover;\r\n  background-position: center center;\r\n  opacity: 0.3;\r\n  z-index: 0;\r\n}\r\n.zi-front {\r\n  z-index: 1;\r\n  position: relative;\r\n}\r\n</style>\r\n","<template>\r\n    <v-card :ripple=\"false\" outlined @click=\"openMe(index)\">\r\n          <v-container fluid>\r\n            <div class=\"d-flex\">\r\n              <div class=\"mb-5 overflow-hidden\">\r\n                <div :class=\"`caption ${!open[index] ? 'text-truncate' : ''}`\">\r\n                  <b v-if=\"is1stLevelStakeholdersMode\">{{item.property}}</b>\r\n                  <b v-else>by {{ getStakeholderName(item.stakeholder) }}</b>\r\n                </div>\r\n                <div :class=\"`caption ${!open[index] ? 'text-truncate' : ''}`\">\r\n                  <span :class=\"\r\n            `font-weight-regular\t  ${\r\n              item.subOption === 1 ? 'green--text' : 'red--text'\r\n            }`\r\n          \" v-if=\"is1stLevelStakeholdersMode\">{{item.value}}</span>\r\n                  <em v-else>in {{ item.source }}</em>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"ml-auto flex-shrink-0\">\r\n                <v-chip outlined x-small>{{duplicatesCount}}</v-chip>\r\n                <v-btn icon>\r\n                  <v-icon>\r\n                    {{\r\n                    open[index] ? \"mdi-chevron-up\" : \"mdi-chevron-down\"\r\n                    }}\r\n                  </v-icon>\r\n                </v-btn>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"text--secondary body-1\" v-if=\"!open[index]\">{{ item.assertion }}</div>\r\n\r\n            \r\n            \r\n\r\n            <v-expand-transition>\r\n              <div v-show=\"open[index]\">\r\n                <div class=\"overline\">Explanation</div>\r\n                <p class=\"mb-5 body-1\">{{ item.explanation }}</p>\r\n\r\n                <div class=\"overline\">Assertion</div>\r\n                <p class=\"body-1 text--secondary\">{{ item.assertion }}</p>\r\n\r\n                <div v-if=\"item.date\" class=\"text-right text--secondary caption\">\r\n                  <small>{{ formatDate(item.date) }}</small>\r\n                </div>\r\n              </div>\r\n            </v-expand-transition>\r\n          </v-container>\r\n        </v-card>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport {\r\n  getItemsBy,\r\n  getCriterionById,\r\n  getStakeholderById,\r\n  getAlternativeName,\r\n  getCriterionName,\r\n  getStakeholderName,\r\n  getAimName,\r\n  addSupersetInSelection,\r\n  unselectSuperset,\r\n  removeSupersetInSelection,\r\n  findSuperset,\r\n  state,\r\n  formatDate,\r\n  getImagePath,\r\n  is1stLevelStakeholdersMode\r\n} from \"@/store\";\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n      state,\r\n      getImagePath,\r\n      openMe(index) {\r\n        this.open[index] = !this.open[index];\r\n      },\r\n      addSupersetInSelection,\r\n      removeSupersetInSelection,\r\n      unselectSuperset,\r\n      findSuperset,\r\n      getItemsBy,\r\n      getCriterionById,\r\n      getAlternativeName,\r\n      getCriterionName,\r\n      getStakeholderName,\r\n      getAimName,\r\n      formatDate,\r\n      is1stLevelStakeholdersMode\r\n    }\r\n  },\r\n  props: [\"item\", \"index\", \"duplicatesCount\"],\r\n  data: () => ({\r\n    open: [false],\r\n    \r\n  }),\r\n  computed: {\r\n    supersetItems: function() {\r\n      return getItemsBy(this.superset);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.open = this.supersetItems.map(() => false);\r\n  }\r\n});\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import { render } from \"./SupersetCardItem.vue?vue&type=template&id=e42a740c\"\nimport script from \"./SupersetCardItem.vue?vue&type=script&lang=js\"\nexport * from \"./SupersetCardItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./SupersetCard.vue?vue&type=template&id=4a1fe52a\"\nimport script from \"./SupersetCard.vue?vue&type=script&lang=js\"\nexport * from \"./SupersetCard.vue?vue&type=script&lang=js\"\n\nimport \"./SupersetCard.vue?vue&type=style&index=0&id=4a1fe52a&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Main.vue?vue&type=template&id=13d7835e\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, withCtx as _withCtx, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Header = _resolveComponent(\"Header\")!\n  const _component_PropertyListRow = _resolveComponent(\"PropertyListRow\")!\n  const _component_v_simple_table = _resolveComponent(\"v-simple-table\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n\n  return (_ctx.state.project && _ctx.state.data)\n    ? (_openBlock(), _createBlock(_component_v_container, {\n        key: 0,\n        fluid: \"\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_Header),\n          _createVNode(_component_v_card, { class: \"mt-2\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_simple_table, {\n                class: \"properties-table\",\n                \"fixed-header\": \"\",\n                height: _ctx.height\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"thead\", null, [\n                    _createElementVNode(\"tr\", null, [\n                      _cache[0] || (_cache[0] = _createElementVNode(\"th\", null, \"Property\", -1)),\n                      _cache[1] || (_cache[1] = _createElementVNode(\"th\", null, \"Criterion\", -1)),\n                      _cache[2] || (_cache[2] = _createElementVNode(\"th\", null, \"Aim\", -1)),\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n                        return (_openBlock(), _createElementBlock(\"th\", {\n                          class: \"text-center\",\n                          key: index\n                        }, _toDisplayString(_ctx.getAlternativeById(alternativeId).name), 1))\n                      }), 128))\n                    ])\n                  ]),\n                  _createElementVNode(\"tbody\", null, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getNormalizedItemsByUniqueItemProp(\r\n                'property'\r\n              ), (items, property) => {\n                      return (_openBlock(), _createBlock(_component_PropertyListRow, {\n                        key: property,\n                        items: items,\n                        property: property\n                      }, null, 8, [\"items\", \"property\"]))\n                    }), 128))\n                  ])\n                ]),\n                _: 1\n              }, 8, [\"height\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }))\n    : _createCommentVNode(\"\", true)\n}","<template>\r\n  <v-container fluid v-if=\"state.project && state.data\">\r\n    <Header />\r\n\r\n    <v-card class=\"mt-2\">\r\n      <v-simple-table class=\"properties-table\" fixed-header :height=\"height\">\r\n        <template v-slot:default>\r\n          <thead>\r\n            <tr>\r\n              <th>Property</th>\r\n              <th>Criterion</th>\r\n              <th>Aim</th>\r\n              <th\r\n                class=\"text-center\"\r\n                :key=\"index\"\r\n                v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n              >\r\n                {{ getAlternativeById(alternativeId).name }}\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <PropertyListRow\r\n              :key=\"property\"\r\n              :items=\"items\"\r\n              :property=\"property\"\r\n              v-for=\"(items, property) in getNormalizedItemsByUniqueItemProp(\r\n                'property'\r\n              )\"\r\n            />\r\n          </tbody>\r\n        </template>\r\n      </v-simple-table>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport PropertyListRow from \"@/components/PropertiesList/PropertyListRow.vue\";\r\nimport Header from \"@/components/Header.vue\";\r\nimport {\r\n  getNormalizedItemsByUniqueItemProp,\r\n  getAlternativeById,\r\n  c_alternativesIds,\r\n  state\r\n} from \"@/store\";\r\nimport { defineComponent, ref } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  // props: {\r\n  //   id: Number\r\n  // },\r\n\r\n  setup(props) {\r\n\r\n    const height = ref(null)\r\n\r\n\r\n    return {\r\n      state,\r\n      height,\r\n\r\n      c_alternativesIds,\r\n\r\n\r\n      setHeight: () => {\r\n        const tableFilters = document.querySelector(\"[table-filters]\");\r\n\r\n        if (tableFilters) {\r\n          const tableFiltersRect = tableFilters.getBoundingClientRect();\r\n          height.value = window.innerHeight - tableFiltersRect.bottom - 24;\r\n        }\r\n      },\r\n      getNormalizedItemsByUniqueItemProp,\r\n      getAlternativeById\r\n    }\r\n\r\n  },\r\n  \r\n  // data: () => ({\r\n  //   state,\r\n  //   height: \"\"\r\n  // }),\r\n  components: {\r\n    Header,\r\n    PropertyListRow\r\n  },\r\n  \r\n  mounted() {\r\n    this.$nextTick(this.setHeight);\r\n  },\r\n  updated() {\r\n    this.$nextTick(this.setHeight);\r\n  },\r\n  created() {\r\n    window.addEventListener(\"resize\", this.setHeight);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"resize\", this.setHeight);\r\n  },\r\n  // methods: {\r\n    \r\n  // },\r\n  // props: [\"id\"]\r\n});\r\n</script>\r\n\r\n<style>\r\n.v-data-table thead th {\r\n  text-transform: uppercase;\r\n}\r\n</style>\r\n","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = [\"name\", \"id\"]\nconst _hoisted_2 = {\n  key: 0,\n  class: \"grey--text\"\n}\nconst _hoisted_3 = {\n  key: 0,\n  class: \"grey--text\"\n}\nconst _hoisted_4 = {\n  key: 0,\n  class: \"text-center\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_text_highlight = _resolveComponent(\"text-highlight\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_PropertiesListCriterion = _resolveComponent(\"PropertiesListCriterion\")!\n  const _component_Acceptability = _resolveComponent(\"Acceptability\")!\n\n  return (_openBlock(), _createElementBlock(\"tr\", {\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.hasMany ? _ctx.showDetails = !_ctx.showDetails : '')),\n    key: `${_ctx.property}-${_ctx.criterionItems.length}-${_ctx.aimItems.length}`\n  }, [\n    _createElementVNode(\"td\", null, [\n      _createElementVNode(\"a\", {\n        name: `${_ctx.property}`,\n        id: _ctx.property\n      }, null, 8, _hoisted_1),\n      _createElementVNode(\"b\", null, [\n        _createVNode(_component_text_highlight, {\n          queries: [_ctx.state.searchInput]\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(_ctx.property), 1)\n          ]),\n          _: 1\n        }, 8, [\"queries\"])\n      ]),\n      (_ctx.criterionItems.length > 1 || _ctx.aimItems.length > 1)\n        ? (_openBlock(), _createBlock(_component_v_icon, { key: 0 }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.showDetails ? 'mdi-chevron-up' : 'mdi-chevron-down'), 1)\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"td\", null, [\n      (_ctx.criterionItems.length > 1 && !_ctx.showDetails)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString(_ctx.criterionItems.length) + \" criteria \", 1))\n        : _createCommentVNode(\"\", true),\n      (_ctx.criterionItems.length <= 1 || (_ctx.criterionItems.length > 1 && _ctx.showDetails))\n        ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.criterionItems, (item, index) => {\n            return (_openBlock(), _createBlock(_component_PropertiesListCriterion, {\n              key: index,\n              item: item,\n              row: _ctx.getAimsCountFromAimsAndCriterion(_ctx.getAimsFromItems(_ctx.items), item.criterion)\n            }, null, 8, [\"item\", \"row\"]))\n          }), 128))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"td\", null, [\n      (_ctx.aimItems.length > 1 && !_ctx.showDetails)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString(_ctx.aimItems.length) + \" aims\", 1))\n        : _createCommentVNode(\"\", true),\n      (_ctx.aimItems.length <= 1 || (_ctx.aimItems.length > 1 && _ctx.showDetails))\n        ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.aimItems, (argument, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", { key: index }, _toDisplayString(_ctx.getAimById(argument.aim).name), 1))\n          }), 128))\n        : _createCommentVNode(\"\", true)\n    ]),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n      return (_openBlock(), _createElementBlock(\"td\", { key: index }, [\n        (!_ctx.showDetails)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n              _createVNode(_component_Acceptability, {\n                items: _ctx.filterItemsBy(_ctx.items, {\r\n                alternative: alternativeId\r\n          })\n              }, null, 8, [\"items\"])\n            ]))\n          : _createCommentVNode(\"\", true),\n        (_ctx.showDetails)\n          ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.aimItems, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                class: \"text-center\",\n                key: index\n              }, [\n                _createVNode(_component_Acceptability, {\n                  items: _ctx.filterItemsBy(_ctx.items, {\r\n                alternative: alternativeId,\r\n                aim: item.aim\r\n          })\n                }, null, 8, [\"items\"])\n              ]))\n            }), 128))\n          : _createCommentVNode(\"\", true)\n      ]))\n    }), 128))\n  ]))\n}","<template>\r\n  <tr\r\n    @click=\"hasMany ? showDetails = !showDetails : ''\"\r\n    :key=\"`${property}-${criterionItems.length}-${aimItems.length}`\"\r\n  >\r\n    <td>\r\n      <a :name=\"`${property}`\" :id=\"property\"></a>\r\n      <b>\r\n        <text-highlight :queries=\"[state.searchInput]\">{{ property }}</text-highlight>\r\n      </b>\r\n      <v-icon\r\n        v-if=\"criterionItems.length > 1 || aimItems.length > 1\"\r\n      >{{showDetails ? 'mdi-chevron-up' : 'mdi-chevron-down'}}</v-icon>\r\n    </td>\r\n\r\n    <td>\r\n      <template v-if=\"criterionItems.length > 1 && !showDetails\">\r\n        <div class=\"grey--text\">\r\n          <!-- {{`${pluralize('{count} {criterion:count}', {\r\n          count: criterionItems.length,\r\n          plural: 'criteria'\r\n          })}`}}-->\r\n          {{criterionItems.length}} criteria\r\n        </div>\r\n      </template>\r\n      <template v-if=\"criterionItems.length <= 1 || (criterionItems.length > 1 && showDetails)\">\r\n        <template v-for=\"(item, index) in criterionItems\" :key=\"index\">\r\n          <PropertiesListCriterion\r\n            :item=\"item\"\r\n            :row=\"getAimsCountFromAimsAndCriterion(getAimsFromItems(items), item.criterion)\"\r\n          />\r\n        </template>\r\n      </template>\r\n    </td>\r\n\r\n    <td>\r\n      <template v-if=\"aimItems.length > 1 && !showDetails\">\r\n        <div class=\"grey--text\">{{aimItems.length}} aims</div>\r\n      </template>\r\n      <template v-if=\"aimItems.length <= 1 || (aimItems.length > 1 && showDetails)\">\r\n        <div :key=\"index\" v-for=\"(argument, index) in aimItems\">{{ getAimById(argument.aim).name }}</div>\r\n      </template>\r\n    </td>\r\n\r\n    <td :key=\"index\" v-for=\"(alternativeId, index) in c_alternativesIds\">\r\n      <template v-if=\"!showDetails\">\r\n        <div class=\"text-center\">\r\n          <Acceptability\r\n            :items=\"filterItemsBy(items, {\r\n                alternative: alternativeId\r\n          })\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <template v-if=\"showDetails\">\r\n        <div class=\"text-center\" :key=\"index\" v-for=\"(item, index) in aimItems\">\r\n          <Acceptability\r\n            :items=\"filterItemsBy(items, {\r\n                alternative: alternativeId,\r\n                aim: item.aim\r\n          })\"\r\n          />\r\n        </div>\r\n      </template>\r\n    </td>\r\n  </tr>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { sortBy, uniqBy, countBy } from \"lodash\";\r\nimport {\r\n  getAcceptabilityFromProCon,\r\n  getSubOptionById,\r\n  getCriterionById,\r\n  getAimById,\r\n  normalizeByAlternative,\r\n  filterItemsBy,\r\n  c_alternativesIds,\r\n  getAimsCountFromAimsAndCriterion,\r\n  getAimsFromItems,\r\n  state\r\n} from \"@/store\";\r\nimport { NormalizedArgument } from \"@/@types\";\r\n\r\nimport Acceptability from \"@/components/Acceptability.vue\";\r\nimport PropertiesListCriterion from \"@/components/PropertiesList/PropertiesListCriterion.vue\";\r\nimport { computed, defineComponent, ref, toRefs, PropType } from \"vue\";\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    items: Array as PropType<NormalizedArgument[]>,\r\n    property: {}\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    const {items, property} = toRefs(props);\r\n\r\n    const showDetails = ref(false);\r\n\r\n    const criterionItems = computed(() => {\r\n      return uniqBy(items.value, \"criterion\");\r\n    });\r\n    const aimItems = computed(() => {\r\n      return uniqBy(items.value, \"aim\");\r\n    });\r\n\r\n    const hasMany = computed(() => {\r\n      return criterionItems.value.length > 1 || aimItems.value.length > 1;\r\n    });\r\n\r\n    return {\r\n      state,\r\n      c_alternativesIds,\r\n      showDetails,\r\n\r\n      criterionItems,\r\n      aimItems,\r\n      hasMany,\r\n\r\n      getAimsCountFromAimsAndCriterion,\r\n      getAimsFromItems,\r\n      countBy,\r\n      sortBy,\r\n      getSubOptionById,\r\n      getCriterionById,\r\n      getAimById,\r\n      getAcceptabilityFromProCon,\r\n      normalizeByAlternative,\r\n      filterItemsBy,\r\n      uniqBy\r\n    }\r\n  },\r\n\r\n  // data: () => ({\r\n  //   state,\r\n  //   showDetails: false\r\n  // }),\r\n  // computed: {\r\n    \r\n    \r\n  // },\r\n  components: {\r\n    Acceptability,\r\n    PropertiesListCriterion\r\n  }\r\n  // props: [\"items\", \"property\"],\r\n  \r\n});\r\n</script>","import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", null, _toDisplayString(_ctx.getCriterionById(_ctx.item.criterion).name), 1))\n}","<template>\r\n  <div>\r\n    {{ getCriterionById(item.criterion).name }}\r\n    <!-- <br :key=\"n\" v-for=\"n in row\" /> -->\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { getCriterionById } from \"@/store\";\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    item: {},\r\n    row: {}\r\n  },\r\n\r\n  setup() {\r\n\r\n    return {\r\n      getCriterionById\r\n    }\r\n\r\n  },\r\n  // props: [\"item\", \"row\"],\r\n  \r\n});\r\n</script>","import { render } from \"./PropertiesListCriterion.vue?vue&type=template&id=19131206&ts=true\"\nimport script from \"./PropertiesListCriterion.vue?vue&type=script&lang=ts\"\nexport * from \"./PropertiesListCriterion.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PropertyListRow.vue?vue&type=template&id=7395c348&ts=true\"\nimport script from \"./PropertyListRow.vue?vue&type=script&lang=ts\"\nexport * from \"./PropertyListRow.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Properties.vue?vue&type=template&id=a55b75e2&ts=true\"\nimport script from \"./Properties.vue?vue&type=script&lang=ts\"\nexport * from \"./Properties.vue?vue&type=script&lang=ts\"\n\nimport \"./Properties.vue?vue&type=style&index=0&id=a55b75e2&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, withCtx as _withCtx, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Header = _resolveComponent(\"Header\")!\n  const _component_StakeholderListRow = _resolveComponent(\"StakeholderListRow\")!\n  const _component_v_simple_table = _resolveComponent(\"v-simple-table\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n\n  return (_ctx.state.project && _ctx.state.data)\n    ? (_openBlock(), _createBlock(_component_v_container, {\n        key: 0,\n        fluid: \"\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_Header),\n          _createVNode(_component_v_card, { class: \"mt-2\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_simple_table, {\n                class: \"properties-table\",\n                \"fixed-header\": \"\",\n                height: _ctx.height\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"thead\", null, [\n                    _createElementVNode(\"tr\", null, [\n                      _cache[0] || (_cache[0] = _createElementVNode(\"th\", { criterion: \"\" }, \"Criterion\", -1)),\n                      _cache[1] || (_cache[1] = _createElementVNode(\"th\", { aim: \"\" }, \"Aim\", -1)),\n                      _cache[2] || (_cache[2] = _createElementVNode(\"th\", { stakeholder: \"\" }, \"Stakeholder\", -1)),\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n                        return (_openBlock(), _createElementBlock(\"th\", {\n                          alternative: \"\",\n                          class: \"text-center\",\n                          key: index\n                        }, _toDisplayString(_ctx.getAlternativeById(alternativeId).name), 1))\n                      }), 128))\n                    ])\n                  ]),\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getNormalizedItemsByUniqueItemProp(\r\n                'criterion'\r\n              ), (items, criterionId) => {\n                    return (_openBlock(), _createBlock(_component_StakeholderListRow, {\n                      key: criterionId,\n                      items: items,\n                      property: _ctx.getCriterionName(criterionId)\n                    }, null, 8, [\"items\", \"property\"]))\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"height\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }))\n    : _createCommentVNode(\"\", true)\n}","<template>\r\n  <v-container fluid v-if=\"state.project && state.data\">\r\n    <Header />\r\n\r\n    <v-card class=\"mt-2\">\r\n      \r\n      <v-simple-table class=\"properties-table\" fixed-header :height=\"height\">\r\n        \r\n        <template v-slot:default>\r\n          <thead>\r\n            <tr>\r\n              <th criterion>Criterion</th>\r\n              <th aim>Aim</th>\r\n              <th stakeholder>Stakeholder</th>\r\n              <th alternative\r\n                class=\"text-center\"\r\n                :key=\"index\"\r\n                v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n              >\r\n                {{ getAlternativeById(alternativeId).name }}\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          \r\n            <StakeholderListRow\r\n              :key=\"criterionId\"\r\n              :items=\"items\"\r\n              :property=\"getCriterionName(criterionId)\"\r\n              v-for=\"(items, criterionId) in getNormalizedItemsByUniqueItemProp(\r\n                'criterion'\r\n              )\"\r\n            />\r\n          \r\n        </template>\r\n      </v-simple-table>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport StakeholderListRow from \"@/components/StakeholderList/StakeholderListRow.vue\";\r\nimport Header from \"@/components/Header.vue\";\r\nimport {\r\n  getNormalizedItemsByUniqueItemProp,\r\n  getAlternativeById,\r\n  c_alternativesIds,\r\n  state,\r\n  getCriterionName\r\n} from \"@/store\";\r\nimport { defineComponent, ref } from \"vue\";\r\n\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    id: Number\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    const height = ref(null)\r\n    \r\n    return {\r\n      state,\r\n      height,\r\n      c_alternativesIds,\r\n\r\n      getCriterionName,\r\n      setHeight: () => {\r\n        const tableFilters = document.querySelector(\"[table-filters]\");\r\n\r\n        if (tableFilters) {\r\n          const tableFiltersRect = tableFilters.getBoundingClientRect();\r\n          height.value = window.innerHeight - tableFiltersRect.bottom - 24;\r\n        }\r\n      },\r\n      getNormalizedItemsByUniqueItemProp,\r\n      getAlternativeById\r\n    }\r\n  },\r\n\r\n\r\n  // data: () => ({\r\n  //   state,\r\n  //   height: \"\"\r\n  // }),\r\n  components: {\r\n    Header,\r\n    StakeholderListRow\r\n  },\r\n  // computed: {\r\n  //   alternativesIds\r\n  // },\r\n  mounted() {\r\n    this.$nextTick(this.setHeight);\r\n  },\r\n  updated() {\r\n    this.$nextTick(this.setHeight);\r\n  },\r\n  created() {\r\n    window.addEventListener(\"resize\", this.setHeight);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"resize\", this.setHeight);\r\n  },\r\n  // methods: {\r\n    \r\n  // },\r\n  // props: [\"id\"]\r\n});\r\n</script>\r\n\r\n<style>\r\n.v-data-table thead th {\r\n  text-transform: uppercase;\r\n}\r\n</style>\r\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = [\"rowspan\"]\nconst _hoisted_2 = [\"name\", \"id\"]\nconst _hoisted_3 = [\"rowspan\"]\nconst _hoisted_4 = { stakeholder: \"\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_text_highlight = _resolveComponent(\"text-highlight\")!\n  const _component_Acceptability = _resolveComponent(\"Acceptability\")!\n\n  return (_openBlock(), _createElementBlock(\"tbody\", null, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.aimItems, (aimItem, aimIndex) => {\n      return (_openBlock(), _createElementBlock(_Fragment, null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.uniqBy(\r\n            _ctx.filterItemsBy(_ctx.items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          ), (stakeholderItem, stakeholderIndex) => {\n          return (_openBlock(), _createElementBlock(\"tr\", {\n            key: `stakeholder-${stakeholderIndex}-${aimIndex}`\n          }, [\n            (aimIndex === 0 && stakeholderIndex === 0)\n              ? (_openBlock(), _createElementBlock(\"td\", {\n                  key: 0,\n                  criterion: \"\",\n                  rowspan: _ctx.uniqBy(\r\n            _ctx.filterItemsBy(_ctx.items, {\r\n              criterion: aimItem.criterion\r\n            }),\r\n            'stakeholder'\r\n          ).length * _ctx.aimItems.length\n                }, [\n                  _createElementVNode(\"a\", {\n                    name: `${_ctx.property}`,\n                    id: _ctx.property\n                  }, null, 8, _hoisted_2),\n                  _createVNode(_component_text_highlight, {\n                    class: \"inline-block\",\n                    queries: [_ctx.state.searchInput]\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(_ctx.property), 1)\n                    ]),\n                    _: 1\n                  }, 8, [\"queries\"])\n                ], 8, _hoisted_1))\n              : _createCommentVNode(\"\", true),\n            (stakeholderIndex === 0)\n              ? (_openBlock(), _createElementBlock(\"td\", {\n                  key: 1,\n                  aim: \"\",\n                  rowspan: _ctx.uniqBy(\r\n            _ctx.filterItemsBy(_ctx.items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          ).length\n                }, [\n                  _createElementVNode(\"span\", null, _toDisplayString(_ctx.getAimById(aimItem.aim).name), 1)\n                ], 8, _hoisted_3))\n              : _createCommentVNode(\"\", true),\n            _createElementVNode(\"td\", _hoisted_4, [\n              _createElementVNode(\"b\", null, _toDisplayString(_ctx.getStakeholderName(stakeholderItem.stakeholder)), 1)\n            ]),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, alternativeIndex) => {\n              return (_openBlock(), _createElementBlock(\"td\", {\n                class: \"text-center\",\n                alternative: \"\",\n                key: alternativeIndex\n              }, [\n                _createVNode(_component_Acceptability, {\n                  items: \r\n              _ctx.filterItemsBy(_ctx.items, {\r\n                alternative: alternativeId,\r\n                aim: aimItem.aim,\r\n                stakeholder: stakeholderItem.stakeholder\r\n              })\r\n            \n                }, null, 8, [\"items\"])\n              ]))\n            }), 128))\n          ]))\n        }), 128))\n      ], 64))\n    }), 256))\n  ]))\n}","<template>\r\n\r\n<tbody>\r\n      <template v-for=\"(aimItem, aimIndex) in aimItems\"  >\r\n      <tr v-for=\"(stakeholderItem, stakeholderIndex) in uniqBy(\r\n            filterItemsBy(items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          )\" :key=\"`stakeholder-${stakeholderIndex}-${aimIndex}`\" >\r\n\r\n        \r\n        <td criterion v-if=\"aimIndex === 0 && stakeholderIndex === 0\" :rowspan=\"uniqBy(\r\n            filterItemsBy(items, {\r\n              criterion: aimItem.criterion\r\n            }),\r\n            'stakeholder'\r\n          ).length * aimItems.length\" >\r\n          \r\n\r\n          <a :name=\"`${property}`\" :id=\"property\"></a>\r\n        <text-highlight class=\"inline-block\" :queries=\"[state.searchInput]\">{{\r\n          property\r\n        }}</text-highlight>\r\n\r\n        </td>\r\n\r\n        <td aim v-if=\"stakeholderIndex === 0\" :rowspan=\"uniqBy(\r\n            filterItemsBy(items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          ).length\">\r\n\r\n          \r\n          <span >{{\r\n              getAimById(aimItem.aim).name\r\n            }}</span>\r\n            \r\n\r\n        </td>\r\n\r\n        <td stakeholder>\r\n          <b>{{ getStakeholderName(stakeholderItem.stakeholder) }}</b>\r\n        </td>\r\n\r\n        <td class=\"text-center\" alternative :key=\"alternativeIndex\" v-for=\"(alternativeId, alternativeIndex) in c_alternativesIds\">\r\n      \r\n        \r\n          <Acceptability\r\n            :items=\"\r\n              filterItemsBy(items, {\r\n                alternative: alternativeId,\r\n                aim: aimItem.aim,\r\n                stakeholder: stakeholderItem.stakeholder\r\n              })\r\n            \"\r\n          />\r\n        \r\n      \r\n    </td>\r\n\r\n\r\n\r\n      </tr>\r\n      </template>\r\n\r\n    \r\n<!-- \r\n    <td criterion>\r\n      <a :name=\"`${property}`\" :id=\"property\"></a>\r\n      <text-highlight class=\"inline-block\" :queries=\"[state.searchInput]\">{{\r\n        property\r\n      }}</text-highlight>\r\n    </td>\r\n\r\n    <td aim>\r\n      <template>\r\n        <div :key=\"index\" v-for=\"(argument, index) in aimItems\">\r\n          <div\r\n            class=\"inline-block\"\r\n            :key=\"index + stakeholderItem + stakeholderIndex\"\r\n            v-for=\"(stakeholderItem, stakeholderIndex) in uniqBy(\r\n              filterItemsBy(items, {\r\n                aim: argument.aim\r\n              }),\r\n              'stakeholder'\r\n            )\"\r\n          >\r\n            <span v-if=\"stakeholderIndex !== 0\" v-html=\"'&#8291;'\"></span>\r\n            <span v-if=\"stakeholderIndex === 0\">{{\r\n              getAimById(argument.aim).name\r\n            }}</span>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </td>\r\n\r\n    <td stakeholder>\r\n      <template v-for=\"(aimItem, aimIndex) in aimItems\">\r\n        <template>\r\n          <div\r\n            class=\"inline-block\"\r\n            :key=\"index + aimItem + aimIndex\"\r\n            v-for=\"(stakeholderItem, index) in uniqBy(\r\n              filterItemsBy(items, {\r\n                aim: aimItem.aim\r\n                \r\n              }),\r\n              'stakeholder'\r\n            )\"\r\n          >\r\n            <b>{{ getStakeholderName(stakeholderItem.stakeholder) }}</b>\r\n          </div>\r\n        </template>\r\n      </template>\r\n    </td>\r\n\r\n    <td alternative :key=\"index\" v-for=\"(alternativeId, index) in c_alternativesIds\">\r\n      <template v-for=\"(aimItem, aimIndex) in aimItems\">\r\n        <div\r\n          class=\"text-center\"\r\n          :key=\"index + aimItem + aimIndex\"\r\n          v-for=\"(stakeholderItem, index) in uniqBy(\r\n            filterItemsBy(items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          )\"\r\n        >\r\n          <Acceptability\r\n            :items=\"\r\n              filterItemsBy(items, {\r\n                alternative: alternativeId,\r\n                aim: aimItem.aim,\r\n                stakeholder: stakeholderItem.stakeholder\r\n              })\r\n            \"\r\n          />\r\n        </div>\r\n      </template>\r\n    </td> -->\r\n  \r\n</tbody>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { sortBy, uniqBy, countBy } from \"lodash\";\r\nimport {\r\n  getAcceptabilityFromProCon,\r\n  getSubOptionById,\r\n  getCriterionById,\r\n  getAimById,\r\n  normalizeByAlternative,\r\n  filterItemsBy,\r\n  c_alternativesIds,\r\n  getAimsCountFromAimsAndCriterion,\r\n  getAimsFromItems,\r\n  state,\r\n  getStakeholderName,\r\n} from \"@/store\";\r\nimport { NormalizedArgument } from \"@/@types\";\r\n\r\nimport Acceptability from \"@/components/Acceptability.vue\";\r\nimport PropertiesListCriterion from \"@/components/PropertiesList/PropertiesListCriterion.vue\";\r\nimport { computed, defineComponent, toRefs, PropType } from \"vue\";\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    items: Array as PropType<NormalizedArgument[]>,\r\n    property: {}\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    const {items, property} = toRefs(props)\r\n\r\n    const stakeholderItems = computed(() => {\r\n        return uniqBy(items.value, \"stakeholder\");\r\n      })\r\n\r\n    const criterionItems = computed(() => {\r\n        return uniqBy(items.value, \"criterion\");\r\n      })\r\n\r\n      const aimItems = computed(() => {\r\n        return uniqBy(items.value, \"aim\");\r\n      })\r\n      \r\n\r\n    return {\r\n      state,\r\n\r\n      c_alternativesIds,\r\n\r\n      stakeholderItems,\r\n      criterionItems,\r\n      aimItems,\r\n      \r\n      hasMany: computed(() => {\r\n        return criterionItems.value.length > 1 || aimItems.value.length > 1;\r\n      }),\r\n\r\n\r\n      getStakeholderName,\r\n      getAimsCountFromAimsAndCriterion,\r\n      getAimsFromItems,\r\n      countBy,\r\n      sortBy,\r\n      getSubOptionById,\r\n      getCriterionById,\r\n      getAimById,\r\n      getAcceptabilityFromProCon,\r\n      normalizeByAlternative,\r\n      filterItemsBy,\r\n      uniqBy\r\n        \r\n    }\r\n\r\n  },\r\n\r\n  // data: () => ({\r\n  //   state,\r\n  //   showDetails: false\r\n  // }),\r\n  // computed: {\r\n    \r\n  // },\r\n  components: {\r\n    Acceptability\r\n  },\r\n  // props: [\"items\", \"property\"],\r\n  // methods: {\r\n    \r\n  // }\r\n});\r\n</script>\r\n","import { render } from \"./StakeholderListRow.vue?vue&type=template&id=624895ae&ts=true\"\nimport script from \"./StakeholderListRow.vue?vue&type=script&lang=ts\"\nexport * from \"./StakeholderListRow.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Stakeholders.vue?vue&type=template&id=79277500&ts=true\"\nimport script from \"./Stakeholders.vue?vue&type=script&lang=ts\"\nexport * from \"./Stakeholders.vue?vue&type=script&lang=ts\"\n\nimport \"./Stakeholders.vue?vue&type=style&index=0&id=79277500&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\n// src/router/index.ts\r\n\r\nimport { createRouter, createWebHistory, RouteRecordRaw } from \"vue-router\";\r\nimport Project from \"@/views/Project.vue\";\r\nimport Home from \"@/views/Home.vue\";\r\nimport Main from \"@/views/Main.vue\";\r\nimport Properties from \"@/views/Properties.vue\";\r\nimport Stakeholders from \"@/views/Stakeholders.vue\";\r\n\r\nimport {\r\n  clearProjectDataCacheFromRoute,\r\n  getProjectTypeFromRoute,\r\n  getRouteTypeValue,\r\n  hideOverlay,\r\n  loadAll,\r\n  PROJECT_TYPE_ROUTES,\r\n  setDocumentTitle,\r\n  showOverlay,\r\n} from \"@/store\";\r\n\r\nconst routes: Array<RouteRecordRaw> = [\r\n  { name: \"home\", path: \"/\", component: Home },\r\n  { name: \"global-view\", path: \"/project/global-view\", component: Main },\r\n  { name: \"project\", path: \"/project/\", component: Project },\r\n  {\r\n    name: \"property-view\",\r\n    path: \"/project/property-view\",\r\n    component: Properties,\r\n    props: true,\r\n  },\r\n  {\r\n    name: \"stakeholder-view\",\r\n    path: \"/project/stakeholder-view\",\r\n    component: Stakeholders,\r\n    props: true,\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n});\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n  showOverlay();\r\n  next();\r\n});\r\n\r\nrouter.afterEach(async (to, from) => {\r\n  if (to.path.startsWith(\"/project\")) {\r\n    const toProjectType = getProjectTypeFromRoute(to);\r\n    const fromProjectType = getProjectTypeFromRoute(from);\r\n    const toProjectId = getRouteTypeValue(to);\r\n    const fromProjectId = getRouteTypeValue(from);\r\n    const isSameProject =\r\n      toProjectType === fromProjectType && toProjectId === fromProjectId;\r\n    if (!isSameProject) {\r\n      await loadProject();\r\n    }\r\n  } else {\r\n    if (typeof to.meta?.title === 'string') {\r\n      setDocumentTitle(to.meta.title);\r\n    } else {\r\n      setDocumentTitle(\"My Choice\");\r\n    }    \r\n  }\r\n\r\n  hideOverlay();\r\n});\r\n\r\n// In Vue 3, there's no router.onReady. You can call loadProject after app is mounted.\r\nexport const loadProject = async () => {\r\n  const route = router.currentRoute.value;\r\n  if (\r\n    route.query[PROJECT_TYPE_ROUTES.ICO] ||\r\n    route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET] ||\r\n    route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD] ||\r\n    route.query[\"demo\"]\r\n  ) {\r\n    try {\r\n      await loadAll(route);\r\n    } catch (e) {\r\n      console.info(\"LOAD FAIL, RETRY WITHOUT CACHE!\");\r\n      clearProjectDataCacheFromRoute(route);\r\n      await loadAll(route);\r\n    }\r\n  }\r\n};\r\n\r\nexport default router;\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport router from \"@/router\";\r\nimport { computed } from \"vue\";\r\nimport { RouteLocationNormalized, LocationQuery, RouteRecordNameGeneric } from 'vue-router';\r\nimport { state } from \"@/store\";\r\n\r\nexport const pushRouteWithQuery = (routeParams: Partial<RouteLocationNormalized>) => {\r\n  const query = router.currentRoute.value.query || {};  // On rcupre les paramtres de requte actuels\r\n  \r\n  // Vrifie si routeParams contient un `name` ou un `path`\r\n  if (!routeParams.name && !routeParams.path) {\r\n    throw new Error('La route doit contenir un `name` ou un `path`');\r\n  }\r\n\r\n  // Construire l'objet pour router.push() en fonction des paramtres passs\r\n  const routeToPush: any = {\r\n    query: query,  // Ajoute les paramtres de requte\r\n    ...routeParams, // Ajoute les autres paramtres\r\n  };\r\n\r\n  // Si `routeParams` contient un `name`, on n'ajoute pas `path`\r\n  if (routeParams.name) {\r\n    delete routeToPush.path;  // Si `name` est dfini, on supprime `path` car ce n'est pas ncessaire\r\n  }\r\n  \r\n  // Si `routeParams` contient un `path`, on supprime `name`\r\n  if (routeParams.path) {\r\n    delete routeToPush.name;  // Si `path` est dfini, on supprime `name`\r\n  }\r\n\r\n  // Appel  router.push() avec l'objet corrig\r\n  router.push(routeToPush);\r\n};\r\n\r\nexport const switchToView = (routeName: RouteLocationNormalized[\"name\"]) => {\r\n  const route = {\r\n    name: routeName\r\n  };\r\n  router.push(route);\r\n};\r\n\r\nexport enum PROJECT_TYPE_ROUTES {\r\n  ICO = \"name\",\r\n  GOOGLE_SPREADSHEET = \"spreadsheet\",\r\n  XLSX = \"xlsx\",\r\n  NEXTCLOUD = \"nextcloud\"\r\n}\r\n\r\nexport const projectNameRouteQuery = PROJECT_TYPE_ROUTES.ICO;\r\nexport const spreadsheetIdRouteQuery = PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET;\r\nexport const xlsxFileRouteQuery = PROJECT_TYPE_ROUTES.XLSX;\r\nexport const nextcloudIdRouteQuery = PROJECT_TYPE_ROUTES.NEXTCLOUD;\r\n\r\nexport const getRouteProjectId = computed(() => {\r\n  return state.vm &&\r\n    state.vm.$route &&\r\n    state.vm.$route.query &&\r\n    (state.vm.$route.query.name || state.vm.$route.query.spreadsheet)\r\n    ? state.vm.$route.query.name || state.vm.$route.query.spreadsheet\r\n    : null;\r\n});\r\n","import { computed } from \"vue\";\r\nimport { uniqBy } from \"lodash\";\r\nimport { state } from \"./state\";\r\n\r\nexport const notifications = computed(() => {\r\n  return uniqBy(state.notifications, \"message\");\r\n});\r\n\r\nexport const getErrors = () => {\r\n  const acc: string[] = [];\r\n  Object.entries(state.errors).forEach(([key, value]) => {\r\n    if (value !== false) {\r\n      return acc.push(key);\r\n    }\r\n  });\r\n  return acc;\r\n};\r\n\r\nexport const getErrorMessage = (errorName: string) => {\r\n  return state.errorMessages[errorName] || state.errors[errorName];\r\n};\r\n\r\nexport const clearError = (errorName: string) => {\r\n  state.errors[errorName] = false;\r\n};\r\nexport const clearErrors = () => {\r\n  Object.keys(state.errors).forEach((error) => {\r\n    state.errors[error] = false;\r\n  });\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport dayjs from \"dayjs\";\r\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\r\nimport { state } from \"./state\";\r\ndayjs.extend(customParseFormat);\r\n\r\nexport class MyChoiceError extends Error {\r\n  constructor(name: string, ...args: any) {\r\n    super(...args);\r\n    // this.name = this.constructor.name;\r\n    this.name = name;\r\n    //@ts-ignore\r\n    if (typeof Error.captureStackTrace === \"function\") {\r\n      //@ts-ignore\r\n      Error.captureStackTrace(this, this.constructor);\r\n    } else {\r\n      this.stack = new Error(this.message).stack;\r\n    }\r\n  }\r\n}\r\n\r\n// class GoodError extends Error {\r\n//   constructor(...args) {\r\n//       super(...args)\r\n//       Error.captureStackTrace(this, GoodError)\r\n//   }\r\n// }\r\n\r\nexport const setError = (errorName: string, errorValue: boolean | string) => {\r\n  // state.errors[errorName] = errorValue;\r\n  (state.errors as any)[errorName] = errorValue;\r\n};\r\n\r\nexport const formatDate = (date: string) => {\r\n  return dayjs(date, \"DD/MM/YY\").format(\"MMMM YYYY\");\r\n};\r\n\r\nexport const getRange = function (value: number, min: number, max: number) {\r\n  let range = (value - min) / (max - min);\r\n  if (!isFinite(range)) {\r\n    range = value;\r\n  }\r\n  return range;\r\n};\r\n\r\nexport const orderByPropName = <T extends {}>(list: T[], propName: keyof T) => {\r\n  return list.sort((a, b) => (a[propName] > b[propName] ? 1 : -1));\r\n};\r\n\r\n//@ts-ignore\r\nexport const sortObject = (o) => {\r\n  return (\r\n    Object.keys(o)\r\n      .sort()\r\n      //@ts-ignore\r\n      .reduce((r, k) => ((r[k] = o[k]), r), {})\r\n  );\r\n};\r\n\r\nexport const pluralize = function (\r\n  str: string,\r\n  object: {\r\n    [key: string]: string | number;\r\n  },\r\n  suffix = \"s\"\r\n) {\r\n  //let formatted = this;\r\n  //const entries = Object.entries(object);\r\n  let formatted = str;\r\n  const regex = /{([^:}]+)(?:(?::)([^}]+))?}/g;\r\n  let match;\r\n\r\n  while ((match = regex.exec(str)) !== null) {\r\n    // This is necessary to avoid infinite loops with zero-width match\r\n    if (match.index === regex.lastIndex) {\r\n      regex.lastIndex++;\r\n    }\r\n\r\n    if (match[2] === undefined) {\r\n      const regex = new RegExp(\"\\\\{\" + match[1] + \"\\\\}\", \"g\");\r\n      formatted = formatted.replace(regex, `${object[match[1]]}`);\r\n    }\r\n    if (match[2] !== undefined) {\r\n      const wordToPluralize = match[1];\r\n      const linkedVar = match[2];\r\n      const value = object[linkedVar];\r\n\r\n      const regex = new RegExp(\r\n        \"\\\\{\" + wordToPluralize + \":\" + linkedVar + \"\\\\}\",\r\n        \"g\"\r\n      );\r\n      if (Number(value) > 1 && object.plural) {\r\n        formatted = formatted.replace(regex, `${object.plural}`);\r\n      } else {\r\n        formatted = formatted.replace(\r\n          regex,\r\n          `${wordToPluralize}${Number(value) > 1 ? suffix : \"\"}`\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  // entries.forEach(([key, value]) => {\r\n  //   entries.forEach(([countKey, countValue]) => {\r\n  //     //const regexp = new RegExp(\"\\\\{\" + key + \":\" + countKey + \"\\\\}\", \"gi\");\r\n\r\n  //     formatted = formatted.replace(\r\n  //       regexp,\r\n  //       `${countValue}${countValue !== 1 ? suffix : \"\"}`\r\n  //     );\r\n  //   });\r\n  //   const regexp2 = new RegExp(\"\\\\{\" + key + \"\\\\}\", \"gi\");\r\n  //   formatted = formatted.replace(regexp2, value);\r\n  // });\r\n\r\n  return formatted;\r\n};\r\n\r\nexport const setDocumentTitle = (title: string) => {\r\n  document.title = title;\r\n};\r\n\r\n/* const pluralize = (count, noun, suffix = \"s\") =>\r\n    `${count} ${noun}${count !== 1 ? suffix : \"\"}`;\r\n  \r\n  \"The {0} is dead. Don't code {0}. Code {1} that is open source!\".format(\r\n    \"ASP\",\r\n    \"PHP\"\r\n  );\r\n   */\r\n","import { Data } from \"@/@types\";\r\n\r\nimport { computed } from \"vue\";\r\n\r\nimport { merge, omit } from \"lodash\";\r\nimport type { RouteLocationNormalized } from \"vue-router\";\r\nimport { getRouteTypeValue, PROJECT_TYPE_ROUTES, state } from \".\";\r\n\r\nexport enum ProjectGroupNames {\r\n  ICO = \"ico\",\r\n  GOOGLE_SPREADSHEET = \"googlespreadsheet\",\r\n  NEXTCLOUD = \"nextcloud\",\r\n  XLSX = \"xlsx\",\r\n}\r\n\r\nexport type LocalStorageCacheProjectItem = {\r\n  name?: string;\r\n  id: string;\r\n  date: number;\r\n  data: Data;\r\n  type?: keyof LocalStorageCache[\"projects\"];\r\n};\r\n\r\nexport type LocalStorageCacheProjectGroup = {\r\n  [id: string]: LocalStorageCacheProjectItem;\r\n};\r\n\r\nexport type LocalStorageCache = {\r\n  projects: {\r\n    [ProjectGroupNames.ICO]: LocalStorageCacheProjectGroup;\r\n    [ProjectGroupNames.GOOGLE_SPREADSHEET]: LocalStorageCacheProjectGroup;\r\n    [ProjectGroupNames.NEXTCLOUD]: LocalStorageCacheProjectGroup;\r\n    [ProjectGroupNames.XLSX]: LocalStorageCacheProjectGroup;\r\n  };\r\n};\r\n\r\nexport const initialCacheState: LocalStorageCache = {\r\n  projects: {\r\n    [ProjectGroupNames.ICO]: {},\r\n    [ProjectGroupNames.GOOGLE_SPREADSHEET]: {},\r\n    [ProjectGroupNames.NEXTCLOUD]: {},\r\n    [ProjectGroupNames.XLSX]: {},\r\n  },\r\n};\r\n\r\nexport const LOCAL_STORAGE_CACHE_KEY = \"MYCHOICE_CACHE\";\r\n\r\nexport const getLocalStorageCache = () => {\r\n  return (JSON.parse(localStorage.getItem(LOCAL_STORAGE_CACHE_KEY)) ||\r\n    initialCacheState) as LocalStorageCache;\r\n};\r\nexport const getProjectsCache = () => getLocalStorageCache()[\"projects\"];\r\n\r\nexport const getProjectFromCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  id: string\r\n) => {\r\n  return Object.values(getProjectsCache()[type]).find((project) => {\r\n    return project.id === id;\r\n  });\r\n};\r\n\r\nexport const setLocalStorageCache = (data: LocalStorageCache) => {\r\n  localStorage.setItem(LOCAL_STORAGE_CACHE_KEY, JSON.stringify(data));\r\n};\r\n\r\nexport const updateLocalStorageCache = (toMerge: any) => {\r\n  const currentCache = getLocalStorageCache();\r\n\r\n  //   const updatedCache = { ...currentCache, ...toMerge };\r\n  const mergedCache = merge(currentCache, toMerge);\r\n  setLocalStorageCache(mergedCache);\r\n};\r\nexport const removeFromLocalStorageCache = (path: string) => {\r\n  const cache = getLocalStorageCache();\r\n\r\n  const updatedCache = omit(cache, path);\r\n\r\n  setLocalStorageCache(updatedCache as LocalStorageCache);\r\n};\r\nexport const updateProjectCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  projectItem: Partial<LocalStorageCacheProjectItem> &\r\n    Pick<LocalStorageCacheProjectItem, \"id\">\r\n) => {\r\n  updateLocalStorageCache({\r\n    projects: { [type]: { [projectItem.id]: projectItem } },\r\n  });\r\n};\r\n\r\nexport const saveProjectToCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  projectItem: Partial<LocalStorageCacheProjectItem> &\r\n    Pick<LocalStorageCacheProjectItem, \"id\" | \"data\">\r\n) => {\r\n  updateProjectCache(type, projectItem);\r\n};\r\n\r\nexport const getRecentProjectsByTypeFromCache = (\r\n  type: keyof LocalStorageCache[\"projects\"]\r\n) => {\r\n  return getProjectsCache()[type];\r\n};\r\n\r\nexport const getAsFlattenProjects = (\r\n  projects: LocalStorageCache[\"projects\"]\r\n) => {\r\n  const recentProjects = {} as LocalStorageCacheProjectGroup;\r\n  Object.entries(projects)\r\n    // Limited for RESTRICTED version\r\n    .filter(\r\n      ([typeId]) =>\r\n        typeId !== ProjectGroupNames.GOOGLE_SPREADSHEET &&\r\n        typeId !== ProjectGroupNames.NEXTCLOUD\r\n    )\r\n    .forEach(([typeId, items]) => {\r\n      Object.entries(items).forEach(([itemId, itemValue]) => {\r\n        const itemFullId = getProjectFullId(\r\n          typeId as keyof LocalStorageCache[\"projects\"],\r\n          itemId\r\n        );\r\n        recentProjects[itemFullId] = {\r\n          ...itemValue,\r\n          type: typeId as keyof LocalStorageCache[\"projects\"],\r\n        };\r\n      });\r\n    });\r\n  return recentProjects;\r\n};\r\n\r\nexport const recentProjects = computed(() => state.recentProjects);\r\nexport const hasRecentProjects = computed(() =>\r\n  Object.keys(recentProjects.value).length ? true : false\r\n);\r\n\r\nexport const setRecentProjectsState = () => {\r\n  state.recentProjects = getProjectsSortedByDate(getProjectsCache());\r\n};\r\n\r\nexport const getProjectsSortedByDate = (\r\n  projects: LocalStorageCache[\"projects\"]\r\n) => {\r\n  const merge = getAsFlattenProjects(projects);\r\n  const recentProjects = Object.keys(merge)\r\n    .sort((a, b) => {\r\n      return merge[b].date - merge[a].date;\r\n    })\r\n    .reduce((prev: LocalStorageCacheProjectGroup, value, i) => {\r\n      prev[i] = merge[value];\r\n      return prev;\r\n    }, {});\r\n\r\n  const recentProjectsArray = Object.entries(recentProjects).map(\r\n    ([key, value]) => {\r\n      return value;\r\n    }\r\n  );\r\n\r\n  return recentProjectsArray;\r\n};\r\n\r\nexport const saveToRecentProjects = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  { name, id }: Partial<LocalStorageCacheProjectItem>\r\n) => {\r\n  if (id === undefined) {\r\n    return;\r\n  }\r\n  const isProjectInCache = Object.keys(\r\n    getRecentProjectsByTypeFromCache(type)\r\n  ).includes(id);\r\n  if (!isProjectInCache) {\r\n    updateProjectCache(type, {\r\n      name,\r\n      id,\r\n      date: Date.now(),\r\n      type,\r\n    });\r\n  } else {\r\n    if (name) {\r\n      updateProjectCache(type, { name, id });\r\n    }\r\n    updateProjectCache(type, { date: Date.now(), id, type });\r\n  }\r\n  setRecentProjectsState();\r\n};\r\n\r\nexport const getProjectFullId = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  id: LocalStorageCacheProjectItem[\"id\"]\r\n) => `${type}-${id}`;\r\n\r\nexport const removeFromRecentProjects = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  { id }: Pick<LocalStorageCacheProjectItem, \"id\">\r\n) => {\r\n  // const fullId = getProjectFullId(type, id);\r\n  const isProjectExist = state.recentProjects.some(\r\n    (project: LocalStorageCacheProjectItem) =>\r\n      project.type === type && project.id === id\r\n  );\r\n  \r\n\r\n  if (isProjectExist) {\r\n    removeProjectFromCache(type, id);\r\n    setRecentProjectsState();\r\n  }\r\n};\r\n\r\nexport const removeProjectFromCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  id: string\r\n) => {\r\n  removeFromLocalStorageCache(`projects.${type}.${id}`);\r\n};\r\nexport const removeProjectDataFromCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  id: string\r\n) => {\r\n  removeFromLocalStorageCache(`projects.${type}.${id}.data`);\r\n};\r\n\r\nexport const clearProjectDataCacheFromRoute = (route: RouteLocationNormalized) => {\r\n  if (route.query[PROJECT_TYPE_ROUTES.ICO]) {\r\n    // clearIcoItemFromCache(\r\n    //   router.currentRoute.query[projectNameRouteQuery] as string\r\n    // );\r\n    removeProjectDataFromCache(\r\n      ProjectGroupNames.ICO,\r\n      route.query[PROJECT_TYPE_ROUTES.ICO] as string\r\n    );\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET]) {\r\n    // clearSpreadsheetItemFromCache(\r\n    //   router.currentRoute.query[spreadsheetIdRouteQuery] as string\r\n    // );\r\n\r\n    removeProjectDataFromCache(\r\n      ProjectGroupNames.GOOGLE_SPREADSHEET,\r\n      route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET] as string\r\n    );\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD]) {\r\n    removeProjectDataFromCache(\r\n      ProjectGroupNames.NEXTCLOUD,\r\n      route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD] as string\r\n    );\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.XLSX]) {\r\n    removeProjectDataFromCache(\r\n      ProjectGroupNames.XLSX,\r\n      route.query[PROJECT_TYPE_ROUTES.XLSX] as string\r\n    );\r\n  }\r\n};\r\n\r\nexport const isProjectCached = (route: RouteLocationNormalized) => {\r\n  return getProjectDataCacheFromRoute(route) ? true : false;\r\n};\r\n\r\nexport const getProjectCacheFromRoute = (route: RouteLocationNormalized) => {\r\n  const id = getRouteTypeValue(route);\r\n  if (route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET]) {\r\n    return getProjectFromCache(ProjectGroupNames.GOOGLE_SPREADSHEET, id);\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.ICO]) {\r\n    return getProjectFromCache(ProjectGroupNames.ICO, id);\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD]) {\r\n    return getProjectFromCache(ProjectGroupNames.NEXTCLOUD, id);\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.XLSX]) {\r\n    return getProjectFromCache(ProjectGroupNames.XLSX, id);\r\n  }\r\n};\r\n\r\nexport const setProjectCache = (route: RouteLocationNormalized, data: Data) => {\r\n  const id = getRouteTypeValue(route);\r\n  if (route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET]) {\r\n    saveProjectToCache(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n      id,\r\n      data,\r\n    });\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.ICO]) {\r\n    saveProjectToCache(ProjectGroupNames.ICO, {\r\n      id,\r\n      data,\r\n    });\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD]) {\r\n    saveProjectToCache(ProjectGroupNames.NEXTCLOUD, {\r\n      id,\r\n      data,\r\n    });\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.XLSX]) {\r\n    saveProjectToCache(ProjectGroupNames.XLSX, {\r\n      id,\r\n      data,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProjectDataCacheFromRoute = (route: RouteLocationNormalized) => {\r\n  const { data } = getProjectCacheFromRoute(route);\r\n  return data;\r\n};\r\n\r\n// export const isSpreadsheetCached = (spreadsheetId: string) => {\r\n//   return getSpreadsheetProjectDataFromCache(spreadsheetId) ? true : false;\r\n//   // return localStorage.getItem(\"spreadsheet-\" + spreadsheetId) !== null\r\n//   //   ? true\r\n//   //   : false;\r\n// };\r\n// export const isIcoProjectCached = (projectName: string) => {\r\n//   return getIcoProjectDataFromCache(projectName) ? true : false;\r\n// };\r\n\r\n// export const getIcoProjectFromCache = (projectName: string) => {\r\n//   return getProjectFromCache(ProjectGroupNames.ICO, projectName);\r\n//   // return JSON.parse(localStorage.getItem(\"ico-\" + projectName));\r\n// };\r\n// export const getIcoProjectDataFromCache = (projectName: string) => {\r\n//   const { data } = getIcoProjectFromCache(projectName);\r\n//   return data;\r\n// };\r\n// export const getSpreadsheetProjectFromCache = (spreadsheetId: string) => {\r\n//   return getProjectFromCache(\r\n//     ProjectGroupNames.GOOGLE_SPREADSHEET,\r\n//     spreadsheetId\r\n//   );\r\n//   // return JSON.parse(localStorage.getItem(\"spreadsheet-\" + spreadsheetId));\r\n// };\r\n// export const getSpreadsheetProjectDataFromCache = (spreadsheetId: string) => {\r\n//   const { data } = getSpreadsheetProjectFromCache(spreadsheetId);\r\n//   return data;\r\n// };\r\n\r\n// export const setIcoProjectToCache = (projectName: string, data: Data) => {\r\n//   saveProjectToCache(ProjectGroupNames.ICO, {\r\n//     id: projectName,\r\n//     data,\r\n//   });\r\n//   // localStorage.setItem(\"ico-\" + projectName, JSON.stringify(data));\r\n// };\r\n// export const setSpreadsheetProjectToCache = (\r\n//   spreadsheetId: string,\r\n//   data: Data\r\n// ) => {\r\n//   // localStorage.setItem(\"spreadsheet-\" + spreadsheetId, JSON.stringify(data));\r\n//   saveProjectToCache(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n//     id: spreadsheetId,\r\n//     data,\r\n//   });\r\n// };\r\n\r\nexport const removeFromRecentProjectNames = (name: string) => {\r\n  // if (localStorage.recentProjectNames) {\r\n  //   state.recentProjectNames = JSON.parse(localStorage.recentProjectNames);\r\n  // }\r\n  if (state.recentProjectNames[name]) {\r\n    delete state.recentProjectNames[name];\r\n    localStorage.recentProjectNames = JSON.stringify(state.recentProjectNames);\r\n  }\r\n};\r\n\r\nexport const removeFromRecentProjectSpreadsheets = (spreadsheetId: string) => {\r\n  // if (localStorage.recentProjectSpreadsheets) {\r\n  //   state.recentProjectSpreadsheets = JSON.parse(\r\n  //     localStorage.recentProjectSpreadsheets\r\n  //   );\r\n  // }\r\n  // if (state.recentProjectSpreadsheets[spreadsheetId]) {\r\n  //   delete state.recentProjectSpreadsheets[spreadsheetId];\r\n  //   localStorage.recentProjectSpreadsheets = JSON.stringify(\r\n  //     state.recentProjectSpreadsheets\r\n  //   );\r\n  // }\r\n\r\n  removeFromRecentProjects(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n    id: spreadsheetId,\r\n  });\r\n};\r\n\r\nexport const clearLocalStorage = function () {\r\n  return localStorage.clear();\r\n};\r\n\r\n// export type RecentProjectNamesArray = []{}\r\n\r\n// export const recentProjectsNames = computed(() => {\r\n//   const cache = getLocalStorageCache();\r\n//   return Object.entries(cache).reduce((acc, [key, items]) => {\r\n//     const [itemId, itemValue] = Object.entries(items);\r\n//     acc.push({ [`${key}-${itemId}`]: itemValue });\r\n//   }, []);\r\n// });\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { forEach, values } from \"lodash\";\r\nimport {\r\n  Argument,\r\n  Project,\r\n  Alternative,\r\n  expertiseEntity,\r\n  SourceTypeEntity,\r\n} from \"./@types\";\r\nimport { MyChoiceError, setError } from \"./store/utils\";\r\n\r\nconst gsheets = require(\"gsheets\");\r\n\r\nconst KEY = \"1R0UaXut1IWLe4KKk9M5Nu7NHmE7SzajBWT1povyhIUE\";\r\n\r\n// a: \"/Show\"\r\n// aim: \"Consuming a balanced diet\"\r\n// alternative: \"Plant-based diet\"\r\n// assertion: \"B12 deficiency in vegetal proteins\"\r\n// b: \"/Hide\"\r\n// confidenceLevel: null\r\n// cons: \"/Show\"\r\n// criterion: \"Nutrition and health\"\r\n// date: 43002\r\n// explanation: \"B12 deficiency in vegetal proteins\"\r\n// hasCoverage: 0.92\r\n// idArgument: 1\r\n// infValue: null\r\n// isProspective: 0\r\n// pro: \"/Hide\"\r\n// proCon: \"-\"\r\n// project.nameProject: \"VITAMIN\"\r\n// propertyName: \"Vitamin B12\"\r\n// propertyValue: \"deficient\"\r\n// source: \"Canard Enchain - 144 - Juillet 2017\"\r\n// sourceType: \"Newspaper\"\r\n// stakeholder: \"Journalist\"\r\n// supValue: null\r\n// unit: null\r\n\r\nexport type GSheetsData = {\r\n  title: string;\r\n  updated: string;\r\n  worksheets: {\r\n    [key: string]: unknown;\r\n  }[];\r\n};\r\n\r\nexport type SpreadsheetWorksheet = {\r\n  data: {\r\n    [key: string]: any;\r\n  }[];\r\n  title: string;\r\n  updated?: string;\r\n  index: number;\r\n};\r\n\r\nexport const getSpreadsheet = async (spreadsheetId: string) => {\r\n  const response = await fetch(\r\n    `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}?key=${process.env.VUE_APP_GSHEETS_API_KEY}`\r\n  );\r\n  const result = await response.json();\r\n\r\n  return result as {\r\n    sheets: {\r\n      properties: {\r\n        sheetId: number;\r\n        title: string;\r\n        index: number;\r\n        sheetType: \"GRID\";\r\n        gridProperties: {\r\n          rowCount: number;\r\n          columnCount: number;\r\n          frozenRowCount: number;\r\n        };\r\n      };\r\n    }[];\r\n  };\r\n};\r\n\r\nexport const fetchSpreadsheetWorksheets = async (\r\n  id: string\r\n): Promise<SpreadsheetWorksheet[]> => {\r\n  // eslint-disable-next-line no-useless-catch\r\n  try {\r\n    const json = await getSpreadsheet(id);\r\n    const worksheets = json.sheets;\r\n\r\n    const promises: Promise<SpreadsheetWorksheet>[] = [];\r\n\r\n    const refs = {} as { [key: number]: string };\r\n\r\n    worksheets.forEach((worksheet) => {\r\n      refs[worksheet.properties.index] = worksheet.properties.title;\r\n      promises.push(\r\n        gsheets.getWorksheet(\r\n          id,\r\n          worksheet.properties.title,\r\n          process.env.VUE_APP_GSHEETS_API_KEY\r\n        )\r\n      );\r\n    });\r\n\r\n    const response = await Promise.all(promises);\r\n    // console.log(response, \"RESPONSE\");\r\n    return response.map(({ data }, index) => ({\r\n      data,\r\n      title: refs[index],\r\n      index,\r\n    }));\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\n// export interface SpreadsheetArgument {\r\n//   idArgument: number;\r\n//   assertion: string;\r\n//   explanation: string;\r\n//   date: string;\r\n//   \"stakeholder.nameStakeholder\": string;\r\n//   \"property.nameProperty\": string;\r\n//   \"qualvalue.qualValue\": string;\r\n//   typeProCon: string;\r\n//   \"alternative.nameAlternative\": string;\r\n//   \"criterion.nameCriterion\": string;\r\n//   \"source.nameSource\": string;\r\n//   \"aim.description\": string;\r\n//   \"typesource.nameTypeSource\": string;\r\n//   isProspective: string;\r\n// }\r\n\r\nexport interface SpreadsheetArgument {\r\n  idArgument: number;\r\n  assertion: string;\r\n  explanation: string;\r\n  date: string;\r\n  nameStakeHolder: string;\r\n  nameProperty: string;\r\n  value: string;\r\n  typeProCon: string;\r\n  nameAlternative: string;\r\n  nameCriterion: string;\r\n  nameSource: string;\r\n  aim: string;\r\n  nameTypeSource: string;\r\n  isProspective: string;\r\n  condition?: string;\r\n}\r\n\r\nexport type SpreadsheetProject = {\r\n  nameProject: string;\r\n  description: string;\r\n  image: string;\r\n};\r\nexport type SpreadsheetAlternative = {\r\n  nameAlternative: string;\r\n  description: string;\r\n  imageAlternative: string;\r\n  iconAlternative: string;\r\n};\r\nexport type SpreadsheetExpertise = {\r\n  nameStakeHolder: string;\r\n  nameCriterion: string;\r\n};\r\nexport type SpreadsheetSourceType = {\r\n  nameTypeSource: string;\r\n  fiability: number;\r\n};\r\n\r\nexport const hasExpectedProperties = <T>(obj: T, props: string[]) => {\r\n  return new Promise((resolve, reject) => {\r\n    let lastTestedProp = null;\r\n    const hasAll = props.every((prop) => {\r\n      lastTestedProp = prop;\r\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n        return true;\r\n      } else {\r\n        // console.log(\"reject\");\r\n        return false;\r\n        // return false;\r\n      }\r\n    });\r\n    if (hasAll) {\r\n      resolve(true);\r\n    } else {\r\n      reject(lastTestedProp);\r\n    }\r\n  });\r\n};\r\n\r\n// export const isValidSpreadsheetArgumentItem = <T>(obj: T) => {\r\n//   const props = [\r\n//     \"idArgument\",\r\n//     \"assertion\",\r\n//     \"explanation\",\r\n//     \"date\",\r\n//     \"nameStakeHolder\",\r\n//     \"nameProperty\",\r\n//     \"value\",\r\n//     \"typeProCon\",\r\n//     \"nameAlternative\",\r\n//     \"nameCriterion\",\r\n//     \"nameSource\",\r\n//     \"aim\",\r\n//     \"nameTypeSource\",\r\n//     \"isProspective\"\r\n//   ];\r\n\r\n//   return hasExpectedProperties(obj, props).then(\r\n//     result => result,\r\n//     prop => {\r\n//       throw new MyChoiceError(\r\n//         \"SPREADSHEET_ERROR\",\r\n//         `This column name is missing or misspelled in \"argument\" worksheet: <b>${prop}</b>`\r\n//       );\r\n//     }\r\n//   );\r\n// };\r\n\r\n// export const isValidProjectWorksheetItem = <T>(obj: T) => {\r\n//   const props = [\"nameProject\"];\r\n\r\n//   return hasExpectedProperties(obj, props).then(\r\n//     result => result,\r\n//     prop => {\r\n//       throw new MyChoiceError(\r\n//         \"SPREADSHEET_ERROR\",\r\n//         `This column name is missing or misspelled in \"project\" worksheet: <b>${prop}</b>`\r\n//       );\r\n//     }\r\n//   );\r\n// };\r\n\r\nexport const isValidWorkSheet = async (worksheet: SpreadsheetWorksheet) => {\r\n  const worksheetsExpectedProps = {\r\n    argument: [\r\n      \"idArgument\",\r\n      \"assertion\",\r\n      \"explanation\",\r\n      \"date\",\r\n      \"nameStakeHolder\",\r\n      \"nameProperty\",\r\n      \"value\",\r\n      \"typeProCon\",\r\n      \"nameAlternative\",\r\n      \"nameCriterion\",\r\n      \"nameSource\",\r\n      \"aim\",\r\n      \"nameTypeSource\",\r\n      \"isProspective\",\r\n    ],\r\n    project: [\"nameProject\"],\r\n    alternative: [\"nameAlternative\", \"iconAlternative\"],\r\n  };\r\n\r\n  //@ts-ignore\r\n  const props = worksheetsExpectedProps[worksheet.title];\r\n  const firstWorksheetItem = worksheet.data[0];\r\n\r\n  if (firstWorksheetItem) {\r\n    // console.log(firstWorksheetItem, \"FIRST\");\r\n    return await hasExpectedProperties(firstWorksheetItem, props).then(\r\n      (result) => result,\r\n      (prop) => {\r\n        throw new MyChoiceError(\r\n          \"SPREADSHEET_ERROR\",\r\n          `On <b>${worksheet.title}</b> sheet, the <b>${prop}</b> column is missing or misspelled`\r\n        );\r\n      }\r\n    );\r\n  } else {\r\n    setError(\r\n      \"SPREADSHEET_ERROR\",\r\n      `No data found in the <b>${worksheet.title}</b> sheet`\r\n    );\r\n  }\r\n};\r\n\r\nexport const checkEmptyArguments = <T extends SpreadsheetWorksheet[\"data\"][0]>({\r\n  spreadsheetId,\r\n  item,\r\n  worksheet,\r\n  line,\r\n  keys,\r\n}: {\r\n  spreadsheetId?: string;\r\n  item: T;\r\n  worksheet: SpreadsheetWorksheet;\r\n  line: number;\r\n  keys: (keyof T)[];\r\n}) => {\r\n  keys.forEach((key, index) => {\r\n    if (item[key] === null) {\r\n      // const alphabet = \"abcdefghijklmnopqrstuvwxyz\".toUpperCase().split(\"\");\r\n      // const letter = alphabet[index];\r\n\r\n      // const url = `https://docs.google.com/spreadsheets/d/${spreadsheetId}/edit#gid=${gid}&range=${letter}${line}`;\r\n      // const url = `https://docs.google.com/spreadsheets/d/${spreadsheetId}/edit`;\r\n\r\n      throw new MyChoiceError(\r\n        \"SPREADSHEET_ERROR\",\r\n        // `On <b>${worksheet.title}</b> sheet, the <b>${key}</b> on <a href=\"${url}\" target=\"_blank\">line <b>${line}</b></a> is empty and must be filled`\r\n        `On <b>${worksheet.title}</b> sheet, the <b>${String(key)}</b> on line <b>${line}</b> is empty and must be filled`\r\n      );\r\n    }\r\n  });\r\n};\r\n\r\nexport const checkUniqueAimsHasUniqueCriterions = (\r\n  items: SpreadsheetArgument[]\r\n) => {\r\n  const aims: { [key: string]: string[] } = {};\r\n\r\n  items.forEach((item) => {\r\n    if (aims[item.aim]) {\r\n      if (!aims[item.aim].includes(item.nameCriterion)) {\r\n        aims[item.aim].push(item.nameCriterion);\r\n      }\r\n    } else {\r\n      aims[item.aim] = [item.nameCriterion];\r\n    }\r\n  });\r\n\r\n  Object.entries(aims).forEach(([key, value]) => {\r\n    if (value.length > 1) {\r\n      setError(\r\n        \"SPREADSHEET_ERROR_\" + key,\r\n        `The <b>${key}</b> aim should be associated with only one criterion, but has been found in ${\r\n          value.length\r\n        } criteria : <b>${value.join(\"</b>, <b>\")}</b>`\r\n      );\r\n      // throw new MyChoiceError(\r\n      //   \"SPREADSHEET_ERROR\",\r\n      //   // `On <b>${worksheet.title}</b> sheet, the <b>${key}</b> on <a href=\"${url}\" target=\"_blank\">line <b>${line}</b></a> is empty and must be filled`\r\n      //   `The <b>${key}</b> aim should be associated with only one criterion, but has been found in ${\r\n      //     value.length\r\n      //   } criteria : <b>${value.join(\"</b>, <b>\")}</b>`\r\n      // );\r\n    }\r\n  });\r\n};\r\n\r\nexport const getRenamedSpreadsheetItems = async (\r\n  worksheets: SpreadsheetWorksheet[],\r\n  spreadsheetId?: string\r\n) => {\r\n  const argumentWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"argument\"\r\n  );\r\n\r\n  const rawSpreadsheetItems = worksheets[argumentWorksheet.index]!\r\n    .data as SpreadsheetArgument[];\r\n  const spreadsheetItems = rawSpreadsheetItems.map((item) => {\r\n    return Object.keys(item).reduce(function (result, key) {\r\n      try {\r\n        //@ts-ignore\r\n        result[key] = JSON.parse(item[key]);\r\n      } catch (e) {\r\n        //@ts-ignore\r\n        result[key] = item[key];\r\n      }\r\n      return result;\r\n    }, {} as SpreadsheetArgument);\r\n  });\r\n\r\n  try {\r\n    // await isValidSpreadsheetArgumentItem(spreadsheetItems[0]);\r\n    await isValidWorkSheet(argumentWorksheet);\r\n    checkUniqueAimsHasUniqueCriterions(spreadsheetItems);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n\r\n  return spreadsheetItems.map((item, index) => {\r\n    // if (!isValidSpreadsheetArgumentItem(item)) {\r\n    //   return;\r\n    // }\r\n    const line = index + 2; // start at 1 + header\r\n\r\n    if (item.typeProCon !== \"-\" && item.typeProCon !== \"+\") {\r\n      throw new MyChoiceError(\r\n        \"SPREADSHEET_ERROR\",\r\n        `On <b>${argumentWorksheet.title}</b> sheet, the <b>typeProCon</b> on line <b>${line}</b> is <b>${item.typeProCon}</b> and should be <b>-</b> or <b>+</b> `\r\n      );\r\n    }\r\n\r\n    checkEmptyArguments({\r\n      spreadsheetId,\r\n      item,\r\n      worksheet: argumentWorksheet,\r\n      line,\r\n      keys: [\r\n        // \"date\",\r\n        \"nameSource\",\r\n        \"idArgument\",\r\n        \"nameProperty\",\r\n        \"value\",\r\n        \"nameStakeHolder\",\r\n        \"nameAlternative\",\r\n        \"nameCriterion\",\r\n        \"aim\",\r\n        \"nameTypeSource\",\r\n      ] as (keyof SpreadsheetArgument)[],\r\n    });\r\n\r\n    const renamedItem = {\r\n      id: item.idArgument,\r\n      stakeholder: item[\"nameStakeHolder\"],\r\n      property: item[\"nameProperty\"],\r\n      favorable: item.typeProCon === \"+\" ? true : false,\r\n      alternative: item[\"nameAlternative\"],\r\n      criterion: item[\"nameCriterion\"],\r\n      source: item[\"nameSource\"],\r\n      sourceType: item[\"nameTypeSource\"],\r\n      value: item[\"value\"],\r\n      aim: item[\"aim\"],\r\n      date: item[\"date\"] ? item[\"date\"].toString() : null,\r\n    };\r\n\r\n    delete item.idArgument;\r\n    delete item[\"nameStakeHolder\"];\r\n    delete item[\"nameProperty\"];\r\n    delete item.typeProCon;\r\n    delete item[\"nameAlternative\"];\r\n    delete item[\"nameCriterion\"];\r\n    delete item[\"nameSource\"];\r\n    delete item[\"nameTypeSource\"];\r\n    delete item[\"value\"];\r\n    delete item[\"aim\"];\r\n    return <Argument>{\r\n      ...item,\r\n      ...renamedItem,\r\n    };\r\n  });\r\n};\r\n\r\nexport const getRenamedSpreadsheetProject = async (\r\n  worksheets: SpreadsheetWorksheet[]\r\n) => {\r\n  const projectWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"project\"\r\n  );\r\n\r\n  // const projectItems = projectWorksheet!.data;\r\n\r\n  try {\r\n    await isValidWorkSheet(projectWorksheet);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n\r\n  const spreadsheetProject = projectWorksheet!.data[0] as SpreadsheetProject;\r\n\r\n  const alternativeWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"alternative\"\r\n  );\r\n\r\n  try {\r\n    await isValidWorkSheet(alternativeWorksheet);\r\n\r\n    alternativeWorksheet.data.forEach((item, index) => {\r\n      const line = index + 2;\r\n      if (item.iconAlternative === null) {\r\n        throw new MyChoiceError(\r\n          \"SPREADSHEET_ERROR\",\r\n          `On <b>${alternativeWorksheet.title}</b> sheet, the <b>iconAlternative</b> on line <b>${line}</b> is <b>empty</b> and should be a valid icon name`\r\n        );\r\n      }\r\n    });\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n\r\n  const spreadsheetAlternatives = alternativeWorksheet!\r\n    .data as SpreadsheetAlternative[];\r\n\r\n  const renamedAlternatives: Alternative[] = spreadsheetAlternatives.map(\r\n    (k) => ({\r\n      name: k.nameAlternative,\r\n      description: k.description,\r\n      image: k.imageAlternative,\r\n      icon: k.iconAlternative,\r\n    })\r\n  );\r\n\r\n  const expertiseWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"hasexpertise\"\r\n  );\r\n  const spreadsheetExpertises = expertiseWorksheet!\r\n    .data as SpreadsheetExpertise[];\r\n\r\n  const renamedExpertiseEntities: expertiseEntity[] = spreadsheetExpertises.map(\r\n    (k) => ({\r\n      nameStakeHolder: k[\"nameStakeHolder\"],\r\n      nameCriterion: k[\"nameCriterion\"],\r\n    })\r\n  );\r\n\r\n  const sourceTypeWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"typesource\"\r\n  );\r\n  const spreadsheetSourceType = sourceTypeWorksheet!\r\n    .data as SpreadsheetSourceType[];\r\n\r\n  const renamedSourceTypeEntities: SourceTypeEntity[] =\r\n    spreadsheetSourceType.map((k) => ({\r\n      fiability: k.fiability.toString(),\r\n      nameTypeSource: k.nameTypeSource,\r\n    }));\r\n\r\n  const renamedProject: Project = {\r\n    name: spreadsheetProject.nameProject,\r\n    image: spreadsheetProject.image,\r\n    description: spreadsheetProject.description,\r\n    alternatives: renamedAlternatives,\r\n    expertiseEntities: renamedExpertiseEntities,\r\n    sourceTypeEntities: renamedSourceTypeEntities,\r\n  };\r\n\r\n  return renamedProject;\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"./state\";\r\nimport {\r\n  fetchSpreadsheetWorksheets,\r\n  getRenamedSpreadsheetItems,\r\n  getRenamedSpreadsheetProject,\r\n} from \"../data-spreadsheet\";\r\nimport { Argument, Data, Project } from \"@/@types\";\r\n\r\nexport const setSpreadsheet = (id: string) => {};\r\n\r\nexport const getSpreadsheetData = async (id: string) => {\r\n  try {\r\n    const worksheets = await fetchSpreadsheetWorksheets(id);\r\n\r\n    const renamedSpreadsheetItems = await getRenamedSpreadsheetItems(\r\n      worksheets,\r\n      id\r\n    );\r\n\r\n    const renamedProject = await getRenamedSpreadsheetProject(worksheets);\r\n\r\n    return {\r\n      items: renamedSpreadsheetItems,\r\n      project: renamedProject,\r\n    } as Data;\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\n// export const exportToMultipleCSV = async (id: string) => {\r\n//   const worksheets = await fetchSpreadsheetWorksheets(id);\r\n\r\n//   const zip = new JSZip();\r\n\r\n//   worksheets.forEach(worksheet => {\r\n//     const data = worksheet.data;\r\n//     const CSV = getCSVFromJSON(data);\r\n//     const filename = worksheet.title + \".csv\";\r\n//     const blob = getAsCSVBlob(CSV);\r\n//     zip.file(filename, blob);\r\n//   });\r\n//   zip.generateAsync({ type: \"blob\" }).then(function(content) {\r\n//     // see FileSaver.js\r\n//     saveAs(content, state.project.name + \".zip\");\r\n//   });\r\n// };\r\n\r\nexport const getSpreadsheetIdFromUrl = (url: string) => {\r\n  const matches = new RegExp(\"/spreadsheets/d/([a-zA-Z0-9-_]+)\").exec(url);\r\n  if (matches) {\r\n    const spreadsheetId = matches![1];\r\n    return spreadsheetId;\r\n  } else {\r\n    return url;\r\n  }\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { findKey } from \"lodash\";\r\nimport {\r\n  IcoProject,\r\n  Project,\r\n  IcoArguments,\r\n  Argument,\r\n  Data,\r\n  IcoArgument,\r\n} from \"./@types\";\r\nimport { SpreadsheetArgument } from \"./data-spreadsheet\";\r\n\r\nexport const getIcoRenamedProject = (\r\n  sourceProject: IcoProject\r\n): Data[\"project\"] => {\r\n  const item = sourceProject;\r\n  const renamedItem: Omit<Project, \"description\" | \"image\"> = {\r\n    stakeholders: item.nameStakeholder,\r\n    name: item.nameProject,\r\n    aims: item.aim,\r\n    criterions: item.nameCriterion,\r\n    alternatives: item.alternatives.map((alternative) => {\r\n      const renamedAlternative = {\r\n        name: alternative.nameAlternative,\r\n        image: alternative.imageAlternative,\r\n        icon: alternative.iconAlternative,\r\n      };\r\n      delete alternative.nameAlternative;\r\n      return {\r\n        ...alternative,\r\n        ...renamedAlternative,\r\n      };\r\n    }),\r\n    sourceTypeEntities: item.typeSource,\r\n    expertiseEntities: item.hasExpertise,\r\n  };\r\n  delete item.typeSource;\r\n  delete item.hasExpertise;\r\n  delete item.nameStakeholder;\r\n  delete item.aim;\r\n  delete item.nameProject;\r\n  delete item.nameCriterion;\r\n  return {\r\n    ...item,\r\n    ...renamedItem,\r\n  };\r\n};\r\n\r\nexport const getIcoRenamedItems = (\r\n  sourceArguments: IcoArguments\r\n): Data[\"items\"] => {\r\n  return sourceArguments.map((item) => {\r\n    const renamedItem = {\r\n      id: item.idArgument,\r\n      stakeholder: item.nameStakeHolder,\r\n      property: item.nameProperty,\r\n      favorable: item.typeProCon,\r\n      alternative: item.nameAlternative,\r\n      criterion: item.nameCriterion,\r\n      source: item.nameSource,\r\n      sourceType: item.nameTypeSource,\r\n    };\r\n    delete item.idArgument;\r\n    delete item.nameStakeHolder;\r\n    delete item.nameProperty;\r\n    delete item.typeProCon;\r\n    delete item.nameAlternative;\r\n    delete item.nameCriterion;\r\n    delete item.nameSource;\r\n    delete item.nameTypeSource;\r\n\r\n    // console.log(renamedItem, \"renamedItem\");\r\n    return <Argument>{\r\n      ...item,\r\n      ...renamedItem,\r\n    };\r\n  });\r\n};\r\n\r\nexport interface CSVArgument {\r\n  idArgument: number;\r\n  assertion: string;\r\n  explanation: string;\r\n  date: string;\r\n  \"stakeholder.nameStakeholder\": string;\r\n  \"property.nameProperty\": string;\r\n  \"qualvalue.qualValue\": string;\r\n  typeProCon: string;\r\n  \"alternative.nameAlternative\": string;\r\n  \"criterion.nameCriterion\": string;\r\n  \"source.nameSource\": string;\r\n  \"aim.description\": string;\r\n  \"typesource.nameTypeSource\": string;\r\n  isProspective: string;\r\n  infValue?: unknown;\r\n  supValue?: unknown;\r\n  unit?: unknown;\r\n  hasCoverage?: unknown;\r\n  confidenceLevel?: unknown;\r\n  condition?: string;\r\n}\r\n\r\nexport type EquivalentSources = \"csv\" | \"server\" | \"spreadsheet\";\r\n\r\nexport const getEquivalentTable = () => {\r\n  const appArgument: Argument = null;\r\n  const serverArgument: IcoArgument = null;\r\n  const spreadsheetArgument: SpreadsheetArgument = null;\r\n\r\n  const equivalentTable: {\r\n    [K in keyof Argument]: {\r\n      csv: keyof CSVArgument;\r\n      server: keyof IcoArgument;\r\n      spreadsheet: keyof SpreadsheetArgument;\r\n    };\r\n  } = {\r\n    id: {\r\n      csv: \"idArgument\",\r\n      server: \"idArgument\",\r\n      spreadsheet: \"idArgument\",\r\n    },\r\n    aim: {\r\n      csv: \"aim.description\",\r\n      server: \"aim\",\r\n      spreadsheet: \"aim\",\r\n    },\r\n    alternative: {\r\n      csv: \"alternative.nameAlternative\",\r\n      server: \"nameAlternative\",\r\n      spreadsheet: \"nameAlternative\",\r\n    },\r\n    assertion: {\r\n      csv: \"assertion\",\r\n      server: \"assertion\",\r\n      spreadsheet: \"assertion\",\r\n    },\r\n    criterion: {\r\n      csv: \"criterion.nameCriterion\",\r\n      server: \"nameCriterion\",\r\n      spreadsheet: \"nameCriterion\",\r\n    },\r\n    date: {\r\n      csv: \"date\",\r\n      server: \"date\",\r\n      spreadsheet: \"date\",\r\n    },\r\n    explanation: {\r\n      csv: \"explanation\",\r\n      server: \"explanation\",\r\n      spreadsheet: \"explanation\",\r\n    },\r\n    favorable: {\r\n      csv: \"typeProCon\",\r\n      server: \"typeProCon\",\r\n      spreadsheet: \"typeProCon\",\r\n    },\r\n    isProspective: {\r\n      csv: \"isProspective\",\r\n      server: \"isProspective\",\r\n      spreadsheet: \"isProspective\",\r\n    },\r\n    property: {\r\n      csv: \"property.nameProperty\",\r\n      server: \"nameProperty\",\r\n      spreadsheet: \"nameProperty\",\r\n    },\r\n    source: {\r\n      csv: \"source.nameSource\",\r\n      server: \"nameSource\",\r\n      spreadsheet: \"nameSource\",\r\n    },\r\n    sourceType: {\r\n      csv: \"typesource.nameTypeSource\",\r\n      server: \"nameTypeSource\",\r\n      spreadsheet: \"nameTypeSource\",\r\n    },\r\n    stakeholder: {\r\n      csv: \"stakeholder.nameStakeholder\",\r\n      server: \"nameStakeHolder\",\r\n      spreadsheet: \"nameStakeHolder\",\r\n    },\r\n    value: {\r\n      csv: \"qualvalue.qualValue\",\r\n      server: \"value\",\r\n      spreadsheet: \"value\",\r\n    },\r\n    condition: {\r\n      csv: \"condition\",\r\n      server: \"condition\",\r\n      spreadsheet: \"condition\",\r\n    },\r\n  };\r\n\r\n  return equivalentTable;\r\n};\r\n\r\nexport const getEquivalentAppPropFromSource = (\r\n  source: EquivalentSources,\r\n  property: keyof CSVArgument | keyof IcoArgument | keyof SpreadsheetArgument\r\n) => {\r\n  return findKey(getEquivalentTable(), function (k) {\r\n    return k[source] === property;\r\n  }) as keyof Argument;\r\n};\r\n\r\nexport const getEquivalentSourcePropFromApp = (\r\n  source: EquivalentSources,\r\n  property: keyof Argument\r\n) => {\r\n  const equivalent =\r\n    getEquivalentTable()[property] && getEquivalentTable()[property][source];\r\n  return equivalent ? equivalent : null;\r\n};\r\n\r\nexport const getRenamedItemPropFromTo = (\r\n  from: EquivalentSources,\r\n  to: EquivalentSources,\r\n  property: keyof CSVArgument | keyof IcoArgument | keyof SpreadsheetArgument\r\n) => {\r\n  const appProperty = getEquivalentAppPropFromSource(from, property);\r\n  const toProperty = getEquivalentSourcePropFromApp(to, appProperty);\r\n\r\n  return toProperty ? toProperty : null;\r\n};\r\n\r\nexport const getRenamedItemsFromSpreadsheetToCSV = (\r\n  spreadsheetItems: SpreadsheetArgument[]\r\n): CSVArgument[] => {\r\n  return spreadsheetItems.map((item) => {\r\n    const renamedItem = {};\r\n    Object.entries(item).forEach(([k, v]) => {\r\n      //@ts-ignore\r\n      const renamedProp = getRenamedItemPropFromTo(\"spreadsheet\", \"csv\", k);\r\n      if (renamedProp) {\r\n        //@ts-ignore\r\n        renamedItem[renamedProp] = v;\r\n      }\r\n    });\r\n    return renamedItem as CSVArgument;\r\n  });\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { uniq, uniqBy, sortBy, groupBy, flatten } from \"lodash\";\r\nimport {\r\n  Arguments,\r\n  Argument,\r\n  NormalizedArgument,\r\n  Alternative,\r\n  NormalizedObject,\r\n  NormalizedData,\r\n  SourceTypeEntity,\r\n  expertiseEntity,\r\n  Project\r\n} from \"@/@types\";\r\nimport { MyChoiceError } from \"./store/utils\";\r\nimport { SpreadsheetArgument } from \"./data-spreadsheet\";\r\n\r\n// const getUniqueValues = (data: Arguments, propertyName: T) => {\r\n//   const allValues: Array<K> = data.map(argument => {\r\n//     return argument.criterion;\r\n//   });\r\n//   const values: Array<K> = uniq(allValues);\r\n//   return values;\r\n// }\r\n\r\nexport const getPropertyUniqueValues = <\r\n  D extends Arguments,\r\n  P extends keyof Argument\r\n>(\r\n  data: D,\r\n  prop: P\r\n) => {\r\n  const allValues = data.map(argument => {\r\n    return argument[prop];\r\n  });\r\n  const values = uniq(allValues);\r\n  return values;\r\n};\r\n\r\n// export const getLabels = <D extends Arguments>(data: D) => {\r\n//   const allLabels = data.map(argument => {\r\n//     return `${argument[\"property\"]}:${argument[\"value\"]}`;\r\n//   });\r\n//   const labels = uniq(allLabels);\r\n//   return labels;\r\n// };\r\n\r\nexport const getCriterions = (data: Arguments) => {\r\n  const criterions = getPropertyUniqueValues(data, \"criterion\");\r\n  return criterions;\r\n};\r\n\r\n// export const getAims = (data: Arguments) => {\r\n//   const aims = getPropertyUniqueValues(data, \"aim\");\r\n\r\n//   return aims;\r\n// };\r\n\r\nexport const getAimsWithParentCriterion = (\r\n  data: Arguments,\r\n  criterions: NormalizedObject\r\n) => {\r\n  const allAimsTuples = data.map(argument => {\r\n    return [argument[\"aim\"], argument[\"criterion\"]];\r\n  });\r\n  const aimsTuples = sortBy(\r\n    uniqBy(allAimsTuples, joinTuple),\r\n    ([aim, criterion]) => {\r\n      return aim;\r\n    }\r\n  );\r\n  const object: NormalizedObject & {\r\n    [id: number]: { criterion?: number };\r\n  } = {};\r\n  aimsTuples.forEach((tuple, index) => {\r\n    const aimId = tuple[0];\r\n    const criterionId = getIdFrom(criterions, tuple[1], \"nameCriterion\");\r\n    index++;\r\n    object[index] = { id: index, name: aimId, criterion: criterionId };\r\n  });\r\n  return object;\r\n};\r\n\r\nexport const getStakeholders = (data: Arguments) => {\r\n  const stakeholders = getPropertyUniqueValues(data, \"stakeholder\");\r\n  return stakeholders;\r\n};\r\n\r\nexport const getProperties = (data: Arguments) => {\r\n  const properties = getPropertyUniqueValues(data, \"property\");\r\n  return properties;\r\n};\r\n\r\nexport const getValues = (data: Arguments) => {\r\n  const values = getPropertyUniqueValues(data, \"value\");\r\n  return values;\r\n};\r\n\r\nexport const joinTuple = <T>(array: T[]) => {\r\n  return array.join(\":\");\r\n};\r\n\r\nexport const getPropertyValueTuples = (data: Arguments) => {\r\n  const allPropertyValueTuples = data.map(argument => {\r\n    return [argument[\"property\"], argument[\"value\"]];\r\n  });\r\n  const propertyValueTuples = uniqBy(allPropertyValueTuples, joinTuple);\r\n  return propertyValueTuples;\r\n};\r\n\r\nexport const getAlternatives = (data: Arguments) => {\r\n  const alternatives = getPropertyUniqueValues(data, \"alternative\");\r\n  return alternatives;\r\n};\r\n\r\n// export const getAlternativesAsObject = (\r\n//   data: Arguments\r\n// ): Array<Omit<Alternative, \"description\">> => {\r\n//   const alternatives = getPropertyUniqueValues(data, \"alternative\");\r\n\r\n//   return alternatives.map(name => {\r\n//     return {\r\n//       name: name\r\n//     };\r\n//   });\r\n// };\r\n\r\nexport const getFavorableValues = (data: Arguments) => {\r\n  const favorables = getPropertyUniqueValues(data, \"favorable\");\r\n  return favorables;\r\n};\r\n\r\nexport const normalizeArray = <T extends keyof Argument>(\r\n  array: Array<Extract<string, Argument[T]>>\r\n) => {\r\n  const object: NormalizedObject = {};\r\n  array.forEach((name, index) => {\r\n    index++;\r\n    object[index] = { id: index, name };\r\n  });\r\n  return object;\r\n};\r\n\r\nexport const normalizeAlternatives = (array: Alternative[]) => {\r\n  const object: NormalizedData[\"alternatives\"] = {};\r\n  array.forEach((alternative, index) => {\r\n    index++;\r\n    object[index] = {\r\n      id: index,\r\n      ...alternative,\r\n      icon:\r\n        \"mdi-\" +\r\n          alternative.icon\r\n            .replace(/\\.[^/.]+$/, \"\")\r\n            .split(/(\\\\|\\/)/g)\r\n            .pop() || \"\"\r\n    };\r\n  });\r\n  return object;\r\n};\r\n\r\n// export const normalizeCriterions = (\r\n//   criterions: Array<Argument['criterion']>\r\n// ) => {\r\n//   return normalizeArray(criterions);\r\n// };\r\n\r\n// export const normalizeAims = (aims: Array<Argument['aim']>) => {\r\n//   return normalizeArray(aims);\r\n// };\r\n\r\n// export const normalizeAlternatives = (\r\n//   alternatives: Array<Argument['alternative']>\r\n// ) => {\r\n//   return normalizeArray(alternatives);\r\n// };\r\n\r\nconst getIdFrom = <T extends keyof Argument>(\r\n  object: NormalizedObject,\r\n  property: Argument[T],\r\n  name?: keyof SpreadsheetArgument\r\n) => {\r\n  // console.log(object, \"object\");\r\n  // console.log(property, \"property\");\r\n  const result = Object.values(object).find(item => item.name === property);\r\n\r\n  try {\r\n    return result!.id;\r\n  } catch (e) {\r\n    throw new MyChoiceError(\r\n      \"SPREADSHEET_ERROR\",\r\n      `Cannot find <b>${property}</b> in ${\r\n        name === \"nameAlternative\" ? `alternatives` : `<b>${name}</b>`\r\n      }`\r\n    );\r\n  }\r\n};\r\n\r\nexport const parseItems = <\r\n  T extends {\r\n    [id: string]: NormalizedObject;\r\n  }\r\n>(\r\n  data: Arguments,\r\n  { criterions, aims, alternatives, stakeholders }: T\r\n): NormalizedArgument[] => {\r\n  return data.map(item => {\r\n    // console.log(item, \"item\");\r\n    // console.log(item.alternative, \" alternative\");\r\n    return {\r\n      ...item,\r\n      subOption:\r\n        JSON.parse(item.favorable.toString().toLowerCase()) === true ? 1 : 2, // not sure if it's a good practice...\r\n      criterion: getIdFrom(criterions, item.criterion, \"nameCriterion\"),\r\n      stakeholder: getIdFrom(stakeholders, item.stakeholder, \"nameStakeHolder\"),\r\n      aim: getIdFrom(aims, item.aim, \"aim\"),\r\n      alternative: getIdFrom(alternatives, item.alternative, \"nameAlternative\"),\r\n      isProspective: Number(item.isProspective) === 1 ? true : false\r\n    };\r\n  });\r\n};\r\n\r\nexport const getNormalizedSubsets = (data: Arguments, project: Project) => {\r\n  const criterions = getCriterions(data);\r\n  const stakeholders = getStakeholders(data);\r\n  //const alternatives = getAlternatives(data);\r\n  const alternatives = project.alternatives;\r\n\r\n  const normalizedCriterions = normalizeArray(criterions.sort());\r\n  const normalizedAlternatives = normalizeAlternatives(alternatives);\r\n  const normalizedStakeholders = normalizeArray(stakeholders.sort());\r\n  const normalizedAims = getAimsWithParentCriterion(data, normalizedCriterions);\r\n\r\n  const normalizedItems = parseItems(data, {\r\n    criterions: normalizedCriterions,\r\n    aims: normalizedAims,\r\n    alternatives: normalizedAlternatives,\r\n    stakeholders: normalizedStakeholders\r\n  });\r\n\r\n  return {\r\n    criterions: normalizedCriterions,\r\n    alternatives: normalizedAlternatives,\r\n    stakeholders: normalizedStakeholders,\r\n    aims: normalizedAims,\r\n    items: normalizedItems\r\n  };\r\n};\r\n\r\nexport const getNormalizedData = (\r\n  data: Arguments,\r\n  project: Project\r\n): NormalizedData => {\r\n  // const properties = getProperties(data);\r\n  // const values = getValues(data);\r\n\r\n  const propertyValueTuples = getPropertyValueTuples(data);\r\n  const properties = getProperties(data);\r\n\r\n  const {\r\n    criterions,\r\n    alternatives,\r\n    stakeholders,\r\n    aims,\r\n    items\r\n  } = getNormalizedSubsets(data, project);\r\n\r\n  const normalizedData = {\r\n    criterions,\r\n    alternatives,\r\n    stakeholders,\r\n    labels: propertyValueTuples,\r\n    properties,\r\n    aims,\r\n    items,\r\n    subOptions: {\r\n      1: { id: 1, name: \"\" },\r\n      2: { id: 2, name: \"\" }\r\n    }\r\n  };\r\n\r\n  /* console.log(normalizedData, \"DATA\"); */\r\n\r\n  return normalizedData;\r\n};\r\n\r\nexport const getInterplayItems = function(items: Argument[]) {\r\n  const propertyGroups = groupBy(items, \"property\");\r\n\r\n  const propertyGroupsWithMultipleAims = Object.values(propertyGroups).filter(\r\n    groupItems => {\r\n      const aimGroups = groupBy(groupItems, \"aim\");\r\n\r\n      if (Object.keys(aimGroups).length > 1) {\r\n        return groupItems;\r\n      }\r\n    }\r\n  );\r\n\r\n  const interplayItems = flatten(propertyGroupsWithMultipleAims);\r\n\r\n  return interplayItems;\r\n};\r\n\r\nexport const getMultiStakholderItems = function(items: Argument[]) {\r\n  const aimGroups = groupBy(items, \"aim\");\r\n\r\n  const aimGroupsWithMultipleStakeholders = Object.values(aimGroups).filter(\r\n    groupItems => {\r\n      const stakeholderGroups = groupBy(groupItems, \"stakeholder\");\r\n\r\n      if (Object.keys(stakeholderGroups).length > 1) {\r\n        return groupItems;\r\n      }\r\n    }\r\n  );\r\n\r\n  const multiStakeholderItems = flatten(aimGroupsWithMultipleStakeholders);\r\n\r\n  return multiStakeholderItems;\r\n};\r\n\r\nexport const filterDataAsExpertise = (\r\n  expertiseEntities: expertiseEntity[],\r\n  data: Arguments\r\n) => {\r\n  const expertiseArguments = data.filter(item => {\r\n    return expertiseEntities.some(\r\n      entity =>\r\n        entity.nameCriterion === item.criterion &&\r\n        entity.nameStakeHolder === item.stakeholder\r\n    );\r\n  });\r\n\r\n  return expertiseArguments;\r\n};\r\n\r\nexport const filterDataAsReliability = (\r\n  typeSource: SourceTypeEntity[],\r\n  data: Arguments\r\n) => {\r\n  typeSource;\r\n\r\n  const prospectiveArguments = data.filter(item => {\r\n    return typeSource.some(\r\n      source =>\r\n        source.nameTypeSource === item.sourceType &&\r\n        Number(source.fiability) === (1 || 2)\r\n    );\r\n  });\r\n\r\n  return prospectiveArguments;\r\n};\r\n\r\nexport const filterDataAsProspective = (data: Arguments) => {\r\n  const prospectiveArguments = data.filter(\r\n    item => Number(item.isProspective) === 1\r\n  );\r\n\r\n  return prospectiveArguments;\r\n};\r\n\r\n// DEPRECETATED (to remove)\r\nexport const filterNormalizedDataAsProspective = (\r\n  normalizedData: NormalizedData\r\n) => {\r\n  const prospectiveItems = normalizedData.items.filter(\r\n    item => item.isProspective === true\r\n  );\r\n\r\n  const prospectiveData = {\r\n    ...normalizedData,\r\n    items: prospectiveItems\r\n  };\r\n\r\n  return prospectiveData;\r\n};\r\n\r\nexport const filterDataAsInterplay = (data: Arguments) => {\r\n  const interplayItems = getInterplayItems(data);\r\n\r\n  return interplayItems;\r\n};\r\n\r\nexport const filterDataAsMultiStakeholder = (data: Arguments) => {\r\n  const multiStakeholderItems = getMultiStakholderItems(data);\r\n\r\n  return multiStakeholderItems;\r\n};\r\n\r\n// DEPRECETATED (to remove)\r\nexport const filterNormalizedDataAsInterplay = (\r\n  normalizedData: NormalizedData\r\n) => {\r\n  const itemsProps = {\r\n    criterions: \"criterion\",\r\n    aims: \"aim\",\r\n    stakeholders: \"stakeholder\"\r\n  };\r\n  // const props = <Array<keyof NormalizedArgument>>[\r\n  //   \"criterion\",\r\n  //   \"aim\",\r\n  //   \"stakeholder\"\r\n  // ];\r\n\r\n  const interplayData = normalizedData;\r\n  //@ts-ignore\r\n  interplayData.items = getInterplayItems(normalizedData.items);\r\n\r\n  Object.entries(normalizedData).forEach(([key, normalizedObject]) => {\r\n    if (Object.keys(itemsProps).includes(key)) {\r\n      //@ts-ignore\r\n      const itemPropName = itemsProps[key];\r\n      const interplayNormalizedObject = Object.keys(normalizedObject)\r\n        .map(key => Number(key))\r\n        .filter(id => {\r\n          return normalizedData.items.some(item => {\r\n            //@ts-ignore\r\n            return item[itemPropName] === id;\r\n          });\r\n        })\r\n        .reduce((filteredNormalizedObject: NormalizedObject, id: number) => {\r\n          filteredNormalizedObject[id] = normalizedObject[id];\r\n          return filteredNormalizedObject;\r\n        }, {});\r\n      //@ts-ignore\r\n      interplayData[key] = interplayNormalizedObject;\r\n    }\r\n  });\r\n\r\n  return interplayData;\r\n};\r\n\r\n// export const normalizeFavorables = (\r\n//   favorables: Array<Argument['favorable']>\r\n// ) => {\r\n\r\n//   return normalizeArray(favorables);\r\n// };\r\n\r\nconst test = {\r\n  criterions: {\r\n    1: { id: 1, name: \"Nutrition and health\t\" },\r\n    2: { id: 2, name: \"Economic\" }\r\n  },\r\n  aims: {\r\n    1: { id: 1, name: \"Consuming a balanced diet\", category: 1 },\r\n    2: { id: 2, name: \"Enabling proper digestion\", category: 1 },\r\n    3: { id: 3, name: \"Rationalizing the ratio protein/price\", category: 2 }\r\n  },\r\n  alternatives: {\r\n    1: { id: 1, name: \"Plant-based diet\" },\r\n    2: { id: 2, name: \"Animal-based diet\" }\r\n  },\r\n  subOptions: {\r\n    \":)\": { id: \":)\", name: \"\" },\r\n    \":(\": { id: \":(\", name: \"\" }\r\n  }\r\n};\r\n","//@ts-ignore\r\nimport { Data } from \"@/@types/data-renamed\";\r\nimport {\r\n  getRenamedSpreadsheetItems,\r\n  getRenamedSpreadsheetProject,\r\n  SpreadsheetWorksheet,\r\n} from \"@/data-spreadsheet\";\r\nimport router from \"@/router\";\r\n//@ts-ignore\r\nimport xlsxParser from \"xlsx-parse-json\";\r\nimport { loadAll } from \"./fetch\";\r\nimport { setData } from \"./project\";\r\nimport { computed } from \"vue\";\r\nimport { nextcloudIdRouteQuery, state } from \".\";\r\nimport type { RouteLocationNormalized } from \"vue-router\";\r\n\r\nexport const isValidNextcloudUrl = computed(() => {\r\n  return state.fields.nextcloudUrl;\r\n\r\n  // state.fields.nextcloudUrl.startsWith(\r\n  //   process.env.VUE_APP_NEXTCLOUD_URL\r\n  // );\r\n});\r\n\r\nexport const getNextcloudDownloadUrlFromId = (nextcloudId: string) => {\r\n  return `${process.env.VUE_APP_NEXTCLOUD_URL}${nextcloudId}/download`;\r\n};\r\n\r\nexport const getNextcloudFileFromUrl = async (url: string) => {\r\n  const downloadUrl = url;\r\n\r\n  const response = await fetch(downloadUrl);\r\n  const blob = await response.blob();\r\n\r\n  const nextcloudId = getNextcloudIdFromUrl(url);\r\n  const file = new File([blob], nextcloudId);\r\n  return file;\r\n};\r\n\r\nexport const getNextcloudDataFromUrl = async (url: string) => {\r\n  try {\r\n    const file = await getNextcloudFileFromUrl(url);\r\n\r\n    const data = await geXlsxData(file);\r\n    return data;\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const getNextcloudIdFromUrl = (url: string) => {\r\n  const matches = new RegExp(\r\n    `${process.env.VUE_APP_NEXTCLOUD_URL}([a-zA-Z0-9-_]+)`\r\n  ).exec(url);\r\n  if (matches) {\r\n    const nextcloudId = matches![1];\r\n    return nextcloudId;\r\n  } else {\r\n    return url;\r\n  }\r\n};\r\n\r\nexport const setDataFromXlsxFile = async (file: File, clear?: boolean) => {\r\n  try {\r\n    const data = await geXlsxData(file);\r\n    setData(data.items, data.project, clear);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const openXlsxFromFile = async (file: File, clear?: boolean) => {\r\n  await setDataFromXlsxFile(file, clear);\r\n};\r\n\r\nexport const getJsonFromXlsx = async (file: File) => {\r\n  const JSON = await xlsxParser.onFileSelection(file);\r\n  return JSON;\r\n};\r\n\r\nexport const getXlsxWorksheets = async (file: File) => {\r\n  const json = await getJsonFromXlsx(file);\r\n  const worksheets = Object.entries(json).map(([key, value], index) => {\r\n    return { title: key, data: value, index } as SpreadsheetWorksheet;\r\n  });\r\n\r\n  return worksheets;\r\n};\r\n\r\nexport const geXlsxData = async (file: File) => {\r\n  try {\r\n    const worksheets = await getXlsxWorksheets(file);\r\n    const renamedSpreadsheetItems = await getRenamedSpreadsheetItems(\r\n      worksheets\r\n    );\r\n\r\n    const renamedProject = await getRenamedSpreadsheetProject(worksheets);\r\n\r\n    return {\r\n      items: renamedSpreadsheetItems,\r\n      project: renamedProject,\r\n    } as Data;\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport {\r\n  spreadsheetIdRouteQuery,\r\n  projectNameRouteQuery,\r\n  nextcloudIdRouteQuery,\r\n} from \"./routes\";\r\nimport { fetchIcoData, fetchIcoProject, loadAll } from \"./fetch\";\r\nimport router from \"@/router\";\r\nimport type { RouteLocationNormalized } from \"vue-router\";\r\nimport { getSpreadsheetIdFromUrl } from \"./spreadsheet\";\r\n\r\nimport { getIcoRenamedItems, getIcoRenamedProject } from \"@/data-renamed\";\r\nimport {\r\n  getNormalizedData,\r\n  filterDataAsProspective,\r\n  filterDataAsInterplay,\r\n  filterDataAsReliability,\r\n  filterDataAsExpertise,\r\n  filterDataAsMultiStakeholder,\r\n} from \"@/data-parser\";\r\nimport {\r\n  clearAppDialogs,\r\n  state,\r\n  clearAll,\r\n  clearAppDataAndProject,\r\n  clearErrors,\r\n} from \"@/store\";\r\n\r\nimport { Data } from \"@/@types\";\r\n// import Vue from \"vue\";\r\nimport { getNextcloudIdFromUrl } from \"./xlsx\";\r\n\r\nexport const openSpreadsheet = async (spreadsheetUrl: string) => {\r\n  const spreadsheetId = getSpreadsheetIdFromUrl(spreadsheetUrl);\r\n  const routeParams: Pick<RouteLocationNormalized, \"query\" | \"name\" | \"path\"> = {\r\n    query: {\r\n      [spreadsheetIdRouteQuery]: spreadsheetId,\r\n    },\r\n    name: \"project\",\r\n    path: \"/project\",\r\n  };\r\n  // routeParams.query[spreadsheetIdRouteQuery] = spreadsheetId;\r\n  const route = router.resolve(routeParams);\r\n  await router.push(route);\r\n  // try {\r\n  await loadAll(route);\r\n  // } catch (e) {\r\n  //   // if (e.name !== \"NavigationDuplicated\") {\r\n  //   //   state.errors.FAILED_TO_FETCH_SPREADSHEET = true;\r\n  //   // }\r\n  // }\r\n};\r\n\r\nexport const openIco = async (projectName: string) => {\r\n  const routeParams: Pick<RouteLocationNormalized, \"query\" | \"name\"> = {\r\n    query: {\r\n      [projectNameRouteQuery]: projectName,\r\n    },\r\n    name: \"project\",\r\n  };\r\n  // routeParams.query[projectNameRouteQuery] = projectName;\r\n  const route = router.resolve(routeParams);\r\n  await router.push(route);\r\n  // try {\r\n  await loadAll(route);\r\n  // } catch (e) {\r\n  // console.error(e);\r\n  // state.errors.FAILED_TO_FETCH_ICO = true;\r\n  // throw e;\r\n  // }\r\n};\r\n\r\nexport const openNextcloudUrl = async (url: string) => {\r\n  const nextcloudId = getNextcloudIdFromUrl(url);\r\n  const routeParams: Pick<RouteLocationNormalized, \"query\" | \"name\" | \"path\"> = {\r\n    query: {\r\n      [nextcloudIdRouteQuery]: nextcloudId,\r\n    },\r\n    name: \"project\",\r\n    path: \"/project\",\r\n  };\r\n  // routeParams.query[nextcloudIdRouteQuery] = nextcloudId;\r\n  const route = router.resolve(routeParams);\r\n  await router.push(routeParams);\r\n  // try {\r\n  await loadAll(route);\r\n};\r\n\r\n// export const getRecentProjects = () => {\r\n//   // const merge = {\r\n//   //   ...state.recentProjectNames,\r\n//   //   ...state.recentProjectSpreadsheets\r\n//   // };\r\n\r\n//   const merge = getRecentProjectsFromCache();\r\n\r\n//   const recentProjects = Object.keys(merge)\r\n//     .sort((a, b) => {\r\n//       return merge[b].date - merge[a].date;\r\n//     })\r\n//     .reduce((prev: { [key: string]: {} }, curr, i) => {\r\n//       prev[i] = merge[curr];\r\n//       return prev;\r\n//     }, {});\r\n\r\n//   const recentProjectsArray = Object.entries(recentProjects).map(\r\n//     ([key, value]) => {\r\n//       return value;\r\n//     }\r\n//   );\r\n\r\n//   return recentProjectsArray;\r\n// };\r\n\r\nexport const getIcoData = async (icoId: string) => {\r\n  const [project, items] = await Promise.all([\r\n    await getIcoProjectData(icoId),\r\n    await getIcoItemsData(icoId),\r\n  ]);\r\n  const data = { project, items };\r\n  return data;\r\n};\r\n\r\nexport const getIcoProjectData = async (icoId: string) => {\r\n  try {\r\n    let project = null;\r\n    // if (localStorage.project) {\r\n    //   project = JSON.parse(localStorage.project);\r\n    // } else {\r\n\r\n    const projectSource = await fetchIcoProject(icoId);\r\n    project = getIcoRenamedProject(projectSource);\r\n    //localStorage.project = JSON.stringify(project);\r\n    //}\r\n    //state.project = project;\r\n    return Promise.resolve(project);\r\n    //console.info(state.project, \"Project source\");\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const getIcoItemsData = async (icoId: string) => {\r\n  try {\r\n    let data = null;\r\n    // if (localStorage.data) {\r\n    //   data = JSON.parse(localStorage.data);\r\n    // } else {\r\n    const dataSource = await fetchIcoData(icoId);\r\n\r\n    data = getIcoRenamedItems(dataSource);\r\n    //localStorage.data = JSON.stringify(data);\r\n    //}\r\n    return Promise.resolve(data);\r\n    //const project = renamedProject(projectSource);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const setData = (\r\n  rawItems: Data[\"items\"],\r\n  rawProject: Data[\"project\"],\r\n  clear?: boolean\r\n) => {\r\n  // console.log(clear, \"CLEAR ?\");\r\n  if (clear !== false) {\r\n    clearAll();\r\n  } else {\r\n    clearAppDialogs();\r\n    clearAppDataAndProject();\r\n  }\r\n  clearErrors();\r\n\r\n  try {\r\n    let parsedData;\r\n\r\n    if (state.mode === \"interplay\") {\r\n      //const normalizedData = getNormalizedData(data);\r\n      //const interplayData = filterNormalizedDataAsInterplay(normalizedData);\r\n      const interplayData = filterDataAsInterplay(rawItems);\r\n      const normalizedInterplayData = getNormalizedData(\r\n        interplayData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedInterplayData);\r\n    } else if (state.mode === \"prospective\") {\r\n      const prospectiveData = filterDataAsProspective(rawItems);\r\n      const normalizedProspectiveData = getNormalizedData(\r\n        prospectiveData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedProspectiveData);\r\n    } else if (state.mode === \"data-reliability\") {\r\n      const reliabilityData = filterDataAsReliability(\r\n        rawProject.sourceTypeEntities,\r\n        rawItems\r\n      );\r\n      const normalizedReliabilityData = getNormalizedData(\r\n        reliabilityData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedReliabilityData);\r\n    } else if (state.mode === \"expertise\") {\r\n      const expertiseData = filterDataAsExpertise(\r\n        rawProject.expertiseEntities,\r\n        rawItems\r\n      );\r\n      const normalizedExpertiseData = getNormalizedData(\r\n        expertiseData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedExpertiseData);\r\n    } else if (state.mode === \"multi-stakeholder\") {\r\n      const multiStakeholderData = filterDataAsMultiStakeholder(rawItems);\r\n      const normalizedMultiStakeholderData = getNormalizedData(\r\n        multiStakeholderData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedMultiStakeholderData);\r\n    } else {\r\n      const normalizedData = getNormalizedData(rawItems, rawProject);\r\n      parsedData = Object.freeze(normalizedData);\r\n    }\r\n    // state.data = parsedData;\r\n    // state.project = rawProject;\r\n    state.data = parsedData;\r\n    state.project = rawProject;\r\n    // console.log(state, \"STATE\");\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n  //state.filteredItems = parsedData.items;\r\n \r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport {\r\n  getSpreadsheetData,\r\n  setError,\r\n  MyChoiceError,\r\n  getNextcloudDownloadUrlFromId,\r\n  getNextcloudDataFromUrl,\r\n  openXlsxFromFile,\r\n  dropFileInputRef\r\n} from \"@/store\";\r\nimport { PROJECT_TYPE_ROUTES } from \"./routes\";\r\nimport {\r\n  setData,\r\n  getIcoItemsData,\r\n  getIcoProjectData,\r\n  getIcoData,\r\n} from \"./project\";\r\nimport { state, getProjectName, showOverlay, hideOverlay } from \"./state\";\r\nimport dataJson from \"../../public/data.json\";\r\nimport projectJson from \"../../public/project.json\";\r\n\r\nimport {\r\n  getProjectDataCacheFromRoute,\r\n  isProjectCached,\r\n  ProjectGroupNames,\r\n  saveToRecentProjects,\r\n  setProjectCache,\r\n} from \"./cache\";\r\nimport { RouteLocationNormalized, RouteLocationAsPathGeneric } from 'vue-router';\r\nimport router from \"@/router\";\r\n\r\nexport const getIcoApiUrl = () => {\r\n  const proxyUrl = process.env.BASE_URL + \"api/\";\r\n  return process.env.NODE_ENV === \"development\"\r\n    ? proxyUrl\r\n    : process.env.VUE_APP_API_URL;\r\n};\r\n\r\nexport const fetchIcoData = async (projectId: string) => {\r\n  let json = null;\r\n  const url = getIcoApiUrl() + \"arguments?project=\" + projectId;\r\n  try {\r\n    if (!projectId) {\r\n      throw Error();\r\n    }\r\n    const response = await fetch(url);\r\n\r\n    json = await response.json();\r\n  } catch (e) {\r\n    console.warn(\"Fetch error, unable to fetch arguments: \" + url);\r\n    throw e;\r\n    // const response = await fetch(process.env.BASE_URL + \"data.json\");\r\n    // json = await response.json();\r\n  }\r\n  return json;\r\n};\r\n\r\nexport const fetchIcoProject = async (projectId: string) => {\r\n  let json = null;\r\n  const url = getIcoApiUrl() + \"project?name=\" + projectId;\r\n  try {\r\n    if (!projectId) {\r\n      throw Error();\r\n    }\r\n    const response = await fetch(url);\r\n\r\n    json = await response.json();\r\n  } catch (e) {\r\n    console.warn(\"Fetch error, unable to fetch project:\" + url);\r\n    throw e;\r\n    // const response = await fetch(process.env.BASE_URL + \"project.json\");\r\n    // json = await response.json();\r\n  }\r\n\r\n  return json;\r\n};\r\n\r\n\r\n\r\nexport const loadProject = () => {};\r\n\r\n\r\nexport const getProjectTypeFromRoute = (route: RouteLocationNormalized) => {\r\n  if (\r\n    Object.prototype.hasOwnProperty.call(\r\n      route.query,\r\n      PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET\r\n    )\r\n  ) {\r\n    return ProjectGroupNames.GOOGLE_SPREADSHEET;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(route.query, PROJECT_TYPE_ROUTES.ICO)\r\n  ) {\r\n    return ProjectGroupNames.ICO;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(route.query, PROJECT_TYPE_ROUTES.XLSX)\r\n  ) {\r\n    return ProjectGroupNames.XLSX;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(\r\n      route.query,\r\n      PROJECT_TYPE_ROUTES.NEXTCLOUD\r\n    )\r\n  ) {\r\n    return ProjectGroupNames.NEXTCLOUD;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nexport const getRouteTypeFromProjectType = (type: ProjectGroupNames) => {\r\n  if (type === ProjectGroupNames.GOOGLE_SPREADSHEET) {\r\n    return PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET;\r\n  } else if (type === ProjectGroupNames.ICO) {\r\n    return PROJECT_TYPE_ROUTES.ICO;\r\n  } else if (type === ProjectGroupNames.XLSX) {\r\n    return PROJECT_TYPE_ROUTES.XLSX;\r\n  } else if (type === ProjectGroupNames.NEXTCLOUD) {\r\n    return PROJECT_TYPE_ROUTES.NEXTCLOUD;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const getRouteTypeValue = (route: RouteLocationNormalized) => {\r\n  if (\r\n    Object.prototype.hasOwnProperty.call(\r\n      route.query,\r\n      PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET\r\n    )\r\n  ) {\r\n    return route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET] as string;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(route.query, PROJECT_TYPE_ROUTES.ICO)\r\n  ) {\r\n    return route.query[PROJECT_TYPE_ROUTES.ICO] as string;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(route.query, PROJECT_TYPE_ROUTES.XLSX)\r\n  ) {\r\n    return route.query[PROJECT_TYPE_ROUTES.XLSX] as string;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(\r\n      route.query,\r\n      PROJECT_TYPE_ROUTES.NEXTCLOUD\r\n    )\r\n  ) {\r\n    return route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD] as string;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const loadSpreadsheetFromRoute = async (\r\n  route: RouteLocationNormalized,\r\n  clear?: boolean\r\n) => {\r\n  const spreadsheetId = getRouteTypeValue(route);\r\n  //setSpreadsheet(spreadsheetId);\r\n  // saveToRecentProjectSpreadsheets({\r\n  //   id: spreadsheetId\r\n  // });\r\n  saveToRecentProjects(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n    id: spreadsheetId,\r\n  });\r\n  let data = null;\r\n  // console.log(isProjectCached(route), \"cached?\");\r\n  if (isProjectCached(route)) {\r\n    data = getProjectDataCacheFromRoute(route);\r\n    state.notifications.push({\r\n      message: \"Spreadsheet loaded from cache\",\r\n    });\r\n  } else {\r\n    data = await getSpreadsheetData(spreadsheetId);\r\n  }\r\n  // saveToRecentProjectSpreadsheets({\r\n  //   name: data.project.name ? data.project.name : undefined,\r\n  //   id: spreadsheetId\r\n  // });\r\n  saveToRecentProjects(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n    name: data.project && data.project.name ? data.project.name : undefined,\r\n    id: spreadsheetId,\r\n  });\r\n  try {\r\n    setData(data.items, data.project, clear);\r\n    setProjectCache(route, data);\r\n    state.spreadsheet = spreadsheetId;\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const loadIcoFromRoute = async (route: RouteLocationNormalized, clear?: boolean) => {\r\n  const icoId = getRouteTypeValue(route);\r\n\r\n  saveToRecentProjects(ProjectGroupNames.ICO, {\r\n    id: icoId,\r\n  });\r\n\r\n  let data = null;\r\n  if (isProjectCached(route)) {\r\n    data = getProjectDataCacheFromRoute(route);\r\n    state.notifications.push({\r\n      message: \"Ico project loaded from cache\",\r\n    });\r\n  } else {\r\n    data = await getIcoData(icoId);\r\n  }\r\n\r\n  if (data.project && data.project.name) {\r\n    saveToRecentProjects(ProjectGroupNames.ICO, {\r\n      name: data.project.name ? data.project.name : undefined,\r\n      id: data.project.name,\r\n    });\r\n    // saveToRecentProjectNames(data.project.name);\r\n  }\r\n\r\n  try {\r\n    setData(data.items, data.project, clear);\r\n    setProjectCache(route, data);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const loadNextcloudFromRoute = async (route: RouteLocationNormalized, clear?: boolean) => {\r\n  // console.log(\"Nextcloud!\");\r\n  const nextcloudId = getRouteTypeValue(route);\r\n\r\n  saveToRecentProjects(ProjectGroupNames.NEXTCLOUD, {\r\n    id: nextcloudId,\r\n  });\r\n\r\n  let data = null;\r\n  if (isProjectCached(route)) {\r\n    data = getProjectDataCacheFromRoute(route);\r\n    state.notifications.push({\r\n      message: \"Nextcloud project loaded from cache\",\r\n    });\r\n  } else {\r\n    //https://icotest.iate.inra.fr/nextcloud/s/iiw6WomRsepyx78/download\r\n    const nextcloudUrl = getNextcloudDownloadUrlFromId(nextcloudId);\r\n    data = await getNextcloudDataFromUrl(nextcloudUrl);\r\n  }\r\n\r\n  saveToRecentProjects(ProjectGroupNames.NEXTCLOUD, {\r\n    name: data.project && data.project.name ? data.project.name : undefined,\r\n    id: nextcloudId,\r\n  });\r\n  try {\r\n    setData(data.items, data.project, clear);\r\n    setProjectCache(route, data);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const getHrefFromTypeId = ({\r\n  type,\r\n  id,\r\n}: {\r\n  type: ProjectGroupNames;\r\n  id: string;\r\n}) => {\r\n  const routeType = getRouteTypeFromProjectType(type);\r\n\r\n  if (!routeType) {\r\n    throw new Error(\"Route type is undefined for this project type.\");\r\n  }\r\n\r\n  // Construction des paramtres de route avec path ou name\r\n  const routeParams: RouteLocationNormalized = {\r\n    query: {\r\n      [routeType]: id,\r\n    },\r\n    name: \"project\", // Assure-toi que \"project\" est bien un nom de route dfini dans tes routes\r\n    path: \"/project\", // Assure-toi que cette route \"/project\" existe dans tes routes\r\n    params: {}, // Si tu n'as pas de paramtres, mets un objet vide\r\n    matched: [], // Tableau vide si aucune correspondance n'est requise\r\n    fullPath: \"/project\", // Remplacer par le chemin complet si ncessaire\r\n    hash: \"\",\r\n    redirectedFrom: undefined,\r\n    meta: undefined\r\n  };\r\n\r\n  // Appel de router.resolve avec un objet contenant path ou name\r\n  const href = router.resolve(routeParams).href;\r\n  return href;\r\n};\r\n\r\n\r\nexport const loadAll = async (route: RouteLocationNormalized, clear?: boolean) => {\r\n  showOverlay();\r\n\r\n  // console.log(route.query, \"query\");\r\n  try {\r\n    /**\r\n     * GOOGLE SPREADSHEET\r\n     */\r\n    if (\r\n      getProjectTypeFromRoute(route) === ProjectGroupNames.GOOGLE_SPREADSHEET\r\n    ) {\r\n      await loadSpreadsheetFromRoute(route, clear);\r\n    }\r\n\r\n    /**\r\n     * ICO\r\n     */\r\n    if (getProjectTypeFromRoute(route) === ProjectGroupNames.ICO) {\r\n      await loadIcoFromRoute(route, clear);\r\n    }\r\n\r\n    /**\r\n     * NEXTCLOUD\r\n     */\r\n    if (getProjectTypeFromRoute(route) === ProjectGroupNames.NEXTCLOUD) {\r\n      await loadNextcloudFromRoute(route, clear);\r\n    }\r\n\r\n    /**\r\n     * XLSX\r\n     */\r\n    if (getProjectTypeFromRoute(route) === ProjectGroupNames.XLSX) {\r\n      const fileInput = dropFileInputRef.value;\r\n      if (fileInput && fileInput.files && fileInput.files[0]) {\r\n        const file = fileInput.files[0];\r\n        await openXlsxFromFile(file, clear);\r\n      } else {\r\n        console.error(\"No file selected or file input is not valid.\");\r\n      }\r\n    }\r\n\r\n    hideOverlay();\r\n  } catch (e) {\r\n    hideOverlay();\r\n    if (e instanceof MyChoiceError) {\r\n      console.warn(e.name, \"MYCHOICE ERROR\");\r\n      setError(e.name, e.message);\r\n      throw Error(e.stack);\r\n    } else {\r\n      // console.warn(\"ClassicError\");\r\n      //@ts-ignore\r\n      setError(e.name, e.message);\r\n      //@ts-ignore\r\n      console.warn(e.stack, \"stack\");\r\n      throw e;\r\n    }\r\n  }\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"@/store\";\r\nimport { computed } from \"vue\";\r\n\r\nexport const getAlternatives = function() {\r\n  return state.data!.alternatives;\r\n};\r\nexport const getAlternativesAsArray = function() {\r\n  const alternatives = Object.keys(getAlternatives());\r\n\r\n  return alternatives.map(alternative => Number(alternative));\r\n};\r\nexport const alternativesIds = function() {\r\n  return Object.keys(getAlternatives()).map(id => Number(id));\r\n};\r\nexport const c_alternativesIds = computed(() => {\r\n  return Object.keys(getAlternatives()).map(id => Number(id));\r\n});\r\n\r\nexport const getAlternativeById = function(alternativeId: number) {\r\n  return getAlternatives()[alternativeId];\r\n};\r\nexport const getAlternativeName = function(alternativeId: number) {\r\n  return getAlternativeById(alternativeId).name;\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"@/store\";\r\nimport { getFilteredItems } from \"@/store/items\";\r\nimport { NormalizedAims, NormalizedArgument } from \"@/@types\";\r\nimport { uniqBy } from \"lodash\";\r\n\r\nexport const getAims = function() {\r\n  const aims = state.data!.aims;\r\n  // if (state.mode !== \"consensus\") {\r\n  //   return filterNormalizedObjectByItemProp(aims, \"aim\");\r\n  // }\r\n  return aims;\r\n};\r\n\r\nexport const aimsIds = function() {\r\n  return Object.keys(getAims()).map(id => Number(id));\r\n};\r\n\r\nexport const getAimsAsArray = function() {\r\n  const aims = Object.keys(getAims());\r\n\r\n  return aims.map(aim => Number(aim));\r\n};\r\nexport const getAimById = function(aimId: number) {\r\n  return getAims()[aimId];\r\n};\r\n\r\nexport const getAimsBy = <\r\n  T extends keyof NormalizedAims[keyof NormalizedAims],\r\n  V\r\n>(\r\n  property: T,\r\n  value: V\r\n) => {\r\n  const aims = Object.values(getAims()).filter(item => {\r\n    return Number(item[property]) === Number(value);\r\n  });\r\n\r\n  return aims;\r\n};\r\n\r\nexport const getAimName = function(aimId: number) {\r\n  return getAims()[aimId] && getAims()[aimId].name;\r\n};\r\n\r\nexport const getFilteredAims = () => {\r\n  return aimsIds().filter(aimId => {\r\n    return getFilteredItems().some(item => {\r\n      return item.aim === aimId;\r\n    });\r\n  });\r\n};\r\n\r\nexport const getFilteredAimsBy = <\r\n  T extends keyof NormalizedAims[keyof NormalizedAims],\r\n  V\r\n>(\r\n  property: T,\r\n  value: V\r\n) => {\r\n  const filteredAims = getAimsBy(property, value).filter(aim => {\r\n    return getFilteredItems().some(item => {\r\n      return item.aim === aim.id;\r\n    });\r\n  });\r\n  return filteredAims;\r\n};\r\n\r\nexport const getAimsFromItems = (items: NormalizedArgument[]) => {\r\n  return uniqBy(items, \"aim\").map(item => item.aim);\r\n};\r\n\r\nexport const getAimsCountFromAimsAndCriterion = (\r\n  aims: number[],\r\n  criterionId: number\r\n) => {\r\n  return aims.filter(aimId => getAimById(aimId).criterion === criterionId)\r\n    .length;\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state, getFilteredItems } from \"@/store\";\r\nimport { NormalizedArgument, NormalizedObject } from \"@/@types\";\r\nimport { computed } from \"vue\";\r\n\r\nexport const getCriterions = function() {\r\n  const criterions = state.data!.criterions;\r\n  // if (state.mode !== \"consensus\") {\r\n  //   return filterNormalizedObjectByItemProp(criterions, \"criterion\");\r\n  // }\r\n  return criterions;\r\n};\r\nexport const c_criterions = computed(() => state.data!.criterions);\r\n\r\nexport const getCriterionsAsArray = function() {\r\n  const criterions = Object.keys(getCriterions());\r\n\r\n  return criterions.map(criterion => Number(criterion));\r\n};\r\nexport const criterionsIds = function() {\r\n  return Object.keys(getCriterions()).map(id => Number(id));\r\n};\r\nexport const c_criterionsIds = computed(() => {\r\n  return Object.keys(c_criterions.value).map(id => Number(id));\r\n});\r\nexport const getCriterionById = function(criterionId: number) {\r\n  return getCriterions()[criterionId];\r\n};\r\n\r\nexport const getCriterionName = function(criterionId: number | string) {\r\n  return getCriterions()[Number(criterionId)].name;\r\n};\r\n\r\nexport const getFilteredCriterions = () => {\r\n  return criterionsIds().filter(criterionId => {\r\n    return getFilteredItems().some(item => {\r\n      return item.criterion === criterionId;\r\n    });\r\n  });\r\n};\r\nexport const c_filteredCriterions = computed(() => {\r\n  return c_criterionsIds.value.filter(criterionId => {\r\n    return getFilteredItems().some(item => {\r\n      return item.criterion === criterionId;\r\n    });\r\n  });\r\n});\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\n\r\nimport { state, sortObject } from \"@/store\";\r\nimport { uniqBy, sortBy, isEqual, property } from \"lodash\";\r\nimport { NormalizedArgument, SubType, NormalizedObject } from \"@/@types\";\r\nimport { getAlternativesAsArray } from \"@/store/alternatives\";\r\nimport { getAims, getAimsAsArray } from \"@/store/aims\";\r\nimport { getCriterionsAsArray } from \"@/store/criterions\";\r\n\r\nimport { filter, groupBy, flatten } from \"lodash\";\r\n\r\nexport const getAllItems = function () {\r\n  const items = state!.data!.items;\r\n  // if (state.mode === \"interplay\") {\r\n  //   return getInterplayItems(items);\r\n  // }\r\n  return items;\r\n};\r\n\r\n// export const getInterplayItems = function(items: NormalizedArgument[]) {\r\n//   const propertyGroups = groupBy(items, \"property\");\r\n\r\n//   const propertyGroupsWithMultipleAims = Object.values(propertyGroups).filter(\r\n//     groupItems => {\r\n//       const aimGroups = groupBy(groupItems, \"aim\");\r\n\r\n//       if (Object.keys(aimGroups).length > 1) {\r\n//         return groupItems;\r\n//       }\r\n//     }\r\n//   );\r\n\r\n//   const interplayItems = flatten(propertyGroupsWithMultipleAims);\r\n\r\n//   return interplayItems;\r\n// };\r\n\r\nexport const getFilteredItems = function () {\r\n  let items = filterItemsByValue(getAllItems(), state.searchInput);\r\n\r\n  if (state.selectedAims.length) {\r\n    items = items.filter((item) => {\r\n      //@ts-ignore\r\n      return state.selectedAims.includes(item[\"aim\"]);\r\n    });\r\n  }\r\n  if (state.selectedStakeholders.length) {\r\n    items = items.filter((item) => {\r\n      //@ts-ignore\r\n      return state.selectedStakeholders.includes(item[\"stakeholder\"]);\r\n    });\r\n  }\r\n\r\n  if (state.selectedCriterions.length) {\r\n    items = items.filter((item) => {\r\n      //@ts-ignore\r\n      return state.selectedCriterions.includes(\r\n        Number(getAims()[item[\"aim\"]].criterion)\r\n      );\r\n    });\r\n  }\r\n\r\n  return items;\r\n};\r\n\r\nexport const filterItemsBy = <\r\n  T extends Partial<NormalizedArgument>,\r\n  P extends keyof NormalizedArgument,\r\n  V extends NormalizedArgument[P]\r\n>(\r\n  items: NormalizedArgument[],\r\n  payload: T\r\n) => {\r\n  const entries = Object.entries(payload) as [P, V][];\r\n  return items.filter((item) => {\r\n    return entries.every(([property, value]) => {\r\n      return item[property] === value;\r\n    });\r\n  });\r\n};\r\n\r\nexport const getItemsBy = function <T extends Partial<NormalizedArgument>>(\r\n  payload: T\r\n) {\r\n  return payload ? filterItemsBy(getAllItems(), payload) : [];\r\n};\r\n\r\n//export const get _.uniqWith(objects, _.isEqual);\r\n\r\nexport const getLabel = function (payload: Partial<NormalizedArgument>) {\r\n  return `${payload.property}:${payload.value}`;\r\n};\r\n\r\nexport const getDuplicatesGroups = function <\r\n  T extends Partial<NormalizedArgument>\r\n>(payload: T[]) {\r\n  return Object.values(\r\n    groupBy(\r\n      payload,\r\n      ({ property, value, assertion, explanation, stakeholder }) =>\r\n        JSON.stringify({ property, value, assertion, explanation, stakeholder })\r\n    )\r\n  );\r\n};\r\n\r\nexport const getFilteredItemsBy = function <\r\n  T extends Partial<NormalizedArgument>\r\n>(payload: T) {\r\n  return filterItemsBy(getFilteredItems(), payload);\r\n};\r\n\r\nexport const filterByPropValue = function <\r\n  P extends keyof NormalizedArgument,\r\n  V extends NormalizedArgument[P]\r\n>(items: NormalizedArgument[], prop: P, value: V) {\r\n  return items.filter((item) => {\r\n    return item[prop] === value;\r\n  });\r\n};\r\n\r\nexport const getItemsByPropValue = function <\r\n  P extends keyof NormalizedArgument,\r\n  V extends NormalizedArgument[P]\r\n>(prop: P, value: V) {\r\n  return filterByPropValue(getAllItems(), prop, value);\r\n};\r\n\r\nexport const getFilteredItemsByPropValue = function <\r\n  P extends keyof NormalizedArgument,\r\n  V extends NormalizedArgument[P]\r\n>(prop: P, value: V) {\r\n  return filterByPropValue(getFilteredItems(), prop, value);\r\n};\r\n\r\nexport const getUniqueItemsBy = <\r\n  T extends Partial<NormalizedArgument>,\r\n  P extends keyof NormalizedArgument\r\n>(\r\n  payload: T,\r\n  uniqProp: P\r\n) => {\r\n  return uniqBy(getItemsBy(payload), uniqProp);\r\n};\r\n\r\nexport const getItemsFromUniqueProperty = ({\r\n  criterion,\r\n  aim,\r\n  property,\r\n  value,\r\n}: {\r\n  criterion: number;\r\n  aim: number;\r\n  property: string;\r\n  value: string;\r\n}) => {\r\n  return getAllItems().filter(\r\n    (item) =>\r\n      item.criterion === criterion &&\r\n      item.aim === aim &&\r\n      item.property === property &&\r\n      item.value === value\r\n  );\r\n};\r\n\r\nexport const filterItemsByValue = function <T>(\r\n  items: NormalizedArgument[],\r\n  input: string\r\n) {\r\n  return items.filter((o) =>\r\n    Object.keys(o).some((k) => {\r\n      if ([\"property\", \"value\"].includes(k)) {\r\n        //@ts-ignore\r\n        const value = o[k];\r\n        // console.log(k, \"value\");\r\n\r\n        // try {\r\n\r\n        return value\r\n          .toString()\r\n          .toLowerCase()\r\n          .includes(input.toString().toLowerCase());\r\n        // } catch (e) {\r\n        //   console.log(o, \"prop\");\r\n        //   console.log(k, \"val\");\r\n        //   console.log(value, \"VALUE\");\r\n        //   throw e;\r\n        // }\r\n      }\r\n    })\r\n  );\r\n};\r\n\r\n/* -------- ^ we keep it */\r\n\r\n// export const getItemsByAimId = function(aimId: number) {\r\n//   return getAllItems().filter(item => {\r\n//     return item.aim === aimId;\r\n//   });\r\n// };\r\n// export const getUniqueItemsByAimId = function(aimId: number) {\r\n//   return uniqBy(getItemsByPropValue(\"aim\", aimId), \"property\");\r\n// };\r\n\r\n// export const getFilteredItemsMatchingObject = function<\r\n//   T extends Partial<NormalizedArgument>\r\n// >(payload: T) {\r\n//   const entries = Object.entries(payload);\r\n//   const items = getFilteredItems().filter(item => {\r\n//     return entries.every(([property, value]) => {\r\n//       //@ts-ignore\r\n//       return item[property] === value;\r\n//     });\r\n//   });\r\n\r\n//   return items;\r\n// };\r\n\r\nexport const getItemById = function (itemId: number) {\r\n  return getAllItems().find((item) => item.id === itemId);\r\n};\r\n\r\n// export const getItemsBy = function<K extends keyof NormalizedArgument>(\r\n//   prop: K,\r\n//   id: number\r\n// ) {\r\n//   id = Number(id);\r\n//   return getAllItems().filter(item => {\r\n//     // @ts-ignore\r\n//     return item[prop] === id;\r\n//   });\r\n// };\r\n\r\n// export const getItemsByCriterionId = function(criterionId: number) {\r\n//   return getAllItems().filter(item => {\r\n//     return item.criterion === criterionId;\r\n//   });\r\n// };\r\n\r\n// export const getUniqueItemsBy = function<K extends keyof NormalizedArgument>(\r\n//   prop: K,\r\n//   id: number,\r\n//   uniqProp: K\r\n// ) {\r\n//   const items = getItemsBy({\r\n//     [prop]: id\r\n//   });\r\n//   return uniqBy(items, uniqProp);\r\n// };\r\n\r\n// export const getItemsByProperty = function(value: string) {\r\n//   return getAllItems().filter(argument => {\r\n//     return argument.property === value;\r\n//   });\r\n// };\r\n\r\n// export const filterByAimAndCriterion = ({\r\n//   items,\r\n//   aimId,\r\n//   criterionId\r\n// }: {\r\n//   items: NormalizedArgument[];\r\n//   aimId: number;\r\n//   criterionId: number;\r\n// }) => {\r\n//   return items.filter(\r\n//     item => item.criterion === criterionId && item.aim === aimId\r\n//   );\r\n// };\r\n\r\n// export const filterByAimAndAlternative = ({\r\n//   items,\r\n//   aimId,\r\n//   alternativeId\r\n// }: {\r\n//   items: NormalizedArgument[];\r\n//   aimId: number;\r\n//   alternativeId: number;\r\n// }) => {\r\n//   return items.filter(\r\n//     item => item.alternative === alternativeId && item.aim === aimId\r\n//   );\r\n// };\r\n\r\n// export const getFilteredItemsByAimAndAlternative = ({\r\n//   aimId,\r\n//   alternativeId\r\n// }: {\r\n//   aimId: number;\r\n//   alternativeId: number;\r\n// }) => {\r\n//   return filterByAimAndAlternative({\r\n//     items: getFilteredItems(),\r\n//     aimId,\r\n//     alternativeId\r\n//   });\r\n// };\r\n\r\nexport const normalizeByAlternative = (items: NormalizedArgument[]) => {\r\n  const obj: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n  const alternatives = getAlternativesAsArray();\r\n\r\n  alternatives.forEach((alternativeId) => {\r\n    const filteredItems = items.filter(\r\n      (argument) => argument.alternative === alternativeId\r\n    );\r\n    obj[alternativeId] = filteredItems;\r\n  });\r\n\r\n  return obj;\r\n};\r\n\r\nexport const normalizeByAim = (items: NormalizedArgument[]) => {\r\n  const obj: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n  const aims = getAimsAsArray();\r\n\r\n  aims.forEach((aimId) => {\r\n    const filteredItems = items.filter((argument) => argument.aim === aimId);\r\n    obj[aimId] = filteredItems;\r\n  });\r\n\r\n  return obj;\r\n};\r\n\r\nexport const normalizeByCriterion = (items: NormalizedArgument[]) => {\r\n  const obj: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n  const criterions = getCriterionsAsArray();\r\n\r\n  criterions.forEach((criterionId) => {\r\n    const filteredItems = items.filter(\r\n      (argument) => argument.criterion === criterionId\r\n    );\r\n    obj[criterionId] = filteredItems;\r\n  });\r\n\r\n  return obj;\r\n};\r\n\r\n// DEPRECATED\r\nexport const getNormalizedItemsByUniqueProperties = function (filtered = true) {\r\n  const normalizedObject: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n\r\n  const items = filtered ? getFilteredItems() : getAllItems();\r\n\r\n  items.forEach((item) => {\r\n    if (normalizedObject[item.property]) {\r\n      normalizedObject[item.property].push(item);\r\n    } else {\r\n      normalizedObject[item.property] = [item];\r\n    }\r\n  });\r\n\r\n  return sortObject(normalizedObject);\r\n};\r\n\r\nexport const getNormalizedItemsByUniqueItemProp = function (\r\n  itemProp: keyof SubType<NormalizedArgument, string | number>,\r\n  filtered = true\r\n) {\r\n  const normalizedObject: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n\r\n  const items = filtered ? getFilteredItems() : getAllItems();\r\n\r\n  items.forEach((item) => {\r\n    const itemPropValue = item[itemProp];\r\n    if (normalizedObject[itemPropValue]) {\r\n      normalizedObject[itemPropValue].push(item);\r\n    } else {\r\n      normalizedObject[itemPropValue] = [item];\r\n    }\r\n  });\r\n\r\n  return sortObject(normalizedObject);\r\n};\r\n\r\nexport const filterNormalizedObjectByItemProp = (\r\n  normalizedObject: NormalizedObject,\r\n  itemProp: keyof NormalizedArgument\r\n) => {\r\n  return Object.keys(normalizedObject)\r\n    .map((key) => Number(key))\r\n    .filter((id) => {\r\n      return getAllItems().some((item) => {\r\n        return item[itemProp] === id;\r\n      });\r\n    })\r\n    .reduce((filteredNormalizedObject: NormalizedObject, id: number) => {\r\n      filteredNormalizedObject[id] = normalizedObject[id];\r\n      return filteredNormalizedObject;\r\n    }, {});\r\n};\r\n\r\nexport const getFilteredItemsGroupByProp = (\r\n  payload: Partial<NormalizedArgument>,\r\n  prop: keyof NormalizedArgument\r\n) => {\r\n  return groupBy(getFilteredItemsBy(payload), prop);\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"@/store\";\r\n\r\nexport const getSubOptions = function() {\r\n  return state.data!.subOptions;\r\n};\r\n\r\nexport const subOptionsIds = function() {\r\n  return Object.keys(getSubOptions()).map(id => Number(id));\r\n};\r\n\r\nexport const getSubOptionById = function(subOptionId: number) {\r\n  return getSubOptions()[subOptionId];\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state, getFilteredItems } from \"@/store\";\r\n\r\nexport const getStakeholders = function() {\r\n  const stakeholders = state.data!.stakeholders;\r\n\r\n  // if (state.mode !== \"consensus\") {\r\n  //   return filterNormalizedObjectByItemProp(stakeholders, \"stakeholder\");\r\n  // }\r\n  return stakeholders;\r\n};\r\nexport const stakeholdersIds = function() {\r\n  return Object.keys(getStakeholders()).map(id => Number(id));\r\n};\r\nexport const getStakeholderName = function(stakeholderId: number) {\r\n  return (\r\n    getStakeholders()[stakeholderId] && getStakeholders()[stakeholderId].name\r\n  );\r\n};\r\n\r\nexport const getStakeholderById = function(stakeholderId: number) {\r\n  return getStakeholders()[stakeholderId];\r\n};\r\nexport const getFilteredStakeholders = () => {\r\n  return stakeholdersIds().filter(stakeholderId => {\r\n    return getFilteredItems().some(item => {\r\n      return item.stakeholder === stakeholderId;\r\n    });\r\n  });\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"@/store\";\r\n\r\nimport { getAllItems } from \"@/store/items\";\r\nimport { Superset } from \"@/@types\";\r\n\r\nexport const getSupersetsBy = <T extends Superset>(payload: T): T[] => {\r\n  const arr: string[] = [];\r\n  const entries = Object.entries(payload);\r\n\r\n  const result = getAllItems()\r\n    .filter(item => {\r\n      const hash = getPayloadHash(payload);\r\n      if (arr.indexOf(hash) === -1) {\r\n        arr.push(hash);\r\n        return entries.every(([property, value]) => {\r\n          //@ts-ignore\r\n          return item[property] === value;\r\n        });\r\n      }\r\n      return false;\r\n    })\r\n    .map(item => {\r\n      const superset = <T>{};\r\n      superset[\"alternative\"] = item[\"alternative\"];\r\n      superset[\"subOption\"] = item[\"subOption\"];\r\n      Object.keys(payload).forEach(key => {\r\n        //@ts-ignore\r\n        superset[key] = item[key];\r\n      });\r\n      return superset;\r\n    });\r\n  return result;\r\n};\r\n\r\nexport const getPayloadHash = (payload: Superset) => {\r\n  //return `${payload.criterion}:${payload.aim}:${payload.property}:${payload.value}`;\r\n  // return Object.keys(payload)\r\n  //   .sort()\r\n  //   .map(key => {\r\n  //     return `${key}-${payload[key]}`;\r\n  //   })\r\n  //   .join(\":\");\r\n  const ordered = {};\r\n  Object.keys(payload)\r\n    .sort()\r\n    .forEach(function(key) {\r\n      //@ts-ignore\r\n      ordered[key] = payload[key];\r\n    });\r\n  return JSON.stringify(ordered);\r\n};\r\n\r\nexport const getSelectedSupersets = () => state.selectedSupersets;\r\n\r\nexport const selectSuperset = function(payload: Superset) {\r\n  state.selectedSuperset = getPayloadHash(payload);\r\n};\r\nexport const unselectSuperset = function(payload: Superset) {\r\n  state.selectedSuperset = \"\";\r\n};\r\nexport const toggleSuperset = function(payload: Superset) {\r\n  if (state.selectedSuperset === getPayloadHash(payload)) {\r\n    unselectSuperset(payload);\r\n  } else {\r\n    selectSuperset(payload);\r\n  }\r\n};\r\nexport const addSupersetInSelection = function(payload: Superset) {\r\n  if (!findSuperset(payload)) {\r\n    state.selectedSupersets.push(getPayloadHash(payload));\r\n  }\r\n};\r\nexport const removeSupersetInSelection = function(payload: Superset) {\r\n  const string = getPayloadHash(payload);\r\n  const index = getSelectedSupersets().indexOf(string);\r\n  if (index > -1) {\r\n    state.selectedSupersets.splice(index, 1);\r\n  }\r\n};\r\nexport const toggleSupersetInSelection = function(payload: Superset) {\r\n  if (findSuperset(payload)) {\r\n    removeSupersetInSelection(payload);\r\n  } else {\r\n    addSupersetInSelection(payload);\r\n  }\r\n};\r\n\r\nexport const findSuperset = function(payload: Superset) {\r\n  return getSelectedSupersets().find(\r\n    stringifiedObject => stringifiedObject === getPayloadHash(payload)\r\n  );\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { NormalizedArgument, NormalizedObject } from \"@/@types\";\r\nimport {\r\n  normalizeByAlternative,\r\n  getFilteredItems,\r\n  getFilteredItemsBy,\r\n  normalizeByAim,\r\n  filterItemsBy\r\n} from \"@/store\";\r\n\r\nimport { getRange } from \"@/store/utils\";\r\nimport { alternativesIds } from \"./alternatives\";\r\n\r\nexport const roundNumber = (number: number) => {\r\n  return Math.round(number * 100) / 100;\r\n};\r\n\r\nexport const getWeightedAcceptability = (\r\n  items: NormalizedArgument[],\r\n  rounded = true\r\n) => {\r\n  const normalizedAims = normalizeByAim(items);\r\n\r\n  const alternativeSums: {\r\n    [id: number]: number[];\r\n  } = {};\r\n\r\n  const alternativeAcceptability: {\r\n    [id: number]: number | null;\r\n  } = {};\r\n\r\n  Object.entries(normalizedAims).map(([j, aimsItems]) => {\r\n    const aimId = Number(j);\r\n\r\n    const alternativeWeigths = getWeightByAlternativeV2(aimsItems);\r\n    Object.entries(alternativeWeigths).forEach(([k, alternativeWeight]) => {\r\n      const alternativeId = Number(k);\r\n      (\r\n        alternativeSums[alternativeId] || (alternativeSums[alternativeId] = [])\r\n      ).push(alternativeWeight);\r\n    });\r\n  });\r\n\r\n  Object.entries(alternativeSums).forEach(([l, sums]) => {\r\n    const acceptability = sumArray(sums) / items.length;\r\n    // alternativeAcceptability[Number(l)] = acceptability\r\n    //   ? roundNumber(acceptability)\r\n    //   : null;\r\n    const numberOrNull = !Number.isNaN(acceptability)\r\n      ? rounded\r\n        ? roundNumber(acceptability)\r\n        : acceptability\r\n      : null;\r\n    alternativeAcceptability[Number(l)] = numberOrNull;\r\n  });\r\n\r\n  return alternativeAcceptability;\r\n};\r\n\r\n// export const getWeightByAlternativeV1 = (items: NormalizedArgument[]) => {\r\n//   const normalizedAlternatives = normalizeByAlternative(items);\r\n//   const obj: {\r\n//     [id: number]: number;\r\n//   } = {};\r\n//   Object.entries(normalizedAlternatives).forEach(([key, alternativeItems]) => {\r\n//     const alternativeId = Number(key);\r\n\r\n//     const pro = alternativeItems.filter(argument => argument.subOption === 1);\r\n//     const con = alternativeItems.filter(argument => argument.subOption === 2);\r\n\r\n//     let score;\r\n//     if (pro.length === 0 && items.length === 0) {\r\n//       score = 0;\r\n//     } else if (pro.length === 0 && con.length === 0 && items.length > 0) {\r\n//       score = 0.5;\r\n//     } else {\r\n//       score = pro.length / alternativeItems.length;\r\n//     }\r\n\r\n//     const weight = score * items.length;\r\n\r\n//     obj[alternativeId] = weight;\r\n//   });\r\n//   return obj;\r\n// };\r\n\r\nexport const getWeightByAlternativeV2 = (items: NormalizedArgument[]) => {\r\n  const normalizedAlternatives = normalizeByAlternative(items);\r\n  const obj: {\r\n    [id: number]: number;\r\n  } = {};\r\n  Object.entries(normalizedAlternatives).forEach(([key, alternativeItems]) => {\r\n    const alternativeId = Number(key);\r\n\r\n    const pro = alternativeItems.filter(argument => argument.subOption === 1);\r\n    const con = alternativeItems.filter(argument => argument.subOption === 2);\r\n\r\n    const proCount = pro.length + 1; // on initialise avec 1 argument positif et 1 argument ngatif\r\n    const conCount = con.length + 1; // on initialise avec 1 argument positif et 1 argument ngatif\r\n    const totalCount = alternativeItems.length + 2;\r\n\r\n    //const noItemsAtAll = pro.length === 0 && items.length === 0\r\n    const noItemsAtAll = items.length === 0;\r\n    const noItemsForThisAlternative =\r\n      pro.length === 0 && con.length === 0 && items.length > 0;\r\n\r\n    let score;\r\n    if (noItemsAtAll) {\r\n      score = 0;\r\n    } else if (noItemsForThisAlternative) {\r\n      score = 0.5;\r\n    } else {\r\n      score = proCount / totalCount;\r\n    }\r\n\r\n    const weight = score * items.length;\r\n\r\n    obj[alternativeId] = weight;\r\n  });\r\n  return obj;\r\n};\r\n\r\nexport const sumArray = (arrayToSum: number[]) => {\r\n  return arrayToSum.reduce((acc, value) => acc + value);\r\n};\r\n\r\nexport const getAcceptabilityFromProCon = (\r\n  items: NormalizedArgument[],\r\n  rounded = true\r\n) => {\r\n  if (items.length === 0) {\r\n    return null;\r\n  }\r\n  const pro = items.filter(argument => argument.subOption === 1);\r\n  const con = items.filter(argument => argument.subOption === 2);\r\n  const value = items.length - con.length;\r\n\r\n  const acceptability = getRange(value, 0, items.length);\r\n  // const round = Math.round(acceptability * 100) / 100; //\r\n  return rounded ? roundNumber(acceptability) : acceptability;\r\n};\r\n\r\nexport const getAcceptabilityName = (acceptability: number | null) => {\r\n  if (acceptability === null) {\r\n    return \"\";\r\n  } else if (acceptability === 1) {\r\n    return \"pro\";\r\n  } else if (acceptability === 0) {\r\n    return \"con\";\r\n  } else {\r\n    return \"mix\";\r\n  }\r\n};\r\n\r\nexport const getAcceptabilityFromAlternativeId = (\r\n  alternativeId: number,\r\n  rounded = true\r\n) => {\r\n  const filteredItems = getFilteredItems();\r\n  const alternatives = normalizeByAlternative(filteredItems);\r\n  const alternativeItems = alternatives[alternativeId];\r\n  return getAcceptabilityFromProCon(alternativeItems);\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { Superset, NormalizedArgument } from \"@/@types\";\r\nimport { state } from \"./state\";\r\nimport { getFilteredItems, filterItemsBy, getAllItems } from \"./items\";\r\nimport { uniq, uniqWith, isEqual, uniqBy } from \"lodash\";\r\n\r\nexport const getLabels = () => state.data!.labels;\r\n\r\nexport const filterLabelsBy = <T extends Partial<NormalizedArgument>>(\r\n  items: NormalizedArgument[],\r\n  payload: T\r\n) => {\r\n  const labels = filterItemsBy(items, payload).map(({ property, value }) => ({\r\n    property,\r\n    value\r\n  }));\r\n  return uniqBy(labels, item => {\r\n    return [item.property, item.value].join(\":\");\r\n  });\r\n};\r\n\r\nexport const getUniqueLabelsBy = <T extends Partial<NormalizedArgument>>(\r\n  payload: T\r\n) => filterLabelsBy(getAllItems(), payload);\r\n\r\nexport const getUniqueFilteredLabelsBy = <\r\n  T extends Partial<NormalizedArgument>\r\n>(\r\n  payload: T\r\n) => filterLabelsBy(getFilteredItems(), payload);\r\n\r\n// export const getFilteredLabelsBy = <\r\n//   T extends Partial<NormalizedArgument>,\r\n//   P extends keyof NormalizedArgument,\r\n//   V extends NormalizedArgument[P]\r\n// >(\r\n//   payload: Superset\r\n// ) => {\r\n//   const entries = Object.entries(payload) as [P, V][];\r\n//   const filteredLabels = getLabels().filter(([labelProperty, labelValue]) => {\r\n//     return getFilteredItems().some(item => {\r\n//       return entries.every(([property, value]) => {\r\n//         return (\r\n//           item[property] === value &&\r\n//           item[\"property\"] === labelProperty &&\r\n//           item[\"value\"] === labelValue\r\n//         );\r\n//       });\r\n//       //return item.property === property && item.value === value;\r\n//     });\r\n//   });\r\n\r\n//   return uniqBy(filteredLabels, ([property, value]) => {\r\n//     return [property, value].join(\":\");\r\n//   });\r\n//   //return filteredLabels;\r\n// };\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport {\r\n  stakeholdersIds,\r\n  aimsIds,\r\n  criterionsIds,\r\n  getStakeholderName,\r\n  getAimName,\r\n  getCriterionName,\r\n  state\r\n} from \"@/store\";\r\n\r\nexport type VSelectItems = {\r\n  text: string;\r\n  value: unknown;\r\n}[];\r\n\r\nexport const getSelectStakeholders = function(): VSelectItems {\r\n  return stakeholdersIds().map(id => ({\r\n    text: getStakeholderName(id),\r\n    value: id\r\n  }));\r\n};\r\nexport const getSelectAims = function(): VSelectItems {\r\n  return aimsIds().map(id => ({\r\n    text: getAimName(id),\r\n    value: id\r\n  }));\r\n};\r\nexport const getSelectCriterions = function(): VSelectItems {\r\n  return criterionsIds().map(id => ({\r\n    text: getCriterionName(id),\r\n    value: id\r\n  }));\r\n};\r\nexport const getSelectModes = function(): VSelectItems {\r\n  return Object.entries(state.modes).map(([key, object]) => ({\r\n    text: object!.name,\r\n    value: key\r\n  }));\r\n};\r\n","import router from \"@/router\";\r\nimport { openXlsxFromFile, state, dropFileInputRef } from \"@/store\";\r\nimport { computed } from \"vue\";\r\nimport { loadAll } from \"./fetch\";\r\n\r\nexport const handleLoadFile = () => {\r\n  dropFileInputRef.value?.click();\r\n};\r\n\r\nexport const preventDefaults = (e: any) => {\r\n  e.preventDefault();\r\n  e.stopPropagation();\r\n};\r\n\r\nexport const onFileDragEnter = (e: { target: HTMLElement }) => {\r\n  preventDefaults(e);\r\n  highlightDrop(e);\r\n};\r\nexport const onFileDragLeave = (e: { target: HTMLElement }) => {\r\n  preventDefaults(e);\r\n  unhighlightDrop(e);\r\n};\r\nexport const onFileDragOver = (e: { target: HTMLElement }) => {\r\n  preventDefaults(e);\r\n  highlightDrop(e);\r\n};\r\nexport const onFileDrop = (e: {\r\n  target: HTMLElement;\r\n  dataTransfer: DataTransfer;\r\n}) => {\r\n  preventDefaults(e);\r\n  unhighlightDrop(e);\r\n  const files = e.dataTransfer.files;\r\n  dropFileInputRef.value!.files = files;\r\n  onFileChange();\r\n};\r\nexport const onFileChange = async () => {\r\n  const file = dropFileInputRef.value?.files?.[0];\r\n  const route = router.resolve(`/project?xlsx=${file.name}`);\r\n  await loadAll(route);\r\n  router.push(route);\r\n};\r\nexport const getDropFileInputRef = computed(() => dropFileInputRef.value);\r\n\r\nexport const getInputFile = computed(\r\n  () => dropFileInputRef.value?.files?.[0]\r\n);\r\n\r\nexport const isXlsxType = (type: string) =>\r\n  type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\r\n\r\nexport const highlightDrop = (e: any) => {\r\n  e.currentTarget.classList.add(\"fileDropHighlight\");\r\n  if (!isXlsxType(e.dataTransfer.items[0].type)) {\r\n    e.currentTarget.classList.add(\"fileDropHighlight--invalid\");\r\n  }\r\n};\r\nexport const unhighlightDrop = (e: any) => {\r\n  e.currentTarget.classList.remove(\r\n    \"fileDropHighlight\",\r\n    \"fileDropHighlight--invalid\"\r\n  );\r\n};\r\n\r\nexport const initDropArea = (e: any) => {\r\n  const dropArea = document.querySelector(\"body\");\r\n  //@ts-ignore\r\n  dropArea.addEventListener(\"dragenter\", onFileDragEnter, false);\r\n  //@ts-ignore\r\n  dropArea.addEventListener(\"dragleave\", onFileDragLeave, false);\r\n  //@ts-ignore\r\n  dropArea.addEventListener(\"dragover\", onFileDragOver, false);\r\n  //@ts-ignore\r\n  dropArea.addEventListener(\"drop\", onFileDrop, false);\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nconst { Parser } = require(\"json2csv\");\r\n\r\nexport const getCSVFromJSON = (json: unknown): string => {\r\n  // const fields = [\"field1\", \"field2\", \"field3\"];\r\n  const opts = {\r\n    excelStrings: false,\r\n    delimiter: \";\",\r\n    quote: '\"',\r\n    includeEmptyRows: true,\r\n    defaultValue: \"\"\r\n  };\r\n  try {\r\n    const parser = new Parser(opts);\r\n    const csv = parser.parse(json);\r\n\r\n    return csv;\r\n  } catch (e) {\r\n    // console.error(e);\r\n    throw e;\r\n  }\r\n};\r\n","import { getCSVFromJSON } from \"@/data-csv\";\r\nimport { getRenamedItemsFromSpreadsheetToCSV } from \"@/data-renamed\";\r\nimport {\r\n  fetchSpreadsheetWorksheets,\r\n  SpreadsheetArgument,\r\n  SpreadsheetWorksheet,\r\n} from \"@/data-spreadsheet\";\r\nimport router from \"@/router\";\r\nimport {\r\n  getNextcloudDownloadUrlFromId,\r\n  getNextcloudFileFromUrl,\r\n  getProjectTypeFromRoute,\r\n  getRouteTypeValue,\r\n  getXlsxWorksheets,\r\n  state,\r\n  dropFileInputRef\r\n} from \"@/store\";\r\nimport { saveAs } from \"file-saver\";\r\nimport type { RouteLocationNormalized } from \"vue-router\";\r\nimport { ProjectGroupNames } from \"./cache\";\r\n\r\nexport const isExportableToCSV = () => {\r\n  const type = getProjectTypeFromRoute(router.currentRoute.value);\r\n  return (\r\n    type === ProjectGroupNames.GOOGLE_SPREADSHEET ||\r\n    type === ProjectGroupNames.XLSX ||\r\n    type === ProjectGroupNames.NEXTCLOUD\r\n  );\r\n};\r\n\r\nexport const exportToCSV = async (route: RouteLocationNormalized) => {\r\n  const id = getRouteTypeValue(route);\r\n  const projectType = getProjectTypeFromRoute(route);\r\n\r\n  if (projectType === ProjectGroupNames.GOOGLE_SPREADSHEET) {\r\n    const worksheets = await fetchSpreadsheetWorksheets(id);\r\n    await exportWorksheetsToCSV(worksheets);\r\n  }\r\n\r\n  if (projectType === ProjectGroupNames.NEXTCLOUD) {\r\n    const url = getNextcloudDownloadUrlFromId(id);\r\n    const file = await getNextcloudFileFromUrl(url);\r\n    const worksheets = await getXlsxWorksheets(file);\r\n    await exportWorksheetsToCSV(worksheets);\r\n  }\r\n\r\n  if (projectType === ProjectGroupNames.XLSX) {\r\n    const inputElement = dropFileInputRef.value;\r\n\r\n    if (inputElement?.files?.length) {\r\n      const file = inputElement.files[0];\r\n      const worksheets = await getXlsxWorksheets(file);\r\n      await exportWorksheetsToCSV(worksheets);\r\n    }\r\n    else {\r\n      console.error(\"Aucun fichier XLSX slectionn.\");\r\n    }\r\n  }\r\n  \r\n};\r\n\r\nexport const exportWorksheetsToCSV = async (\r\n  worksheets: SpreadsheetWorksheet[]\r\n) => {\r\n  const headersLengths: number[] = [];\r\n  const multiCSV: { [key: string]: string } = {};\r\n\r\n  const headerOrder = [\r\n    \"project\",\r\n    \"alternative\",\r\n    \"typesource\",\r\n    \"argument\",\r\n    \"hasexpertise\",\r\n  ];\r\n\r\n  worksheets.forEach((worksheet) => {\r\n    let data = worksheet.data;\r\n    const firstItem = data[0];\r\n    if (worksheet.title === \"parameters\" || !firstItem) {\r\n      return;\r\n    }\r\n\r\n    const headerLength = Object.keys(firstItem).length - 1;\r\n    headersLengths.push(headerLength);\r\n\r\n    if (worksheet.title === \"argument\") {\r\n      data = getRenamedItemsFromSpreadsheetToCSV(data as SpreadsheetArgument[]);\r\n    }\r\n\r\n    const CSV = getCSVFromJSON(data);\r\n    multiCSV[worksheet.title] = CSV;\r\n  });\r\n\r\n  const maxHeaderLength = Math.max(...headersLengths);\r\n  const lineSeparator = \";\".repeat(maxHeaderLength);\r\n\r\n  const sortedMultiCSV = Object.entries(multiCSV)\r\n    .sort(([a], [b]) => headerOrder.indexOf(a) - headerOrder.indexOf(b))\r\n    .reduce((r, [k, v]) => ({ ...r, [k]: v }), {});\r\n\r\n  const mergedCSV = Object.entries(sortedMultiCSV)\r\n    .map(([key, value]) => `\"${key}\"${lineSeparator}\\n${value}\\n${lineSeparator}`)\r\n    .join(\"\\n\");\r\n\r\n  const blob = getAsCSVBlob(mergedCSV);\r\n  saveAs(blob, state.project.name + \".csv\");\r\n};\r\n\r\nexport const getAsFile = (data: any, filename: string) => {\r\n  const blob = getAsCSVBlob(data);\r\n  return new File([blob], filename);\r\n};\r\n\r\nexport const getAsCSVBlob = (data: any) => {\r\n  return new Blob([data], { type: \"text/csv;charset=utf-8;\" });\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nexport * from \"./state\";\r\nexport * from \"./routes\";\r\nexport * from \"./notifications\";\r\nexport * from \"./fetch\";\r\nexport * from \"./items\";\r\nexport * from \"./aims\";\r\nexport * from \"./criterions\";\r\nexport * from \"./alternatives\";\r\nexport * from \"./suboptions\";\r\nexport * from \"./stakeholders\";\r\nexport * from \"./supersets\";\r\nexport * from \"./acceptability\";\r\nexport * from \"./utils\";\r\nexport * from \"./labels\";\r\nexport * from \"./select\";\r\nexport * from \"./spreadsheet\";\r\nexport * from \"./project\";\r\nexport * from \"./filedrop\";\r\nexport * from \"./xlsx\";\r\nexport * from \"./cache\";\r\nexport * from \"./csv\";\r\n\r\nimport { state } from \"./state\";\r\n\r\nimport { NormalizedData, NormalizedArgument } from \"@/@types\";\r\nimport router from \"@/router\";\r\nimport { loadAll } from \"./fetch\";\r\nimport { clearProjectDataCacheFromRoute } from \"./cache\";\r\n\r\nexport const getSearchInput = () => {\r\n  return state.searchInput;\r\n};\r\n\r\nexport const getPropById = function <K extends keyof NormalizedData>(\r\n  prop: K,\r\n  id: number\r\n) {\r\n  return state.data![prop][id];\r\n};\r\n\r\nexport const getUniqueOrBlank = (\r\n  items: NormalizedArgument[],\r\n  prop: keyof NormalizedArgument\r\n) => {\r\n  const arr: NormalizedArgument[] & null[] = [];\r\n  items.forEach((item) => {\r\n    //@ts-ignore\r\n    if (arr.indexOf(item[prop]) === -1) {\r\n      arr.push(item);\r\n    } else {\r\n      arr.push(null);\r\n    }\r\n  });\r\n  return arr;\r\n};\r\n\r\n// Clear all cache except\r\n// export const clearLocalStorageExcept = (excludedKeys: string[]) => {\r\n//   const toRestore: any = {};\r\n//   excludedKeys.forEach(key => {\r\n//     toRestore[key] = localStorage.getItem(key);\r\n//   });\r\n\r\n//   localStorage.clear();\r\n\r\n//   Object.keys(toRestore).forEach(key => {\r\n//     localStorage.setItem(key, toRestore[key]);\r\n//   });\r\n// };\r\n\r\nexport const refreshProject = async () => {\r\n  clearProjectDataCacheFromRoute(router.currentRoute.value);\r\n  await loadAll(router.currentRoute.value);\r\n};\r\n\r\n// DEPRECATED\r\n// export const clearSpreadsheetItemFromCache = (spreadsheetId: string) => {\r\n//   localStorage.removeItem(\"spreadsheet-\" + spreadsheetId);\r\n// };\r\n// export const clearIcoItemFromCache = (projectName: string) => {\r\n//   localStorage.removeItem(\"ico-\" + projectName);\r\n// };\r\n// export const clearApplicationCache = () => {\r\n//   const excludedKeys = [\"recentProjectNames\", \"recentProjectSpreadsheets\"];\r\n//   clearLocalStorageExcept(excludedKeys);\r\n// };\r\n","import { render } from \"./AppBar.vue?vue&type=template&id=23b65734\"\nimport script from \"./AppBar.vue?vue&type=script&lang=js\"\nexport * from \"./AppBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-navigation-drawer v-model=\"state.drawer\" fixed temporary hide-overlay>\r\n    <v-list-item>\r\n      <!-- <v-list-item-content> -->\r\n        <v-list-item-title class=\"title\">\r\n          <router-link to=\"/\">\r\n            <img\r\n              style=\"padding: 2rem 0; width:100%; margin:auto;\"\r\n              :src=\"state.baseUrl + 'logo-mychoice-color.svg'\"\r\n            />\r\n          </router-link>\r\n        </v-list-item-title>\r\n      <!-- </v-list-item-content> -->\r\n    </v-list-item>\r\n\r\n    <v-divider />\r\n\r\n    <v-list nav dense>\r\n      <!-- <v-list-item-group> -->\r\n      <v-item-group>  \r\n        <v-list-item @click=\"handleLoadFile\">\r\n          <!-- <v-list-item-icon> -->\r\n            <v-icon>mdi-upload</v-icon>\r\n          <!-- </v-list-item-icon> -->\r\n          <v-list-item-title>Open local project <small>(.xlsx)</small></v-list-item-title>\r\n        </v-list-item>\r\n\r\n        <v-list-item @click=\"state.openDialog = true\">\r\n          <!-- <v-list-item-icon> -->\r\n            <v-icon>mdi-cloud-upload</v-icon>\r\n          <!-- </v-list-item-icon> -->\r\n          <v-list-item-title>Open online project</v-list-item-title>\r\n        </v-list-item>\r\n      </v-item-group>     \r\n      <!-- </v-list-item-group> -->\r\n\r\n      <v-list-item\r\n        href=\"https://docs.google.com/spreadsheets/d/1Cj5tC6JyLQxCHdtZJ8d9_-FSV9UbHT7AGE3wrLEMlig/copy\"\r\n        target=\"_blank\"\r\n      >\r\n        <!-- <v-list-item-icon> -->\r\n          <v-icon>mdi-plus-circle-outline</v-icon>\r\n        <!-- </v-list-item-icon> -->\r\n        <!-- <v-list-item-content> -->\r\n          <v-list-item-title>Create new project</v-list-item-title>\r\n          <v-list-item-subtitle>from spreadsheet template</v-list-item-subtitle>\r\n        <!-- </v-list-item-content> -->\r\n      </v-list-item>\r\n    </v-list>\r\n\r\n    <v-divider />\r\n\r\n    <!-- <v-subheader>Recent projects</v-subheader> -->\r\n    <v-list-subheader>Recent projects</v-list-subheader>\r\n\r\n    <v-card v-if=\"!hasRecentProjects\" disabled flat tile>\r\n      <v-card-subtitle>No recent projects</v-card-subtitle>\r\n    </v-card>\r\n\r\n    <v-list v-else subheader nav dense>\r\n      <v-list-item\r\n        v-for=\"(value, id) in recentProjects\"\r\n        :key=\"id\"\r\n        :to=\"getHrefFromTypeId({ type: value.type, id: value.id })\"\r\n      >\r\n        <v-list-item-title>{{ value.name || value.id }}</v-list-item-title>\r\n        <!-- <v-list-item-icon v-if=\"value.type === 'googlespreadsheet'\"> -->\r\n          <v-icon v-if=\"value.type === 'googlespreadsheet'\">mdi-google-spreadsheet</v-icon>\r\n        <!-- </v-list-item-icon> -->\r\n      </v-list-item>\r\n    </v-list>\r\n\r\n    <template v-slot:append>\r\n      <div class=\"pa-2\">\r\n        <v-btn\r\n          block\r\n          color=\"red\"\r\n          class=\"white--text\"\r\n          @click=\"refreshProject\"\r\n          :disabled=\"!route.path.includes('project')\"\r\n        >\r\n          <v-icon small class=\"mr-3\">mdi-autorenew</v-icon>\r\n          Refresh project\r\n        </v-btn>\r\n      </div>\r\n\r\n      <v-list nav dense>\r\n        <!-- <v-list-item-group> -->\r\n        <v-item-group>  \r\n          <v-list-item @click=\"state.aboutDialog = true\">\r\n            <v-list-item-title>About</v-list-item-title>\r\n          </v-list-item>\r\n        <!-- </v-list-item-group> -->\r\n        </v-item-group> \r\n      </v-list>\r\n\r\n      <v-divider />\r\n\r\n      <v-footer class=\"flex-grow-1\">\r\n        <Version />\r\n      </v-footer>\r\n    </template>\r\n  </v-navigation-drawer>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport Version from \"@/components/Version.vue\";\r\nimport {\r\n  state,\r\n  exportToCSV,\r\n  getImagePath,\r\n  openIco,\r\n  openSpreadsheet,\r\n  hasRecentProjects,\r\n  refreshProject,\r\n  recentProjects,\r\n  getHrefFromTypeId,\r\n  handleLoadFile,\r\n  isExportableToCSV,\r\n} from \"@/store\";\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    Version,\r\n  },\r\n  setup() {\r\n    const route = useRoute();\r\n\r\n    return {\r\n      state,\r\n      route,\r\n      recentProjects,\r\n      hasRecentProjects,\r\n      getHrefFromTypeId,\r\n      handleLoadFile,\r\n      isExportableToCSV,\r\n      openIco,\r\n      openSpreadsheet,\r\n      getImagePath,\r\n      exportToCSV,\r\n      refreshProject,\r\n    };\r\n  },\r\n});\r\n</script>\r\n","import { render } from \"./Drawer.vue?vue&type=template&id=2465b124\"\nimport script from \"./Drawer.vue?vue&type=script&lang=js\"\nexport * from \"./Drawer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_list_item_action = _resolveComponent(\"v-list-item-action\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_combobox = _resolveComponent(\"v-combobox\")!\n  const _component_v_form = _resolveComponent(\"v-form\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n\n  return (_openBlock(), _createBlock(_component_v_row, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_col, null, {\n        default: _withCtx(() => [\n          _cache[4] || (_cache[4] = _createElementVNode(\"h3\", null, \"From INRAE's server\", -1)),\n          _createVNode(_component_v_row, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_col, {\n                cols: \"12\",\n                class: \"\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_form, {\n                    onSubmit: _cache[1] || (_cache[1] = _withModifiers(($event: any) => {\r\n              _ctx.handleOpenIco(_ctx.state.fields.projectName);\r\n              _ctx.state.openDialog = false;\r\n            }, [\"prevent\"]))\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_combobox, {\n                        items: \r\n                _ctx.recentIcoProjects.map(([key, value]) => ({\r\n                text: value.name,\r\n                value: value}))\r\n              ,\n                        \"item-text\": \"text\",\n                        \"item-value\": \"value\",\n                        label: \"Project name\",\n                        id: \"comboprojectname\",\n                        autocomplete: \"off\",\n                        \"search-input\": _ctx.state.fields.projectName,\n                        outlined: \"\"\n                      }, {\n                        item: _withCtx(({ index, item }) => [\n                          _createVNode(_component_v_list_item, {\n                            to: _ctx.getHrefFromTypeId({type: item.value.type, id: item.value.id})\n                          }, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_v_list_item_title, null, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(_toDisplayString(item.text), 1)\n                                ]),\n                                _: 2\n                              }, 1024),\n                              _createVNode(_component_v_spacer),\n                              _createVNode(_component_v_list_item_action, {\n                                onClick: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n                              }, {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_v_btn, {\n                                    icon: \"\",\n                                    onClick: _withModifiers(($event: any) => (\r\n                        _ctx.removeFromRecentProjects(item.value.type, {id: item.value.id})\r\n                      ), [\"stop\",\"prevent\"])\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createVNode(_component_v_icon, null, {\n                                        default: _withCtx(() => _cache[2] || (_cache[2] = [\n                                          _createTextVNode(\"mdi-close\")\n                                        ])),\n                                        _: 1\n                                      })\n                                    ]),\n                                    _: 2\n                                  }, 1032, [\"onClick\"])\n                                ]),\n                                _: 2\n                              }, 1024)\n                            ]),\n                            _: 2\n                          }, 1032, [\"to\"])\n                        ]),\n                        _: 1\n                      }, 8, [\"items\", \"search-input\"]),\n                      _createVNode(_component_v_btn, {\n                        class: \"ml-auto d-flex\",\n                        color: \"secondary\",\n                        disabled: !_ctx.state.fields.projectName,\n                        type: \"submit\"\n                      }, {\n                        default: _withCtx(() => _cache[3] || (_cache[3] = [\n                          _createTextVNode(\"Open from Ico\")\n                        ])),\n                        _: 1\n                      }, 8, [\"disabled\"])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","<template>\r\n  <v-row>\r\n    <v-col>\r\n      <h3>From INRAE's server</h3>\r\n      <v-row>\r\n        <v-col cols=\"12\" class>\r\n          <v-form\r\n            @submit.prevent=\"\r\n              handleOpenIco(state.fields.projectName);\r\n              state.openDialog = false;\r\n            \"\r\n          >\r\n            <v-combobox\r\n              :items=\"\r\n                recentIcoProjects.map(([key, value]) => ({\r\n                text: value.name,\r\n                value: value}))\r\n              \"\r\n              item-text=\"text\"\r\n              item-value=\"value\"\r\n              label=\"Project name\"\r\n              id=\"comboprojectname\"\r\n              autocomplete=\"off\"\r\n              :search-input.sync=\"state.fields.projectName\"\r\n              outlined\r\n            >\r\n              <template v-slot:item=\"{ index, item }\">\r\n                <v-list-item :to=\"getHrefFromTypeId({type: item.value.type, id: item.value.id})\">\r\n                  <v-list-item-title>{{ item.text }}</v-list-item-title>\r\n                  <v-spacer></v-spacer>\r\n                  <v-list-item-action @click.stop>\r\n                    <v-btn\r\n                      icon\r\n                      @click.stop.prevent=\"\r\n                        removeFromRecentProjects(item.value.type, {id: item.value.id})\r\n                      \"\r\n                    >\r\n                      <v-icon>mdi-close</v-icon>\r\n                    </v-btn>\r\n                  </v-list-item-action>\r\n                </v-list-item>\r\n              </template>\r\n            </v-combobox>\r\n            <v-btn\r\n              class=\"ml-auto d-flex\"\r\n              color=\"secondary\"\r\n              :disabled=\"!state.fields.projectName\"\r\n              type=\"submit\"\r\n              >Open from Ico</v-btn\r\n            >\r\n          </v-form>\r\n        </v-col>\r\n      </v-row>\r\n\r\n\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  \r\n  state,\r\n  getSpreadsheetIdFromUrl,\r\n  \r\n  removeFromRecentProjectNames,\r\n  removeFromRecentProjectSpreadsheets,\r\n  openIco,\r\n  openSpreadsheet,\r\n  isValidNextcloudUrl,\r\n  openNextcloudUrl,\r\n  recentSpreadsheetProjects,recentIcoProjects, recentNextcloudProjects,\r\n  removeFromRecentProjects, getHrefFromTypeId\r\n} from \"@/store\";\r\nimport { computed, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  \r\n\r\n  setup() {\r\n\r\n    const handleOpenIco = async function(value: string) {\r\n      await openIco(value);\r\n      state.fields.projectName = \"\";\r\n    }\r\n    const handleOpenSpreadsheet = async function(value: string) {\r\n      await openSpreadsheet(value);\r\n      state.fields.spreadsheetUrl = \"\";\r\n    }\r\n    const handleOpenNextcloudUrl = async function(value: string) {\r\n      await openNextcloudUrl(value);\r\n      state.fields.nextcloudUrl = \"\";\r\n    }\r\n    const spreadsheetId = computed(() => state.fields.spreadsheetUrl ? getSpreadsheetIdFromUrl(state.fields.spreadsheetUrl): \"\")\r\n\r\n    return  {\r\n      state,\r\n      isValidNextcloudUrl,\r\n      spreadsheetId,\r\n      openNextcloudUrl,\r\n      removeFromRecentProjectSpreadsheets,\r\n      removeFromRecentProjectNames,\r\n      handleOpenIco,\r\n      handleOpenSpreadsheet,\r\n      handleOpenNextcloudUrl, \r\n      recentSpreadsheetProjects,\r\n      recentNextcloudProjects,\r\n      recentIcoProjects,removeFromRecentProjects, getHrefFromTypeId\r\n    }\r\n\r\n  }\r\n});\r\n</script>\r\n","import { render } from \"./OpenDialog.vue?vue&type=template&id=62743f52&ts=true\"\nimport script from \"./OpenDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./OpenDialog.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-card class=\"text-center\">\r\n    <v-card-title class=\"justify-center\">About MyChoice</v-card-title>\r\n    <v-card-text>\r\n      <b>MyChoice</b> is a web application supporting collective decision,\r\n      designed by INRAE.\r\n    </v-card-text>\r\n\r\n    <!-- <v-card-subtitle class=\"subtitle-1\">Credits</v-card-subtitle> -->\r\n    <v-card-text>\r\n      <div>\r\n        <v-divider class=\"my-2\" />\r\n\r\n        <v-card-subtitle class=\"p-0\">Scientific contacts</v-card-subtitle>\r\n\r\n        <!-- <v-row>\r\n      <v-subheader>Credits</v-subheader>\r\n    </v-row>-->\r\n\r\n        <v-row>\r\n          <v-col>\r\n            <b>\r\n              <a href=\"mailto:rallou.thomopoulos@inrae.fr\"\r\n                >Rallou Thomopoulos</a\r\n              >\r\n            </b>\r\n            <br />\r\n            <small>INRAE (IATE lab) / INRIA (GraphIK lab)</small>\r\n          </v-col>\r\n          <v-col>\r\n            <b>\r\n              <a href=\"mailto:julien.cufi@inrae.fr\">Julien Cufi</a>\r\n            </b>\r\n            <br />\r\n            <small>INRAE (IATE lab)</small>\r\n          </v-col>\r\n        </v-row>\r\n        <v-divider class=\"my-2\" />\r\n        <v-card-subtitle>UX &amp; front-end development</v-card-subtitle>\r\n\r\n        <v-row>\r\n          <v-col>\r\n            <b>\r\n              <a href=\"https://maximelebreton.com\" target=\"_blank\"\r\n                >Maxime Le Breton</a\r\n              >\r\n            </b>\r\n            <br />\r\n            <small\r\n              >Independent designer &amp;&nbsp;front-end&nbsp;developer</small\r\n            >\r\n          </v-col>\r\n        </v-row>\r\n\r\n        <v-divider class=\"my-2\" />\r\n        <v-card-subtitle>Other contributors</v-card-subtitle>\r\n\r\n        <v-row>\r\n          <v-col>\r\n            <b>\r\n              Thomas Bosch\r\n            </b>\r\n            <br />\r\n            <small>Former student at IATE lab</small>\r\n          </v-col>\r\n        </v-row>\r\n\r\n        <v-divider class=\"my-2\" />\r\n        <v-row>\r\n          <v-col>\r\n            <a :href=\"state.baseUrl + 'licenses.txt'\" target=\"_blank\"\r\n              >Open source licenses</a\r\n            >\r\n          </v-col>\r\n          <v-col>\r\n            <a :href=\"state.baseUrl + 'Open_source_license_terms.pdf'\" target=\"_blank\"\r\n              >Open source licenses terms</a\r\n            >\r\n          </v-col>\r\n        </v-row>\r\n      </div>\r\n    </v-card-text>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { state } from \"@/store\";\r\nexport default {\r\n  data: () => ({\r\n    state\r\n  })\r\n};\r\n</script>\r\n","import { render } from \"./About.vue?vue&type=template&id=50aedd42\"\nimport script from \"./About.vue?vue&type=script&lang=js\"\nexport * from \"./About.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=4eb78450\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4eb78450&lang=scss\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport 'vuetify/styles'\r\nimport { createVuetify } from 'vuetify'\r\nimport {\r\n  VApp,\r\n  VAppBar,\r\n  VNavigationDrawer,\r\n  VList,\r\n  VListItem,\r\n  VListItemTitle,\r\n  VListItemSubtitle,\r\n  VDivider,\r\n  VBtn,\r\n  VIcon,\r\n  VCard,\r\n  VCardTitle,\r\n  VCardText,\r\n  VDialog,\r\n  VMain,\r\n  VItemGroup,       // pour remplacer VListItemGroup\r\n  VListSubheader,   // pour remplacer VSubheader\r\n  VOverlay,\r\n  VProgressCircular,\r\n  VSnackbar,\r\n  VFooter,\r\n  VContainer,\r\n  VListItemAction,\r\n  VSpacer,\r\n  VCardSubtitle,\r\n  VRow,\r\n  VCol,\r\n  VToolbarTitle,\r\n  VTooltip,\r\n  VAppBarNavIcon,\r\n  VForm,\r\n  VCombobox,\r\n  VImg,\r\n  VAvatar,\r\n  VChip,\r\n  VBadge,\r\n  VExpandTransition,\r\n  VMenu,\r\n  VBtnToggle,\r\n  VToolbar,\r\n  VAutocomplete,\r\n  VTextField,\r\n  VSelect\r\n} from 'vuetify/components'\r\nimport * as directives from 'vuetify/directives'\r\nimport { aliases, mdi } from 'vuetify/iconsets/mdi'\r\n\r\nconst vuetify = createVuetify({\r\n  components: {\r\n    VApp,\r\n    VAppBar,\r\n    VNavigationDrawer,\r\n    VList,\r\n    VListItem,\r\n    VListItemTitle,\r\n    VListItemSubtitle,\r\n    VDivider,\r\n    VBtn,\r\n    VIcon,\r\n    VCard,\r\n    VCardTitle,\r\n    VCardText,\r\n    VDialog,\r\n    VMain,\r\n    VItemGroup,       // pour remplacer VListItemGroup\r\n    VListSubheader,   // pour remplacer VSubheader\r\n    VOverlay,\r\n    VProgressCircular,\r\n    VSnackbar,\r\n    VFooter,\r\n    VContainer,\r\n    VListItemAction,\r\n    VSpacer,\r\n    VCardSubtitle,\r\n    VRow,\r\n    VCol,\r\n    VToolbarTitle,\r\n    VTooltip,\r\n    VAppBarNavIcon,\r\n    VForm,\r\n    VCombobox,\r\n    VImg,\r\n    VAvatar,\r\n    VChip,\r\n    VBadge,\r\n    VExpandTransition,\r\n    VMenu,\r\n    VBtnToggle,\r\n    VToolbar,\r\n    VAutocomplete,\r\n    VTextField,\r\n    VSelect\r\n  },\r\n  directives,\r\n  icons: {\r\n    defaultSet: 'mdi',\r\n    aliases,\r\n    sets: { mdi },\r\n  },\r\n})\r\n\r\nexport default vuetify\r\n// Vue.use(Vuetify);\r\n\r\n// export default new Vuetify({\r\n//   theme: {\r\n//     themes: {\r\n//       light: {\r\n//         primary: \"#4F4F4F\",\r\n//         secondary: \"#00A3A6\"\r\n//         // secondary: \"#b0bec5\",\r\n//         // accent: \"#8c9eff\",\r\n//         // error: \"#b71c1c\"\r\n//       }\r\n//     }\r\n//   }\r\n// });\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { App } from 'vue';\r\nimport Highlighter from 'vue-highlight-words';\r\n\r\n  export default {\r\n    install(app: App) {\r\n      app.component('TextHighlight', Highlighter);\r\n    },\r\n  };","import { setRecentProjectsState } from \".\";\r\n\r\nexport const onAppInit = async () => {\r\n  setRecentProjectsState();\r\n};\r\n\r\nexport const onProjectLoad = () => {};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { createApp } from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport vuetify from './plugins/vuetify';\r\nimport textHighlight from './plugins/text-highlight';\r\nimport 'roboto-fontface/css/roboto/roboto-fontface.css';\r\nimport '@mdi/font/css/materialdesignicons.css';\r\n\r\nimport { onAppInit } from './store/events';\r\n\r\n(async () => {\r\n  await onAppInit();\r\n\r\n  const app = createApp(App);\r\n  app.use(router);\r\n  app.use(vuetify);\r\n  app.use(textHighlight); //  Enregistre TextHighlight globalement\r\n  app.mount('#app');\r\n})();\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmy_choice\"] = self[\"webpackChunkmy_choice\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(1946); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createBlock","_component_v_app","style","default","_withCtx","_createVNode","_component_AppBar","_component_Drawer","_createElementVNode","ref","accept","type","onChange","_cache","_ctx","onFileChange","apply","arguments","_component_v_main","_component_router_view","_","_component_v_dialog","modelValue","state","openDialog","$event","_component_v_card","_component_v_card_title","_hoisted_1","_component_v_icon","_createTextVNode","_component_v_card_text","_component_OpenDialog","aboutDialog","_component_About","_component_v_overlay","value","overlay","_component_v_progress_circular","indeterminate","size","_component_v_snackbar","top","color","isNotification","_createElementBlock","_Fragment","_renderList","notifications","notification","index","key","_toDisplayString","message","_component_v_btn","small","outlined","onClick","refreshProject","isError","timeout","getErrors","innerHTML","getErrorMessage","_hoisted_2","text","clearErrors","_component_v_app_bar","elevation","dark","app","_component_v_app_bar_nav_icon","_withModifiers","drawer","_component_v_toolbar_title","project","$options","isProjectRoute","title","name","switchToView","_createCommentVNode","spreadsheet","_component_v_tooltip","bottom","activator","_ref","on","icon","target","href","concat","getSpreadsheetLink","_mergeProps","_toHandlers","_component_router_link","to","src","baseUrl","_hoisted_3","_component_v_spacer","_hoisted_4","_hoisted_5","DEFAULTS","mode","globalCardType","searchInput","selectedSuperset","selectedSupersets","selectedAims","selectedCriterions","selectedStakeholders","compareDialog","dialog","selectedView","data","creditsDialog","dropFileInputRef","reactive","vm","process","modes","consensus","interplay","prospective","expertise","icons","subOption","compare","errors","FAILED_TO_FETCH_SPREADSHEET","FAILED_TO_FETCH_ICO","snackbar","fields","projectName","spreadsheetUrl","nextcloudUrl","errorMessages","recentProjects","recentProjectNames","localStorage","JSON","parse","recentProjectSpreadsheets","clearAppDataAndProject","clearAppMode","clearAll","clearAppFilters","clearAppDialogs","splice","getImagePath","url","regex","RegExp","isAbsoluteUrl","test","isSpreadsheet","computed","$route","query","isLoading","isEmptyProject","spreadsheetId","is1stLevelStakeholdersMode","showOverlay","hideOverlay","watch","newValue","oldValue","recentSpreadsheetProjects","Object","entries","filter","_ref2","_slicedToArray","recentIcoProjects","_ref3","_ref4","recentNextcloudProjects","_ref5","_ref6","_hoisted_6","_hoisted_7","_hoisted_8","render","$props","$setup","$data","_resolveComponent","_component_v_card_subtitle","_component_v_img","_component_v_avatar","_component_v_list_item","_component_v_col","_component_v_row","_component_v_container","_component_Empty","_openBlock","tile","height","image","alternativesIds","alternativeId","getAlternatives","description","light","getRouteProjectId","defineComponent","setup","__exports__","routeName","getFilteredItemsBy","components","Empty","cols","justify","sm","lg","align","controls","width","handleLoadFile","_component_v_list_subheader","disabled","length","flat","_component_v_list","getHrefFromTypeId","id","_component_v_list_item_title","pos","_component_v_list_item_action","removeFromRecentProjects","_component_v_footer","_component_Version","version","Version","fluid","_component_Header","_component_TableList","fab","absolute","left","_component_v_badge","badge","_component_SupersetCard","superset","_component_v_expand_transition","_component_TableListHead","_component_TableListFoot","_component_TableListCriterion","_component_TableListAim","_component_TableListAlternative","c_criterionsIds","criterionId","getAimsBy","aim","_withDirectives","_vShow","getFilteredCriterions","includes","getFilteredAims","subOptionsIds","subOptionId","getFilteredItems","colspan","criterion","alternative","alternatives","tablelistfoot","getAllItems","pluralize","totalAcceptability","_component_ScoreIcon","score","_component_v_chip","getColorName","getAcceptabilityName","props","Number","getAcceptabilityFromAlternativeId","getWeightedAcceptability","getSubOptions","ScoreIcon","_component_Acceptability","_component_ItemsCount","c_alternativesIds","aimsItems","items","count","totalItems","acceptability","Array","Boolean","_toRefs","toRefs","getAcceptabilityFromProCon","methods","obj","forEach","values","reduce","acc","Acceptability","ItemsCount","rowspan","c_criterions","criterionItems","_normalizeClass","getLabels","getCardsByStakeholder","_component_TableListCard","label","property","toggleSuperset","_component_text_highlight","queries","getStakeholderName","stakeholder","findSuperset","addSupersetInSelection","removeSupersetInSelection","condition","getItemsBy","this","item","TableListCard","sortBy","getUniqueFilteredLabelsBy","getItems","getFilteredItemsGroupByProp","stickyElements","root","container","yEnd","xStart","xEnd","yStart","xShadow","yShadow","stickyRects","addTableListStickyEvent","element","rootMargin","callback","observer","IntersectionObserver","threshold","observe","saveStickyRects","getBoundingClientRect","initStickyElements","document","querySelector","resizeYTableListShadow","setAttribute","resizeXTableListShadow","right","initTableListStickyEvents","e","classList","toggle","intersectionRatio","handleStickyTableResize","setStickyTable","criterionsIds","aimsIds","mounted","$nextTick","created","window","addEventListener","destroyed","removeEventListener","TableListCriterion","TableListHead","TableListFoot","TableListAlternative","TableListAim","_component_v_menu","_component_v_btn_toggle","_component_v_select","_component_v_toolbar","_component_v_autocomplete","_component_v_text_field","mandatory","$router","currentRoute","menu","attrs","tooltip","getSelectModes","solo","clearable","orderByPropName","getSelectStakeholders","multiple","hint","autocomplete","getSelectCriterions","getSelectAims","onInput","debounceInput","clearSearch","slot","debounce","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","loadAll","stop","_normalizeStyle","getAlternativeName","getCriterionName","getAimName","_component_v_divider","textContent","supersetItems","duplicateGroups","_component_superset_card_item","duplicatesCount","_component_v_card_actions","unselectSuperset","ripple","openMe","open","source","assertion","explanation","_hoisted_9","date","_hoisted_10","formatDate","getCriterionById","map","SupersetCardItem","getDuplicatesGroups","Header","TableList","SupersetCard","_component_PropertyListRow","_component_v_simple_table","getAlternativeById","getNormalizedItemsByUniqueItemProp","_component_PropertiesListCriterion","hasMany","showDetails","aimItems","row","getAimsCountFromAimsAndCriterion","getAimsFromItems","argument","getAimById","filterItemsBy","uniqBy","countBy","getSubOptionById","normalizeByAlternative","PropertiesListCriterion","setHeight","tableFilters","tableFiltersRect","innerHeight","PropertyListRow","updated","_component_StakeholderListRow","aimItem","aimIndex","stakeholderItem","stakeholderIndex","alternativeIndex","stakeholderItems","StakeholderListRow","routes","path","component","Home","Main","Project","Properties","Stakeholders","router","createRouter","history","createWebHistory","beforeEach","from","_x","_x2","_x3","afterEach","_callee2","toProjectType","fromProjectType","toProjectId","fromProjectId","isSameProject","_to$meta","_context2","startsWith","getProjectTypeFromRoute","getRouteTypeValue","loadProject","meta","setDocumentTitle","_x4","_x5","PROJECT_TYPE_ROUTES","_callee3","route","_context3","ICO","GOOGLE_SPREADSHEET","NEXTCLOUD","t0","console","info","clearProjectDataCacheFromRoute","push","projectNameRouteQuery","spreadsheetIdRouteQuery","nextcloudIdRouteQuery","XLSX","errorName","keys","error","dayjs","customParseFormat","ProjectGroupNames","MyChoiceError","_Error","_classCallCheck","_len","args","_key","_callSuper","Error","captureStackTrace","constructor","stack","_inherits","_createClass","_wrapNativeSuper","setError","errorValue","format","getRange","min","max","range","isFinite","list","propName","sort","a","b","sortObject","o","r","k","str","object","match","suffix","undefined","formatted","exec","lastIndex","replace","wordToPluralize","linkedVar","plural","gsheets","require","getSpreadsheet","response","result","fetch","sent","json","abrupt","fetchSpreadsheetWorksheets","worksheets","promises","refs","sheets","worksheet","properties","getWorksheet","Promise","all","hasExpectedProperties","resolve","reject","lastTestedProp","hasAll","every","prop","prototype","hasOwnProperty","call","isValidWorkSheet","worksheetsExpectedProps","firstWorksheetItem","then","checkEmptyArguments","line","String","checkUniqueAimsHasUniqueCriterions","aims","nameCriterion","_ref7","join","getRenamedSpreadsheetItems","_ref8","_callee4","argumentWorksheet","rawSpreadsheetItems","spreadsheetItems","_context4","find","typeProCon","renamedItem","idArgument","favorable","sourceType","toString","_objectSpread","getRenamedSpreadsheetProject","_ref9","_callee5","projectWorksheet","spreadsheetProject","alternativeWorksheet","spreadsheetAlternatives","renamedAlternatives","expertiseWorksheet","spreadsheetExpertises","renamedExpertiseEntities","sourceTypeWorksheet","spreadsheetSourceType","renamedSourceTypeEntities","renamedProject","_context5","iconAlternative","t1","nameAlternative","imageAlternative","nameStakeHolder","fiability","nameTypeSource","nameProject","expertiseEntities","sourceTypeEntities","_x6","getSpreadsheetData","renamedSpreadsheetItems","getSpreadsheetIdFromUrl","matches","getIcoRenamedProject","sourceProject","stakeholders","nameStakeholder","criterions","renamedAlternative","typeSource","hasExpertise","getIcoRenamedItems","sourceArguments","nameProperty","nameSource","getEquivalentTable","equivalentTable","csv","server","isProspective","getEquivalentAppPropFromSource","findKey","getEquivalentSourcePropFromApp","equivalent","getRenamedItemPropFromTo","appProperty","toProperty","getRenamedItemsFromSpreadsheetToCSV","v","renamedProp","getPropertyUniqueValues","allValues","uniq","getCriterions","getAimsWithParentCriterion","allAimsTuples","aimsTuples","joinTuple","tuple","aimId","getIdFrom","getStakeholders","getProperties","array","getPropertyValueTuples","allPropertyValueTuples","propertyValueTuples","normalizeArray","normalizeAlternatives","split","pop","parseItems","toLowerCase","getNormalizedSubsets","normalizedCriterions","normalizedAlternatives","normalizedStakeholders","normalizedAims","normalizedItems","getNormalizedData","_getNormalizedSubsets","normalizedData","labels","subOptions","getInterplayItems","propertyGroups","groupBy","propertyGroupsWithMultipleAims","groupItems","aimGroups","interplayItems","flatten","getMultiStakholderItems","aimGroupsWithMultipleStakeholders","stakeholderGroups","multiStakeholderItems","filterDataAsExpertise","expertiseArguments","some","entity","filterDataAsReliability","prospectiveArguments","filterDataAsProspective","filterDataAsInterplay","filterDataAsMultiStakeholder","isValidNextcloudUrl","getNextcloudDownloadUrlFromId","nextcloudId","getNextcloudFileFromUrl","downloadUrl","blob","file","getNextcloudIdFromUrl","File","getNextcloudDataFromUrl","geXlsxData","setDataFromXlsxFile","clear","setData","openXlsxFromFile","getJsonFromXlsx","xlsxParser","_x7","getXlsxWorksheets","_callee6","_context6","_x8","_callee7","_context7","_x9","openSpreadsheet","routeParams","_defineProperty","openIco","openNextcloudUrl","getIcoData","icoId","_yield$Promise$all","_yield$Promise$all2","getIcoProjectData","getIcoItemsData","t2","t3","projectSource","fetchIcoProject","dataSource","fetchIcoData","rawItems","rawProject","parsedData","interplayData","normalizedInterplayData","freeze","prospectiveData","normalizedProspectiveData","reliabilityData","normalizedReliabilityData","expertiseData","normalizedExpertiseData","multiStakeholderData","normalizedMultiStakeholderData","initialCacheState","projects","LOCAL_STORAGE_CACHE_KEY","getLocalStorageCache","getItem","getProjectsCache","getProjectFromCache","setLocalStorageCache","setItem","stringify","updateLocalStorageCache","toMerge","currentCache","mergedCache","merge","removeFromLocalStorageCache","cache","updatedCache","omit","updateProjectCache","projectItem","saveProjectToCache","getRecentProjectsByTypeFromCache","getAsFlattenProjects","typeId","itemId","itemValue","itemFullId","getProjectFullId","hasRecentProjects","setRecentProjectsState","getProjectsSortedByDate","i","recentProjectsArray","saveToRecentProjects","isProjectInCache","Date","now","_ref0","isProjectExist","removeProjectFromCache","removeProjectDataFromCache","isProjectCached","getProjectDataCacheFromRoute","getProjectCacheFromRoute","setProjectCache","_getProjectCacheFromR","removeFromRecentProjectNames","removeFromRecentProjectSpreadsheets","getIcoApiUrl","projectId","warn","getRouteTypeFromProjectType","loadSpreadsheetFromRoute","loadIcoFromRoute","loadNextcloudFromRoute","routeType","params","matched","fullPath","hash","redirectedFrom","fileInput","files","_x0","getAlternativesAsArray","getAims","getAimsAsArray","filterItemsByValue","payload","input","filteredItems","normalizeByAim","itemProp","filtered","normalizedObject","itemPropValue","stakeholdersIds","stakeholderId","getPayloadHash","ordered","getSelectedSupersets","selectSuperset","string","indexOf","stringifiedObject","roundNumber","number","Math","round","rounded","alternativeSums","alternativeAcceptability","j","alternativeWeigths","getWeightByAlternativeV2","alternativeWeight","l","sums","sumArray","numberOrNull","isNaN","alternativeItems","pro","con","proCount","totalCount","noItemsAtAll","noItemsForThisAlternative","weight","arrayToSum","filterLabelsBy","_dropFileInputRef$val","click","preventDefaults","preventDefault","stopPropagation","onFileDragEnter","highlightDrop","onFileDragLeave","unhighlightDrop","onFileDragOver","onFileDrop","dataTransfer","_dropFileInputRef$val2","isXlsxType","_dropFileInputRef$val3","currentTarget","add","remove","initDropArea","dropArea","_require","Parser","getCSVFromJSON","opts","excelStrings","delimiter","quote","includeEmptyRows","defaultValue","parser","isExportableToCSV","exportToCSV","projectType","_worksheets","_inputElement$files","inputElement","_file","_worksheets2","exportWorksheetsToCSV","headersLengths","multiCSV","headerOrder","maxHeaderLength","lineSeparator","sortedMultiCSV","mergedCSV","firstItem","headerLength","CSV","repeat","getAsCSVBlob","saveAs","Blob","_component_v_navigation_drawer","fixed","temporary","append","block","nav","dense","_component_v_item_group","_component_v_list_item_subtitle","subheader","useRoute","_component_v_combobox","_component_v_form","onSubmit","handleOpenIco","handleOpenSpreadsheet","handleOpenNextcloudUrl","Drawer","OpenDialog","AppBar","About","onMounted","get","set","vuetify","createVuetify","VApp","VAppBar","VNavigationDrawer","VList","VListItem","VListItemTitle","VListItemSubtitle","VDivider","VBtn","VIcon","VCard","VCardTitle","VCardText","VDialog","VMain","VItemGroup","VListSubheader","VOverlay","VProgressCircular","VSnackbar","VFooter","VContainer","VListItemAction","VSpacer","VCardSubtitle","VRow","VCol","VToolbarTitle","VTooltip","VAppBarNavIcon","VForm","VCombobox","VImg","VAvatar","VChip","VBadge","VExpandTransition","VMenu","VBtnToggle","VToolbar","VAutocomplete","VTextField","VSelect","directives","defaultSet","aliases","sets","mdi","install","Highlighter","onAppInit","createApp","App","use","textHighlight","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","n","getter","__esModule","d","definition","defineProperty","enumerable","g","globalThis","Function","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}