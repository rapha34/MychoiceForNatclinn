(function(){var e={5186:function(e,t,a){"use strict";var r=a(3751),l=a(641),s=a(33);function i(e,t,a,r,i,n){const o=(0,l.g2)("AppBar"),c=(0,l.g2)("Drawer"),d=(0,l.g2)("router-view"),u=(0,l.g2)("v-main"),p=(0,l.g2)("v-icon"),m=(0,l.g2)("v-card-title"),h=(0,l.g2)("OpenDialog"),v=(0,l.g2)("v-card-text"),g=(0,l.g2)("v-card"),f=(0,l.g2)("v-dialog"),b=(0,l.g2)("About"),k=(0,l.g2)("v-progress-circular"),y=(0,l.g2)("v-overlay"),C=(0,l.g2)("v-btn"),x=(0,l.g2)("v-snackbar"),w=(0,l.g2)("v-app");return(0,l.uX)(),(0,l.Wv)(w,{class:"bg-grey-lighten-4"},{default:(0,l.k6)((()=>[(0,l.bF)(o),(0,l.bF)(c),(0,l.Lk)("input",{type:"file",ref:"dropFileInputRef",accept:".xlsx",style:{display:"none"},onChange:t[0]||(t[0]=(...t)=>e.onFileChange&&e.onFileChange(...t))},null,544),(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(d)])),_:1}),(0,l.bF)(f,{modelValue:e.state.openDialog,"onUpdate:modelValue":t[1]||(t[1]=t=>e.state.openDialog=t),"max-width":"600"},{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(m,{class:"d-flex align-center"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{class:"mr-2"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("mdi-cloud-upload")]))),_:1}),t[6]||(t[6]=(0,l.Lk)("span",null,"Open online project",-1))])),_:1}),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(h)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)(f,{modelValue:e.state.aboutDialog,"onUpdate:modelValue":t[2]||(t[2]=t=>e.state.aboutDialog=t),"max-width":"600"},{default:(0,l.k6)((()=>[(0,l.bF)(b)])),_:1},8,["modelValue"]),(0,l.bF)(y,{"model-value":e.state.overlay,class:"d-flex justify-center align-center","z-index":"3"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{indeterminate:"",size:"64",color:"primary"})])),_:1},8,["model-value"]),(0,l.bF)(x,{modelValue:e.isNotification,"onUpdate:modelValue":t[3]||(t[3]=t=>e.isNotification=t),color:"info",location:"top"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{class:"mr-2"},{default:(0,l.k6)((()=>t[7]||(t[7]=[(0,l.eW)("mdi-information")]))),_:1}),(0,l.Lk)("div",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.notifications,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t},(0,s.v_)(e.message),1)))),128))])])),actions:(0,l.k6)((()=>[(0,l.bF)(C,{variant:"outlined",size:"small",onClick:e.refreshProject},{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.eW)("Refresh")]))),_:1},8,["onClick"])])),_:1},8,["modelValue"]),(0,l.bF)(x,{modelValue:e.isError,"onUpdate:modelValue":t[4]||(t[4]=t=>e.isError=t),color:"error",timeout:"0","multi-line":""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.getErrors,((t,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a},(0,s.v_)(e.getErrorMessage(t)),1)))),128))])),actions:(0,l.k6)((()=>[(0,l.bF)(C,{variant:"text",onClick:e.clearErrors},{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.eW)("Close")]))),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1})}a(8111),a(3579);var n=a(953),o=a(5220);a(4114),a(7588),a(2489);const c={mode:"consensus",globalCardType:"label",searchInput:"",selectedSuperset:"",selectedSupersets:[],selectedAims:[],selectedCriterions:[],selectedStakeholders:[],compareDialog:!1,dialog:!1,openDialog:!1,spreadsheet:null,selectedView:"table-view",data:null,project:null,aboutDialog:!1,creditsDialog:!1},d=(0,n.KR)(null),u=(0,n.Kh)({vm:null,notifications:[],baseUrl:"/",selectedView:c.selectedView,spreadsheet:c.spreadsheet,data:c.data,project:c.project,searchInput:c.searchInput,selectedSuperset:c.selectedSuperset,selectedSupersets:c.selectedSupersets,selectedAims:c.selectedAims,selectedCriterions:c.selectedCriterions,selectedStakeholders:c.selectedStakeholders,mode:c.mode,modes:{consensus:{name:"Consensus"},interplay:{name:"Interplay"},prospective:{name:"Prospective"},expertise:{name:"Expertise"},"data-reliability":{name:"Data reliability"},"multi-stakeholder":{name:"Multi Stakeholder"}},globalCardType:"label",chartFilters:{selectedAlternative:"all-merged",analysisPer:"criteria",selectedCriterion:""},dialog:c.dialog,compareDialog:c.compareDialog,openDialog:c.openDialog,aboutDialog:c.aboutDialog,creditsDialog:c.creditsDialog,icons:{subOption:{1:"mdi-emoticon-happy-outline",2:"mdi-emoticon-sad-outline"},compare:"mdi"},overlay:!1,drawer:!1,errors:{FAILED_TO_FETCH_SPREADSHEET:!1,FAILED_TO_FETCH_ICO:!1},snackbar:!1,fields:{projectName:"",spreadsheetUrl:"",nextcloudUrl:""},errorMessages:{FAILED_TO_FETCH_SPREADSHEET:"The Spreadsheet isn't published or doesn't exist",FAILED_TO_FETCH_ICO:"This project name doesn't exist (note: name is case-sensitive)"},recentProjects:[],recentProjectNames:localStorage.recentProjectNames&&null!==JSON.parse(localStorage.recentProjectNames)?JSON.parse(localStorage.recentProjectNames):{},recentProjectSpreadsheets:localStorage.recentProjectSpreadsheets&&null!==JSON.parse(localStorage.recentProjectSpreadsheets)?JSON.parse(localStorage.recentProjectSpreadsheets):{}}),p=()=>{u.data=c.data,u.project=c.project,u.spreadsheet=c.spreadsheet},m=()=>{u.mode=c.mode},h=()=>{p(),g(),m(),v()},v=()=>{u.selectedSuperset=c.selectedSuperset,u.selectedSupersets.splice(0),u.compareDialog=c.compareDialog,u.dialog=c.dialog,u.openDialog=c.openDialog},g=()=>{u.searchInput=c.searchInput,u.selectedAims=c.selectedAims,u.selectedCriterions=c.selectedCriterions,u.selectedStakeholders=c.selectedStakeholders},f=e=>{const t=new RegExp("^(?:[a-z]+:)?//","i"),a=t.test(e);return a?e:"hhttp://localhost:8080/img/"+u.project.name+"/"+e},b=(0,l.EW)((()=>!!(u.vm&&u.vm.$route&&u.vm.$route.query&&u.vm.$route.query.spreadsheet))),k=((0,l.EW)((()=>u.vm&&u.vm.$route?u.vm.$route:null)),(0,l.EW)((()=>u.overlay))),y=(0,l.EW)((()=>null===u.project)),C=e=>`https://docs.google.com/spreadsheets/d/${e}`,x=((0,l.EW)((()=>u.project&&u.project.name?u.project.name:null)),(0,l.EW)((()=>"stakeholder"===u.globalCardType))),w=(0,l.EW)((()=>u.selectedSupersets)),E=()=>{u.overlay=!0},F=()=>{u.overlay=!1};(0,l.wB)((()=>u.globalCardType),((e,t)=>{e!==t&&v()}));const _=(0,l.EW)((()=>Object.entries(u.recentProjects).filter((([e,{type:t}])=>"googlespreadsheet"===t)))),L=(0,l.EW)((()=>Object.entries(u.recentProjects).filter((([e,{type:t}])=>"ico"===t)))),A=(0,l.EW)((()=>Object.entries(u.recentProjects).filter((([e,{type:t}])=>"nextcloud"===t)))),I={class:"d-flex flex-column align-center justify-center h-100 text-white text-center px-4"},S={class:"text-h3 mb-2"},W={class:"d-flex flex-wrap justify-center"},O={key:0,class:"mx-2 text-caption font-weight-light my-span-vs"},X={class:"d-flex align-center mx-2"},j={class:"text-center my-4 mt-n6"},P={class:"text-body-1"},T={class:"d-flex flex-wrap justify-center"},M={key:0,class:"d-flex align-center mx-4"},D={class:"text-h6 font-weight-bold mb-1"},R=["src"];function N(e,t,a,r,i,n){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("v-img"),d=(0,l.g2)("v-btn"),u=(0,l.g2)("v-card-text"),p=(0,l.g2)("v-avatar"),m=(0,l.g2)("v-list-item"),h=(0,l.g2)("v-card"),v=(0,l.g2)("v-col"),g=(0,l.g2)("v-row"),f=(0,l.g2)("v-container"),b=(0,l.g2)("Empty");return(0,l.uX)(),(0,l.Wv)(h,{class:"flex-grow-1 bg-grey-lighten-4"},{default:(0,l.k6)((()=>[e.state.project?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.bF)(c,{class:"align-center my-v-img","max-height":"300",width:"100%",src:e.getImagePath(e.state.project.image),cover:""},{default:(0,l.k6)((()=>[(0,l.Lk)("div",I,[(0,l.Lk)("h1",S,(0,s.v_)(e.state.project.name),1),t[1]||(t[1]=(0,l.Lk)("div",{class:"text-h6 font-weight-light mb-2"}," The alternatives discussed in the project are: ",-1)),(0,l.Lk)("div",W,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.alternativesIds,((t,a)=>((0,l.uX)(),(0,l.CE)(l.FK,{key:t},[0!==a?((0,l.uX)(),(0,l.CE)("span",O,"VS")):(0,l.Q3)("",!0),(0,l.Lk)("div",X,[(0,l.bF)(o,{class:"me-1"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.getAlternatives[t].icon),1)])),_:2},1024),(0,l.Lk)("span",null,(0,s.v_)(e.getAlternatives[t].name),1)])],64)))),128))])])])),_:1},8,["src"]),(0,l.Lk)("div",j,[(0,l.bF)(d,{onClick:t[0]||(t[0]=t=>e.switchToView("global-view")),size:"x-large",color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)(" Open "+(0,s.v_)(e.state.project.name)+" project ",1)])),_:1})]),(0,l.bF)(f,{style:{"max-width":"1200px"}},{default:(0,l.k6)((()=>[(0,l.bF)(u,{class:"text-primary text-center"},{default:(0,l.k6)((()=>[(0,l.Lk)("p",P,(0,s.v_)(e.state.project.description),1)])),_:1}),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{style:{"overflow-x":"auto","text-align":"center"}},{default:(0,l.k6)((()=>[(0,l.Lk)("div",T,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.alternativesIds,((a,r)=>((0,l.uX)(),(0,l.CE)(l.FK,{key:"card-"+a+r},[0!==r?((0,l.uX)(),(0,l.CE)("div",M,t[2]||(t[2]=[(0,l.Lk)("small",{class:"text-grey-darken-1 font-weight-bold text-h6"},"VS",-1)]))):(0,l.Q3)("",!0),(0,l.bF)(h,{"min-width":"280","max-width":"320",class:"mx-2 mb-4",variant:"outlined"},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",D,[(0,l.bF)(o,{class:"text-primary me-2"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.getAlternatives[a].icon),1)])),_:2},1024),(0,l.eW)(" "+(0,s.v_)(e.getAlternatives[a].name),1)]),(0,l.bF)(p,{size:"56",color:"grey"},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{src:e.getImagePath(e.getAlternatives[a].image)},null,8,R)])),_:2},1024)])),_:2},1024),(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.Lk)("p",null,(0,s.v_)(e.getAlternatives[a].description),1)])),_:2},1024)])),_:2},1024)],64)))),128))])])),_:1})])),_:1}),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.Lk)("div",{class:"mt-6"},[(0,l.Lk)("h2",{class:"text-h6 font-weight-bold"},"Disclaimer"),(0,l.Lk)("ul",{class:"text-caption ps-4"},[(0,l.Lk)("li",null," The authors and publisher of the software cannot be held liable in any way for the consequences that may result from the use or interpretation of the information processed by the MyChoice software... "),(0,l.Lk)("li",null,[(0,l.eW)(" By using the MyChoice software, users agree to explicitly cite the tool (home page "),(0,l.Lk)("a",{href:"https://ico.iate.inra.fr/MyChoice/",target:"_blank"},"https://ico.iate.inra.fr/MyChoice/"),(0,l.eW)(")... ")])])],-1)]))),_:1})])),_:1})])),_:1})],64)):((0,l.uX)(),(0,l.Wv)(b,{key:1}))])),_:1})}const H={key:0,class:"d-flex flex-column align-center justify-center flex-grow-1",style:{"min-height":"100%"}},$={class:"mb-5"},B={key:0},V=["href"];function q(e,t,a,r,i,n){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("v-btn"),d=(0,l.g2)("v-container"),u=(0,l.g2)("v-card");return e.isEmptyProject&&!e.isLoading?((0,l.uX)(),(0,l.CE)("div",H,[(0,l.bF)(u,{color:"transparent",class:"text-center",elevation:"0"},{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.Lk)("h4",$,[e.isSpreadsheet?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("span",B,(0,s.v_)(e.getRouteProjectId),1)),e.isSpreadsheet?((0,l.uX)(),(0,l.CE)("a",{key:1,target:"_blank",href:e.getSpreadsheetLink(e.getRouteProjectId)},(0,s.v_)(e.getRouteProjectId),9,V)):(0,l.Q3)("",!0),e.isSpreadsheet?((0,l.uX)(),(0,l.Wv)(o,{key:2,class:"ml-2"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("mdi-google-spreadsheet")]))),_:1})):(0,l.Q3)("",!0)]),(0,l.bF)(c,{onClick:e.refreshProject},{default:(0,l.k6)((()=>[(0,l.bF)(o,{size:"small",class:"mr-3"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)("mdi-autorenew")]))),_:1}),t[2]||(t[2]=(0,l.eW)("Refresh project "))])),_:1},8,["onClick"])])),_:1})])),_:1})])):(0,l.Q3)("",!0)}var U=(0,l.pM)({setup(){return{getSpreadsheetLink:C,isSpreadsheet:b,getRouteProjectId:Us,state:u,refreshProject:wc,isLoading:k,isEmptyProject:y}}}),z=a(6262);const K=(0,z.A)(U,[["render",q]]);var Q=K,G=(0,l.pM)({components:{Empty:Q},setup(){return{state:u,getImagePath:f,getFilteredItemsBy:_o,switchToView:Hs,alternativesIds:(0,l.EW)((()=>eo())),getAlternatives:(0,l.EW)((()=>Jn()))}}});const Y=(0,z.A)(G,[["render",N],["__scopeId","data-v-19fbed7c"]]);var J=Y;const Z={class:"page-bg bg-grey-lighten-4"},ee={class:"page-container page-container--home"},te={class:"text-left mb-6"},ae=["src"],re={class:"my-6 d-flex justify-center"},le={class:"v-footer v-theme--mychoiceTheme",style:{height:"auto"}};function se(e,t,a,i,n,o){const c=(0,l.g2)("v-responsive"),d=(0,l.g2)("v-sheet"),u=(0,l.g2)("v-col"),p=(0,l.g2)("v-btn"),m=(0,l.g2)("v-list-subheader"),h=(0,l.g2)("v-card-text"),v=(0,l.g2)("v-list-item-title"),g=(0,l.g2)("v-icon"),f=(0,l.g2)("v-list-item"),b=(0,l.g2)("v-list"),k=(0,l.g2)("v-card"),y=(0,l.g2)("v-row"),C=(0,l.g2)("Version");return(0,l.uX)(),(0,l.CE)("div",Z,[(0,l.Lk)("div",ee,[(0,l.bF)(y,{class:"page-row py-6",justify:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{cols:"12",sm:"8",lg:"8"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{elevation:"0",class:"pa-0","max-width":"100%"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",te,[(0,l.Lk)("img",{src:e.state.baseUrl+"logo-mychoice-color.svg",style:{"max-width":"240px",width:"100%"},alt:"MyChoice Logo"},null,8,ae)]),t[2]||(t[2]=(0,l.Lk)("p",null,[(0,l.Lk)("b",null,"MyChoice"),(0,l.eW)(" is a web application supporting collective decision, designed by INRAE. The software enables project participants to: ")],-1)),t[3]||(t[3]=(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,"Analyze, compare and assess stakeholders' attitudes towards different alternatives."),(0,l.Lk)("li",null,"Review explanatory arguments stemming from various sources and reflecting different concerns."),(0,l.Lk)("li",null,"Explain the criteria, aims and features pursued."),(0,l.Lk)("li",null,"Highlight potential synergies or competing concerns."),(0,l.Lk)("li",null,"Propose different modes of decision support (expert, consensual, prospective, etc.).")],-1)),(0,l.Lk)("div",re,[(0,l.bF)(c,{"aspect-ratio":"16/9",style:{"max-width":"600px",width:"100%"}},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.Lk)("video",{controls:"",style:{width:"100%",height:"100%"}},[(0,l.Lk)("source",{src:"presentation_mychoice.mp4"}),(0,l.eW)(" Your browser does not support the "),(0,l.Lk)("code",null,"video"),(0,l.eW)(" element. ")],-1)]))),_:1})]),t[4]||(t[4]=(0,l.Lk)("h6",{class:"text-overline mb-2"},"References",-1)),t[5]||(t[5]=(0,l.Lk)("ul",{class:"text-caption"},[(0,l.Lk)("li",null,[(0,l.eW)(" Rallou Thomopoulos, Julien Cufi, Maxime Le Breton. A Generic Software to Support Collective Decision in Food Chains and in Multi-Stakeholder Situations. "),(0,l.Lk)("em",null,"FoodSim 2020"),(0,l.eW)(", Sep 2020, Ghent, Belgium. ("),(0,l.Lk)("a",{href:"https://hal.archives-ouvertes.fr/hal-02484363",target:"_blank"},"hal-02484363"),(0,l.eW)(") ")]),(0,l.Lk)("li",null,[(0,l.eW)(" Rallou Thomopoulos. A practical application approach to argumentation for multicriteria analysis and decision support. "),(0,l.Lk)("em",null,"EURO journal on decision processes"),(0,l.eW)(", Springer, 2018, 6 (3-4), pp.237-255. ("),(0,l.Lk)("a",{href:"https://dx.doi.org/10.1007/s40070-018-0087-2",target:"_blank"},"10.1007/s40070-018-0087-2"),(0,l.eW)(") ("),(0,l.Lk)("a",{href:"https://hal.archives-ouvertes.fr/hal-01918020",target:"_blank"},"hal-01918020"),(0,l.eW)(") ")])],-1)),t[6]||(t[6]=(0,l.Lk)("h6",{class:"text-overline mt-6 mb-2"},"Disclaimer",-1)),t[7]||(t[7]=(0,l.Lk)("div",{class:"text-caption"},[(0,l.Lk)("ul",null,[(0,l.Lk)("li",null," The authors and publisher of the software cannot be held liable for the consequences resulting from the use of MyChoice. Information entered is the user's responsibility and affects the final result. "),(0,l.Lk)("li",null," Users agree to cite the tool in any communication and not use contributor branding without explicit consent. ")])],-1))])),_:1})])),_:1}),(0,l.bF)(u,{lg:"4",py:"0",class:"d-none d-lg-flex"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{elevation:"0"},{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,{cols:"12",class:"d-flex justify-center mb-4"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{onClick:e.handleLoadFile,"prepend-icon":"mdi-upload"},{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.eW)(" Open local project ")]))),_:1},8,["onClick"])])),_:1}),(0,l.bF)(u,{cols:"12",class:"d-flex justify-center mb-4"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{onClick:t[0]||(t[0]=t=>e.state.openDialog=!0),"prepend-icon":"mdi-cloud-upload"},{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.eW)(" Open online project ")]))),_:1})])),_:1}),(0,l.bF)(u,{cols:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>t[10]||(t[10]=[(0,l.eW)("Recent projects")]))),_:1}),(0,l.bF)(k,{flat:""},{default:(0,l.k6)((()=>[e.recentProjects.length?((0,l.uX)(),(0,l.Wv)(b,{key:1,density:"compact"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.recentProjects,((a,i)=>((0,l.uX)(),(0,l.Wv)(f,{key:"home-recent-"+i,to:e.getHrefFromTypeId({type:a.type,id:a.id})},{append:(0,l.k6)((()=>["googlespreadsheet"===a.type?((0,l.uX)(),(0,l.Wv)(g,{key:0},{default:(0,l.k6)((()=>t[12]||(t[12]=[(0,l.eW)("mdi-google-spreadsheet")]))),_:1})):(0,l.Q3)("",!0),(0,l.bF)(p,{icon:"mdi-close",variant:"text",size:"small",onClick:(0,r.D$)((t=>e.removeFromRecentProjects(a.type,{id:a.id})),["stop","prevent"])},null,8,["onClick"])])),default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(a.name||a.id),1)])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:1})):((0,l.uX)(),(0,l.Wv)(h,{key:0,class:"text-grey"},{default:(0,l.k6)((()=>t[11]||(t[11]=[(0,l.eW)("No recent projects")]))),_:1}))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})]),(0,l.Lk)("footer",le,[(0,l.bF)(C)])])}const ie={class:"text-caption text-grey"};function ne(e,t,a,r,i,n){return(0,l.uX)(),(0,l.CE)("small",ie,"v"+(0,s.v_)(e.version),1)}var oe={data:()=>({version:"0.0.1-natclinn"})};const ce=(0,z.A)(oe,[["render",ne]]);var de=ce,ue=(0,l.pM)({components:{Version:de},setup(){return{state:u,recentProjects:Fn,getHrefFromTypeId:Gn,removeFromRecentProjects:Wn,handleLoadFile:sc}}});const pe=(0,z.A)(ue,[["render",se]]);var me=pe;const he={key:0,class:"view-container"},ve={class:"header-section"},ge={class:"tablelist-section"},fe={class:"compare-container elevation-3"},be={class:"close-btn-container"};function ke(e,t,a,s,i,n){const o=(0,l.g2)("Header"),c=(0,l.g2)("v-container"),d=(0,l.g2)("TableList"),u=(0,l.g2)("v-card"),p=(0,l.g2)("v-icon"),m=(0,l.g2)("v-badge"),h=(0,l.g2)("v-btn"),v=(0,l.g2)("SupersetCard"),g=(0,l.g2)("v-dialog"),f=(0,l.g2)("v-expand-transition");return e.state.project&&e.state.data?((0,l.uX)(),(0,l.CE)("div",he,[(0,l.Lk)("div",ve,[(0,l.bF)(c,{style:{"max-width":"1400px"}},{default:(0,l.k6)((()=>[(0,l.bF)(o)])),_:1})]),(0,l.Lk)("div",ge,[(0,l.bF)(c,{class:"tablelist-container",fluid:"",style:{"max-width":"1600px"}},{default:(0,l.k6)((()=>[(0,l.bF)(u,{class:"tablelist-card",elevation:"0",rounded:"lg"},{default:(0,l.k6)((()=>[t[3]||(t[3]=(0,l.Lk)("div",{class:"tablelist-x-shadow"},null,-1)),t[4]||(t[4]=(0,l.Lk)("div",{class:"tablelist-y-shadow"},null,-1)),((0,l.uX)(),(0,l.Wv)(d,{key:e.state.project?.name}))])),_:1})])),_:1})]),t[5]||(t[5]=(0,l.Lk)("div",{class:"bottom-padding"},null,-1)),(0,l.bF)(h,{onClick:t[0]||(t[0]=t=>e.state.compareDialog=!e.state.compareDialog),color:"secondary",disabled:0===e.selectedSupersets.length,class:"floating-button",variant:"flat",elevation:"8"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{icon:"mdi-select-compare"}),e.selectedSupersets.length>0?((0,l.uX)(),(0,l.Wv)(m,{key:0,content:e.selectedSupersets.length,color:"black","text-color":"white",floating:"","offset-x":"-12","offset-y":"-12"},null,8,["content"])):(0,l.Q3)("",!0)])),_:1},8,["disabled"]),(0,l.bF)(g,{"onClick:outside":t[1]||(t[1]=t=>e.state.selectedSuperset=""),"model-value":e.state.selectedSuperset.length>0,"max-width":"480px"},{default:(0,l.k6)((()=>[e.state.selectedSuperset.length?((0,l.uX)(),(0,l.Wv)(v,{key:0,superset:JSON.parse(e.state.selectedSuperset)},null,8,["superset"])):(0,l.Q3)("",!0)])),_:1},8,["model-value"]),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.bo)((0,l.Lk)("div",fe,[(0,l.bF)(u,{color:"grey-lighten-4",flat:""},{default:(0,l.k6)((()=>[(0,l.Lk)("div",be,[(0,l.bF)(h,{onClick:t[2]||(t[2]=t=>e.state.compareDialog=!1),size:"x-small",icon:"",color:"secondary"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{icon:"mdi-close"})])),_:1})]),(0,l.bF)(c,{class:"supersets-container",fluid:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.selectedSupersets,(t=>((0,l.uX)(),(0,l.CE)("div",{class:"card-compare",key:t+e.state.mode},[(0,l.bF)(v,{compare:!0,cols:4,superset:JSON.parse(t)},null,8,["superset"])])))),128))])),_:1})])),_:1})],512),[[r.aG,e.state.compareDialog&&e.selectedSupersets.length]])])),_:1})])):(0,l.Q3)("",!0)}a(1701);var ye=a(2543);const Ce={class:"me-2 d-flex align-center"};var xe=(0,l.pM)({__name:"Header",props:{chartSelectedChart:{}},setup(e){const t=e,a=(0,o.rd)(),r=e=>a.currentRoute.value.name===e;if(!u.chartFilters){const e=u.data?.alternatives||{},t=Object.values(e),a=t[0]?.name||"all-merged";u.chartFilters={selectedAlternative:a,analysisPer:"criteria",selectedCriterion:""}}const s=(0,l.EW)({get:()=>{const e=u.data?.alternatives||{},t=Object.values(e),a=t[0]?.name||"all-merged";return u.chartFilters?.selectedAlternative||a},set:e=>{u.chartFilters&&(u.chartFilters.selectedAlternative=e)}}),i=(0,l.EW)({get:()=>u.chartFilters?.analysisPer||"criteria",set:e=>{u.chartFilters&&(u.chartFilters.analysisPer=e)}}),c=(0,l.EW)({get:()=>u.chartFilters?.selectedCriterion||"",set:e=>{u.chartFilters&&(u.chartFilters.selectedCriterion=e)}}),d=(0,l.EW)((()=>{const e=u.data?.alternatives||{},t=Object.values(e).map((e=>({title:e.name,value:e.name}))),a=[...t,{title:"All alternatives (merged)",value:"all-merged"},{title:"All alternatives (separated)",value:"all-separated"}];return C.value?t:a})),p=[{title:"Criteria",value:"criteria"},{title:"Stakeholder",value:"stakeholder"}],m=()=>{u.searchInput=""},h=(0,ye.debounce)((e=>{u.searchInput=e}),200),v=(0,l.EW)((()=>lc())),g=(0,l.EW)((()=>si(tc(),"text"))),f=(0,l.EW)((()=>si(rc(),"text"))),b=(0,l.EW)((()=>si(ac(),"text"))),k=(0,l.EW)((()=>r("chart-view")&&"argument-count"===t.chartSelectedChart)),y=(0,l.EW)((()=>r("chart-view")&&"alternatives-comparison"===t.chartSelectedChart)),C=(0,l.EW)((()=>r("chart-view")&&"crosstab"===t.chartSelectedChart));return(0,l.wB)((()=>u.data?.alternatives),(e=>{if(e){const t=Object.values(e);t&&t.length>0&&(u.chartFilters?.selectedAlternative&&"all-merged"!==u.chartFilters.selectedAlternative||u.chartFilters&&(u.chartFilters.selectedAlternative=t[0].name))}}),{immediate:!0}),(0,l.wB)((()=>u.mode),(async()=>{const e=a.currentRoute.value;if(Vn(e))return void await Yn(e,!1);const t={};u.spreadsheet?t[$s.GOOGLE_SPREADSHEET]=u.spreadsheet:u.project?.name&&(t[$s.ICO]=u.project.name),0!==Object.keys(t).length?await Yn({...e,query:{...e.query,...t}},!1):await Yn(e,!1)})),(e,t)=>{const a=(0,l.g2)("v-icon"),o=(0,l.g2)("v-btn"),w=(0,l.g2)("v-list-item-title"),E=(0,l.g2)("v-list-item"),F=(0,l.g2)("v-list"),_=(0,l.g2)("v-menu"),L=(0,l.g2)("v-tooltip"),A=(0,l.g2)("v-select"),I=(0,l.g2)("v-toolbar"),S=(0,l.g2)("v-col"),W=(0,l.g2)("v-autocomplete"),O=(0,l.g2)("v-row"),X=(0,l.g2)("v-text-field");return(0,l.uX)(),(0,l.Wv)(O,{class:"table-filters"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{class:"flex-grow-0",style:{"align-self":"center"}},{default:(0,l.k6)((()=>[(0,l.bF)(I,{color:"transparent",density:"comfortable",class:"pr-2 toolbar-filters"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",Ce,[(0,l.bF)(L,{text:"Global view",location:"top"},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(_,{location:"bottom"},{activator:(0,l.k6)((({props:s})=>[(0,l.bF)(o,(0,l.v6)({icon:"",class:"toolbar-icon-btn"},{...e,...s},{variant:r("global-view")?"flat":"text",onClick:t[0]||(t[0]=e=>(0,n.R1)(Hs)("global-view"))}),{default:(0,l.k6)((()=>[(0,l.bF)(a,{icon:"mdi-table",color:r("global-view")?"primary":"grey"},null,8,["color"]),(0,l.bF)(a,{icon:"mdi-chevron-down",color:r("global-view")?"primary":"grey"},null,8,["color"])])),_:2},1040,["variant"])])),default:(0,l.k6)((()=>[(0,l.bF)(F,null,{default:(0,l.k6)((()=>[(0,n.R1)(x)?((0,l.uX)(),(0,l.Wv)(E,{key:1,onClick:t[2]||(t[2]=e=>(0,n.R1)(u).globalCardType="label")},{default:(0,l.k6)((()=>[(0,l.bF)(w,null,{default:(0,l.k6)((()=>t[14]||(t[14]=[(0,l.eW)("By Label")]))),_:1})])),_:1})):((0,l.uX)(),(0,l.Wv)(E,{key:0,onClick:t[1]||(t[1]=e=>(0,n.R1)(u).globalCardType="stakeholder")},{default:(0,l.k6)((()=>[(0,l.bF)(w,null,{default:(0,l.k6)((()=>t[13]||(t[13]=[(0,l.eW)("By Stakeholder")]))),_:1})])),_:1}))])),_:1})])),_:2},1024)])),_:1}),(0,l.bF)(L,{text:"Stakeholder view",location:"top"},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(o,(0,l.v6)({icon:"",class:"toolbar-icon-btn"},e,{variant:r("stakeholder-view")?"flat":"text",onClick:t[3]||(t[3]=e=>(0,n.R1)(Hs)("stakeholder-view"))}),{default:(0,l.k6)((()=>[(0,l.bF)(a,{icon:"mdi-account-multiple",color:r("stakeholder-view")?"primary":"grey"},null,8,["color"])])),_:2},1040,["variant"])])),_:1}),(0,l.bF)(L,{text:"Property view",location:"top"},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(o,(0,l.v6)({icon:"",class:"toolbar-icon-btn"},e,{variant:r("property-view")?"flat":"text",onClick:t[4]||(t[4]=e=>(0,n.R1)(Hs)("property-view"))}),{default:(0,l.k6)((()=>[(0,l.bF)(a,{icon:"mdi-format-list-bulleted",color:r("property-view")?"primary":"grey"},null,8,["color"])])),_:2},1040,["variant"])])),_:1}),(0,l.bF)(L,{text:"Chart view",location:"top"},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(o,(0,l.v6)({icon:"",class:"toolbar-icon-btn"},e,{variant:r("chart-view")?"flat":"text",onClick:t[5]||(t[5]=e=>(0,n.R1)(Hs)("chart-view"))}),{default:(0,l.k6)((()=>[(0,l.bF)(a,{icon:"mdi-chart-bar",color:r("chart-view")?"primary":"grey"},null,8,["color"])])),_:2},1040,["variant"])])),_:1})]),(0,l.bF)(A,{items:v.value,"item-title":"text","item-value":"value",modelValue:(0,n.R1)(u).mode,"onUpdate:modelValue":t[6]||(t[6]=e=>(0,n.R1)(u).mode=e),label:"Select mode","hide-details":"",class:"ml-6 flex-grow-1 toolbar-select",color:"secondary",variant:"outlined",density:"comfortable",style:{"min-width":"200px"}},null,8,["items","modelValue"])])),_:1})])),_:1}),r("chart-view")?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(S,{key:0,class:"px-6"},{default:(0,l.k6)((()=>[(0,l.bF)(O,null,{default:(0,l.k6)((()=>[(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.bF)(W,{clearable:"","item-color":"secondary",color:"secondary",label:"Stakeholders",modelValue:(0,n.R1)(u).selectedStakeholders,"onUpdate:modelValue":t[7]||(t[7]=e=>(0,n.R1)(u).selectedStakeholders=e),items:g.value,"item-title":"text",multiple:"",hint:`${(0,n.R1)(u).selectedStakeholders.length}/${(0,n.R1)(tc).length}`,"persistent-hint":"",autocomplete:"off",id:"selected-stakeholders",density:"comfortable"},null,8,["modelValue","items","hint"])])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.bF)(W,{clearable:"","item-color":"secondary",color:"secondary",label:"Criteria",modelValue:(0,n.R1)(u).selectedCriterions,"onUpdate:modelValue":t[8]||(t[8]=e=>(0,n.R1)(u).selectedCriterions=e),items:f.value,"item-title":"text",multiple:"",hint:`${(0,n.R1)(u).selectedCriterions.length}/${(0,n.R1)(rc).length}`,"persistent-hint":"",autocomplete:"off",id:"selected-criteria",density:"comfortable"},null,8,["modelValue","items","hint"])])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.bF)(W,{clearable:"","item-color":"secondary",color:"secondary",label:"Aims",modelValue:(0,n.R1)(u).selectedAims,"onUpdate:modelValue":t[9]||(t[9]=e=>(0,n.R1)(u).selectedAims=e),items:b.value,"item-title":"text",multiple:"",hint:`${(0,n.R1)(u).selectedAims.length}/${(0,n.R1)(ac).length}`,"persistent-hint":"",autocomplete:"off",id:"selected-aims",density:"comfortable"},null,8,["modelValue","items","hint"])])),_:1})])),_:1})])),_:1})),r("chart-view")?((0,l.uX)(),(0,l.Wv)(S,{key:1,class:"px-6"},{default:(0,l.k6)((()=>[(0,l.bF)(O,null,{default:(0,l.k6)((()=>[(0,l.bF)(S,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(A,{"item-color":"secondary",color:"secondary",label:"Alternative",modelValue:s.value,"onUpdate:modelValue":t[10]||(t[10]=e=>s.value=e),items:d.value,density:"comfortable",variant:"outlined",disabled:y.value},null,8,["modelValue","items","disabled"])])),_:1}),(0,l.bF)(S,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(A,{"item-color":"secondary",color:"secondary",label:"Analysis per",modelValue:i.value,"onUpdate:modelValue":t[11]||(t[11]=e=>i.value=e),items:p,density:"comfortable",variant:"outlined",disabled:C.value},null,8,["modelValue","disabled"])])),_:1}),(0,l.bF)(S,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(A,{"item-color":"secondary",color:"secondary",label:"All criteria",modelValue:c.value,"onUpdate:modelValue":t[12]||(t[12]=e=>c.value=e),items:f.value,"item-title":"text","item-value":"value",clearable:"",density:"comfortable",variant:"outlined",disabled:k.value||y.value||C.value},null,8,["modelValue","items","disabled"])])),_:1})])),_:1})])),_:1})):(0,l.Q3)("",!0),r("chart-view")?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(S,{key:2,class:"flex-grow-0",style:{"min-width":"200px"}},{default:(0,l.k6)((()=>[(0,l.bF)(X,{color:"secondary",label:"Search","model-value":(0,n.R1)(u).searchInput,"onUpdate:modelValue":(0,n.R1)(h),clearable:"",density:"comfortable"},{"append-inner":(0,l.k6)((()=>[(0,l.bF)(a,{icon:"mdi-magnify",class:"cursor-pointer",onClick:m})])),_:1},8,["model-value","onUpdate:modelValue"])])),_:1}))])),_:1})}}});const we=(0,z.A)(xe,[["__scopeId","data-v-4d18ae2b"]]);var Ee=we;const Fe={class:"table-wrapper"},_e={class:"custom-table"},Le={key:0,style:{height:"100%"},class:"text-center"},Ae=["colspan"],Ie={class:"text-grey"};function Se(e,t,a,s,i,n){const o=(0,l.g2)("TableListHead"),c=(0,l.g2)("TableListCriterion"),d=(0,l.g2)("TableListAim"),u=(0,l.g2)("TableListAlternative"),p=(0,l.g2)("v-btn"),m=(0,l.g2)("TableListFoot"),h=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(h,{fluid:"",class:"pa-0 fill-height d-flex flex-column"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",Fe,[(0,l.Lk)("table",_e,[(0,l.Lk)("thead",null,[(0,l.bF)(o)]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_criterionsIds,(t=>((0,l.uX)(),(0,l.CE)(l.FK,{key:`criterion-block-${t}`},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.getAimsBy("criterion",t),((a,s)=>((0,l.uX)(),(0,l.CE)("tr",{key:`aim-${t}-${a.id}`},[0===s?(0,l.bo)(((0,l.uX)(),(0,l.Wv)(c,{key:0,aim:a,criterionId:t},null,8,["aim","criterionId"])),[[r.aG,e.getFilteredCriterions.includes(t)]]):(0,l.Q3)("",!0),(0,l.bo)((0,l.bF)(d,{aim:a},null,8,["aim"]),[[r.aG,e.getFilteredAims.includes(a.id)]]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.alternativesIds,(s=>((0,l.uX)(),(0,l.CE)(l.FK,{key:`alternative-block-${s}`},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.subOptionsIds,(i=>(0,l.bo)(((0,l.uX)(),(0,l.Wv)(u,{key:`alternative-${s}-${i}`,aim:a,criterionId:t,alternativeId:s,subOptionId:i,alternativesIds:e.alternativesIds,subOptionsIds:e.subOptionsIds},null,8,["aim","criterionId","alternativeId","subOptionId","alternativesIds","subOptionsIds"])),[[r.aG,e.getFilteredAims.includes(a.id)]]))),128))],64)))),128))])))),128))],64)))),128)),e.getFilteredItems.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("tr",Le,[(0,l.Lk)("td",{class:"pt-10",colspan:5+e.alternativesIds.length},[(0,l.Lk)("b",Ie,[t[1]||(t[1]=(0,l.eW)(" No results. ")),t[2]||(t[2]=(0,l.Lk)("br",null,null,-1)),t[3]||(t[3]=(0,l.Lk)("br",null,null,-1)),(0,l.bF)(p,{size:"small",color:"secondary",onClick:e.clearAppFilters},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("clear filters")]))),_:1},8,["onClick"])])],8,Ae)]))]),(0,l.Lk)("tfoot",null,[(0,l.bF)(m)])])])])),_:1})}const We={class:"text-uppercase"},Oe=["colspan","onClick"],Xe={class:"alternative-content"},je={class:"alternative-name"};function Pe(e,t,a,r,i,n){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("ProductDetailsDialog");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("tr",We,[t[1]||(t[1]=(0,l.Lk)("th",{class:"criterion table-head-cell"},"Criterion",-1)),t[2]||(t[2]=(0,l.Lk)("th",{class:"aim table-head-cell"},"Aim",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.alternativesIds,(t=>((0,l.uX)(),(0,l.CE)("th",{key:`alternative-${t}`,colspan:e.subOptionsIds.length,class:"alternative table-head-cell",onClick:a=>e.openProductDialog(t),style:{cursor:"pointer"}},[(0,l.Lk)("span",Xe,[e.state.data?.alternatives?.[t]?.icon?((0,l.uX)(),(0,l.Wv)(o,{key:0,class:"mr-2"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.state.data.alternatives[t].icon),1)])),_:2},1024)):(0,l.Q3)("",!0),(0,l.Lk)("span",je,(0,s.v_)(e.getAlternatives[t]?.name||"Unnamed"),1),e.hasProductInfo(t)?((0,l.uX)(),(0,l.Wv)(o,{key:1,size:"x-small",class:"ml-2 text-info"})):(0,l.Q3)("",!0)])],8,Oe)))),128))]),(0,l.bF)(c,{modelValue:e.showProductDialog,"onUpdate:modelValue":t[0]||(t[0]=t=>e.showProductDialog=t),alternative:e.selectedAlternative,products:e.state.project?.products||[],compositions:e.state.project?.compositions||[]},null,8,["modelValue","alternative","products","compositions"])],64)}const Te={class:"d-flex",style:{background:"rgba(0,0,0,.7)",position:"relative"}},Me={class:"mr-auto zi-front"},De={class:"subtitle-2 text-white text-uppercase"},Re={class:"mx-4 my-4 zi-front"},Ne={class:"d-flex align-start mb-2"},He={class:"flex-grow-1"},$e={class:"title text-primary"},Be={class:"text-caption text-grey-darken-1"},Ve={key:0,class:"mt-2"},qe={class:"mb-4 d-flex align-center"},Ue={class:"d-flex",style:{background:"rgba(0,0,0,.7)",position:"relative"}},ze={class:"mr-auto zi-front"},Ke={class:"subtitle-2 text-white text-uppercase"},Qe={class:"mx-4 my-4 zi-front"};function Ge(e,t,a,r,i,n){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("v-divider"),d=(0,l.g2)("v-chip"),u=(0,l.g2)("v-btn"),p=(0,l.g2)("CompositionTree"),m=(0,l.g2)("v-card-text"),h=(0,l.g2)("v-card"),v=(0,l.g2)("v-alert"),g=(0,l.g2)("v-dialog");return(0,l.uX)(),(0,l.Wv)(g,{modelValue:e.isOpen,"onUpdate:modelValue":t[1]||(t[1]=t=>e.isOpen=t),"max-width":"600px"},{default:(0,l.k6)((()=>[e.alternative&&e.relatedProducts.length>0?((0,l.uX)(),(0,l.Wv)(h,{key:0,class:"superset-card"},{actions:(0,l.k6)((()=>[(0,l.bF)(u,{class:"ml-auto",onClick:e.closeDialog,variant:"text",icon:"mdi-close"},null,8,["onClick"])])),default:(0,l.k6)((()=>[(0,l.Lk)("div",Te,[(0,l.Lk)("div",{class:"card-background",style:(0,s.Tr)(`background-image: url(${e.getImagePath(e.alternative.image)}); background-size: cover;`)},null,4),(0,l.Lk)("div",Me,[(0,l.Lk)("div",De,(0,s.v_)(e.alternative.name),1),t[2]||(t[2]=(0,l.Lk)("div",{class:"font-weight-light text-white text-caption"}," Product Details ",-1))]),(0,l.Lk)("div",Re,[e.alternative.icon?((0,l.uX)(),(0,l.Wv)(o,{key:0,style:{color:"white"}},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.alternative.icon),1)])),_:1})):(0,l.Q3)("",!0)])]),(0,l.bF)(c,{class:"my-1"}),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.relatedProducts,(a=>((0,l.uX)(),(0,l.CE)("div",{key:a.productUri,class:"mb-5 no-mb-last"},[(0,l.Lk)("div",Ne,[(0,l.Lk)("div",He,[(0,l.Lk)("div",$e,[(0,l.Lk)("b",null,(0,s.v_)(a.nameProduct),1)]),(0,l.Lk)("div",Be,(0,s.v_)(e.truncateUri(a.productUri)),1),a.tagProduct&&a.tagProduct.length>0?((0,l.uX)(),(0,l.CE)("div",Ve,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.getDisplayedTags(a),(e=>((0,l.uX)(),(0,l.Wv)(d,{key:e,size:"x-small",variant:"outlined",color:"primary",class:"mr-1 mb-1"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e),1)])),_:2},1024)))),128)),a.tagProduct.length>5?((0,l.uX)(),(0,l.Wv)(d,{key:0,size:"x-small",variant:"outlined",color:e.expandedProductTags[a.productUri]?"grey":"secondary",class:"mr-1 mb-1",onClick:t=>e.toggleProductTags(a.productUri),style:{cursor:"pointer"}},{default:(0,l.k6)((()=>[e.expandedProductTags[a.productUri]?((0,l.uX)(),(0,l.Wv)(o,{key:0,icon:"mdi-chevron-up",size:"x-small",class:"mr-1"})):((0,l.uX)(),(0,l.Wv)(o,{key:1,icon:"mdi-chevron-down",size:"x-small",class:"mr-1"})),(0,l.eW)(" "+(0,s.v_)(e.expandedProductTags[a.productUri]?"Show less":`+${a.tagProduct.length-5} more`),1)])),_:2},1032,["color","onClick"])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",qe,[(0,l.bF)(u,{size:"small",variant:"outlined",color:"primary",onClick:t[0]||(t[0]=t=>e.showAllComponents=!e.showAllComponents),"prepend-icon":e.showAllComponents?"mdi-eye":"mdi-eye-off"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.showAllComponents?"All Components":"Tagged Only"),1)])),_:1},8,["prepend-icon"])]),(0,l.bF)(p,{uri:a.productUri,compositions:e.compositions,showAll:e.showAllComponents,level:0},null,8,["uri","compositions","showAll"])])))),128))])),_:1}),(0,l.bF)(c)])),_:1})):e.alternative?((0,l.uX)(),(0,l.Wv)(h,{key:1,class:"superset-card"},{actions:(0,l.k6)((()=>[(0,l.bF)(u,{class:"ml-auto",color:"secondary",onClick:e.closeDialog,variant:"text"},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("mdi-close")]))),_:1})])),_:1},8,["onClick"])])),default:(0,l.k6)((()=>[(0,l.Lk)("div",Ue,[(0,l.Lk)("div",{class:"card-background",style:(0,s.Tr)(`background-image: url(${e.getImagePath(e.alternative.image)}); background-size: cover;`)},null,4),(0,l.Lk)("div",ze,[(0,l.Lk)("div",Ke,(0,s.v_)(e.alternative.name),1),t[3]||(t[3]=(0,l.Lk)("div",{class:"font-weight-light text-white text-caption"}," Product Details ",-1))]),(0,l.Lk)("div",Qe,[e.alternative.icon?((0,l.uX)(),(0,l.Wv)(o,{key:0,style:{color:"white"}},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.alternative.icon),1)])),_:1})):(0,l.Q3)("",!0)])]),(0,l.bF)(c,{class:"my-1"}),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{type:"info",variant:"outlined"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)(" No product information available for this scenario. ")]))),_:1})])),_:1}),(0,l.bF)(c)])),_:1})):(0,l.Q3)("",!0)])),_:1},8,["modelValue"])}const Ye={class:"d-flex align-start pl-3 py-2 bg-grey-lighten-4 rounded"},Je={class:"mr-2 text-caption text-grey"},Ze={class:"flex-grow-1"},et={class:"d-flex align-center"},tt={class:"text-body-2"},at={key:0,class:"mt-1"},rt={key:0,class:"ml-4 mt-1"};function lt(e,t,a,r,i,n){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("v-chip"),d=(0,l.g2)("CompositionTree",!0);return e.filteredCompositions.length>0?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,s.C4)(["composition-level",`level-${e.level}`])},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.filteredCompositions,(t=>((0,l.uX)(),(0,l.CE)("div",{key:t.uriComposant,class:"composition-item mb-2"},[(0,l.Lk)("div",Ye,[(0,l.Lk)("div",Je,(0,s.v_)(t.rang)+".",1),(0,l.Lk)("div",Ze,[(0,l.Lk)("div",et,[(0,l.bF)(o,{icon:"Product"===t.typeComposant?"mdi-package-variant":"mdi-food-variant",size:"x-small",color:"Product"===t.typeComposant?"orange":"green",class:"mr-1"},null,8,["icon","color"]),(0,l.Lk)("span",tt,(0,s.v_)(t.nameComposant),1)]),t.tagComposant&&t.tagComposant.length>0?((0,l.uX)(),(0,l.CE)("div",at,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.tagComposant.slice(0,3),(e=>((0,l.uX)(),(0,l.Wv)(c,{key:e,size:"x-small",variant:"outlined",color:"primary",class:"mr-1 mb-1"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e),1)])),_:2},1024)))),128)),t.tagComposant.length>3?((0,l.uX)(),(0,l.Wv)(c,{key:0,size:"x-small",variant:"outlined",color:"grey",class:"mr-1 mb-1"},{default:(0,l.k6)((()=>[(0,l.eW)(" +"+(0,s.v_)(t.tagComposant.length-3),1)])),_:2},1024)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])]),e.hasSubComponents(t.uriComposant)?((0,l.uX)(),(0,l.CE)("div",rt,[(0,l.bF)(d,{uri:t.uriComposant,compositions:e.compositions,showAll:e.showAll,level:e.level+1},null,8,["uri","compositions","showAll","level"])])):(0,l.Q3)("",!0)])))),128))],2)):(0,l.Q3)("",!0)}var st=(0,l.pM)({name:"CompositionTree",props:{uri:{type:String,required:!0},compositions:{type:Array,required:!0},showAll:{type:Boolean,default:!0},level:{type:Number,default:0}},computed:{filteredCompositions(){const e=this.compositions.filter((e=>e.uriCompose===this.uri)).sort(((e,t)=>e.rang-t.rang));return this.showAll?e:e.filter((e=>this.hasTagsInBranch(e.uriComposant)||e.tagComposant&&e.tagComposant.length>0))}},methods:{hasSubComponents(e){return this.compositions.some((t=>t.uriCompose===e))},hasTagsInBranch(e){const t=this.compositions.filter((t=>t.uriCompose===e));for(const a of t){if(a.tagComposant&&a.tagComposant.length>0)return!0;if(this.hasTagsInBranch(a.uriComposant))return!0}return!1}}});const it=(0,z.A)(st,[["render",lt],["__scopeId","data-v-5b1825e0"]]);var nt=it,ot=(0,l.pM)({name:"ProductDetailsDialog",components:{CompositionTree:nt},props:{modelValue:{type:Boolean,default:!1},alternative:{type:Object,default:null},products:{type:Array,default:()=>[]},compositions:{type:Array,default:()=>[]}},emits:["update:modelValue"],data(){return{showAllComponents:!0,expandedProductTags:{}}},setup(){return{getImagePath:f}},computed:{isOpen:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},relatedProducts(){if(!this.alternative)return[];const e=this.products.filter((e=>e.nameAlternative===this.alternative?.name)),t=Array.from(new Map(e.map((e=>[e.productUri,e]))).values());return t}},methods:{getDisplayedTags(e){return this.expandedProductTags[e.productUri]?e.tagProduct:e.tagProduct.slice(0,5)},toggleProductTags(e){this.expandedProductTags[e]=!this.expandedProductTags[e],this.expandedProductTags={...this.expandedProductTags}},getCompositions(e){return this.compositions.filter((t=>t.uriCompose===e)).sort(((e,t)=>e.rang-t.rang))},getFilteredCompositions(e){const t=this.getCompositions(e);return this.showAllComponents?t:t.filter((e=>e.tagComposant&&e.tagComposant.length>0))},truncateUri(e){const t=50;return e.length>t?e.substring(0,t-3)+"...":e},closeDialog(){this.isOpen=!1}}});const ct=(0,z.A)(ot,[["render",Ge],["__scopeId","data-v-e028bf02"]]);var dt=ct,ut=(0,l.pM)({name:"TableListHead",components:{ProductDetailsDialog:dt},data(){return{showProductDialog:!1,selectedAlternativeId:null}},setup(){return{state:u,alternativesIds:(0,l.EW)((()=>eo())),subOptionsIds:(0,l.EW)((()=>Xo())),getAlternatives:(0,l.EW)((()=>Jn()))}},computed:{selectedAlternative(){return null===this.selectedAlternativeId?null:this.getAlternatives[this.selectedAlternativeId]||null}},methods:{openProductDialog(e){this.selectedAlternativeId=e,this.showProductDialog=!0},hasProductInfo(e){const t=this.getAlternatives[e]?.name;return!(!t||!this.state.project?.products)&&this.state.project.products.some((e=>e.nameAlternative===t))}}});const pt=(0,z.A)(ut,[["render",Pe],["__scopeId","data-v-de9b3c34"]]);var mt=pt;const ht={tablelistfoot:""},vt={"criterion-aim":"",class:"text-right",colspan:"2"},gt={class:"text-grey",style:{"font-weight":"normal"}},ft={style:{width:"90%"}},bt={class:"text-left"},kt={class:"text-right"};function yt(e,t,a,r,i,n){const o=(0,l.g2)("v-container"),c=(0,l.g2)("v-icon"),d=(0,l.g2)("ScoreIcon");return(0,l.uX)(),(0,l.CE)("tr",ht,[(0,l.Lk)("th",vt,[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("small",gt,[t[0]||(t[0]=(0,l.eW)(" Arguments: ")),(0,l.Lk)("b",null,(0,s.v_)(e.getFilteredItems.length)+"/"+(0,s.v_)(e.getAllItems.length),1)])])),_:1})]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.alternativesIds,(a=>((0,l.uX)(),(0,l.CE)("th",{key:`subOption-${a}`,alternative:"",colspan:2},[(0,l.Lk)("table",ft,[(0,l.Lk)("tr",null,[(0,l.Lk)("td",bt,[(0,l.bF)(c,{color:"green",title:e.pluralize("{count} {argument:count}",{count:e.getFilteredItemsBy({alternative:a,favorable:!0}).length})},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)(" mdi-emoticon-happy-outline ")]))),_:2},1032,["title"])]),(0,l.Lk)("td",null,[(0,l.eW)(" Attitude: "+(0,s.v_)(e.totalAcceptability[a])+" ",1),(0,l.bF)(d,{alternative:a,score:e.totalAcceptability[a]},null,8,["alternative","score"])]),(0,l.Lk)("td",kt,[(0,l.bF)(c,{color:"red",title:e.pluralize("{count} {argument:count}",{count:e.getFilteredItemsBy({alternative:a,favorable:!1}).length})},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)(" mdi-emoticon-sad-outline ")]))),_:2},1032,["title"])])])])])))),128))])}function Ct(e,t,a,r,i,n){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("v-avatar"),d=(0,l.g2)("v-chip");return(0,l.uX)(),(0,l.CE)("span",null,[e.icon?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(o,{key:0,title:e.title,size:"x-small",color:e.getColorName(e.getAcceptabilityName(e.score))},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("mdi-circle")]))),_:1},8,["title","color"])),e.icon?((0,l.uX)(),(0,l.Wv)(d,{key:1,variant:"outlined",size:"small",title:e.title,style:{padding:"0"},color:e.getColorName(e.getAcceptabilityName(e.score))},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[e.state.data&&e.state.data.alternatives[e.alternative]?((0,l.uX)(),(0,l.Wv)(o,{key:0,size:"medium",color:e.getColorName(e.getAcceptabilityName(e.score))},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.state.data.alternatives[e.alternative].icon),1)])),_:1},8,["color"])):(0,l.Q3)("",!0)])),_:1})])),_:1},8,["title","color"])):(0,l.Q3)("",!0)])}var xt=(0,l.pM)({props:{score:{type:Number,default:null},title:{type:String,default:""},alternative:{type:Number,required:!0},icon:{type:Boolean,default:!1}},setup(e){return{state:u,getColorName:e=>"pro"===e?"green":"con"===e?"red":"mix"===e?"orange":"rgba(0,0,0,1)",getAcceptabilityName:Yo}}});const wt=(0,z.A)(xt,[["render",Ct]]);var Et=wt,Ft=(0,l.pM)({setup(){return{state:u,getAcceptabilityFromAlternativeId:Jo,getFilteredItemsBy:_o,getWeightedAcceptability:zo,pluralize:ni,totalAcceptability:(0,l.EW)((()=>zo(xo()))),alternativesIds:(0,l.EW)((()=>eo())),subOptionsIds:(0,l.EW)((()=>Xo())),getSubOptions:(0,l.EW)((()=>Oo())),getFilteredItems:(0,l.EW)((()=>xo())),getAllItems:(0,l.EW)((()=>Co()))}},components:{ScoreIcon:Et}});const _t=(0,z.A)(Ft,[["render",yt]]);var Lt=_t;const At={aim:""},It={class:"d-flex flex-column justify-space-between text-break"},St={class:"d-flex"},Wt={class:"mt-1 d-flex flex-wrap flex-grow-1"};function Ot(e,t,a,r,i,n){const o=(0,l.g2)("Acceptability"),c=(0,l.g2)("ItemsCount");return(0,l.uX)(),(0,l.CE)("td",At,[(0,l.Lk)("div",It,[(0,l.Lk)("div",St,(0,s.v_)(e.aim.name),1),(0,l.Lk)("div",Wt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_alternativesIds,((t,a)=>((0,l.uX)(),(0,l.Wv)(o,{key:"aim-alternative-"+a+e.aimsItems[t],class:"mb-1 mr-1",icon:!0,alternative:t,items:e.aimsItems[t]},null,8,["alternative","items"])))),128))])]),(0,l.bF)(c,{count:e.totalItems},null,8,["count"])])}a(8237);function Xt(e,t,a,r,i,n){const o=(0,l.g2)("v-chip");return(0,l.uX)(),(0,l.Wv)(o,{variant:"outlined",size:"x-small",color:"default",title:"title"},{default:(0,l.k6)((()=>[(0,l.Lk)("strong",null,(0,s.v_)(e.count),1)])),_:1})}var jt=(0,l.pM)({props:["count"],setup(e){return{title:(0,l.EW)((()=>ni("{count} {argument:count}",{count:e.count})))}}});const Pt=(0,z.A)(jt,[["render",Xt]]);var Tt=Pt,Mt=(0,l.pM)({__name:"Acceptability",props:{items:{},alternative:{},icon:{type:Boolean}},setup(e){const t=e,a=(0,l.EW)((()=>Go(t.items))),r=(0,l.EW)((()=>null!==a.value?`${ni("{count} {argument:count}",{count:t.items.length})} - ${100*a.value}% pro`:""));return(e,t)=>((0,l.uX)(),(0,l.Wv)(Et,{title:r.value,alternative:e.alternative,icon:e.icon,score:a.value},null,8,["title","alternative","icon","score"]))}});const Dt=Mt;var Rt=Dt,Nt=(0,l.pM)({props:{aim:{type:Object}},setup(e){const{aim:t}=(0,n.QW)(e),a=(0,l.EW)((()=>{let e={};return to.value.forEach((a=>{const r=_o({alternative:a,aim:t.value.id});e[a]=r})),e})),r=(0,l.EW)((()=>Object.values(a.value).reduce(((e,t)=>e+t.length),0)));return{c_alternativesIds:to,aimsItems:a,totalItems:r,getFilteredItemsBy:_o}},components:{Acceptability:Rt,ItemsCount:Tt}});const Ht=(0,z.A)(Nt,[["render",Ot],["__scopeId","data-v-e9c21f8c"]]);var $t=Ht;const Bt=["rowspan"],Vt={class:"d-flex flex-column justify-space-between text-break"},qt={class:"mt-1 flex-grow-1 flex-wrap d-flex"};function Ut(e,t,a,r,i,n){const o=(0,l.g2)("Acceptability"),c=(0,l.g2)("ItemsCount");return(0,l.uX)(),(0,l.CE)("td",{class:"criterion",rowspan:e.getAimsBy("criterion",e.criterionId).length},[(0,l.Lk)("div",Vt,[(0,l.Lk)("div",null,(0,s.v_)(e.c_criterions[e.aim.criterion].name),1),(0,l.Lk)("div",qt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_alternativesIds,((t,a)=>((0,l.uX)(),(0,l.Wv)(o,{key:`criterion-alternative-${a}-${e.criterionItems[t]}`,class:"mb-1 mr-1",icon:!0,alternative:t,items:e.criterionItems[t]},null,8,["alternative","items"])))),128))])]),(0,l.bF)(c,{count:e.totalItems},null,8,["count"])],8,Bt)}var zt=(0,l.pM)({name:"TableListCriterion",components:{Acceptability:Rt,ItemsCount:Tt},props:{aim:{type:Object,required:!0},criterionId:{type:Number,required:!0}},setup(e){const{criterionId:t}=(0,n.QW)(e),a=(0,l.EW)((()=>{const e={};return to.value.forEach((a=>{e[a]=_o({alternative:a,criterion:t.value})})),e})),r=(0,l.EW)((()=>Object.values(a.value).reduce(((e,t)=>e+t.length),0)));return{c_criterions:vo,c_alternativesIds:to,getAimsBy:oo,criterionItems:a,totalItems:r}}});const Kt=(0,z.A)(zt,[["render",Ut],["__scopeId","data-v-3bd9509d"]]);var Qt=Kt;function Gt(e,t,a,r,i,n){const o=(0,l.g2)("TableListCard");return(0,l.uX)(),(0,l.CE)("td",{class:(0,s.C4)(e.getLabels().length?"":"is-empty"),key:`${e.alternativeId}-${e.subOptionId}`},[e.is1stLevelStakeholdersMode?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(e.getCardsByStakeholder(),((t,a)=>((0,l.uX)(),(0,l.Wv)(o,{key:`superset-${e.aim.id}-stakeholder-${a}`,superset:{criterion:e.criterionId,aim:e.aim.id,alternative:e.alternativeId,subOption:e.subOptionId,stakeholder:Number(a)}},null,8,["superset"])))),128)):((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(e.getLabels(),((t,a)=>((0,l.uX)(),(0,l.Wv)(o,{key:`superset-${t.property}-${t.value}-${a}`,superset:{criterion:e.criterionId,aim:e.aim.id,alternative:e.alternativeId,subOption:e.subOptionId,property:t.property,value:t.value}},null,8,["superset"])))),128))],2)}const Yt={key:0},Jt={key:1},Zt={class:"d-flex"},ea={class:"card-compare-btn"},ta={key:0,class:"ml-auto mr-2 mb-1 text-right",style:{"text-overflow":"ellipsis",display:"block",overflow:"hidden",width:"calc(100% - 4em)","white-space":"nowrap"}};function aa(e,t,a,i,n,o){const c=(0,l.g2)("Highlighter"),d=(0,l.g2)("v-chip"),u=(0,l.g2)("v-container"),p=(0,l.g2)("v-icon"),m=(0,l.g2)("v-btn"),h=(0,l.g2)("v-card");return(0,l.uX)(),(0,l.Wv)(h,{elevation:"1",onClick:t[2]||(t[2]=t=>e.toggleSuperset(e.superset)),class:"text-center mb-3","max-width":"344"},{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[e.is1stLevelStakeholdersMode?((0,l.uX)(),(0,l.CE)("b",Yt,[(0,l.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:e.getStakeholderName(e.superset.stakeholder)??""},null,8,["searchWords","textToHighlight"])])):((0,l.uX)(),(0,l.CE)("b",Jt,[(0,l.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:e.superset.property??""},null,8,["searchWords","textToHighlight"])]))]),(0,l.Lk)("div",{class:(0,s.C4)([1===e.superset.subOption?"text-success":"text-error"])},[(0,l.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:e.superset.value??""},null,8,["searchWords","textToHighlight"])],2),(0,l.bF)(d,{variant:"outlined",size:"x-small",color:"default"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.items.length),1)])),_:1})])),_:1}),(0,l.Lk)("div",Zt,[(0,l.Lk)("div",ea,[e.findSuperset(e.superset)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(m,{key:0,onClick:t[0]||(t[0]=(0,r.D$)((t=>e.addSupersetInSelection(e.superset)),["stop"])),variant:"text",icon:"",size:"small"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{size:"x-small"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("mdi-plus-circle-outline")]))),_:1})])),_:1})),e.findSuperset(e.superset)?((0,l.uX)(),(0,l.Wv)(m,{key:1,onClick:t[1]||(t[1]=(0,r.D$)((t=>e.removeSupersetInSelection(e.superset)),["stop"])),variant:"text",icon:"",size:"small",color:"secondary"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{size:"x-small"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)("mdi-plus-circle")]))),_:1})])),_:1})):(0,l.Q3)("",!0)]),e.condition?((0,l.uX)(),(0,l.CE)("small",ta,(0,s.v_)(e.condition),1)):(0,l.Q3)("",!0)])])),_:1})}var ra=(0,l.pM)({setup(){return{state:u,addSupersetInSelection:Bo,removeSupersetInSelection:Vo,getItemsBy:Eo,toggleSuperset:$o,findSuperset:qo,getStakeholderName:Mo,is1stLevelStakeholdersMode:x}},computed:{items:function(){return x.value?Eo({stakeholder:this.superset.stakeholder,alternative:this.superset.alternative,subOption:this.superset.subOption,aim:this.superset.aim,criterion:this.superset.criterion}):Eo({property:this.superset.property,value:this.superset.value,alternative:this.superset.alternative,subOption:this.superset.subOption,aim:this.superset.aim,criterion:this.superset.criterion})},condition:function(){return this.items.reduce(((e,t)=>t.condition?e.length?e+", "+t.condition:e+t.condition:e),"")}},props:["superset","label"]});const la=(0,z.A)(ra,[["render",aa]]);var sa=la,ia=(0,l.pM)({setup(){return{is1stLevelStakeholdersMode:x}},components:{TableListCard:sa},methods:{getLabels:function(){return(0,ye.sortBy)(ec({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId}),"property")},getItems:function(){return _o({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId})},getCardsByStakeholder:function(){return Wo({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId},"stakeholder")}},props:["alternativeId","subOptionId","aim","criterionId"]});const na=(0,z.A)(ia,[["render",Gt]]);var oa=na,ca=(0,l.pM)({name:"TableList",components:{TableListCriterion:Qt,TableListHead:mt,TableListFoot:Lt,TableListAlternative:oa,TableListAim:$t},setup(){const e=(0,l.EW)((()=>yo())),t=(0,l.EW)((()=>xo())),a=(0,l.EW)((()=>uo())),r=(0,l.EW)((()=>eo())),s=(0,l.EW)((()=>Xo())),i=(0,l.EW)((()=>go())),n=(0,l.EW)((()=>so()));return{state:u,sortBy:ye.sortBy,getAimsBy:oo,clearAppFilters:g,c_criterionsIds:fo,getFilteredCriterions:e,getFilteredItems:t,getFilteredAims:a,alternativesIds:r,subOptionsIds:s,criterionsIds:i,aimsIds:n,getAlternatives:(0,l.EW)((()=>Jn())),getSubOptions:(0,l.EW)((()=>Oo()))}}});const da=(0,z.A)(ca,[["render",Se],["__scopeId","data-v-4494bf44"]]);var ua=da;const pa={class:"d-flex",style:{background:"rgba(0,0,0,.7)",position:"relative"}},ma={class:"mr-auto zi-front"},ha={class:"subtitle-2 text-white text-uppercase"},va={class:"font-weight-light text-white text-caption"},ga={class:"mx-4 my-4 zi-front"},fa={class:"mt-0 mb-3 d-flex"},ba={class:"mr-auto"},ka={style:{"margin-bottom":"-.33em"},class:"title d-flex text-primary"},ya={key:0};function Ca(e,t,a,r,i,n){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("v-card-text"),d=(0,l.g2)("v-divider"),u=(0,l.g2)("v-list-subheader"),p=(0,l.g2)("SupersetCardItem"),m=(0,l.g2)("v-btn"),h=(0,l.g2)("v-card");return(0,l.uX)(),(0,l.Wv)(h,{class:"superset-card"},{actions:(0,l.k6)((()=>[e.findSuperset(e.superset)||e.compare?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(m,{key:0,onClick:t[0]||(t[0]=t=>e.addSupersetInSelection(e.superset)),class:"mr-auto",variant:"text",icon:"mdi-plus-circle-outline"})),e.findSuperset(e.superset)?((0,l.uX)(),(0,l.Wv)(m,{key:1,class:(0,s.C4)(e.compare?"mx-auto":"mr-auto"),color:"secondary",onClick:t[1]||(t[1]=t=>e.removeSupersetInSelection(e.superset)),variant:"text"},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.compare?"mdi-close":"mdi-plus-circle"),1)])),_:1})])),_:1},8,["class"])):(0,l.Q3)("",!0),e.compare?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(m,{key:2,onClick:t[2]||(t[2]=t=>e.unselectSuperset(e.superset)),variant:"text",icon:"mdi-close"}))])),default:(0,l.k6)((()=>[(0,l.Lk)("div",pa,[(0,l.Lk)("div",{class:"card-background",style:(0,s.Tr)(`background-image: url(${e.getImagePath(e.state.data.alternatives[e.superset.alternative].image)}); background-size: cover;`)},null,4),(0,l.Lk)("div",ma,[(0,l.Lk)("div",ha,(0,s.v_)(e.getAlternativeName(e.superset.alternative)),1),(0,l.Lk)("div",va,(0,s.v_)(e.getCriterionName(e.superset.criterion)),1)]),(0,l.Lk)("div",ga,[e.state.data?((0,l.uX)(),(0,l.Wv)(o,{key:0,style:{color:"white"}},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.state.data.alternatives[e.superset.alternative].icon),1)])),_:1})):(0,l.Q3)("",!0)])]),(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",fa,[(0,l.Lk)("span",ba,(0,s.v_)(e.getAimName(e.superset.aim)),1),(0,l.bF)(o,{class:"ml-2",size:"small"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("mdi-bullseye-arrow")]))),_:1})]),(0,l.Lk)("div",null,[(0,l.Lk)("div",ka,[e.is1stLevelStakeholdersMode?((0,l.uX)(),(0,l.CE)("b",ya,(0,s.v_)(e.getStakeholderName(e.superset.stakeholder)),1)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.Lk)("b",null,(0,s.v_)(e.superset.property),1),(0,l.bF)(o,{class:(0,s.C4)(["ml-auto",1===e.superset.subOption?"text-success":"text-error"])},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.state.icons.subOption[e.superset.subOption]),1)])),_:1},8,["class"])],64))]),e.is1stLevelStakeholdersMode?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,s.C4)(["title font-weight-regular",1===e.superset.subOption?"text-success":"text-error"])},(0,s.v_)(e.superset.value),3))])])),_:1}),(0,l.bF)(d,{class:"my-1"}),(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,{class:"px-0",textContent:(0,s.v_)(`Arguments (${e.supersetItems.length})`)},null,8,["textContent"]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.duplicateGroups,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"mb-5 no-mb-last"},[(0,l.bF)(p,{item:e[0],index:t,duplicatesCount:e.length},null,8,["item","index","duplicatesCount"])])))),128))])),_:1}),(0,l.bF)(d)])),_:1})}const xa={class:"d-flex"},wa={class:"mb-5 overflow-hidden"},Ea={key:0},Fa={key:1},_a={key:1},La={class:"ml-auto flex-shrink-0"},Aa={key:0,class:"text-secondary body-1"},Ia={class:"mb-5 body-1"},Sa={class:"body-1 text-secondary"},Wa={key:0,class:"mt-4"},Oa={key:1,class:"text-right text-secondary caption mt-4"};function Xa(e,t,a,i,n,o){const c=(0,l.g2)("v-chip"),d=(0,l.g2)("v-icon"),u=(0,l.g2)("v-btn"),p=(0,l.g2)("v-expand-transition"),m=(0,l.g2)("v-container"),h=(0,l.g2)("v-card");return(0,l.uX)(),(0,l.Wv)(h,{ripple:!1,outlined:"",onClick:t[0]||(t[0]=t=>e.openMe(e.index))},{default:(0,l.k6)((()=>[(0,l.bF)(m,{fluid:""},{default:(0,l.k6)((()=>[(0,l.Lk)("div",xa,[(0,l.Lk)("div",wa,[(0,l.Lk)("div",{class:(0,s.C4)("caption "+(e.open[e.index]?"":"text-truncate"))},[e.is1stLevelStakeholdersMode?((0,l.uX)(),(0,l.CE)("b",Ea,(0,s.v_)(e.item.property),1)):((0,l.uX)(),(0,l.CE)("b",Fa,"by "+(0,s.v_)(e.getStakeholderName(e.item.stakeholder)),1))],2),(0,l.Lk)("div",{class:(0,s.C4)("caption "+(e.open[e.index]?"":"text-truncate"))},[e.is1stLevelStakeholdersMode?((0,l.uX)(),(0,l.CE)("span",{key:0,class:(0,s.C4)("font-weight-regular\t  "+(1===e.item.subOption?"text-success":"text-error"))},(0,s.v_)(e.item.value),3)):((0,l.uX)(),(0,l.CE)("em",_a,"in "+(0,s.v_)(e.item.source),1))],2)]),(0,l.Lk)("div",La,[(0,l.bF)(c,{variant:"outlined",size:"x-small"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.duplicatesCount),1)])),_:1}),(0,l.bF)(u,{icon:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.open[e.index]?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1})])]),e.open[e.index]?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",Aa,(0,s.v_)(e.item.assertion),1)),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bo)((0,l.Lk)("div",null,[t[2]||(t[2]=(0,l.Lk)("div",{class:"overline"},"Explanation",-1)),(0,l.Lk)("p",Ia,(0,s.v_)(e.item.explanation),1),t[3]||(t[3]=(0,l.Lk)("div",{class:"overline"},"Assertion",-1)),(0,l.Lk)("p",Sa,(0,s.v_)(e.item.assertion),1),e.item.tagInitiator?((0,l.uX)(),(0,l.CE)("div",Wa,[t[1]||(t[1]=(0,l.Lk)("div",{class:"overline"},"Tag Initiator",-1)),(0,l.bF)(c,{size:"x-small",variant:"outlined",color:"black",class:"font-weight-medium"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.item.tagInitiator),1)])),_:1})])):(0,l.Q3)("",!0),e.item.date?((0,l.uX)(),(0,l.CE)("div",Oa,[(0,l.Lk)("small",null,(0,s.v_)(e.formatDate(e.item.date)),1)])):(0,l.Q3)("",!0)],512),[[r.aG,e.open[e.index]]])])),_:1})])),_:1})])),_:1})}var ja=(0,l.pM)({setup(){return{state:u,getImagePath:f,openMe(e){this.open[e]=!this.open[e]},addSupersetInSelection:Bo,removeSupersetInSelection:Vo,unselectSuperset:Ho,findSuperset:qo,getItemsBy:Eo,getCriterionById:bo,getAlternativeName:ro,getCriterionName:ko,getStakeholderName:Mo,getAimName:co,formatDate:ri,is1stLevelStakeholdersMode:x}},props:["item","index","duplicatesCount"],data:()=>({open:[!1]}),computed:{supersetItems:function(){return Eo(this.superset)}},mounted(){this.open=this.supersetItems.map((()=>!1))}});const Pa=(0,z.A)(ja,[["render",Xa]]);var Ta=Pa,Ma=(0,l.pM)({components:{SupersetCardItem:Ta},props:["superset","compare"],setup(){return{state:u,getImagePath:f,addSupersetInSelection:Bo,removeSupersetInSelection:Vo,unselectSuperset:Ho,findSuperset:qo,getItemsBy:Eo,getCriterionById:bo,getAlternativeName:ro,getCriterionName:ko,getStakeholderName:Mo,getAimName:co,formatDate:ri,is1stLevelStakeholdersMode:x}},computed:{supersetItems(){return Eo(this.superset)},duplicateGroups(){return Fo(this.supersetItems)}}});const Da=(0,z.A)(Ma,[["render",Ca]]);var Ra=Da,Na=(0,l.pM)({components:{Header:Ee,TableList:ua,SupersetCard:Ra},setup(){return{state:u,selectedSupersets:w,getFilteredItems:(0,l.EW)((()=>xo())),getAllItems:(0,l.EW)((()=>Co())),removeSupersetInSelection:Vo}}});const Ha=(0,z.A)(Na,[["render",ke],["__scopeId","data-v-be73d66c"]]);var $a=Ha;function Ba(e,t,a,r,i,n){const o=(0,l.g2)("Header"),c=(0,l.g2)("PropertyListRow"),d=(0,l.g2)("v-table"),u=(0,l.g2)("v-card"),p=(0,l.g2)("v-container");return e.state.project&&e.state.data?((0,l.uX)(),(0,l.Wv)(p,{key:0,style:{"max-width":"1400px"}},{default:(0,l.k6)((()=>[(0,l.bF)(o),(0,l.bF)(u,{class:"mt-2"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{class:"properties-table",style:{"min-width":"1000px"}},{default:(0,l.k6)((()=>[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[t[0]||(t[0]=(0,l.Lk)("th",{class:"text-start"},"Property",-1)),t[1]||(t[1]=(0,l.Lk)("th",{class:"text-start"},"Criterion",-1)),t[2]||(t[2]=(0,l.Lk)("th",{class:"text-start"},"Aim",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_alternativesIds,((t,a)=>((0,l.uX)(),(0,l.CE)("th",{key:a,class:"text-center"},(0,s.v_)(e.getAlternativeById(t).name),1)))),128))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.getNormalizedItemsByUniqueItemProp("property"),((e,t)=>((0,l.uX)(),(0,l.Wv)(c,{key:t,items:e,property:t},null,8,["items","property"])))),128))])])),_:1})])),_:1})])),_:1})):(0,l.Q3)("",!0)}const Va=["name","id"],qa={key:0,class:"text-grey"},Ua={key:0,class:"text-grey"},za={key:0,class:"text-center"};function Ka(e,t,a,r,i,n){const o=(0,l.g2)("Highlighter"),c=(0,l.g2)("v-icon"),d=(0,l.g2)("PropertiesListCriterion"),u=(0,l.g2)("Acceptability");return(0,l.uX)(),(0,l.CE)("tr",{onClick:t[0]||(t[0]=t=>e.hasMany?e.showDetails=!e.showDetails:""),key:`${e.property}-${e.criterionItems.length}-${e.aimItems.length}`},[(0,l.Lk)("td",null,[(0,l.Lk)("a",{name:`${e.property}`,id:e.property},null,8,Va),(0,l.Lk)("b",null,[(0,l.bF)(o,{searchWords:[e.state.searchInput],textToHighlight:e.property??""},null,8,["searchWords","textToHighlight"])]),e.criterionItems.length>1||e.aimItems.length>1?((0,l.uX)(),(0,l.Wv)(c,{key:0},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})):(0,l.Q3)("",!0)]),(0,l.Lk)("td",null,[e.criterionItems.length>1&&!e.showDetails?((0,l.uX)(),(0,l.CE)("div",qa,(0,s.v_)(e.criterionItems.length)+" criteria ",1)):(0,l.Q3)("",!0),e.criterionItems.length<=1||e.criterionItems.length>1&&e.showDetails?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(e.criterionItems,((t,a)=>((0,l.uX)(),(0,l.Wv)(d,{key:a,item:t,row:e.getAimsCountFromAimsAndCriterion(e.getAimsFromItems(e.items),t.criterion)},null,8,["item","row"])))),128)):(0,l.Q3)("",!0)]),(0,l.Lk)("td",null,[e.aimItems.length>1&&!e.showDetails?((0,l.uX)(),(0,l.CE)("div",Ua,(0,s.v_)(e.aimItems.length)+" aims",1)):(0,l.Q3)("",!0),e.aimItems.length<=1||e.aimItems.length>1&&e.showDetails?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(e.aimItems,((t,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a},(0,s.v_)(e.getAimById(t.aim).name),1)))),128)):(0,l.Q3)("",!0)]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_alternativesIds,((t,a)=>((0,l.uX)(),(0,l.CE)("td",{key:a},[e.showDetails?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",za,[(0,l.bF)(u,{items:e.filterItemsBy(e.items,{alternative:t}),alternative:t,icon:!1},null,8,["items","alternative"])])),e.showDetails?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(e.aimItems,((a,r)=>((0,l.uX)(),(0,l.CE)("div",{class:"text-center",key:r},[(0,l.bF)(u,{items:e.filterItemsBy(e.items,{alternative:t,aim:a.aim}),alternative:t,icon:!1},null,8,["items","alternative"])])))),128)):(0,l.Q3)("",!0)])))),128))])}function Qa(e,t,a,r,i,n){return(0,l.uX)(),(0,l.CE)("div",null,(0,s.v_)(e.getCriterionById(e.item.criterion).name),1)}var Ga=(0,l.pM)({props:{item:{},row:{}},setup(){return{getCriterionById:bo}}});const Ya=(0,z.A)(Ga,[["render",Qa]]);var Ja=Ya,Za=(0,l.pM)({props:{items:Array,property:{type:String,required:!0}},setup(e){const{items:t,property:a}=(0,n.QW)(e),r=(0,n.KR)(!1),s=(0,l.EW)((()=>(0,ye.uniqBy)(t.value,"criterion"))),i=(0,l.EW)((()=>(0,ye.uniqBy)(t.value,"aim"))),o=(0,l.EW)((()=>s.value.length>1||i.value.length>1));return{state:u,c_alternativesIds:to,showDetails:r,criterionItems:s,aimItems:i,hasMany:o,getAimsCountFromAimsAndCriterion:mo,getAimsFromItems:po,countBy:ye.countBy,sortBy:ye.sortBy,getSubOptionById:jo,getCriterionById:bo,getAimById:no,getAcceptabilityFromProCon:Go,normalizeByAlternative:Ao,filterItemsBy:wo,uniqBy:ye.uniqBy}},components:{Acceptability:Rt,PropertiesListCriterion:Ja}});const er=(0,z.A)(Za,[["render",Ka]]);var tr=er,ar=(0,l.pM)({setup(e){const t=(0,n.KR)(null);return{state:u,height:t,c_alternativesIds:to,setHeight:()=>{const e=document.querySelector("[table-filters]");if(e){const a=e.getBoundingClientRect();t.value=window.innerHeight-a.bottom-24}},getNormalizedItemsByUniqueItemProp:So,getAlternativeById:ao}},components:{Header:Ee,PropertyListRow:tr},mounted(){this.$nextTick(this.setHeight)},updated(){this.$nextTick(this.setHeight)},created(){window.addEventListener("resize",this.setHeight)},destroyed(){window.removeEventListener("resize",this.setHeight)}});const rr=(0,z.A)(ar,[["render",Ba]]);var lr=rr;const sr={style:{"overflow-x":"auto"}};function ir(e,t,a,r,i,n){const o=(0,l.g2)("Header"),c=(0,l.g2)("StakeholderListRow"),d=(0,l.g2)("v-table"),u=(0,l.g2)("v-card"),p=(0,l.g2)("v-container");return e.state.project&&e.state.data?((0,l.uX)(),(0,l.Wv)(p,{key:0,style:{"max-width":"1400px"}},{default:(0,l.k6)((()=>[(0,l.bF)(o),(0,l.bF)(u,{class:"mt-2"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",sr,[(0,l.bF)(d,{class:"properties-table",style:{"min-width":"1000px"}},{default:(0,l.k6)((()=>[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[t[0]||(t[0]=(0,l.Lk)("th",{class:"text-start"},"Criterion",-1)),t[1]||(t[1]=(0,l.Lk)("th",{class:"text-start"},"Aim",-1)),t[2]||(t[2]=(0,l.Lk)("th",{class:"text-start"},"Stakeholder",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_alternativesIds,((t,a)=>((0,l.uX)(),(0,l.CE)("th",{key:`alt-${a}`,class:"text-center"},(0,s.v_)(e.getAlternativeById(t).name),1)))),128))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.getNormalizedItemsByUniqueItemProp("criterion"),((t,a)=>((0,l.uX)(),(0,l.Wv)(c,{key:`crit-${a}`,items:t,property:e.getCriterionName(a)},null,8,["items","property"])))),128))])])),_:1})])])),_:1})])),_:1})):(0,l.Q3)("",!0)}const nr=["rowspan"],or=["name","id"],cr=["rowspan"],dr={stakeholder:""};function ur(e,t,a,r,i,n){const o=(0,l.g2)("Highlighter"),c=(0,l.g2)("Acceptability");return(0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.aimItems,((t,a)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.uniqBy(e.filterItemsBy(e.items,{aim:t.aim}),"stakeholder"),((r,i)=>((0,l.uX)(),(0,l.CE)("tr",{key:`stakeholder-${i}-${a}`},[0===a&&0===i?((0,l.uX)(),(0,l.CE)("td",{key:0,criterion:"",rowspan:e.uniqBy(e.filterItemsBy(e.items,{criterion:t.criterion}),"stakeholder").length*e.aimItems.length},[(0,l.Lk)("a",{name:`${e.property}`,id:e.property},null,8,or),(0,l.bF)(o,{class:"inline-block",searchWords:[e.state.searchInput],"text-to-highlight":e.property},null,8,["searchWords","text-to-highlight"])],8,nr)):(0,l.Q3)("",!0),0===i?((0,l.uX)(),(0,l.CE)("td",{key:1,aim:"",rowspan:e.uniqBy(e.filterItemsBy(e.items,{aim:t.aim}),"stakeholder").length},[(0,l.Lk)("span",null,(0,s.v_)(e.getAimById(t.aim).name),1)],8,cr)):(0,l.Q3)("",!0),(0,l.Lk)("td",dr,[(0,l.Lk)("b",null,(0,s.v_)(e.getStakeholderName(r.stakeholder)),1)]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_alternativesIds,((a,s)=>((0,l.uX)(),(0,l.CE)("td",{class:"text-center",alternative:"",key:s},[(0,l.bF)(c,{items:e.filterItemsBy(e.items,{alternative:a,aim:t.aim,stakeholder:r.stakeholder}),alternative:a,icon:!1},null,8,["items","alternative"])])))),128))])))),128))],64)))),256)}var pr=(0,l.pM)({props:{items:Array,property:{type:String,required:!0}},setup(e){const{items:t,property:a}=(0,n.QW)(e),r=(0,l.EW)((()=>(0,ye.uniqBy)(t.value,"stakeholder"))),s=(0,l.EW)((()=>(0,ye.uniqBy)(t.value,"criterion"))),i=(0,l.EW)((()=>(0,ye.uniqBy)(t.value,"aim")));return console.log("aimItems"),console.log(i.value),{state:u,c_alternativesIds:to,stakeholderItems:r,criterionItems:s,aimItems:i,hasMany:(0,l.EW)((()=>s.value.length>1||i.value.length>1)),getStakeholderName:Mo,getAimsCountFromAimsAndCriterion:mo,getAimsFromItems:po,countBy:ye.countBy,sortBy:ye.sortBy,getSubOptionById:jo,getCriterionById:bo,getAimById:no,getAcceptabilityFromProCon:Go,normalizeByAlternative:Ao,filterItemsBy:wo,uniqBy:ye.uniqBy}},components:{Acceptability:Rt}});const mr=(0,z.A)(pr,[["render",ur]]);var hr=mr,vr=(0,l.pM)({props:{id:Number},setup(){const e=(0,n.KR)(null),t=()=>{const t=document.querySelector("[table-filters]");if(t){const a=t.getBoundingClientRect();e.value=window.innerHeight-a.bottom-24}};return(0,l.sV)((()=>{t(),window.addEventListener("resize",t)})),(0,l.$u)(t),(0,l.xo)((()=>{window.removeEventListener("resize",t)})),{state:u,height:e,c_alternativesIds:to,getCriterionName:ko,getNormalizedItemsByUniqueItemProp:So,getAlternativeById:ao,setHeight:t}},components:{Header:Ee,StakeholderListRow:hr}});const gr=(0,z.A)(vr,[["render",ir],["__scopeId","data-v-4259a901"]]);var fr=gr;const br={key:0,class:"view-container"},kr={class:"header-section"},yr={class:"chart-main"},Cr={class:"chart-container"},xr={class:"chart-container"},wr={class:"chart-container"},Er={class:"chart-container"},Fr={class:"chart-container"};function _r(e,t,a,i,n,o){const c=(0,l.g2)("Header"),d=(0,l.g2)("v-container"),u=(0,l.g2)("v-icon"),p=(0,l.g2)("v-card-title"),m=(0,l.g2)("v-divider"),h=(0,l.g2)("v-list-item-title"),v=(0,l.g2)("v-list-item"),g=(0,l.g2)("v-list"),f=(0,l.g2)("v-card"),b=(0,l.g2)("v-col"),k=(0,l.g2)("ArgumentCount"),y=(0,l.g2)("v-card-text"),C=(0,l.g2)("BarChart"),x=(0,l.g2)("CircleChart"),w=(0,l.g2)("AlternativesComparison"),E=(0,l.g2)("CrosstabChart"),F=(0,l.g2)("v-row");return e.state.project&&e.state.data?((0,l.uX)(),(0,l.CE)("div",br,[(0,l.Lk)("div",kr,[(0,l.bF)(d,{style:{"max-width":"1600px"}},{default:(0,l.k6)((()=>[(0,l.bF)(c,{chartSelectedChart:e.selectedChart},null,8,["chartSelectedChart"])])),_:1})]),(0,l.Lk)("div",yr,[(0,l.bF)(d,{fluid:"",class:"fill-height chart-layout"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{class:"fill-height chart-row","no-gutters":""},{default:(0,l.k6)((()=>[(0,l.bF)(b,{cols:"12",sm:"3",md:"2",class:"sidebar"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{class:"sidebar-card",elevation:"2"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{class:"text-h6 d-flex align-center pa-4"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{icon:"mdi-chart-bar",class:"mr-2",color:"primary"}),t[0]||(t[0]=(0,l.eW)(" Charts "))])),_:1}),(0,l.bF)(m),(0,l.bF)(g,{class:"chart-menu",density:"compact"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.charts,(t=>((0,l.uX)(),(0,l.Wv)(v,{key:t.id,active:e.selectedChart===t.id,onClick:a=>e.selectedChart=t.id,class:"chart-menu-item"},{prepend:(0,l.k6)((()=>[(0,l.bF)(u,{icon:t.icon,size:"small",class:"mr-2"},null,8,["icon"])])),default:(0,l.k6)((()=>[(0,l.bF)(h,{class:"text-caption"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(t.label),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1})])),_:1})])),_:1}),(0,l.bF)(b,{cols:"12",sm:"9",md:"10",class:"content-area"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{class:"content-card",elevation:"2"},{default:(0,l.k6)((()=>[(0,l.bo)((0,l.Lk)("div",Cr,[(0,l.bF)(p,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{icon:"mdi-counter",class:"mr-2",color:"primary"}),t[1]||(t[1]=(0,l.eW)(" Argument Count "))])),_:1}),(0,l.bF)(y,{class:"pa-6"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{arguments:e.filteredItems,selectedAlternative:e.state.chartFilters?.selectedAlternative,analysisPer:e.state.chartFilters?.analysisPer,alternativesMap:e.state.data?.alternatives||null,criterionsMap:e.state.data?.criterions||null,stakeholdersMap:e.state.data?.stakeholders||null},null,8,["arguments","selectedAlternative","analysisPer","alternativesMap","criterionsMap","stakeholdersMap"])])),_:1})],512),[[r.aG,"argument-count"===e.selectedChart]]),(0,l.bo)((0,l.Lk)("div",xr,[(0,l.bF)(p,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{icon:"mdi-chart-bar",class:"mr-2",color:"primary"}),t[2]||(t[2]=(0,l.eW)(" Bar Chart of Argument Repartition "))])),_:1}),(0,l.bF)(y,{class:"pa-6"},{default:(0,l.k6)((()=>[(0,l.bF)(C,{arguments:e.filteredItems,selectedAlternative:e.state.chartFilters?.selectedAlternative,analysisPer:e.state.chartFilters?.analysisPer,selectedCriterion:e.state.chartFilters?.selectedCriterion,alternativesMap:e.state.data?.alternatives||null,criterionsMap:e.state.data?.criterions||null,stakeholdersMap:e.state.data?.stakeholders||null},null,8,["arguments","selectedAlternative","analysisPer","selectedCriterion","alternativesMap","criterionsMap","stakeholdersMap"])])),_:1})],512),[[r.aG,"bar-chart"===e.selectedChart]]),(0,l.bo)((0,l.Lk)("div",wr,[(0,l.bF)(p,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{icon:"mdi-chart-bubble",class:"mr-2",color:"primary"}),t[3]||(t[3]=(0,l.eW)(" Circle Chart of Argument Repartition "))])),_:1}),(0,l.bF)(y,{class:"pa-6"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{arguments:e.filteredItems,criterionsMap:e.state.data?.criterions||null,selectedCriterion:e.state.chartFilters?.selectedCriterion,analysisPer:e.state.chartFilters?.analysisPer,stakeholdersMap:e.state.data?.stakeholders||null,selectedAlternative:e.state.chartFilters?.selectedAlternative,alternativesMap:e.state.data?.alternatives||null},null,8,["arguments","criterionsMap","selectedCriterion","analysisPer","stakeholdersMap","selectedAlternative","alternativesMap"])])),_:1})],512),[[r.aG,"pie-chart"===e.selectedChart]]),(0,l.bo)((0,l.Lk)("div",Er,[(0,l.bF)(p,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{icon:"mdi-compare",class:"mr-2",color:"primary"}),t[4]||(t[4]=(0,l.eW)(" Comparison of Alternatives "))])),_:1}),(0,l.bF)(y,{class:"pa-6"},{default:(0,l.k6)((()=>[(0,l.bF)(w,{arguments:e.filteredItems,criterionsMap:e.state.data?.criterions||null,alternativesMap:e.state.data?.alternatives||null,stakeholdersMap:e.state.data?.stakeholders||null,analysisPer:e.state.chartFilters?.analysisPer},null,8,["arguments","criterionsMap","alternativesMap","stakeholdersMap","analysisPer"])])),_:1})],512),[[r.aG,"alternatives-comparison"===e.selectedChart]]),(0,l.bo)((0,l.Lk)("div",Fr,[(0,l.bF)(p,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{icon:"mdi-table",class:"mr-2",color:"primary"}),t[5]||(t[5]=(0,l.eW)(" Cross-tab: Criteria x Stakeholders "))])),_:1}),(0,l.bF)(y,{class:"pa-6"},{default:(0,l.k6)((()=>[(0,l.bF)(E,{arguments:e.filteredItemsForCrosstab,criterionsMap:e.state.data?.criterions||null,stakeholdersMap:e.state.data?.stakeholders||null},null,8,["arguments","criterionsMap","stakeholdersMap"])])),_:1})],512),[[r.aG,"crosstab"===e.selectedChart]])])),_:1})])),_:1})])),_:1})])),_:1})])])):(0,l.Q3)("",!0)}a(116);const Lr={class:"argument-count"},Ar={class:"count-summary mb-6"},Ir={class:"summary-cards"},Sr={class:"text-h4"},Wr={class:"text-h4"},Or={class:"text-h4"},Xr={class:"pie-chart-container"},jr={class:"pie-chart-wrapper"},Pr={class:"pie-chart-legend"},Tr={class:"legend-label"},Mr={class:"legend-value"},Dr=["width","height"],Rr={key:1,class:"separated-charts-container"},Nr={class:"alternative-title"},Hr={class:"alternative-summary"},$r={class:"summary-badge primary"},Br={class:"badge-value"},Vr={class:"summary-badge success"},qr={class:"badge-value"},Ur={class:"summary-badge error"},zr={class:"badge-value"},Kr={class:"pie-chart-wrapper"},Qr={class:"pie-chart-legend"},Gr={class:"legend-label"},Yr={class:"legend-value"},Jr=["width","height"];function Zr(e,t,a,r,i,n){const o=(0,l.g2)("v-card-text"),c=(0,l.g2)("v-card");return(0,l.uX)(),(0,l.CE)("div",Lr,["all-separated"!==e.selectedAlternative?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.Lk)("div",Ar,[(0,l.Lk)("div",Ir,[(0,l.bF)(c,{variant:"tonal",color:"primary",class:"summary-card"},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",Sr,(0,s.v_)(e.totalCount),1),t[0]||(t[0]=(0,l.Lk)("div",{class:"text-caption"},"Total Arguments",-1))])),_:1})])),_:1}),(0,l.bF)(c,{variant:"tonal",color:"success",class:"summary-card"},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",Wr,(0,s.v_)(e.favorableCount),1),t[1]||(t[1]=(0,l.Lk)("div",{class:"text-caption"},"Favorable",-1))])),_:1})])),_:1}),(0,l.bF)(c,{variant:"tonal",color:"error",class:"summary-card"},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",Or,(0,s.v_)(e.unfavorableCount),1),t[2]||(t[2]=(0,l.Lk)("div",{class:"text-caption"},"Unfavorable",-1))])),_:1})])),_:1})])]),(0,l.Lk)("div",Xr,[(0,l.Lk)("div",jr,[(0,l.Lk)("div",Pr,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.legendItems,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.label,class:"legend-item"},[(0,l.Lk)("span",{class:"legend-swatch",style:(0,s.Tr)({backgroundColor:e.color})},null,4),(0,l.Lk)("span",Tr,(0,s.v_)(e.label),1),(0,l.Lk)("span",Mr,(0,s.v_)(e.count),1)])))),128))]),((0,l.uX)(),(0,l.CE)("svg",{ref:"chartRef",width:e.width,height:e.height},null,8,Dr))])])],64)):((0,l.uX)(),(0,l.CE)("div",Rr,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.separatedChartsData,((a,r)=>((0,l.uX)(),(0,l.CE)("div",{key:r,class:"alternative-chart-card"},[(0,l.Lk)("h3",Nr,(0,s.v_)(a.name),1),(0,l.Lk)("div",Hr,[(0,l.Lk)("div",$r,[(0,l.Lk)("span",Br,(0,s.v_)(a.totalCount),1),t[3]||(t[3]=(0,l.Lk)("span",{class:"badge-label"},"Total",-1))]),(0,l.Lk)("div",Vr,[(0,l.Lk)("span",qr,(0,s.v_)(a.favorableCount),1),t[4]||(t[4]=(0,l.Lk)("span",{class:"badge-label"},"Favorable",-1))]),(0,l.Lk)("div",Ur,[(0,l.Lk)("span",zr,(0,s.v_)(a.unfavorableCount),1),t[5]||(t[5]=(0,l.Lk)("span",{class:"badge-label"},"Unfavorable",-1))])]),(0,l.Lk)("div",Kr,[(0,l.Lk)("div",Qr,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.legendItems,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.label,class:"legend-item"},[(0,l.Lk)("span",{class:"legend-swatch",style:(0,s.Tr)({backgroundColor:e.color})},null,4),(0,l.Lk)("span",Gr,(0,s.v_)(e.label),1),(0,l.Lk)("span",Yr,(0,s.v_)(e.count),1)])))),128))]),((0,l.uX)(),(0,l.CE)("svg",{ref_for:!0,ref:t=>e.setSvgRef(r,t),width:e.width,height:e.height,class:"chart-svg"},null,8,Jr))])])))),128))]))])}var el=(0,l.pM)({name:"ArgumentCount",props:{arguments:{type:Array,required:!0},alternativesMap:{type:Object,default:null},criterionsMap:{type:Object,default:null},stakeholdersMap:{type:Object,default:null},selectedAlternative:{type:String,default:"all-merged"},analysisPer:{type:String,default:"criteria"}},setup(e){const t=(0,n.KR)(null),a=(0,n.KR)({}),r=700,s=500,i=(0,l.EW)((()=>{let t=[...e.arguments];if(e.selectedAlternative&&"all-merged"!==e.selectedAlternative&&"all-separated"!==e.selectedAlternative){const a=e.alternativesMap||{},r=Object.values(a).find((t=>t.name===e.selectedAlternative))?.id;void 0!==r&&(t=t.filter((e=>e.alternative===r)))}return t})),o=(0,l.EW)((()=>i.value.length)),c=(0,l.EW)((()=>i.value.filter((e=>e.favorable)).length)),d=(0,l.EW)((()=>i.value.filter((e=>!e.favorable)).length)),u=(0,l.EW)((()=>{const t={};return i.value.forEach((a=>{let r;if("stakeholder"===e.analysisPer){const t=e.stakeholdersMap?.[a.stakeholder]?.name;r=t||`Stakeholder ${a.stakeholder}`}else{const t=e.criterionsMap?.[a.criterion]?.name;r=t||`Criterion ${a.criterion}`}t[r]||(t[r]={favorable:0,unfavorable:0}),a.favorable?t[r].favorable++:t[r].unfavorable++})),t})),p=e=>e.sort((([,e],[,t])=>t.favorable+t.unfavorable-(e.favorable+e.unfavorable))),m=(0,l.EW)((()=>{const t={},a=e.alternativesMap||{};return Object.entries(a).forEach((([a,r])=>{const l=e.arguments.filter((e=>e.alternative===r.id)),s={};l.forEach((t=>{let a;if("stakeholder"===e.analysisPer){const r=e.stakeholdersMap?.[t.stakeholder]?.name;a=r||`Stakeholder ${t.stakeholder}`}else{const r=e.criterionsMap?.[t.criterion]?.name;a=r||`Criterion ${t.criterion}`}s[a]||(s[a]={favorable:0,unfavorable:0}),t.favorable?s[a].favorable++:s[a].unfavorable++}));const i=["#2196F3","#4CAF50","#FF9800","#F44336","#9C27B0","#00BCD4","#8BC34A","#FFC107","#E91E63","#3F51B5","#009688","#CDDC39","#FF5722","#673AB7","#795548"],n=p(Object.entries(s)),o=n.map((([e,t],a)=>{const r=t.favorable+t.unfavorable;return{label:e||"Unknown",count:r,color:i[a%i.length]}})),c=l.length,d=l.filter((e=>e.favorable)).length,u=l.filter((e=>!e.favorable)).length;t[r.id]={name:r.name,totalCount:c,favorableCount:d,unfavorableCount:u,chartData:s,legendItems:o}})),t})),h=["#2196F3","#4CAF50","#FF9800","#F44336","#9C27B0","#00BCD4","#8BC34A","#FFC107","#E91E63","#3F51B5","#009688","#CDDC39","#FF5722","#673AB7","#795548"],v=(0,l.EW)((()=>{const e=p(Object.entries(u.value));e.reduce(((e,[,t])=>e+t.favorable+t.unfavorable),0);return e.map((([e,t],a)=>{const r=t.favorable+t.unfavorable;return{label:e||"Unknown",count:r,color:h[a%h.length]}}))})),g=(e,t)=>{a.value[e]=t},f=()=>{if(!t.value)return;const e=t.value;e.innerHTML="";const a=p(Object.entries(u.value));if(0===a.length)return;const l=a.reduce(((e,[,t])=>e+t.favorable+t.unfavorable),0);if(0===l)return;const i=r/2,n=s/2,o=Math.min(r,s)/2-120;let c=-Math.PI/2;a.forEach((([t,a],r)=>{const s=a.favorable+a.unfavorable,d=s/l*2*Math.PI,u=c+d,p=i+o*Math.cos(c),m=n+o*Math.sin(c),v=i+o*Math.cos(u),g=n+o*Math.sin(u),f=d>Math.PI?1:0,b=document.createElementNS("http://www.w3.org/2000/svg","path");let k;if(d>=2*Math.PI-.01){const e=c+Math.PI,t=i+o*Math.cos(e),a=n+o*Math.sin(e);k=[`M ${i} ${n}`,`L ${p} ${m}`,`A ${o} ${o} 0 1 1 ${t} ${a}`,`A ${o} ${o} 0 1 1 ${p} ${m}`,"Z"].join(" ")}else k=[`M ${i} ${n}`,`L ${p} ${m}`,`A ${o} ${o} 0 ${f} 1 ${v} ${g}`,"Z"].join(" ");b.setAttribute("d",k),b.setAttribute("fill",h[r%h.length]),b.setAttribute("stroke","white"),b.setAttribute("stroke-width","2"),e.appendChild(b),c=u}))},b=()=>{Object.entries(m.value).forEach((([e,t])=>{const l=a.value[e];if(!l)return;l.innerHTML="";const i=p(Object.entries(t.chartData));if(0===i.length)return;const n=i.reduce(((e,[,t])=>e+t.favorable+t.unfavorable),0);if(0===n)return;const o=r/2,c=s/2,d=Math.min(r,s)/2-120;let u=-Math.PI/2;i.forEach((([e,t],a)=>{const r=t.favorable+t.unfavorable,s=r/n*2*Math.PI,i=u+s,p=o+d*Math.cos(u),m=c+d*Math.sin(u),v=o+d*Math.cos(i),g=c+d*Math.sin(i),f=s>Math.PI?1:0,b=document.createElementNS("http://www.w3.org/2000/svg","path");let k;if(s>=2*Math.PI-.01){const e=u+Math.PI,t=o+d*Math.cos(e),a=c+d*Math.sin(e);k=[`M ${o} ${c}`,`L ${p} ${m}`,`A ${d} ${d} 0 1 1 ${t} ${a}`,`A ${d} ${d} 0 1 1 ${p} ${m}`,"Z"].join(" ")}else k=[`M ${o} ${c}`,`L ${p} ${m}`,`A ${d} ${d} 0 ${f} 1 ${v} ${g}`,"Z"].join(" ");b.setAttribute("d",k),b.setAttribute("fill",h[a%h.length]),b.setAttribute("stroke","white"),b.setAttribute("stroke-width","2"),l.appendChild(b),u=i}))}))};return(0,l.sV)((()=>{"all-separated"!==e.selectedAlternative?f():(0,l.dY)((()=>{b()}))})),(0,l.wB)((()=>e.selectedAlternative),(async()=>{await(0,l.dY)(),"all-separated"!==e.selectedAlternative?f():b()})),(0,l.wB)((()=>[u.value,e.analysisPer]),(async()=>{"all-separated"!==e.selectedAlternative&&(await(0,l.dY)(),f())}),{deep:!0,flush:"post"}),(0,l.wB)((()=>v.value),(async()=>{"all-separated"!==e.selectedAlternative&&(await(0,l.dY)(),f())}),{deep:!0,flush:"post"}),(0,l.wB)((()=>e.arguments),(async()=>{await(0,l.dY)(),"all-separated"!==e.selectedAlternative?f():b()}),{deep:!0,flush:"post"}),(0,l.wB)((()=>[m.value,e.analysisPer]),(async()=>{"all-separated"===e.selectedAlternative&&(await(0,l.dY)(),b())}),{deep:!0,flush:"post"}),{chartRef:t,width:r,height:s,totalCount:o,favorableCount:c,unfavorableCount:d,legendItems:v,separatedChartsData:m,setSvgRef:g}}});const tl=(0,z.A)(el,[["render",Zr],["__scopeId","data-v-245f0ccd"]]);var al=tl;const rl={class:"bar-chart-container"},ll={class:"alternative-title-header"},sl={key:0,class:"chart-wrapper"},il={class:"chart-area"},nl=["width","height"],ol={class:"attitude-column"},cl={key:1,class:"separated-charts-container"},dl={class:"alternative-title"},ul={class:"chart-wrapper-separated"},pl={class:"chart-area"},ml=["width","height"];function hl(e,t,a,r,i,n){return(0,l.uX)(),(0,l.CE)("div",rl,[(0,l.Lk)("div",ll,(0,s.v_)(e.alternativeLabel),1),"all-separated"!==e.selectedAlternative?((0,l.uX)(),(0,l.CE)("div",sl,[(0,l.Lk)("div",il,[((0,l.uX)(),(0,l.CE)("svg",{ref:"chartRef",width:e.width,height:e.height,class:"horizontal-bars"},null,8,nl))]),(0,l.Lk)("div",ol,[t[0]||(t[0]=(0,l.Lk)("div",{class:"attitude-header"},"Attitude",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.tableRows,(t=>((0,l.uX)(),(0,l.CE)("div",{key:t.key,class:"attitude-item",style:(0,s.Tr)({backgroundColor:e.getCellColor(t.attitude)})},[(0,l.Lk)("div",{class:"attitude-value",style:(0,s.Tr)({color:"0.00"===t.attitude||parseFloat(t.attitude)>=.35&&parseFloat(t.attitude)<.6?"#333":"#fff"})},(0,s.v_)(t.attitude),5)],4)))),128))])])):((0,l.uX)(),(0,l.CE)("div",cl,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.separatedChartsData,((a,r)=>((0,l.uX)(),(0,l.CE)("div",{key:r,class:"alternative-chart-card"},[(0,l.Lk)("h3",dl,(0,s.v_)(a.name),1),(0,l.Lk)("div",ul,[(0,l.Lk)("div",pl,[((0,l.uX)(),(0,l.CE)("svg",{ref_for:!0,ref:t=>e.setSvgRef(String(r),t),width:e.width,height:a.chartHeight,class:"horizontal-bars"},null,8,ml))]),(0,l.Lk)("div",{class:"attitude-column-right",style:(0,s.Tr)({height:a.chartHeight+"px"})},[t[1]||(t[1]=(0,l.Lk)("div",{class:"attitude-header"},"Attitude",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.tableRows,(t=>((0,l.uX)(),(0,l.CE)("div",{key:t.key,class:"attitude-item",style:(0,s.Tr)({backgroundColor:e.getCellColor(t.attitude)})},[(0,l.Lk)("div",{class:"attitude-value",style:(0,s.Tr)({color:"0.00"===t.attitude||parseFloat(t.attitude)>=.35&&parseFloat(t.attitude)<.6?"#333":"#fff"})},(0,s.v_)(t.attitude),5)],4)))),128))],4)])])))),128))]))])}a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);var vl=(0,l.pM)({name:"BarChart",props:{arguments:{type:Array,required:!0},selectedAlternative:{type:String,default:"all-merged"},analysisPer:{type:String,default:"criteria"},selectedCriterion:{type:[String,Number],default:""},alternativesMap:{type:Object,default:null},criterionsMap:{type:Object,default:null},stakeholdersMap:{type:Object,default:null}},setup(e){const t=(0,n.KR)(null),a=(0,n.KR)(new Map),r=600,s=(0,l.EW)((()=>{const e=40,t=60,a=m.value.length;return t+a*e})),i=(0,l.EW)((()=>"stakeholder"===e.analysisPer?"Stakeholders":"Criteria")),o=(0,l.EW)((()=>e.selectedAlternative&&"all-merged"!==e.selectedAlternative&&"all-separated"!==e.selectedAlternative?e.selectedAlternative:"All alternatives")),c=(0,l.EW)((()=>{let t=[...e.arguments];if(e.selectedAlternative&&"all-merged"!==e.selectedAlternative&&"all-separated"!==e.selectedAlternative){const a=e.alternativesMap||{},r=Object.values(a).find((t=>t.name===e.selectedAlternative))?.id;void 0!==r&&(t=t.filter((e=>e.alternative===r)))}if(""!==e.selectedCriterion&&null!==e.selectedCriterion){const a=Number(e.selectedCriterion);Number.isNaN(a)||(t=t.filter((e=>e.criterion===a)))}return t})),d=(0,l.EW)((()=>{const t=e.alternativesMap||{},a={},r=Array.from(new Set(e.arguments.map((e=>e.alternative))));return r.forEach((r=>{const l=t[r]?.name||`Alternative ${r}`,s=e.arguments.filter((e=>e.alternative===r));let i=[...s];if(""!==e.selectedCriterion&&null!==e.selectedCriterion){const t=Number(e.selectedCriterion);Number.isNaN(t)||(i=i.filter((e=>e.criterion===t)))}const n=new Map;i.forEach((t=>{const a="stakeholder"===e.analysisPer?t.stakeholder:t.criterion;n.has(a)||n.set(a,{favorable:0,unfavorable:0});const r=n.get(a);t.favorable?r.favorable+=1:r.unfavorable+=1}));const o=Array.from(n.entries()).map((([e,t])=>{const a=t.favorable+t.unfavorable,r=(t.favorable+1)/(a+2);return{key:e,label:u(e),favorable:t.favorable,unfavorable:t.unfavorable,attitude:r.toFixed(2)}})).sort(((e,t)=>e.label.localeCompare(t.label))),c=Math.max(300,40*o.length);a[String(r)]={id:r,name:l,tableRows:o,chartHeight:c}})),a})),u=t=>"stakeholder"===e.analysisPer?e.stakeholdersMap?.[t]?.name||`Stakeholder ${t}`:e.criterionsMap?.[t]?.name||`Criterion ${t}`,p=(e,t)=>{t&&a.value.set(e,t)},m=(0,l.EW)((()=>{const t=new Map;return c.value.forEach((a=>{const r="stakeholder"===e.analysisPer?a.stakeholder:a.criterion;t.has(r)||t.set(r,{favorable:0,unfavorable:0});const l=t.get(r);a.favorable?l.favorable+=1:l.unfavorable+=1})),Array.from(t.entries()).map((([e,t])=>{const a=t.favorable+t.unfavorable,r=(t.favorable+1)/(a+2);return{key:e,label:u(e),favorable:t.favorable,unfavorable:t.unfavorable,attitude:r.toFixed(2)}})).sort(((e,t)=>e.label.localeCompare(t.label)))})),h=(e,t,a)=>{if(e.innerHTML="",0===t.length)return;const l={left:280,right:20,top:60,bottom:0},s=r-l.left-l.right,i=a-l.top-l.bottom,n=i/t.length,o=Math.max(12,.35*n),c=4,d=Math.max(...t.map((e=>e.favorable+e.unfavorable))),u=document.createElementNS("http://www.w3.org/2000/svg","g");u.setAttribute("transform",`translate(${l.left},${l.top})`);const p="#4CAF50",m="#F44336";t.forEach(((e,t)=>{const a=t*n,r=a+n/2,l=r-o-c/2,i=r+c/2,h=e.favorable/d*s,v=e.unfavorable/d*s,g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("x","0"),g.setAttribute("y",String(l)),0===e.favorable?(g.setAttribute("width","12"),g.setAttribute("opacity","0.4")):(g.setAttribute("width",String(h)),g.setAttribute("opacity","1")),g.setAttribute("height",String(o)),g.setAttribute("fill",p),u.appendChild(g);const f=document.createElementNS("http://www.w3.org/2000/svg","text");let b,k;0===e.favorable?(b=5,k="black"):h>35?(b=5,k="white"):(b=h+8,k="black"),f.setAttribute("x",String(b)),f.setAttribute("y",String(l+o/2+4)),f.setAttribute("text-anchor","start"),f.setAttribute("font-size","11"),f.setAttribute("font-weight","bold"),f.setAttribute("fill",k),f.textContent=String(e.favorable),u.appendChild(f);const y=document.createElementNS("http://www.w3.org/2000/svg","rect");y.setAttribute("x","0"),y.setAttribute("y",String(i)),0===e.unfavorable?(y.setAttribute("width","12"),y.setAttribute("opacity","0.4")):(y.setAttribute("width",String(v)),y.setAttribute("opacity","1")),y.setAttribute("height",String(o)),y.setAttribute("fill",m),u.appendChild(y);const C=document.createElementNS("http://www.w3.org/2000/svg","text");let x,w;0===e.unfavorable?(x=5,w="black"):v>35?(x=5,w="white"):(x=v+8,w="black"),C.setAttribute("x",String(x)),C.setAttribute("y",String(i+o/2+4)),C.setAttribute("text-anchor","start"),C.setAttribute("font-size","11"),C.setAttribute("font-weight","bold"),C.setAttribute("fill",w),C.textContent=String(e.unfavorable),u.appendChild(C);let E=e.label,F="";if(e.label.length>40){const t=20;let a=t;for(let r=t;r<e.label.length&&r<t+10;r++)if(" "===e.label[r]){a=r;break}E=e.label.substring(0,a).trim(),F=e.label.substring(a).trim(),F.length>25&&(F=F.substring(0,25)+"...")}const _=document.createElementNS("http://www.w3.org/2000/svg","text");if(_.setAttribute("x","-20"),_.setAttribute("y",String(r-4)),_.setAttribute("text-anchor","end"),_.setAttribute("font-size","12"),_.setAttribute("color","#333"),_.textContent=E,u.appendChild(_),F){const e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("x","-20"),e.setAttribute("y",String(r+10)),e.setAttribute("text-anchor","end"),e.setAttribute("font-size","12"),e.setAttribute("color","#333"),e.textContent=F,u.appendChild(e)}}));const h=document.createElementNS("http://www.w3.org/2000/svg","g");h.setAttribute("transform","translate(0, -15)");const v=document.createElementNS("http://www.w3.org/2000/svg","rect");v.setAttribute("x","0"),v.setAttribute("y","0"),v.setAttribute("width","12"),v.setAttribute("height","12"),v.setAttribute("fill",p),h.appendChild(v);const g=document.createElementNS("http://www.w3.org/2000/svg","text");g.setAttribute("x","18"),g.setAttribute("y","10"),g.setAttribute("font-size","12"),g.textContent="Favorable",h.appendChild(g);const f=document.createElementNS("http://www.w3.org/2000/svg","rect");f.setAttribute("x","120"),f.setAttribute("y","0"),f.setAttribute("width","12"),f.setAttribute("height","12"),f.setAttribute("fill",m),h.appendChild(f);const b=document.createElementNS("http://www.w3.org/2000/svg","text");b.setAttribute("x","136"),b.setAttribute("y","10"),b.setAttribute("font-size","12"),b.textContent="Unfavorable",h.appendChild(b),u.appendChild(h),e.appendChild(u)},v=()=>{t.value&&h(t.value,m.value,s.value)},g=()=>{Object.entries(d.value).forEach((([e,t])=>{const r=a.value.get(e);r&&h(r,t.tableRows,t.chartHeight)}))};(0,l.sV)((()=>{"all-separated"!==e.selectedAlternative?v():(0,l.dY)((()=>{g()}))})),(0,l.wB)((()=>e.selectedAlternative),(async()=>{await(0,l.dY)(),"all-separated"!==e.selectedAlternative?v():g()})),(0,l.wB)((()=>[m.value,e.analysisPer,e.selectedCriterion]),(()=>{"all-separated"!==e.selectedAlternative&&v()}),{deep:!0}),(0,l.wB)((()=>[d.value,e.analysisPer,e.selectedCriterion]),(()=>{"all-separated"===e.selectedAlternative&&g()}),{deep:!0});const f=e=>{const t=parseFloat(String(e));return 0===t?"#ffffff":t<.35?"#f44336":t<.5?"#ff9800":t<.6?"#ffc107":"#4caf50"};return{chartRef:t,width:r,height:s,groupByLabel:i,alternativeLabel:o,tableRows:m,separatedChartsData:d,setSvgRef:p,renderChart:v,renderSeparatedCharts:g,getCellColor:f}}});const gl=(0,z.A)(vl,[["render",hl],["__scopeId","data-v-ee8daa2e"]]);var fl=gl;const bl={class:"circle-chart"},kl={class:"alternative-title-header"},yl={key:0,class:"table-container"},Cl=["width","height"],xl={class:"grid"},wl=["x1","x2"],El=["x1","y1","x2","y2"],Fl=["x1","y1","x2","y2"],_l=["x1","y1","x2","y2"],Ll=["x1","x2","y2"],Al=["x1","x2","y2"],Il={class:"headers"},Sl=["x","y"],Wl=["x","y"],Ol=["x","y"],Xl=["x","y"],jl=["x","y"],Pl=["x1","y1","x2","y2"],Tl=["cx","cy","r"],Ml=["cx","cy","r"],Dl=["x","y"],Rl=["x","y"],Nl=["x","y"],Hl={class:"footer-container"},$l={key:1,class:"separated-charts-container"},Bl={class:"alternative-title"},Vl={class:"table-container"},ql=["width","height"],Ul={class:"grid"},zl=["x1","x2"],Kl=["x1","y1","x2","y2"],Ql=["x1","y1","x2","y2"],Gl=["x1","y1","x2","y2"],Yl=["x1","x2","y2"],Jl=["x1","x2","y2"],Zl={class:"headers"},es=["x","y"],ts=["x","y"],as=["x","y"],rs=["x","y"],ls=["x","y"],ss=["x1","y1","x2","y2"],is=["cx","cy","r"],ns=["cx","cy","r"],os=["x","y"],cs=["x","y"],ds=["x","y"],us={class:"footer-container"};function ps(e,t,a,r,i,n){return(0,l.uX)(),(0,l.CE)("div",bl,[(0,l.Lk)("div",kl,(0,s.v_)(e.alternativeTitle),1),"all-separated"!==e.selectedAlternative?((0,l.uX)(),(0,l.CE)("div",yl,[((0,l.uX)(),(0,l.CE)("svg",{width:e.tableWidth,height:e.tableHeight,class:"circle-svg"},[(0,l.Lk)("g",xl,[(0,l.Lk)("line",{x1:e.labelWidth,y1:0,x2:e.tableWidth,y2:0,stroke:"#ddd","stroke-width":"1"},null,8,wl),(0,l.Lk)("line",{x1:e.labelWidth,y1:e.headerHeight,x2:e.tableWidth,y2:e.headerHeight,stroke:"#ddd","stroke-width":"1"},null,8,El),(0,l.Lk)("line",{x1:e.labelWidth,y1:e.headerHeight+e.rowHeight,x2:e.tableWidth,y2:e.headerHeight+e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Fl),(0,l.Lk)("line",{x1:e.labelWidth,y1:e.headerHeight+2*e.rowHeight,x2:e.tableWidth,y2:e.headerHeight+2*e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,_l),(0,l.Lk)("line",{x1:e.labelWidth,y1:0,x2:e.labelWidth,y2:e.headerHeight+2*e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Ll),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.itemsData.length,(t=>((0,l.uX)(),(0,l.CE)("line",{key:"vline-"+t,x1:e.labelWidth+t*e.cellWidth,y1:0,x2:e.labelWidth+t*e.cellWidth,y2:e.headerHeight+2*e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Al)))),128))]),(0,l.Lk)("g",Il,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.itemsData,((t,a)=>((0,l.uX)(),(0,l.CE)("g",{key:"header-"+t.itemId},[e.getSplitText(t.itemName).line2?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.Lk)("text",{x:e.getCellCenterX(a),y:e.headerHeight/2-5,"text-anchor":"middle","font-size":"13","font-weight":"500",fill:"#333"},(0,s.v_)(e.getSplitText(t.itemName).line1),9,Wl),(0,l.Lk)("text",{x:e.getCellCenterX(a),y:e.headerHeight/2+10,"text-anchor":"middle","font-size":"13","font-weight":"500",fill:"#333"},(0,s.v_)(e.getSplitText(t.itemName).line2),9,Ol)],64)):((0,l.uX)(),(0,l.CE)("text",{key:0,x:e.getCellCenterX(a),y:e.headerHeight/2+5,"text-anchor":"middle","font-size":"13","font-weight":"500",fill:"#333"},(0,s.v_)(e.getSplitText(t.itemName).line1),9,Sl))])))),128))]),(0,l.Lk)("text",{x:e.labelWidth/2,y:e.headerHeight+e.rowHeight/2+5,"text-anchor":"middle","font-size":"18","font-weight":"500",fill:"#333"}," + ",8,Xl),(0,l.Lk)("text",{x:e.labelWidth/2,y:e.headerHeight+1.5*e.rowHeight+5,"text-anchor":"middle","font-size":"18","font-weight":"500",fill:"#333"}," - ",8,jl),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.itemsData,((t,a)=>((0,l.uX)(),(0,l.CE)("g",{key:"circles-"+t.itemId},[t.favorable>0&&t.unfavorable>0?((0,l.uX)(),(0,l.CE)("line",{key:0,x1:e.getCellCenterX(a),y1:e.getFavorableY()+e.getCircleRadius(t.favorable),x2:e.getCellCenterX(a),y2:e.getUnfavorableY()-e.getCircleRadius(t.unfavorable),stroke:"#999","stroke-width":"1","stroke-dasharray":"3,3"},null,8,Pl)):(0,l.Q3)("",!0),t.favorable>0?((0,l.uX)(),(0,l.CE)("circle",{key:1,cx:e.getCellCenterX(a),cy:e.getFavorableY(),r:e.getCircleRadius(t.favorable),fill:"#4CAF50",stroke:"white","stroke-width":"2"},null,8,Tl)):(0,l.Q3)("",!0),t.unfavorable>0?((0,l.uX)(),(0,l.CE)("circle",{key:2,cx:e.getCellCenterX(a),cy:e.getUnfavorableY(),r:e.getCircleRadius(t.unfavorable),fill:"#F44336",stroke:"white","stroke-width":"2"},null,8,Ml)):(0,l.Q3)("",!0),t.favorable>0?((0,l.uX)(),(0,l.CE)("text",{key:3,x:e.getCellCenterX(a),y:e.getFavorableY()+5,"text-anchor":"middle","font-size":"14","font-weight":"bold",fill:"white"},(0,s.v_)(t.favorable),9,Dl)):(0,l.Q3)("",!0),t.unfavorable>0?((0,l.uX)(),(0,l.CE)("text",{key:4,x:e.getCellCenterX(a),y:e.getUnfavorableY()+5,"text-anchor":"middle","font-size":"14","font-weight":"bold",fill:"white"},(0,s.v_)(t.unfavorable),9,Rl)):(0,l.Q3)("",!0)])))),128)),(0,l.Lk)("text",{x:e.labelWidth/2,y:e.headerHeight/2+5,"text-anchor":"middle","font-size":"11","font-weight":"500",fill:"#666"},(0,s.v_)("stakeholder"===e.analysisPer?"Stakeholder":"Criterion"),9,Nl)],8,Cl)),(0,l.Lk)("div",Hl,[t[0]||(t[0]=(0,l.Lk)("div",{class:"footer-label"},[(0,l.Lk)("span",null,"Collective attitude")],-1)),(0,l.Lk)("div",{class:"footer-values",style:(0,s.Tr)({width:e.tableWidth-e.labelWidth+"px"})},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.itemsData,((t,a)=>((0,l.uX)(),(0,l.CE)("div",{key:"footer-"+t.itemId,class:"attitude-cell",style:(0,s.Tr)({left:a*e.cellWidth+"px",width:e.cellWidth+"px"})},(0,s.v_)(t.attitude.toFixed(2)),5)))),128))],4)])])):((0,l.uX)(),(0,l.CE)("div",$l,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.separatedChartsData,((a,r)=>((0,l.uX)(),(0,l.CE)("div",{key:r,class:"alternative-chart-card"},[(0,l.Lk)("h3",Bl,(0,s.v_)(a.name),1),(0,l.Lk)("div",Vl,[((0,l.uX)(),(0,l.CE)("svg",{width:a.tableWidth,height:a.tableHeight,class:"circle-svg"},[(0,l.Lk)("g",Ul,[(0,l.Lk)("line",{x1:e.labelWidth,y1:0,x2:a.tableWidth,y2:0,stroke:"#ddd","stroke-width":"1"},null,8,zl),(0,l.Lk)("line",{x1:e.labelWidth,y1:e.headerHeight,x2:a.tableWidth,y2:e.headerHeight,stroke:"#ddd","stroke-width":"1"},null,8,Kl),(0,l.Lk)("line",{x1:e.labelWidth,y1:e.headerHeight+e.rowHeight,x2:a.tableWidth,y2:e.headerHeight+e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Ql),(0,l.Lk)("line",{x1:e.labelWidth,y1:e.headerHeight+2*e.rowHeight,x2:a.tableWidth,y2:e.headerHeight+2*e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Gl),(0,l.Lk)("line",{x1:e.labelWidth,y1:0,x2:e.labelWidth,y2:e.headerHeight+2*e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Yl),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.itemsData.length,(t=>((0,l.uX)(),(0,l.CE)("line",{key:"vline-alt-"+r+"-"+t,x1:e.labelWidth+t*a.cellWidth,y1:0,x2:e.labelWidth+t*a.cellWidth,y2:e.headerHeight+2*e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Jl)))),128))]),(0,l.Lk)("g",Zl,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.itemsData,((t,i)=>((0,l.uX)(),(0,l.CE)("g",{key:"header-alt-"+r+"-"+t.itemId},[e.getSplitText(t.itemName).line2?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.Lk)("text",{x:e.labelWidth+i*a.cellWidth+a.cellWidth/2,y:e.headerHeight/2-5,"text-anchor":"middle","font-size":"13","font-weight":"500",fill:"#333"},(0,s.v_)(e.getSplitText(t.itemName).line1),9,ts),(0,l.Lk)("text",{x:e.labelWidth+i*a.cellWidth+a.cellWidth/2,y:e.headerHeight/2+10,"text-anchor":"middle","font-size":"13","font-weight":"500",fill:"#333"},(0,s.v_)(e.getSplitText(t.itemName).line2),9,as)],64)):((0,l.uX)(),(0,l.CE)("text",{key:0,x:e.labelWidth+i*a.cellWidth+a.cellWidth/2,y:e.headerHeight/2+5,"text-anchor":"middle","font-size":"13","font-weight":"500",fill:"#333"},(0,s.v_)(e.getSplitText(t.itemName).line1),9,es))])))),128))]),(0,l.Lk)("text",{x:e.labelWidth/2,y:e.headerHeight+e.rowHeight/2+5,"text-anchor":"middle","font-size":"18","font-weight":"500",fill:"#333"}," + ",8,rs),(0,l.Lk)("text",{x:e.labelWidth/2,y:e.headerHeight+1.5*e.rowHeight+5,"text-anchor":"middle","font-size":"18","font-weight":"500",fill:"#333"}," - ",8,ls),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.itemsData,((t,i)=>((0,l.uX)(),(0,l.CE)("g",{key:"circles-alt-"+r+"-"+t.itemId},[t.favorable>0&&t.unfavorable>0?((0,l.uX)(),(0,l.CE)("line",{key:0,x1:e.labelWidth+i*a.cellWidth+a.cellWidth/2,y1:e.headerHeight+e.rowHeight/2+e.getCircleRadiusSeparated(t.favorable,a.itemsData),x2:e.labelWidth+i*a.cellWidth+a.cellWidth/2,y2:e.headerHeight+1.5*e.rowHeight-e.getCircleRadiusSeparated(t.unfavorable,a.itemsData),stroke:"#999","stroke-width":"1","stroke-dasharray":"3,3"},null,8,ss)):(0,l.Q3)("",!0),t.favorable>0?((0,l.uX)(),(0,l.CE)("circle",{key:1,cx:e.labelWidth+i*a.cellWidth+a.cellWidth/2,cy:e.headerHeight+e.rowHeight/2,r:e.getCircleRadiusSeparated(t.favorable,a.itemsData),fill:"#4CAF50",stroke:"white","stroke-width":"2"},null,8,is)):(0,l.Q3)("",!0),t.unfavorable>0?((0,l.uX)(),(0,l.CE)("circle",{key:2,cx:e.labelWidth+i*a.cellWidth+a.cellWidth/2,cy:e.headerHeight+1.5*e.rowHeight,r:e.getCircleRadiusSeparated(t.unfavorable,a.itemsData),fill:"#F44336",stroke:"white","stroke-width":"2"},null,8,ns)):(0,l.Q3)("",!0),t.favorable>0?((0,l.uX)(),(0,l.CE)("text",{key:3,x:e.labelWidth+i*a.cellWidth+a.cellWidth/2,y:e.headerHeight+e.rowHeight/2+5,"text-anchor":"middle","font-size":"14","font-weight":"bold",fill:"white"},(0,s.v_)(t.favorable),9,os)):(0,l.Q3)("",!0),t.unfavorable>0?((0,l.uX)(),(0,l.CE)("text",{key:4,x:e.labelWidth+i*a.cellWidth+a.cellWidth/2,y:e.headerHeight+1.5*e.rowHeight+5,"text-anchor":"middle","font-size":"14","font-weight":"bold",fill:"white"},(0,s.v_)(t.unfavorable),9,cs)):(0,l.Q3)("",!0)])))),128)),(0,l.Lk)("text",{x:e.labelWidth/2,y:e.headerHeight/2+5,"text-anchor":"middle","font-size":"11","font-weight":"500",fill:"#666"},(0,s.v_)("stakeholder"===e.analysisPer?"Stakeholder":"Criterion"),9,ds)],8,ql)),(0,l.Lk)("div",us,[t[1]||(t[1]=(0,l.Lk)("div",{class:"footer-label"},[(0,l.Lk)("span",null,"Collective attitude")],-1)),(0,l.Lk)("div",{class:"footer-values",style:(0,s.Tr)({width:a.tableWidth-e.labelWidth+"px"})},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.itemsData,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:"footer-alt-"+r+"-"+e.itemId,class:"attitude-cell",style:(0,s.Tr)({left:t*a.cellWidth+"px",width:a.cellWidth+"px"})},(0,s.v_)(e.attitude.toFixed(2)),5)))),128))],4)])])])))),128))]))])}a(531);var ms=(0,l.pM)({name:"CircleChart",props:{arguments:{type:Array,required:!0},criterionsMap:{type:Object,default:null},selectedCriterion:{type:[String,Number],default:""},analysisPer:{type:String,default:"criteria"},stakeholdersMap:{type:Object,default:null},selectedAlternative:{type:String,default:"all-merged"},alternativesMap:{type:Object,default:null}},setup(e){const t=60,a=60,r=250,s=20,i=70,n=140,o=260,c=(0,l.EW)((()=>{let t=[...e.arguments];if(e.selectedAlternative&&"all-merged"!==e.selectedAlternative&&"all-separated"!==e.selectedAlternative){const a=e.alternativesMap||{},r=Object.values(a).find((t=>t.name===e.selectedAlternative))?.id;void 0!==r&&(t=t.filter((e=>e.alternative===r)))}if("criteria"===e.analysisPer&&""!==e.selectedCriterion&&null!==e.selectedCriterion){const a=Number(e.selectedCriterion);Number.isNaN(a)||(t=t.filter((e=>e.criterion===a)))}return t})),d=t=>{const a=new Map;t.forEach((t=>{const r="stakeholder"===e.analysisPer?t.stakeholder:t.criterion;a.has(r)||a.set(r,{favorable:0,unfavorable:0});const l=a.get(r);t.favorable?l.favorable++:l.unfavorable++}));const r=Array.from(a.entries()).map((([t,a])=>{const r=a.favorable+a.unfavorable,l=(a.favorable+1)/(r+2);let s=`Item ${t}`;return s="stakeholder"===e.analysisPer?e.stakeholdersMap?.[t]?.name||`Stakeholder ${t}`:e.criterionsMap?.[t]?.name||`Criterion ${t}`,{itemId:t,itemName:s,favorable:a.favorable,unfavorable:a.unfavorable,attitude:l}}));return r},u=(0,l.EW)((()=>d(c.value))),p=(0,l.EW)((()=>{const l={},s=e.alternativesMap||{};return Object.entries(s).forEach((([s,i])=>{const c=e.arguments.filter((e=>e.alternative===i.id));let u=c;if("criteria"===e.analysisPer&&""!==e.selectedCriterion&&null!==e.selectedCriterion){const t=Number(e.selectedCriterion);Number.isNaN(t)||(u=u.filter((e=>e.criterion===t)))}const p=d(u),m=0===p.length?n:Math.max(n,Math.min(o,6*Math.max(...p.map((e=>e.itemName.length)))+40)),h=t+p.length*m;l[String(s)]={id:s,name:i.name,itemsData:p,cellWidth:m,tableWidth:h,tableHeight:a+2*r}})),l})),m=(0,l.EW)((()=>{if(0===u.value.length)return n;const e=Math.max(...u.value.map((e=>e.itemName.length)));let t=Math.max(n,Math.min(o,6*e+40));return t})),h=(0,l.EW)((()=>t+u.value.length*m.value));function v(e){if(e.length<=25)return{line1:e,line2:""};const t=Math.ceil(e.length/2);let a=t;for(let s=t;s>=Math.max(0,t-10);s--)if(" "===e[s]){a=s;break}if(a===t&&" "!==e[t])for(let s=t+1;s<Math.min(e.length,t+10);s++)if(" "===e[s]){a=s;break}const r=e.substring(0,a).trim(),l=e.substring(a).trim();return{line1:r,line2:l}}const g=a+2*r;function f(e){return t+e*m.value+m.value/2}function b(){return a+r/2}function k(){return a+1.5*r}function y(e){if(0===e)return 0;const t=Math.max(...u.value.flatMap((e=>[e.favorable,e.unfavorable])));if(0===t)return s;const a=Math.sqrt(e/t);return s+(i-s)*a}function C(e,t){if(0===e)return 0;const a=Math.max(...t.flatMap((e=>[e.favorable,e.unfavorable])));if(0===a)return s;const r=Math.sqrt(e/a);return s+(i-s)*r}const x=(0,l.EW)((()=>e.selectedAlternative&&"all-merged"!==e.selectedAlternative&&"all-separated"!==e.selectedAlternative?e.selectedAlternative:"All alternatives"));return{itemsData:u,separatedChartsData:p,tableWidth:h,tableHeight:g,labelWidth:t,headerHeight:a,rowHeight:r,cellWidth:m,getCellCenterX:f,getFavorableY:b,getUnfavorableY:k,getCircleRadius:y,getCircleRadiusSeparated:C,getSplitText:v,alternativeTitle:x}}});const hs=(0,z.A)(ms,[["render",ps],["__scopeId","data-v-ab62b3fe"]]);var vs=hs;const gs={class:"alternatives-comparison"},fs={class:"table-wrapper"},bs={class:"criteria-header"},ks={class:"criterion-name"};function ys(e,t,a,r,i,n){const o=(0,l.g2)("v-table");return(0,l.uX)(),(0,l.CE)("div",gs,[(0,l.Lk)("div",fs,[(0,l.bF)(o,{class:"heatmap-table"},{default:(0,l.k6)((()=>[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",bs,(0,s.v_)(e.rowLabel),1),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.alternatives,(e=>((0,l.uX)(),(0,l.CE)("th",{key:e.id,class:"alternative-header"},(0,s.v_)(e.name),1)))),128))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.rows,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",ks,(0,s.v_)(t.name),1),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.alternatives,(a=>((0,l.uX)(),(0,l.CE)("td",{key:a.id,class:"attitude-cell",style:(0,s.Tr)({backgroundColor:e.getCellColor(e.getAttitude(t.id,a.id))})},(0,s.v_)(e.getAttitude(t.id,a.id).toFixed(2)),5)))),128))])))),128))])])),_:1})])])}var Cs=(0,l.pM)({name:"AlternativesComparison",props:{arguments:{type:Array,required:!0},criterionsMap:{type:Object,default:null},alternativesMap:{type:Object,default:null},stakeholdersMap:{type:Object,default:null},analysisPer:{type:String,default:"criteria"}},setup(e){const t=(0,l.EW)((()=>"stakeholder"===e.analysisPer?"Stakeholders":"Criteria")),a=(0,l.EW)((()=>e.alternativesMap?Object.values(e.alternativesMap).sort(((e,t)=>e.id-t.id)):[])),r=(0,l.EW)((()=>"stakeholder"===e.analysisPer?e.stakeholdersMap?Object.values(e.stakeholdersMap).sort(((e,t)=>e.id-t.id)):[]:e.criterionsMap?Object.values(e.criterionsMap).sort(((e,t)=>e.id-t.id)):[])),s=(t,a)=>{let r=e.arguments;if(r="stakeholder"===e.analysisPer?r.filter((e=>e.stakeholder===t&&e.alternative===a)):r.filter((e=>e.criterion===t&&e.alternative===a)),0===r.length)return.5;const l=r.filter((e=>e.favorable)).length,s=r.length;return(l+1)/(s+2)},i=e=>0===e?"#ffffff":e<.35?"#f44336":e<.5?"#ff9800":e<.6?"#ffc107":"#4caf50",n=()=>{console.log("Export to PDF")};return{alternatives:a,rows:r,rowLabel:t,getAttitude:s,getCellColor:i,exportToPDF:n}}});const xs=(0,z.A)(Cs,[["render",ys],["__scopeId","data-v-7e7638d7"]]);var ws=xs;const Es={class:"crosstab-chart"},Fs={class:"font-weight-medium"},_s={class:"cell-content"},Ls={class:"count"},As={key:0,class:"attitude"};function Is(e,t,a,r,i,n){const o=(0,l.g2)("v-table");return(0,l.uX)(),(0,l.CE)("div",Es,[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[t[0]||(t[0]=(0,l.Lk)("th",{class:"text-left"},"Criteria / Stakeholders",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.stakeholders,(e=>((0,l.uX)(),(0,l.CE)("th",{key:e.id,class:"text-center"},(0,s.v_)(e.name),1)))),128))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.criterions,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",Fs,(0,s.v_)(t.name),1),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.stakeholders,(a=>((0,l.uX)(),(0,l.CE)("td",{key:`${t.id}-${a.id}`,class:"text-center count-cell",style:(0,s.Tr)({backgroundColor:e.getCountColor(e.getCellCount(t.id,a.id))})},[(0,l.Lk)("div",_s,[(0,l.Lk)("div",Ls,(0,s.v_)(e.getCellCount(t.id,a.id)),1),e.getCellCount(t.id,a.id)>0?((0,l.uX)(),(0,l.CE)("div",As,(0,s.v_)(e.getAttitude(t.id,a.id).toFixed(2)),1)):(0,l.Q3)("",!0)])],4)))),128))])))),128))])])),_:1})])}var Ss=(0,l.pM)({name:"CrosstabChart",props:{arguments:{type:Array,required:!0},stakeholdersMap:{type:Object,default:null},criterionsMap:{type:Object,default:null}},setup(e){const t=(0,l.EW)((()=>e.stakeholdersMap?Object.values(e.stakeholdersMap).sort(((e,t)=>e.name.localeCompare(t.name))):[])),a=(0,l.EW)((()=>e.criterionsMap?Object.values(e.criterionsMap).sort(((e,t)=>e.name.localeCompare(t.name))):[])),r=(t,a)=>{const r=e.arguments.filter((e=>e.criterion===t&&e.stakeholder===a));if(0===r.length)return.5;const l=r.filter((e=>e.favorable)).length;return(l+1)/(r.length+2)},s=(t,a)=>e.arguments.filter((e=>e.criterion===t&&e.stakeholder===a)).length,i=e=>0===e?"#ffffff":e<=2?"#ffc107":e<=5?"#ff9800":"#f44336";return{stakeholders:t,criterions:a,getCellCount:s,getCountColor:i,getAttitude:r}}});const Ws=(0,z.A)(Ss,[["render",Is],["__scopeId","data-v-3b0c7f25"]]);var Os=Ws,Xs=(0,l.pM)({name:"ChartView",components:{Header:Ee,ArgumentCount:al,BarChart:fl,CircleChart:vs,AlternativesComparison:ws,CrosstabChart:Os},setup(){const e=(0,n.KR)("argument-count"),t=[{id:"argument-count",label:"Argument Count",icon:"mdi-counter"},{id:"bar-chart",label:"Bar Chart",icon:"mdi-chart-bar"},{id:"pie-chart",label:"Circle Chart",icon:"mdi-chart-bubble"},{id:"alternatives-comparison",label:"Alternatives Comparison",icon:"mdi-compare"},{id:"crosstab",label:"Cross-tab: Criteria x Stakeholders",icon:"mdi-table"}],a=(0,l.EW)((()=>xo())),r=(0,l.EW)((()=>{let e=xo();const t=u.chartFilters?.selectedAlternative;if(t&&u.data?.alternatives){const a=u.data.alternatives,r=Object.values(a).find((e=>e.name===t));r&&(e=e.filter((e=>e.alternative===r.id)))}return e}));return{state:u,selectedChart:e,charts:t,filteredItems:a,filteredItemsForCrosstab:r}}});const js=(0,z.A)(Xs,[["render",_r],["__scopeId","data-v-22e3ce15"]]);var Ps=js;const Ts=[{name:"home",path:"/",component:me},{name:"global-view",path:"/project/global-view",component:$a},{name:"project",path:"/project/",component:J},{name:"property-view",path:"/project/property-view",component:lr,props:!0},{name:"stakeholder-view",path:"/project/stakeholder-view",component:fr,props:!0},{name:"chart-view",path:"/project/chart-view",component:Ps}],Ms=(0,o.aE)({history:(0,o.LA)("/"),routes:Ts});Ms.beforeEach((async(e,t,a)=>{E(),a()})),Ms.afterEach((async(e,t)=>{if(e.path.startsWith("/project")){const a=Vn(e),r=Vn(t),l=Un(e),s=Un(t),i=a===r&&l===s;i||await Ds()}else"string"===typeof e.meta?.title?oi(e.meta.title):oi("My Choice");F()}));const Ds=async()=>{const e=Ms.currentRoute.value;if(e.query[$s.ICO]||e.query[$s.GOOGLE_SPREADSHEET]||e.query[$s.NEXTCLOUD]||e.query["demo"])try{await Yn(e)}catch(t){console.info("LOAD FAIL, RETRY WITHOUT CACHE!"),jn(e),await Yn(e)}};var Rs=Ms;const Ns=e=>{const t=Rs.currentRoute.value.query||{};if(!e.name&&!e.path)throw new Error("La route doit contenir un `name` ou un `path`");const a={query:t,...e};e.name&&delete a.path,e.path&&delete a.name,Rs.push(a)},Hs=e=>{Ns({name:e})};var $s;(function(e){e["ICO"]="name",e["GOOGLE_SPREADSHEET"]="spreadsheet",e["XLSX"]="xlsx",e["NEXTCLOUD"]="nextcloud"})($s||($s={}));const Bs=$s.ICO,Vs=$s.GOOGLE_SPREADSHEET,qs=($s.XLSX,$s.NEXTCLOUD),Us=(0,l.EW)((()=>u.vm&&u.vm.$route&&u.vm.$route.query&&(u.vm.$route.query.name||u.vm.$route.query.spreadsheet)?u.vm.$route.query.name||u.vm.$route.query.spreadsheet:null)),zs=(0,l.EW)((()=>(0,ye.uniqBy)(u.notifications,"message"))),Ks=()=>{const e=[];return Object.entries(u.errors).forEach((([t,a])=>{if(!1!==a)return e.push(t)})),e},Qs=e=>u.errorMessages[e]||u.errors[e],Gs=()=>{Object.keys(u.errors).forEach((e=>{u.errors[e]=!1}))};a(1148);var Ys=a(4353),Js=a.n(Ys),Zs=a(445),ei=a.n(Zs);Js().extend(ei());class ti extends Error{constructor(e,...t){super(...t),this.name=e,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack}}const ai=(e,t)=>{u.errors[e]=t},ri=e=>Js()(e,"DD/MM/YY").format("MMMM YYYY"),li=function(e,t,a){let r=(e-t)/(a-t);return isFinite(r)||(r=e),r},si=(e,t)=>e.sort(((e,a)=>e[t]>a[t]?1:-1)),ii=e=>Object.keys(e).sort().reduce(((t,a)=>(t[a]=e[a],t)),{}),ni=function(e,t,a="s"){let r=e;const l=/{([^:}]+)(?:(?::)([^}]+))?}/g;let s;while(null!==(s=l.exec(e))){if(s.index===l.lastIndex&&l.lastIndex++,void 0===s[2]){const e=new RegExp("\\{"+s[1]+"\\}","g");r=r.replace(e,`${t[s[1]]}`)}if(void 0!==s[2]){const e=s[1],l=s[2],i=t[l],n=new RegExp("\\{"+e+":"+l+"\\}","g");r=Number(i)>1&&t.plural?r.replace(n,`${t.plural}`):r.replace(n,`${e}${Number(i)>1?a:""}`)}}return r},oi=e=>{document.title=e},ci=a(5811),di=async e=>{const t=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${e}?key=AIzaSyDEksLxmlJt3Ru6Uv8qakqnCZ05ViwHZyA`),a=await t.json();return a},ui=async e=>{try{const t=await di(e),a=t.sheets,r=[],l={};a.forEach((t=>{l[t.properties.index]=t.properties.title,r.push(ci.getWorksheet(e,t.properties.title,"AIzaSyDEksLxmlJt3Ru6Uv8qakqnCZ05ViwHZyA"))}));const s=await Promise.all(r);return s.map((({data:e},t)=>({data:e,title:l[t],index:t})))}catch(t){throw t}},pi=(e,t)=>new Promise(((a,r)=>{let l=null;const s=t.every((t=>(l=t,!!Object.prototype.hasOwnProperty.call(e,t))));s?a(!0):r(l)})),mi=async e=>{const t={argument:["idArgument","assertion","explanation","date","nameStakeHolder","nameProperty","value","typeProCon","nameAlternative","nameCriterion","nameSource","aim","nameTypeSource","isProspective"],project:["nameProject"],alternative:["nameAlternative","iconAlternative"],product:["nameAlternative","productUri","nameProduct","tagProduct"],composition:["uriCompose","nameCompose","typeComposant","uriComposant","nameComposant","Rang","tagComposant"]},a=t[e.title],r=e.data[0];if(r)return await pi(r,a).then((e=>e),(t=>{throw new ti("SPREADSHEET_ERROR",`On <b>${e.title}</b> sheet, the <b>${t}</b> column is missing or misspelled`)}));ai("SPREADSHEET_ERROR",`No data found in the <b>${e.title}</b> sheet`)},hi=({spreadsheetId:e,item:t,worksheet:a,line:r,keys:l})=>{l.forEach(((e,l)=>{if(null===t[e])throw new ti("SPREADSHEET_ERROR",`On <b>${a.title}</b> sheet, the <b>${String(e)}</b> on line <b>${r}</b> is empty and must be filled`)}))},vi=e=>{const t={};e.forEach((e=>{t[e.aim]?t[e.aim].includes(e.nameCriterion)||t[e.aim].push(e.nameCriterion):t[e.aim]=[e.nameCriterion]})),Object.entries(t).forEach((([e,t])=>{t.length>1&&ai("SPREADSHEET_ERROR_"+e,`The <b>${e}</b> aim should be associated with only one criterion, but has been found in ${t.length} criteria : <b>${t.join("</b>, <b>")}</b>`)}))},gi=async(e,t)=>{const a=e.find((e=>"argument"===e.title)),r=e[a.index].data,l=r.map((e=>Object.keys(e).reduce((function(t,a){try{t[a]=JSON.parse(e[a])}catch(r){t[a]=e[a]}return t}),{})));try{await mi(a),vi(l)}catch(s){throw s}return l.map(((e,r)=>{const l=r+2;if("-"!==e.typeProCon&&"+"!==e.typeProCon)throw new ti("SPREADSHEET_ERROR",`On <b>${a.title}</b> sheet, the <b>typeProCon</b> on line <b>${l}</b> is <b>${e.typeProCon}</b> and should be <b>-</b> or <b>+</b> `);hi({spreadsheetId:t,item:e,worksheet:a,line:l,keys:["nameSource","idArgument","nameProperty","value","nameStakeHolder","nameAlternative","nameCriterion","aim","nameTypeSource"]});const s={id:e.idArgument,stakeholder:e["nameStakeHolder"],property:e["nameProperty"],favorable:"+"===e.typeProCon,alternative:e["nameAlternative"],criterion:e["nameCriterion"],source:e["nameSource"],sourceType:e["nameTypeSource"],value:e["value"],aim:e["aim"],date:e["date"]?e["date"].toString():null,tagInitiator:e["tagInitiator"]||void 0};return delete e.idArgument,delete e["nameStakeHolder"],delete e["nameProperty"],delete e.typeProCon,delete e["nameAlternative"],delete e["nameCriterion"],delete e["nameSource"],delete e["nameTypeSource"],delete e["value"],delete e["aim"],delete e["tagInitiator"],{...e,...s}}))},fi=async e=>{const t=e.find((e=>"project"===e.title));try{await mi(t)}catch(f){throw f}const a=t.data[0],r=e.find((e=>"alternative"===e.title));try{await mi(r),r.data.forEach(((e,t)=>{const a=t+2;if(null===e.iconAlternative)throw new ti("SPREADSHEET_ERROR",`On <b>${r.title}</b> sheet, the <b>iconAlternative</b> on line <b>${a}</b> is <b>empty</b> and should be a valid icon name`)}))}catch(f){throw f}const l=r.data,s=l.map((e=>({name:e.nameAlternative,description:e.description,image:e.imageAlternative,icon:e.iconAlternative}))),i=e.find((e=>"hasexpertise"===e.title)),n=i.data,o=n.map((e=>({nameStakeHolder:e["nameStakeHolder"],nameCriterion:e["nameCriterion"]}))),c=e.find((e=>"typesource"===e.title)),d=c.data,u=d.map((e=>({fiability:e.fiability.toString(),nameTypeSource:e.nameTypeSource})));let p=[];const m=e.find((e=>"product"===e.title));if(m&&m.data.length>0)try{await mi(m);const e=m.data;p=e.map((e=>({nameAlternative:e.nameAlternative,productUri:e.productUri,nameProduct:e.nameProduct,tagProduct:e.tagProduct?e.tagProduct.split(",").map((e=>e.trim())).filter((e=>""!==e)):[]})))}catch(f){throw f}let h=[];const v=e.find((e=>"composition"===e.title));if(v&&v.data.length>0)try{await mi(v);const e=v.data;h=e.map((e=>({uriCompose:e.uriCompose,nameCompose:e.nameCompose,typeComposant:e.typeComposant,uriComposant:e.uriComposant,nameComposant:e.nameComposant,rang:e.Rang,tagComposant:e.tagComposant?e.tagComposant.split(",").map((e=>e.trim())).filter((e=>""!==e)):[]})))}catch(f){throw f}const g={name:a.nameProject,image:a.image,description:a.description,alternatives:s,expertiseEntities:o,sourceTypeEntities:u,products:p.length>0?p:void 0,compositions:h.length>0?h:void 0};return g},bi=async e=>{try{const t=await ui(e),a=await gi(t,e),r=await fi(t);return{items:a,project:r}}catch(t){throw t}},ki=e=>{const t=new RegExp("/spreadsheets/d/([a-zA-Z0-9-_]+)").exec(e);if(t){const e=t[1];return e}return e},yi=e=>{const t=e,a={stakeholders:t.nameStakeholder,name:t.nameProject,aims:t.aim,criterions:t.nameCriterion,alternatives:t.alternatives.map((e=>{const t={name:e.nameAlternative,image:e.imageAlternative,icon:e.iconAlternative};return delete e.nameAlternative,{...e,...t}})),sourceTypeEntities:t.typeSource,expertiseEntities:t.hasExpertise};return delete t.typeSource,delete t.hasExpertise,delete t.nameStakeholder,delete t.aim,delete t.nameProject,delete t.nameCriterion,{...t,...a}},Ci=e=>e.map((e=>{const t={id:e.idArgument,stakeholder:e.nameStakeHolder,property:e.nameProperty,favorable:e.typeProCon,alternative:e.nameAlternative,criterion:e.nameCriterion,source:e.nameSource,sourceType:e.nameTypeSource};return delete e.idArgument,delete e.nameStakeHolder,delete e.nameProperty,delete e.typeProCon,delete e.nameAlternative,delete e.nameCriterion,delete e.nameSource,delete e.nameTypeSource,{...e,...t}})),xi=()=>{const e={id:{csv:"idArgument",server:"idArgument",spreadsheet:"idArgument"},aim:{csv:"aim.description",server:"aim",spreadsheet:"aim"},alternative:{csv:"alternative.nameAlternative",server:"nameAlternative",spreadsheet:"nameAlternative"},assertion:{csv:"assertion",server:"assertion",spreadsheet:"assertion"},criterion:{csv:"criterion.nameCriterion",server:"nameCriterion",spreadsheet:"nameCriterion"},date:{csv:"date",server:"date",spreadsheet:"date"},explanation:{csv:"explanation",server:"explanation",spreadsheet:"explanation"},favorable:{csv:"typeProCon",server:"typeProCon",spreadsheet:"typeProCon"},isProspective:{csv:"isProspective",server:"isProspective",spreadsheet:"isProspective"},property:{csv:"property.nameProperty",server:"nameProperty",spreadsheet:"nameProperty"},source:{csv:"source.nameSource",server:"nameSource",spreadsheet:"nameSource"},sourceType:{csv:"typesource.nameTypeSource",server:"nameTypeSource",spreadsheet:"nameTypeSource"},stakeholder:{csv:"stakeholder.nameStakeholder",server:"nameStakeHolder",spreadsheet:"nameStakeHolder"},value:{csv:"qualvalue.qualValue",server:"value",spreadsheet:"value"},condition:{csv:"condition",server:"condition",spreadsheet:"condition"}};return e},wi=(e,t)=>(0,ye.findKey)(xi(),(function(a){return a[e]===t})),Ei=(e,t)=>{const a=xi()[t]&&xi()[t][e];return a||null},Fi=(e,t,a)=>{const r=wi(e,a),l=Ei(t,r);return l||null},_i=e=>e.map((e=>{const t={};return Object.entries(e).forEach((([e,a])=>{const r=Fi("spreadsheet","csv",e);r&&(t[r]=a)})),t})),Li=(e,t)=>{const a=e.map((e=>e[t])),r=(0,ye.uniq)(a);return r},Ai=e=>{const t=Li(e,"criterion");return t},Ii=(e,t)=>{const a=e.map((e=>[e["aim"],e["criterion"]])),r=(0,ye.sortBy)((0,ye.uniqBy)(a,Oi),(([e,t])=>e)),l={};return r.forEach(((e,a)=>{const r=e[0],s=Ti(t,e[1],"nameCriterion");a++,l[a]={id:a,name:r,criterion:s}})),l},Si=e=>{const t=Li(e,"stakeholder");return t},Wi=e=>{const t=Li(e,"property");return t},Oi=e=>e.join(":"),Xi=e=>{const t=e.map((e=>[e["property"],e["value"]])),a=(0,ye.uniqBy)(t,Oi);return a},ji=e=>{const t={};return e.forEach(((e,a)=>{a++,t[a]={id:a,name:e}})),t},Pi=e=>{const t={};return e.forEach(((e,a)=>{a++,t[a]={id:a,...e,icon:"mdi-"+e.icon.replace(/\.[^/.]+$/,"").split(/(\\|\/)/g).pop()||0}})),t},Ti=(e,t,a)=>{const r=Object.values(e).find((e=>e.name===t));try{return r.id}catch(l){throw new ti("SPREADSHEET_ERROR",`Cannot find <b>${t}</b> in ${"nameAlternative"===a?"alternatives":`<b>${a}</b>`}`)}},Mi=(e,{criterions:t,aims:a,alternatives:r,stakeholders:l})=>e.map((e=>({...e,subOption:!0===JSON.parse(e.favorable.toString().toLowerCase())?1:2,criterion:Ti(t,e.criterion,"nameCriterion"),stakeholder:Ti(l,e.stakeholder,"nameStakeHolder"),aim:Ti(a,e.aim,"aim"),alternative:Ti(r,e.alternative,"nameAlternative"),isProspective:1===Number(e.isProspective)}))),Di=(e,t)=>{const a=Ai(e),r=Si(e),l=t.alternatives,s=ji(a.sort()),i=Pi(l),n=ji(r.sort()),o=Ii(e,s),c=Mi(e,{criterions:s,aims:o,alternatives:i,stakeholders:n});return{criterions:s,alternatives:i,stakeholders:n,aims:o,items:c}},Ri=(e,t)=>{const a=Xi(e),r=Wi(e),{criterions:l,alternatives:s,stakeholders:i,aims:n,items:o}=Di(e,t),c={criterions:l,alternatives:s,stakeholders:i,labels:a,properties:r,aims:n,items:o,subOptions:{1:{id:1,name:""},2:{id:2,name:""}}};return c},Ni=function(e){const t=(0,ye.groupBy)(e,"property"),a=Object.values(t).filter((e=>{const t=(0,ye.groupBy)(e,"aim");if(Object.keys(t).length>1)return e})),r=(0,ye.flatten)(a);return r},Hi=function(e){const t=(0,ye.groupBy)(e,"aim"),a=Object.values(t).filter((e=>{const t=(0,ye.groupBy)(e,"stakeholder");if(Object.keys(t).length>1)return e})),r=(0,ye.flatten)(a);return r},$i=(e,t)=>{const a=t.filter((t=>e.some((e=>e.nameCriterion===t.criterion&&e.nameStakeHolder===t.stakeholder))));return a},Bi=(e,t)=>{const a=t.filter((t=>e.some((e=>e.nameTypeSource===t.sourceType&&1===Number(e.fiability)))));return a},Vi=e=>{const t=e.filter((e=>1===Number(e.isProspective)));return t},qi=e=>{const t=Ni(e);return t},Ui=e=>{const t=Hi(e);return t};var zi=a(7065);const Ki=(0,l.EW)((()=>u.fields.nextcloudUrl)),Qi=e=>`https://icotest.iate.inra.fr/nextcloud/s/${e}/download`,Gi=async e=>{const t=e,a=await fetch(t),r=await a.blob(),l=Ji(e),s=new File([r],l);return s},Yi=async e=>{try{const t=await Gi(e),a=await rn(t);return a}catch(t){throw t}},Ji=e=>{const t=new RegExp("https://icotest.iate.inra.fr/nextcloud/s/([a-zA-Z0-9-_]+)").exec(e);if(t){const e=t[1];return e}return e},Zi=async(e,t)=>{try{const a=await rn(e);un(a.items,a.project,t)}catch(a){throw a}},en=async(e,t)=>{await Zi(e,t)},tn=async e=>{const t=await zi.onFileSelection(e);return t},an=async e=>{const t=await tn(e),a=Object.entries(t).map((([e,t],a)=>({title:e,data:t,index:a})));return a},rn=async e=>{try{const t=await an(e),a=await gi(t),r=await fi(t);return{items:a,project:r}}catch(t){throw t}},ln=async e=>{const t=ki(e),a={query:{[Vs]:t},name:"project",path:"/project"},r=Rs.resolve(a);await Rs.push(r),await Yn(r)},sn=async e=>{const t={query:{[Bs]:e},name:"project"},a=Rs.resolve(t);await Rs.push(a),await Yn(a)},nn=async e=>{const t=Ji(e),a={query:{[qs]:t},name:"project",path:"/project"},r=Rs.resolve(a);await Rs.push(a),await Yn(r)},on=async e=>{const[t,a]=await Promise.all([await cn(e),await dn(e)]),r={project:t,items:a};return r},cn=async e=>{try{let t=null;const a=await Bn(e);return t=yi(a),Promise.resolve(t)}catch(t){throw t}},dn=async e=>{try{let t=null;const a=await $n(e);return t=Ci(a),Promise.resolve(t)}catch(t){throw t}},un=(e,t,a)=>{!1!==a?h():(v(),p()),Gs();try{let a;if("interplay"===u.mode){const r=qi(e),l=Ri(r,t);a=Object.freeze(l)}else if("prospective"===u.mode){const r=Vi(e),l=Ri(r,t);a=Object.freeze(l)}else if("data-reliability"===u.mode){const r=Bi(t.sourceTypeEntities,e),l=Ri(r,t);a=Object.freeze(l)}else if("expertise"===u.mode){const r=$i(t.expertiseEntities,e),l=Ri(r,t);a=Object.freeze(l)}else if("multi-stakeholder"===u.mode){const r=Ui(e),l=Ri(r,t);a=Object.freeze(l)}else{const r=Ri(e,t);a=Object.freeze(r)}u.data=a,u.project=t}catch(r){throw r}};var pn;(function(e){e["ICO"]="ico",e["GOOGLE_SPREADSHEET"]="googlespreadsheet",e["NEXTCLOUD"]="nextcloud",e["XLSX"]="xlsx"})(pn||(pn={}));const mn={projects:{[pn.ICO]:{},[pn.GOOGLE_SPREADSHEET]:{},[pn.NEXTCLOUD]:{},[pn.XLSX]:{}}},hn="MYCHOICE_CACHE",vn=()=>{const e=localStorage.getItem(hn);return JSON.parse(e||"{}")||mn},gn=()=>{const e=vn();return e?.projects||mn.projects},fn=(e,t)=>Object.values(gn()[e]).find((e=>e.id===t)),bn=e=>{localStorage.setItem(hn,JSON.stringify(e))},kn=e=>{const t=vn(),a=(0,ye.merge)(t,e);bn(a)},yn=e=>{const t=vn(),a=(0,ye.omit)(t,e);bn(a)},Cn=(e,t)=>{kn({projects:{[e]:{[t.id]:t}}})},xn=(e,t)=>{Cn(e,t)},wn=e=>gn()[e],En=e=>{if(!e)return{};const t={};return Object.entries(e).filter((([e])=>e!==pn.GOOGLE_SPREADSHEET&&e!==pn.NEXTCLOUD)).forEach((([e,a])=>{Object.entries(a).forEach((([a,r])=>{const l=Sn(e,a);t[l]={...r,type:e}}))})),t},Fn=(0,l.EW)((()=>u.recentProjects)),_n=(0,l.EW)((()=>!!Object.keys(Fn.value).length)),Ln=()=>{u.recentProjects=An(gn())},An=e=>{const t=En(e),a=Object.keys(t).sort(((e,a)=>t[a].date-t[e].date)).reduce(((e,a,r)=>(e[r]=t[a],e)),{}),r=Object.entries(a).map((([e,t])=>t));return r},In=(e,{name:t,id:a})=>{if(void 0===a)return;const r=Object.keys(wn(e)).includes(a);r?(t&&Cn(e,{name:t,id:a}),Cn(e,{date:Date.now(),id:a,type:e})):Cn(e,{name:t,id:a,date:Date.now(),type:e}),Ln()},Sn=(e,t)=>`${e}-${t}`,Wn=(e,{id:t})=>{const a=u.recentProjects.some((a=>a.type===e&&a.id===t));a&&(On(e,t),Ln())},On=(e,t)=>{yn(`projects.${e}.${t}`)},Xn=(e,t)=>{yn(`projects.${e}.${t}.data`)},jn=e=>{e.query[$s.ICO]&&Xn(pn.ICO,e.query[$s.ICO]),e.query[$s.GOOGLE_SPREADSHEET]&&Xn(pn.GOOGLE_SPREADSHEET,e.query[$s.GOOGLE_SPREADSHEET]),e.query[$s.NEXTCLOUD]&&Xn(pn.NEXTCLOUD,e.query[$s.NEXTCLOUD]),e.query[$s.XLSX]&&Xn(pn.XLSX,e.query[$s.XLSX])},Pn=e=>!!Dn(e),Tn=e=>{const t=Un(e);if(t)return e.query[$s.GOOGLE_SPREADSHEET]?fn(pn.GOOGLE_SPREADSHEET,t):e.query[$s.ICO]?fn(pn.ICO,t):e.query[$s.NEXTCLOUD]?fn(pn.NEXTCLOUD,t):e.query[$s.XLSX]?fn(pn.XLSX,t):void 0},Mn=(e,t)=>{const a=Un(e);a&&(e.query[$s.GOOGLE_SPREADSHEET]&&xn(pn.GOOGLE_SPREADSHEET,{id:a,data:t}),e.query[$s.ICO]&&xn(pn.ICO,{id:a,data:t}),e.query[$s.NEXTCLOUD]&&xn(pn.NEXTCLOUD,{id:a,data:t}),e.query[$s.XLSX]&&xn(pn.XLSX,{id:a,data:t}))},Dn=e=>{const t=Tn(e);return t?.data},Rn=e=>{u.recentProjectNames[e]&&(delete u.recentProjectNames[e],localStorage.recentProjectNames=JSON.stringify(u.recentProjectNames))},Nn=e=>{Wn(pn.GOOGLE_SPREADSHEET,{id:e})},Hn=()=>"http://localhost:8080/api/",$n=async e=>{let t=null;const a=Hn()+"arguments?project="+e;try{if(!e)throw Error();const r=await fetch(a);t=await r.json()}catch(r){throw console.warn("Fetch error, unable to fetch arguments: "+a),r}return t},Bn=async e=>{let t=null;const a=Hn()+"project?name="+e;try{if(!e)throw Error();const r=await fetch(a);t=await r.json()}catch(r){throw console.warn("Fetch error, unable to fetch project:"+a),r}return t},Vn=e=>Object.prototype.hasOwnProperty.call(e.query,$s.GOOGLE_SPREADSHEET)?pn.GOOGLE_SPREADSHEET:Object.prototype.hasOwnProperty.call(e.query,$s.ICO)?pn.ICO:Object.prototype.hasOwnProperty.call(e.query,$s.XLSX)?pn.XLSX:Object.prototype.hasOwnProperty.call(e.query,$s.NEXTCLOUD)?pn.NEXTCLOUD:null,qn=e=>e===pn.GOOGLE_SPREADSHEET?$s.GOOGLE_SPREADSHEET:e===pn.ICO?$s.ICO:e===pn.XLSX?$s.XLSX:e===pn.NEXTCLOUD?$s.NEXTCLOUD:null,Un=e=>Object.prototype.hasOwnProperty.call(e.query,$s.GOOGLE_SPREADSHEET)?e.query[$s.GOOGLE_SPREADSHEET]:Object.prototype.hasOwnProperty.call(e.query,$s.ICO)?e.query[$s.ICO]:Object.prototype.hasOwnProperty.call(e.query,$s.XLSX)?e.query[$s.XLSX]:Object.prototype.hasOwnProperty.call(e.query,$s.NEXTCLOUD)?e.query[$s.NEXTCLOUD]:null,zn=async(e,t)=>{const a=Un(e);if(!a)throw new Error("Spreadsheet ID is required");In(pn.GOOGLE_SPREADSHEET,{id:a});let r=null;if(Pn(e)?(r=Dn(e),u.notifications.push({message:"Spreadsheet loaded from cache"})):r=await bi(a),!r)throw new Error("Failed to load spreadsheet data");In(pn.GOOGLE_SPREADSHEET,{name:r.project&&r.project.name?r.project.name:void 0,id:a});try{un(r.items,r.project,t),Mn(e,r),u.spreadsheet=a}catch(l){throw l}},Kn=async(e,t)=>{const a=Un(e);if(!a)throw new Error("ICO ID is required");In(pn.ICO,{id:a});let r=null;if(Pn(e)?(r=Dn(e),u.notifications.push({message:"Ico project loaded from cache"})):r=await on(a),!r)throw new Error("Failed to load ICO data");r.project&&r.project.name&&In(pn.ICO,{name:r.project.name?r.project.name:void 0,id:r.project.name});try{un(r.items,r.project,t),Mn(e,r)}catch(l){throw l}},Qn=async(e,t)=>{const a=Un(e);if(!a)throw new Error("Nextcloud ID is required");In(pn.NEXTCLOUD,{id:a});let r=null;if(Pn(e))r=Dn(e),u.notifications.push({message:"Nextcloud project loaded from cache"});else{const e=Qi(a);r=await Yi(e)}if(!r)throw new Error("Failed to load Nextcloud data");In(pn.NEXTCLOUD,{name:r.project&&r.project.name?r.project.name:void 0,id:a});try{un(r.items,r.project,t),Mn(e,r)}catch(l){throw l}},Gn=({type:e,id:t})=>{const a=qn(e);if(!a)throw new Error("Route type is undefined for this project type.");const r={query:{[a]:t},name:"project",path:"/project",params:{},matched:[],fullPath:"/project",hash:"",redirectedFrom:void 0,meta:{}},l=Rs.resolve(r).href;return l},Yn=async(e,t)=>{E();try{if(Vn(e)===pn.GOOGLE_SPREADSHEET&&await zn(e,t),Vn(e)===pn.ICO&&await Kn(e,t),Vn(e)===pn.NEXTCLOUD&&await Qn(e,t),Vn(e)===pn.XLSX){const e=d.value;if(e&&e.files&&e.files[0]){const a=e.files[0];await en(a,t)}else console.error("No file selected or file input is not valid.")}F()}catch(a){throw F(),a instanceof ti?(console.warn(a.name,"MYCHOICE ERROR"),ai(a.name,a.message),Error(a.stack)):(ai(a.name,a.message),console.warn(a.stack,"stack"),a)}},Jn=function(){return u.data.alternatives},Zn=function(){const e=Object.keys(Jn());return e.map((e=>Number(e)))},eo=function(){return Object.keys(Jn()).map((e=>Number(e)))},to=(0,l.EW)((()=>Object.keys(Jn()).map((e=>Number(e))))),ao=function(e){return Jn()[e]},ro=function(e){return ao(e).name},lo=function(){const e=u.data.aims;return e},so=function(){return Object.keys(lo()).map((e=>Number(e)))},io=function(){const e=Object.keys(lo());return e.map((e=>Number(e)))},no=function(e){return lo()[e]},oo=(e,t)=>{const a=Object.values(lo()).filter((a=>Number(a[e])===Number(t)));return a},co=function(e){return lo()[e]&&lo()[e].name},uo=()=>so().filter((e=>xo().some((t=>t.aim===e)))),po=e=>(0,ye.uniqBy)(e,"aim").map((e=>e.aim)),mo=(e,t)=>e.filter((e=>no(e).criterion===t)).length,ho=function(){const e=u.data.criterions;return e},vo=(0,l.EW)((()=>u.data.criterions)),go=function(){return Object.keys(ho()).map((e=>Number(e)))},fo=(0,l.EW)((()=>Object.keys(vo.value).map((e=>Number(e))))),bo=function(e){return ho()[e]},ko=function(e){return ho()[Number(e)].name},yo=()=>go().filter((e=>xo().some((t=>t.criterion===e)))),Co=((0,l.EW)((()=>fo.value.filter((e=>xo().some((t=>t.criterion===e)))))),function(){const e=u.data.items;return e}),xo=function(){let e=Lo(Co(),u.searchInput);return u.selectedAims.length&&(e=e.filter((e=>u.selectedAims.includes(e["aim"])))),u.selectedStakeholders.length&&(e=e.filter((e=>u.selectedStakeholders.includes(e["stakeholder"])))),u.selectedCriterions.length&&(e=e.filter((e=>u.selectedCriterions.includes(Number(lo()[e["aim"]].criterion))))),e},wo=(e,t)=>{const a=Object.entries(t);return e.filter((e=>a.every((([t,a])=>e[t]===a))))},Eo=function(e){return e?wo(Co(),e):[]},Fo=function(e){return Object.values((0,ye.groupBy)(e,(({property:e,value:t,assertion:a,explanation:r,stakeholder:l})=>JSON.stringify({property:e,value:t,assertion:a,explanation:r,stakeholder:l}))))},_o=function(e){return wo(xo(),e)},Lo=function(e,t){return e.filter((e=>Object.keys(e).some((a=>{if(["property","value"].includes(a)){const r=e[a];return r.toString().toLowerCase().includes(t.toString().toLowerCase())}}))))},Ao=e=>{const t={},a=Zn();return a.forEach((a=>{const r=e.filter((e=>e.alternative===a));t[a]=r})),t},Io=e=>{const t={},a=io();return a.forEach((a=>{const r=e.filter((e=>e.aim===a));t[a]=r})),t},So=function(e,t=!0){const a={},r=t?xo():Co();return r.forEach((t=>{const r=t[e];a[r]?a[r].push(t):a[r]=[t]})),ii(a)},Wo=(e,t)=>(0,ye.groupBy)(_o(e),t),Oo=function(){return u.data.subOptions},Xo=function(){return Object.keys(Oo()).map((e=>Number(e)))},jo=function(e){return Oo()[e]},Po=function(){const e=u.data.stakeholders;return e},To=function(){return Object.keys(Po()).map((e=>Number(e)))},Mo=function(e){return Po()[e]&&Po()[e].name},Do=e=>{const t={};return Object.keys(e).sort().forEach((function(a){t[a]=e[a]})),JSON.stringify(t)},Ro=()=>u.selectedSupersets,No=function(e){u.selectedSuperset=Do(e)},Ho=function(e){u.selectedSuperset=""},$o=function(e){u.selectedSuperset===Do(e)?Ho(e):No(e)},Bo=function(e){qo(e)||u.selectedSupersets.push(Do(e))},Vo=function(e){const t=Do(e),a=Ro().indexOf(t);a>-1&&u.selectedSupersets.splice(a,1)},qo=function(e){return Ro().find((t=>t===Do(e)))},Uo=e=>Math.round(100*e)/100,zo=(e,t=!0)=>{const a=Io(e),r={},l={};return Object.entries(a).map((([e,t])=>{Number(e);const a=Ko(t);Object.entries(a).forEach((([e,t])=>{const a=Number(e);(r[a]||(r[a]=[])).push(t)}))})),Object.entries(r).forEach((([a,r])=>{const s=Qo(r)/e.length,i=Number.isNaN(s)?null:t?Uo(s):s;l[Number(a)]=i})),l},Ko=e=>{const t=Ao(e),a={};return Object.entries(t).forEach((([t,r])=>{const l=Number(t),s=r.filter((e=>1===e.subOption)),i=r.filter((e=>2===e.subOption)),n=s.length+1,o=(i.length,r.length+2),c=0===e.length,d=0===s.length&&0===i.length&&e.length>0;let u;u=c?0:d?.5:n/o;const p=u*e.length;a[l]=p})),a},Qo=e=>e.reduce(((e,t)=>e+t)),Go=(e,t=!0)=>{if(0===e.length)return null;e.filter((e=>1===e.subOption));const a=e.filter((e=>2===e.subOption)),r=e.length-a.length,l=li(r,0,e.length);return t?Uo(l):l},Yo=e=>null===e?"":1===e?"pro":0===e?"con":"mix",Jo=(e,t=!0)=>{const a=xo(),r=Ao(a),l=r[e];return Go(l)},Zo=(e,t)=>{const a=wo(e,t).map((({property:e,value:t})=>({property:e,value:t})));return(0,ye.uniqBy)(a,(e=>[e.property,e.value].join(":")))},ec=e=>Zo(xo(),e),tc=function(){return To().map((e=>({text:Mo(e),value:e})))},ac=function(){return so().map((e=>({text:co(e),value:e})))},rc=function(){return go().map((e=>({text:ko(e),value:e})))},lc=function(){return Object.entries(u.modes).map((([e,t])=>({text:t.name,value:e})))},sc=()=>{d.value?.click()},ic=e=>{e.preventDefault(),e.stopPropagation()},nc=e=>{ic(e),mc(e)},oc=e=>{ic(e),hc(e)},cc=e=>{ic(e),mc(e)},dc=e=>{ic(e),hc(e);const t=e.dataTransfer.files;d.value.files=t,uc()},uc=async()=>{const e=d.value?.files?.[0];if(!e)return;const t=Rs.resolve(`/project?xlsx=${e.name}`);await Yn(t),Rs.push(t)},pc=((0,l.EW)((()=>d.value)),(0,l.EW)((()=>d.value?.files?.[0])),e=>"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e),mc=e=>{e.currentTarget.classList.add("fileDropHighlight"),pc(e.dataTransfer.items[0].type)||e.currentTarget.classList.add("fileDropHighlight--invalid")},hc=e=>{e.currentTarget.classList.remove("fileDropHighlight","fileDropHighlight--invalid")},vc=e=>{const t=document.querySelector("body");t.addEventListener("dragenter",nc,!1),t.addEventListener("dragleave",oc,!1),t.addEventListener("dragover",cc,!1),t.addEventListener("drop",dc,!1)},{Parser:gc}=a(8992),fc=e=>{const t={excelStrings:!1,delimiter:";",quote:'"',includeEmptyRows:!0,defaultValue:""};try{const a=new gc(t),r=a.parse(e);return r}catch(a){throw a}};var bc=a(4213);const kc=()=>{const e=Vn(Rs.currentRoute.value);return e===pn.GOOGLE_SPREADSHEET||e===pn.XLSX||e===pn.NEXTCLOUD},yc=async e=>{const t=Un(e);if(!t)return;const a=Vn(e);if(a===pn.GOOGLE_SPREADSHEET){const e=await ui(t);await Cc(e)}if(a===pn.NEXTCLOUD){const e=Qi(t),a=await Gi(e),r=await an(a);await Cc(r)}if(a===pn.XLSX){const e=d.value;if(e?.files?.length){const t=e.files[0],a=await an(t);await Cc(a)}else console.error("Aucun fichier XLSX slectionn.")}},Cc=async e=>{const t=[],a={},r=["project","alternative","typesource","argument","hasexpertise"];e.forEach((e=>{let r=e.data;const l=r[0];if("parameters"===e.title||!l)return;const s=Object.keys(l).length-1;t.push(s),"argument"===e.title&&(r=_i(r));const i=fc(r);a[e.title]=i}));const l=Math.max(...t),s=";".repeat(l),i=Object.entries(a).sort((([e],[t])=>r.indexOf(e)-r.indexOf(t))).reduce(((e,[t,a])=>({...e,[t]:a})),{}),n=Object.entries(i).map((([e,t])=>`"${e}"${s}\n${t}\n${s}`)).join("\n"),o=xc(n),c=u.project?.name||"project";(0,bc.saveAs)(o,c+".csv")},xc=e=>new Blob([e],{type:"text/csv;charset=utf-8;"}),wc=async()=>{jn(Rs.currentRoute.value),await Yn(Rs.currentRoute.value)},Ec={class:"mychoice-logo-container"},Fc=["src"],_c={class:"d-flex align-center mr-4"},Lc=["src"];var Ac={__name:"AppBar",setup(e){const t=(0,o.lq)(),a=(0,l.EW)((()=>t.path.includes("/project")));return(e,t)=>{const i=(0,l.g2)("v-app-bar-nav-icon"),o=(0,l.g2)("v-btn"),c=(0,l.g2)("v-icon"),d=(0,l.g2)("v-tooltip"),p=(0,l.g2)("v-toolbar-title"),m=(0,l.g2)("v-spacer"),h=(0,l.g2)("router-link"),v=(0,l.g2)("v-app-bar");return(0,l.uX)(),(0,l.Wv)(v,{elevation:"0",color:"secondary",theme:"dark",height:"56"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{onClick:t[0]||(t[0]=(0,r.D$)((e=>(0,n.R1)(u).drawer=!(0,n.R1)(u).drawer),["stop"]))}),(0,n.R1)(u).project&&a.value?((0,l.uX)(),(0,l.Wv)(p,{key:0,class:"d-flex align-center"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{variant:"text",class:"text-white text-truncate",style:{"max-width":"200px",display:"block"},title:(0,n.R1)(u).project.name,onClick:t[1]||(t[1]=e=>(0,n.R1)(Hs)("project"))},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)((0,n.R1)(u).project.name),1)])),_:1},8,["title"]),(0,n.R1)(u).spreadsheet?((0,l.uX)(),(0,l.Wv)(d,{key:0,location:"bottom"},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(o,(0,l.v6)({icon:"",target:"_blank",href:(0,n.R1)(C)((0,n.R1)(u).spreadsheet)},e),{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("mdi-google-spreadsheet")]))),_:1})])),_:2},1040,["href"])])),default:(0,l.k6)((()=>[t[3]||(t[3]=(0,l.Lk)("span",null,"Open Spreadsheet",-1))])),_:1})):(0,l.Q3)("",!0)])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(m),(0,l.Lk)("div",Ec,[(0,l.bF)(h,{to:"/",class:"logo-mychoice"},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{src:(0,n.R1)(u).baseUrl+"logo-mychoice.svg",alt:"MyChoice Logo"},null,8,Fc)])),_:1})]),(0,l.Lk)("div",_c,[(0,l.Lk)("img",{src:(0,n.R1)(u).baseUrl+"logo-inrae-white-transparent.png",alt:"INRAE Logo",class:"logo-inrae"},null,8,Lc)])])),_:1})}}};const Ic=(0,z.A)(Ac,[["__scopeId","data-v-48d2068d"]]);var Sc=Ic;const Wc=["src"],Oc={class:"pa-2"};function Xc(e,t,a,r,i,n){const o=(0,l.g2)("router-link"),c=(0,l.g2)("v-list-item-title"),d=(0,l.g2)("v-list-item"),u=(0,l.g2)("v-divider"),p=(0,l.g2)("v-icon"),m=(0,l.g2)("v-item-group"),h=(0,l.g2)("v-list-item-subtitle"),v=(0,l.g2)("v-list"),g=(0,l.g2)("v-list-subheader"),f=(0,l.g2)("v-card-subtitle"),b=(0,l.g2)("v-card"),k=(0,l.g2)("v-btn"),y=(0,l.g2)("Version"),C=(0,l.g2)("v-footer"),x=(0,l.g2)("v-navigation-drawer");return(0,l.uX)(),(0,l.Wv)(x,{modelValue:e.state.drawer,"onUpdate:modelValue":t[2]||(t[2]=t=>e.state.drawer=t),temporary:"",scrim:"false"},{append:(0,l.k6)((()=>[(0,l.Lk)("div",Oc,[(0,l.bF)(k,{block:"",color:"red",class:"text-white",onClick:e.refreshProject,disabled:!e.route.path.includes("project")},{default:(0,l.k6)((()=>[(0,l.bF)(p,{size:"small",class:"mr-3"},{default:(0,l.k6)((()=>t[13]||(t[13]=[(0,l.eW)("mdi-autorenew")]))),_:1}),t[14]||(t[14]=(0,l.eW)(" Refresh project "))])),_:1},8,["onClick","disabled"])]),(0,l.bF)(v,{nav:"",dense:""},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,{onClick:t[1]||(t[1]=t=>e.state.aboutDialog=!0)},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>t[15]||(t[15]=[(0,l.eW)("About")]))),_:1})])),_:1})])),_:1})])),_:1}),(0,l.bF)(u),(0,l.bF)(C,{class:"flex-grow-1"},{default:(0,l.k6)((()=>[(0,l.bF)(y)])),_:1})])),default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{class:"title"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{to:"/"},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{style:{padding:"2rem 0",width:"100%",margin:"auto"},src:e.state.baseUrl+"logo-mychoice-color.svg"},null,8,Wc)])),_:1})])),_:1})])),_:1}),(0,l.bF)(u),(0,l.bF)(v,{nav:"",dense:""},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,{onClick:e.handleLoadFile},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("mdi-upload")]))),_:1}),(0,l.bF)(c,null,{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)("Open local project "),(0,l.Lk)("small",null,"(.xlsx)",-1)]))),_:1})])),_:1},8,["onClick"]),(0,l.bF)(d,{onClick:t[0]||(t[0]=t=>e.state.openDialog=!0)},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("mdi-cloud-upload")]))),_:1}),(0,l.bF)(c,null,{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.eW)("Open online project")]))),_:1})])),_:1})])),_:1}),(0,l.bF)(d,{href:"https://docs.google.com/spreadsheets/d/1Cj5tC6JyLQxCHdtZJ8d9_-FSV9UbHT7AGE3wrLEMlig/copy",target:"_blank"},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>t[7]||(t[7]=[(0,l.eW)("mdi-plus-circle-outline")]))),_:1}),(0,l.bF)(c,null,{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.eW)("Create new project")]))),_:1}),(0,l.bF)(h,null,{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.eW)("from spreadsheet template")]))),_:1})])),_:1})])),_:1}),(0,l.bF)(u),(0,l.bF)(g,null,{default:(0,l.k6)((()=>t[10]||(t[10]=[(0,l.eW)("Recent projects")]))),_:1}),e.hasRecentProjects?((0,l.uX)(),(0,l.Wv)(v,{key:1,subheader:"",nav:"",dense:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.recentProjects,((a,r)=>((0,l.uX)(),(0,l.Wv)(d,{key:r,to:e.getHrefFromTypeId({type:a.type,id:a.id})},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(a.name||a.id),1)])),_:2},1024),"googlespreadsheet"===a.type?((0,l.uX)(),(0,l.Wv)(p,{key:0},{default:(0,l.k6)((()=>t[12]||(t[12]=[(0,l.eW)("mdi-google-spreadsheet")]))),_:1})):(0,l.Q3)("",!0)])),_:2},1032,["to"])))),128))])),_:1})):((0,l.uX)(),(0,l.Wv)(b,{key:0,disabled:"",flat:"",tile:""},{default:(0,l.k6)((()=>[(0,l.bF)(f,null,{default:(0,l.k6)((()=>t[11]||(t[11]=[(0,l.eW)("No recent projects")]))),_:1})])),_:1}))])),_:1},8,["modelValue"])}var jc=(0,l.pM)({components:{Version:de},setup(){const e=(0,o.lq)();return{state:u,route:e,recentProjects:Fn,hasRecentProjects:_n,getHrefFromTypeId:Gn,handleLoadFile:sc,isExportableToCSV:kc,openIco:sn,openSpreadsheet:ln,getImagePath:f,exportToCSV:yc,refreshProject:wc}}});const Pc=(0,z.A)(jc,[["render",Xc]]);var Tc=Pc;function Mc(e,t,a,i,n,o){const c=(0,l.g2)("v-list-item-title"),d=(0,l.g2)("v-spacer"),u=(0,l.g2)("v-icon"),p=(0,l.g2)("v-btn"),m=(0,l.g2)("v-list-item-action"),h=(0,l.g2)("v-list-item"),v=(0,l.g2)("v-combobox"),g=(0,l.g2)("v-form"),f=(0,l.g2)("v-col"),b=(0,l.g2)("v-row");return(0,l.uX)(),(0,l.Wv)(b,null,{default:(0,l.k6)((()=>[(0,l.bF)(f,null,{default:(0,l.k6)((()=>[t[4]||(t[4]=(0,l.Lk)("h3",null,"From INRAE's server",-1)),(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.bF)(f,{cols:"12",class:""},{default:(0,l.k6)((()=>[(0,l.bF)(g,{onSubmit:t[1]||(t[1]=(0,r.D$)((t=>{e.handleOpenIco(e.state.fields.projectName),e.state.openDialog=!1}),["prevent"]))},{default:(0,l.k6)((()=>[(0,l.bF)(v,{items:e.recentIcoProjects.map((([e,t])=>({text:t.name,value:t}))),"item-text":"text","item-value":"value",label:"Project name",id:"comboprojectname",autocomplete:"off","search-input":e.state.fields.projectName,outlined:""},{item:(0,l.k6)((({index:a,item:i})=>[(0,l.bF)(h,{to:e.getHrefFromTypeId({type:i.value.type,id:i.value.id})},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(i.text),1)])),_:2},1024),(0,l.bF)(d),(0,l.bF)(m,{onClick:t[0]||(t[0]=(0,r.D$)((()=>{}),["stop"]))},{default:(0,l.k6)((()=>[(0,l.bF)(p,{icon:"",onClick:(0,r.D$)((t=>e.removeFromRecentProjects(i.value.type,{id:i.value.id})),["stop","prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("mdi-close")]))),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["to"])])),_:1},8,["items","search-input"]),(0,l.bF)(p,{class:"ml-auto d-flex",color:"secondary",disabled:!e.state.fields.projectName,type:"submit"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("Open from Ico")]))),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var Dc=(0,l.pM)({setup(){const e=async function(e){await sn(e),u.fields.projectName=""},t=async function(e){await ln(e),u.fields.spreadsheetUrl=""},a=async function(e){await nn(e),u.fields.nextcloudUrl=""},r=(0,l.EW)((()=>u.fields.spreadsheetUrl?ki(u.fields.spreadsheetUrl):""));return{state:u,isValidNextcloudUrl:Ki,spreadsheetId:r,openNextcloudUrl:nn,removeFromRecentProjectSpreadsheets:Nn,removeFromRecentProjectNames:Rn,handleOpenIco:e,handleOpenSpreadsheet:t,handleOpenNextcloudUrl:a,recentSpreadsheetProjects:_,recentNextcloudProjects:A,recentIcoProjects:L,removeFromRecentProjects:Wn,getHrefFromTypeId:Gn}}});const Rc=(0,z.A)(Dc,[["render",Mc]]);var Nc=Rc;const Hc=["href"],$c=["href"];function Bc(e,t,a,r,s,i){const n=(0,l.g2)("v-card-title"),o=(0,l.g2)("v-card-text"),c=(0,l.g2)("v-divider"),d=(0,l.g2)("v-card-subtitle"),u=(0,l.g2)("v-col"),p=(0,l.g2)("v-row"),m=(0,l.g2)("v-card");return(0,l.uX)(),(0,l.Wv)(m,{class:"text-center"},{default:(0,l.k6)((()=>[(0,l.bF)(n,{class:"justify-center"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("About MyChoice")]))),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.Lk)("b",null,"MyChoice",-1),(0,l.eW)(" is a web application supporting collective decision, designed by INRAE. ")]))),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(c,{class:"my-2"}),(0,l.bF)(d,{class:"p-0"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("Scientific contacts")]))),_:1}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.Lk)("b",null,[(0,l.Lk)("a",{href:"mailto:rallou.thomopoulos@inrae.fr"},"Rallou Thomopoulos")],-1),(0,l.Lk)("br",null,null,-1),(0,l.Lk)("small",null,"INRAE (IATE lab) / INRIA (GraphIK lab)",-1)]))),_:1}),(0,l.bF)(u,null,{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.Lk)("b",null,[(0,l.Lk)("a",{href:"mailto:julien.cufi@inrae.fr"},"Julien Cufi")],-1),(0,l.Lk)("br",null,null,-1),(0,l.Lk)("small",null,"INRAE (IATE lab)",-1)]))),_:1})])),_:1}),(0,l.bF)(c,{class:"my-2"}),(0,l.bF)(d,null,{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("UX & front-end development")]))),_:1}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.Lk)("b",null,[(0,l.Lk)("a",{href:"https://maximelebreton.com",target:"_blank"},"Maxime Le Breton")],-1),(0,l.Lk)("br",null,null,-1),(0,l.Lk)("small",null,"Independent designer &front-enddeveloper",-1)]))),_:1})])),_:1}),(0,l.bF)(c,{class:"my-2"}),(0,l.bF)(d,null,{default:(0,l.k6)((()=>t[7]||(t[7]=[(0,l.eW)("Other contributors")]))),_:1}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.Lk)("b",null," Thomas Bosch ",-1),(0,l.Lk)("br",null,null,-1),(0,l.Lk)("small",null,"Former student at IATE lab",-1)]))),_:1})])),_:1}),(0,l.bF)(c,{class:"my-2"}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.Lk)("a",{href:e.state.baseUrl+"licenses.txt",target:"_blank"},"Open source licenses",8,Hc)])),_:1}),(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.Lk)("a",{href:e.state.baseUrl+"Open_source_license_terms.pdf",target:"_blank"},"Open source licenses terms",8,$c)])),_:1})])),_:1})])])),_:1})])),_:1})}var Vc={data:()=>({state:u})};const qc=(0,z.A)(Vc,[["render",Bc]]);var Uc=qc,zc=(0,l.pM)({name:"App",components:{AppBar:Sc,Drawer:Tc,OpenDialog:Nc,About:Uc},setup(){(0,l.sV)((()=>{vc()}));const e=(0,l.EW)({get:()=>u.notifications.length>0,set:e=>{e||(u.notifications=[])}}),t=(0,l.EW)({get:()=>Object.values(u.errors).some((e=>!1!==e)),set:e=>{e||Gs()}});return{dropFileInputRef:d,onFileChange:uc,onFileDrop:dc,onFileDragEnter:nc,onFileDragLeave:oc,onFileDragOver:cc,clearErrors:Gs,getErrorMessage:Qs,refreshProject:wc,state:u,getErrors:Ks,notifications:zs,isNotification:e,isError:t}}});const Kc=(0,z.A)(zc,[["render",i]]);var Qc=Kc,Gc=(a(5524),a(3925)),Yc=a(9547),Jc=a(9693),Zc=a(3051),ed=a(9293),td=a(8741),ad=a(8210),rd=a(2034),ld=a(5526),sd=a(4789),id=a(365),nd=a(8400),od=a(5939),cd=a(4810),dd=a(6832),ud=a(1541),pd=a(3679),md=a(4146),hd=a(9321),vd=a(5286),gd=a(9416),fd=a(6843),bd=a(6838),kd=a(2940),yd=a(2281),Cd=a(857),xd=a(4629),wd=a(1539),Ed=a(8591),Fd=a(9283),_d=a(7789),Ld=a(1529),Ad=a(9468),Id=a(6731),Sd=a(6992),Wd=a(3495),Od=a(3548),Xd=a(3714),jd=a(9271),Pd=a(5634),Td=a(802),Md=a(7609),Dd=a(7163),Rd=a(2049),Nd=a(193),Hd=a(9064),$d=a(6526);const Bd=(0,Gc.$N)({components:{VApp:Yc.E,VAppBar:Jc.z,VNavigationDrawer:Zc.e,VList:ed.x8,VListItem:td.g,VListItemTitle:ad.U,VListItemSubtitle:rd.w,VDivider:ld.G,VBtn:sd.D,VIcon:id.w,VCard:nd.J,VCardTitle:od.r,VCardText:cd.O,VDialog:dd.p,VMain:ud.Y,VItemGroup:pd.$V,VListSubheader:md.w,VOverlay:hd.L,VProgressCircular:vd.x,VSnackbar:gd.K,VFooter:fd.O,VContainer:bd.I,VListItemAction:kd.k,VSpacer:yd.h,VCardSubtitle:Cd.Z,VRow:xd.L,VCol:wd.B,VToolbarTitle:Ed.s,VTooltip:Fd.y,VAppBarNavIcon:_d.Z,VForm:Ld.n,VCombobox:Ad.A,VImg:Id.y,VAvatar:Sd.y,VChip:Wd.x,VBadge:Od.Q,VExpandTransition:Xd.Qo,VMenu:jd.q,VBtnToggle:Pd.H_,VToolbar:Td.u,VAutocomplete:Md.V,VTextField:Dd.W,VSelect:Rd.d4,VTable:Nd.Z},directives:Hd,icons:{defaultSet:"mdi",aliases:$d.z,sets:{mdi:$d.r}},theme:{defaultTheme:"light",themes:{light:{colors:{primary:"#4F4F4F",secondary:"#00A3F6",accent:"#8c9eff",error:"#b71c1c"}},dark:{colors:{primary:"#4F4F4F",secondary:"#00A3A6",accent:"#8c9eff",error:"#b71c1c"}}}}});var Vd=Bd,qd=a(5727),Ud={install(e){e.component("Highlighter",qd.Ay)}};const zd=async()=>{Ln()};(async()=>{await zd();const e=(0,r.Ef)(Qc);e.use(Rs),e.use(Vd),e.use(Ud),e.mount("#app")})()},6251:function(){},7233:function(){},9800:function(){}},t={};function a(r){var l=t[r];if(void 0!==l)return l.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){var e=[];a.O=function(t,r,l,s){if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],l=e[d][1],s=e[d][2];for(var n=!0,o=0;o<r.length;o++)(!1&s||i>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[o])}))?r.splice(o--,1):(n=!1,s<i&&(i=s));if(n){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,l,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var l,s,i=r[0],n=r[1],o=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(l in n)a.o(n,l)&&(a.m[l]=n[l]);if(o)var d=o(a)}for(t&&t(r);c<i.length;c++)s=i[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},r=self["webpackChunkmy_choice"]=self["webpackChunkmy_choice"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(5186)}));r=a.O(r)})();
//# sourceMappingURL=app.49553408.js.map