(function(){var e={4889:function(e,t,r){"use strict";var n=r(4048),a=r(388),i=(r(3792),r(3362),r(9085),r(9391),r(3751)),o=r(641),l=r(33);function u(e,t,r,n,a,i){var u=(0,o.g2)("AppBar"),c=(0,o.g2)("Drawer"),s=(0,o.g2)("router-view"),d=(0,o.g2)("v-main"),f=(0,o.g2)("v-icon"),p=(0,o.g2)("v-card-title"),v=(0,o.g2)("OpenDialog"),m=(0,o.g2)("v-card-text"),h=(0,o.g2)("v-card"),b=(0,o.g2)("v-dialog"),g=(0,o.g2)("About"),k=(0,o.g2)("v-progress-circular"),y=(0,o.g2)("v-overlay"),x=(0,o.g2)("v-btn"),A=(0,o.g2)("v-snackbar"),C=(0,o.g2)("v-app");return(0,o.uX)(),(0,o.Wv)(C,{class:"bg-grey-lighten-4"},{default:(0,o.k6)((function(){return[(0,o.bF)(u),(0,o.bF)(c),(0,o.Lk)("input",{type:"file",ref:"dropFileInputRef",accept:".xlsx",style:{display:"none"},onChange:t[0]||(t[0]=function(){return e.onFileChange&&e.onFileChange.apply(e,arguments)})},null,544),(0,o.bF)(d,null,{default:(0,o.k6)((function(){return[(0,o.bF)(s)]})),_:1}),(0,o.bF)(b,{modelValue:e.state.openDialog,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.state.openDialog=t}),"max-width":"600"},{default:(0,o.k6)((function(){return[(0,o.bF)(h,null,{default:(0,o.k6)((function(){return[(0,o.bF)(p,{class:"d-flex align-center"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{class:"mr-2"},{default:(0,o.k6)((function(){return t[5]||(t[5]=[(0,o.eW)("mdi-cloud-upload")])})),_:1}),t[6]||(t[6]=(0,o.Lk)("span",null,"Open online project",-1))]})),_:1}),(0,o.bF)(m,null,{default:(0,o.k6)((function(){return[(0,o.bF)(v)]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,o.bF)(b,{modelValue:e.state.aboutDialog,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.state.aboutDialog=t}),"max-width":"600"},{default:(0,o.k6)((function(){return[(0,o.bF)(g)]})),_:1},8,["modelValue"]),(0,o.bF)(y,{"model-value":e.state.overlay,class:"d-flex justify-center align-center","z-index":"3"},{default:(0,o.k6)((function(){return[(0,o.bF)(k,{indeterminate:"",size:"64",color:"primary"})]})),_:1},8,["model-value"]),(0,o.bF)(A,{modelValue:e.isNotification,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.isNotification=t}),color:"info",location:"top"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{class:"mr-2"},{default:(0,o.k6)((function(){return t[7]||(t[7]=[(0,o.eW)("mdi-information")])})),_:1}),(0,o.Lk)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.notifications,(function(e,t){return(0,o.uX)(),(0,o.CE)("div",{key:t},(0,l.v_)(e.message),1)})),128))])]})),actions:(0,o.k6)((function(){return[(0,o.bF)(x,{variant:"outlined",size:"small",onClick:e.refreshProject},{default:(0,o.k6)((function(){return t[8]||(t[8]=[(0,o.eW)("Refresh")])})),_:1},8,["onClick"])]})),_:1},8,["modelValue"]),(0,o.bF)(A,{modelValue:e.isError,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.isError=t}),color:"error",timeout:"0","multi-line":""},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.getErrors,(function(t,r){return(0,o.uX)(),(0,o.CE)("div",{key:r},(0,l.v_)(e.getErrorMessage(t)),1)})),128))]})),actions:(0,o.k6)((function(){return[(0,o.bF)(x,{variant:"text",onClick:e.clearErrors},{default:(0,o.k6)((function(){return t[9]||(t[9]=[(0,o.eW)("Close")])})),_:1},8,["onClick"])]})),_:1},8,["modelValue"])]})),_:1})}r(8111),r(3579),r(6099),r(6034),r(4423),r(2010),r(1699);var c=r(953),s=r(5220),d=(r(4114),r(7588),r(3500),r(8676)),f=(r(2008),r(4554),r(2489),r(5506),r(9432),r(4864),r(7465),r(7495),r(7745),r(906),r(8781),{mode:"consensus",globalCardType:"label",searchInput:"",selectedSuperset:"",selectedSupersets:[],selectedAims:[],selectedCriterions:[],selectedStakeholders:[],compareDialog:!1,dialog:!1,openDialog:!1,spreadsheet:null,selectedView:"table-view",data:null,project:null,aboutDialog:!1,creditsDialog:!1}),p=(0,c.KR)(null),v=(0,c.Kh)({vm:null,notifications:[],baseUrl:"/",selectedView:f.selectedView,spreadsheet:f.spreadsheet,data:f.data,project:f.project,searchInput:f.searchInput,selectedSuperset:f.selectedSuperset,selectedSupersets:f.selectedSupersets,selectedAims:f.selectedAims,selectedCriterions:f.selectedCriterions,selectedStakeholders:f.selectedStakeholders,mode:f.mode,modes:{consensus:{name:"Consensus"},interplay:{name:"Interplay"},prospective:{name:"Prospective"},expertise:{name:"Expertise"},"data-reliability":{name:"Data reliability"},"multi-stakeholder":{name:"Multi Stakeholder"}},globalCardType:"label",chartFilters:{selectedAlternative:"all-merged",analysisPer:"criteria",selectedCriterion:""},dialog:f.dialog,compareDialog:f.compareDialog,openDialog:f.openDialog,aboutDialog:f.aboutDialog,creditsDialog:f.creditsDialog,icons:{subOption:{1:"mdi-emoticon-happy-outline",2:"mdi-emoticon-sad-outline"},compare:"mdi"},overlay:!1,drawer:!1,errors:{FAILED_TO_FETCH_SPREADSHEET:!1,FAILED_TO_FETCH_ICO:!1},snackbar:!1,fields:{projectName:"",spreadsheetUrl:"",nextcloudUrl:""},errorMessages:{FAILED_TO_FETCH_SPREADSHEET:"The Spreadsheet isn't published or doesn't exist",FAILED_TO_FETCH_ICO:"This project name doesn't exist (note: name is case-sensitive)"},recentProjects:[],recentProjectNames:localStorage.recentProjectNames&&null!==JSON.parse(localStorage.recentProjectNames)?JSON.parse(localStorage.recentProjectNames):{},recentProjectSpreadsheets:localStorage.recentProjectSpreadsheets&&null!==JSON.parse(localStorage.recentProjectSpreadsheets)?JSON.parse(localStorage.recentProjectSpreadsheets):{}}),m=function(){v.data=f.data,v.project=f.project,v.spreadsheet=f.spreadsheet},h=function(){v.mode=f.mode},b=function(){m(),k(),h(),g()},g=function(){v.selectedSuperset=f.selectedSuperset,v.selectedSupersets.splice(0),v.compareDialog=f.compareDialog,v.dialog=f.dialog,v.openDialog=f.openDialog},k=function(){v.searchInput=f.searchInput,v.selectedAims=f.selectedAims,v.selectedCriterions=f.selectedCriterions,v.selectedStakeholders=f.selectedStakeholders},y=function(e){var t=new RegExp("^(?:[a-z]+:)?//","i"),r=t.test(e);return r?e:"hhttp://localhost:8080/img/"+v.project.name+"/"+e},x=(0,o.EW)((function(){return!!(v.vm&&v.vm.$route&&v.vm.$route.query&&v.vm.$route.query.spreadsheet)})),A=((0,o.EW)((function(){return v.vm&&v.vm.$route?v.vm.$route:null})),(0,o.EW)((function(){return v.overlay}))),C=(0,o.EW)((function(){return null===v.project})),w=function(e){return"https://docs.google.com/spreadsheets/d/".concat(e)},E=((0,o.EW)((function(){return v.project&&v.project.name?v.project.name:null})),(0,o.EW)((function(){return"stakeholder"===v.globalCardType}))),F=(0,o.EW)((function(){return v.selectedSupersets})),_=function(){v.overlay=!0},L=function(){v.overlay=!1};(0,o.wB)((function(){return v.globalCardType}),(function(e,t){e!==t&&g()}));var S=(0,o.EW)((function(){return Object.entries(v.recentProjects).filter((function(e){var t=(0,d.A)(e,2),r=(t[0],t[1].type);return"googlespreadsheet"===r}))})),I=(0,o.EW)((function(){return Object.entries(v.recentProjects).filter((function(e){var t=(0,d.A)(e,2),r=(t[0],t[1].type);return"ico"===r}))})),O=(0,o.EW)((function(){return Object.entries(v.recentProjects).filter((function(e){var t=(0,d.A)(e,2),r=(t[0],t[1].type);return"nextcloud"===r}))})),W=r(8653),j=(r(6280),r(1392),r(2675),r(9463),{class:"d-flex flex-column align-center justify-center h-100 text-white text-center px-4"}),X={class:"text-h3 mb-2"},P={class:"d-flex flex-wrap justify-center"},T={key:0,class:"mx-2 text-caption font-weight-light my-span-vs"},R={class:"d-flex align-center mx-2"},D={class:"text-center my-4 mt-n6"},M={class:"text-body-1"},N={class:"d-flex flex-wrap justify-center"},H={key:0,class:"d-flex align-center mx-4"},B={class:"text-h6 font-weight-bold mb-1"},V=["src"];function q(e,t,r,n,a,i){var u=(0,o.g2)("v-icon"),c=(0,o.g2)("v-img"),s=(0,o.g2)("v-btn"),d=(0,o.g2)("v-card-text"),f=(0,o.g2)("v-avatar"),p=(0,o.g2)("v-list-item"),v=(0,o.g2)("v-card"),m=(0,o.g2)("v-col"),h=(0,o.g2)("v-row"),b=(0,o.g2)("v-container"),g=(0,o.g2)("Empty");return(0,o.uX)(),(0,o.Wv)(v,{class:"flex-grow-1 bg-grey-lighten-4"},{default:(0,o.k6)((function(){return[e.state.project?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(c,{class:"align-center my-v-img","max-height":"300",width:"100%",src:e.getImagePath(e.state.project.image),cover:""},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",j,[(0,o.Lk)("h1",X,(0,l.v_)(e.state.project.name),1),t[1]||(t[1]=(0,o.Lk)("div",{class:"text-h6 font-weight-light mb-2"}," The alternatives discussed in the project are: ",-1)),(0,o.Lk)("div",P,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.alternativesIds,(function(t,r){return(0,o.uX)(),(0,o.CE)(o.FK,{key:t},[0!==r?((0,o.uX)(),(0,o.CE)("span",T,"VS")):(0,o.Q3)("",!0),(0,o.Lk)("div",R,[(0,o.bF)(u,{class:"me-1"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.getAlternatives[t].icon),1)]})),_:2},1024),(0,o.Lk)("span",null,(0,l.v_)(e.getAlternatives[t].name),1)])],64)})),128))])])]})),_:1},8,["src"]),(0,o.Lk)("div",D,[(0,o.bF)(s,{onClick:t[0]||(t[0]=function(t){return e.switchToView("global-view")}),size:"x-large",color:"primary"},{default:(0,o.k6)((function(){return[(0,o.eW)(" Open "+(0,l.v_)(e.state.project.name)+" project ",1)]})),_:1})]),(0,o.bF)(b,{style:{"max-width":"1200px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(d,{class:"text-primary text-center"},{default:(0,o.k6)((function(){return[(0,o.Lk)("p",M,(0,l.v_)(e.state.project.description),1)]})),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)((function(){return[(0,o.bF)(m,{style:{"overflow-x":"auto","text-align":"center"}},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",N,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.alternativesIds,(function(r,n){return(0,o.uX)(),(0,o.CE)(o.FK,{key:"card-"+r+n},[0!==n?((0,o.uX)(),(0,o.CE)("div",H,t[2]||(t[2]=[(0,o.Lk)("small",{class:"text-grey-darken-1 font-weight-bold text-h6"},"VS",-1)]))):(0,o.Q3)("",!0),(0,o.bF)(v,{"min-width":"280","max-width":"320",class:"mx-2 mb-4",variant:"outlined"},{default:(0,o.k6)((function(){return[(0,o.bF)(p,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("div",B,[(0,o.bF)(u,{class:"text-primary me-2"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.getAlternatives[r].icon),1)]})),_:2},1024),(0,o.eW)(" "+(0,l.v_)(e.getAlternatives[r].name),1)]),(0,o.bF)(f,{size:"56",color:"grey"},{default:(0,o.k6)((function(){return[(0,o.Lk)("img",{src:e.getImagePath(e.getAlternatives[r].image)},null,8,V)]})),_:2},1024)]})),_:2},1024),(0,o.bF)(d,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("p",null,(0,l.v_)(e.getAlternatives[r].description),1)]})),_:2},1024)]})),_:2},1024)],64)})),128))])]})),_:1})]})),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)((function(){return[(0,o.bF)(m,null,{default:(0,o.k6)((function(){return t[3]||(t[3]=[(0,o.Lk)("div",{class:"mt-6"},[(0,o.Lk)("h2",{class:"text-h6 font-weight-bold"},"Disclaimer"),(0,o.Lk)("ul",{class:"text-caption ps-4"},[(0,o.Lk)("li",null," The authors and publisher of the software cannot be held liable in any way for the consequences that may result from the use or interpretation of the information processed by the MyChoice software... "),(0,o.Lk)("li",null,[(0,o.eW)(" By using the MyChoice software, users agree to explicitly cite the tool (home page "),(0,o.Lk)("a",{href:"https://ico.iate.inra.fr/MyChoice/",target:"_blank"},"https://ico.iate.inra.fr/MyChoice/"),(0,o.eW)(")... ")])])],-1)])})),_:1})]})),_:1})]})),_:1})],64)):((0,o.uX)(),(0,o.Wv)(g,{key:1}))]})),_:1})}var U={key:0,class:"d-flex flex-column align-center justify-center flex-grow-1",style:{"min-height":"100%"}},z={class:"mb-5"},G={key:0},K=["href"];function Q(e,t,r,n,a,i){var u=(0,o.g2)("v-icon"),c=(0,o.g2)("v-btn"),s=(0,o.g2)("v-container"),d=(0,o.g2)("v-card");return e.isEmptyProject&&!e.isLoading?((0,o.uX)(),(0,o.CE)("div",U,[(0,o.bF)(d,{color:"transparent",class:"text-center",elevation:"0"},{default:(0,o.k6)((function(){return[(0,o.bF)(s,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("h4",z,[e.isSpreadsheet?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("span",G,(0,l.v_)(e.getRouteProjectId),1)),e.isSpreadsheet?((0,o.uX)(),(0,o.CE)("a",{key:1,target:"_blank",href:e.getSpreadsheetLink(e.getRouteProjectId)},(0,l.v_)(e.getRouteProjectId),9,K)):(0,o.Q3)("",!0),e.isSpreadsheet?((0,o.uX)(),(0,o.Wv)(u,{key:2,class:"ml-2"},{default:(0,o.k6)((function(){return t[0]||(t[0]=[(0,o.eW)("mdi-google-spreadsheet")])})),_:1})):(0,o.Q3)("",!0)]),(0,o.bF)(c,{onClick:e.refreshProject},{default:(0,o.k6)((function(){return[(0,o.bF)(u,{size:"small",class:"mr-3"},{default:(0,o.k6)((function(){return t[1]||(t[1]=[(0,o.eW)("mdi-autorenew")])})),_:1}),t[2]||(t[2]=(0,o.eW)("Refresh project "))]})),_:1},8,["onClick"])]})),_:1})]})),_:1})])):(0,o.Q3)("",!0)}var Y=(0,o.pM)({setup:function(){return{getSpreadsheetLink:w,isSpreadsheet:x,getRouteProjectId:Ci,state:v,refreshProject:oc,isLoading:A,isEmptyProject:C}}}),$=r(6262);const J=(0,$.A)(Y,[["render",Q]]);var Z=J,ee=(0,o.pM)({components:{Empty:Z},setup:function(){return{state:v,getImagePath:y,getFilteredItemsBy:uu,switchToView:ki,alternativesIds:(0,o.EW)((function(){return Rl()})),getAlternatives:(0,o.EW)((function(){return Pl()}))}}});const te=(0,$.A)(ee,[["render",q],["__scopeId","data-v-19fbed7c"]]);var re=te,ne={class:"page-bg bg-grey-lighten-4"},ae={class:"page-container page-container--home"},ie={class:"text-left mb-6"},oe=["src"],le={class:"my-6 d-flex justify-center"},ue={class:"v-footer v-theme--mychoiceTheme",style:{height:"auto"}};function ce(e,t,r,n,a,u){var c=(0,o.g2)("v-responsive"),s=(0,o.g2)("v-sheet"),d=(0,o.g2)("v-col"),f=(0,o.g2)("v-btn"),p=(0,o.g2)("v-list-subheader"),v=(0,o.g2)("v-card-text"),m=(0,o.g2)("v-list-item-title"),h=(0,o.g2)("v-icon"),b=(0,o.g2)("v-list-item"),g=(0,o.g2)("v-list"),k=(0,o.g2)("v-card"),y=(0,o.g2)("v-row"),x=(0,o.g2)("Version");return(0,o.uX)(),(0,o.CE)("div",ne,[(0,o.Lk)("div",ae,[(0,o.bF)(y,{class:"page-row py-6",justify:"center"},{default:(0,o.k6)((function(){return[(0,o.bF)(d,{cols:"12",sm:"8",lg:"8"},{default:(0,o.k6)((function(){return[(0,o.bF)(s,{elevation:"0",class:"pa-0","max-width":"100%"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",ie,[(0,o.Lk)("img",{src:e.state.baseUrl+"logo-mychoice-color.svg",style:{"max-width":"240px",width:"100%"},alt:"MyChoice Logo"},null,8,oe)]),t[2]||(t[2]=(0,o.Lk)("p",null,[(0,o.Lk)("b",null,"MyChoice"),(0,o.eW)(" is a web application supporting collective decision, designed by INRAE. The software enables project participants to: ")],-1)),t[3]||(t[3]=(0,o.Lk)("ul",null,[(0,o.Lk)("li",null,"Analyze, compare and assess stakeholders' attitudes towards different alternatives."),(0,o.Lk)("li",null,"Review explanatory arguments stemming from various sources and reflecting different concerns."),(0,o.Lk)("li",null,"Explain the criteria, aims and features pursued."),(0,o.Lk)("li",null,"Highlight potential synergies or competing concerns."),(0,o.Lk)("li",null,"Propose different modes of decision support (expert, consensual, prospective, etc.).")],-1)),(0,o.Lk)("div",le,[(0,o.bF)(c,{"aspect-ratio":"16/9",style:{"max-width":"600px",width:"100%"}},{default:(0,o.k6)((function(){return t[1]||(t[1]=[(0,o.Lk)("video",{controls:"",style:{width:"100%",height:"100%"}},[(0,o.Lk)("source",{src:"presentation_mychoice.mp4"}),(0,o.eW)(" Your browser does not support the "),(0,o.Lk)("code",null,"video"),(0,o.eW)(" element. ")],-1)])})),_:1})]),t[4]||(t[4]=(0,o.Lk)("h6",{class:"text-overline mb-2"},"References",-1)),t[5]||(t[5]=(0,o.Lk)("ul",{class:"text-caption"},[(0,o.Lk)("li",null,[(0,o.eW)(" Rallou Thomopoulos, Julien Cufi, Maxime Le Breton. A Generic Software to Support Collective Decision in Food Chains and in Multi-Stakeholder Situations. "),(0,o.Lk)("em",null,"FoodSim 2020"),(0,o.eW)(", Sep 2020, Ghent, Belgium. ("),(0,o.Lk)("a",{href:"https://hal.archives-ouvertes.fr/hal-02484363",target:"_blank"},"hal-02484363"),(0,o.eW)(") ")]),(0,o.Lk)("li",null,[(0,o.eW)(" Rallou Thomopoulos. A practical application approach to argumentation for multicriteria analysis and decision support. "),(0,o.Lk)("em",null,"EURO journal on decision processes"),(0,o.eW)(", Springer, 2018, 6 (3-4), pp.237-255. ("),(0,o.Lk)("a",{href:"https://dx.doi.org/10.1007/s40070-018-0087-2",target:"_blank"},"10.1007/s40070-018-0087-2"),(0,o.eW)(") ("),(0,o.Lk)("a",{href:"https://hal.archives-ouvertes.fr/hal-01918020",target:"_blank"},"hal-01918020"),(0,o.eW)(") ")])],-1)),t[6]||(t[6]=(0,o.Lk)("h6",{class:"text-overline mt-6 mb-2"},"Disclaimer",-1)),t[7]||(t[7]=(0,o.Lk)("div",{class:"text-caption"},[(0,o.Lk)("ul",null,[(0,o.Lk)("li",null," The authors and publisher of the software cannot be held liable for the consequences resulting from the use of MyChoice. Information entered is the user's responsibility and affects the final result. "),(0,o.Lk)("li",null," Users agree to cite the tool in any communication and not use contributor branding without explicit consent. ")])],-1))]})),_:1})]})),_:1}),(0,o.bF)(d,{lg:"4",py:"0",class:"d-none d-lg-flex"},{default:(0,o.k6)((function(){return[(0,o.bF)(s,{elevation:"0"},{default:(0,o.k6)((function(){return[(0,o.bF)(y,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d,{cols:"12",class:"d-flex justify-center mb-4"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{onClick:e.handleLoadFile,"prepend-icon":"mdi-upload"},{default:(0,o.k6)((function(){return t[8]||(t[8]=[(0,o.eW)(" Open local project ")])})),_:1},8,["onClick"])]})),_:1}),(0,o.bF)(d,{cols:"12",class:"d-flex justify-center mb-4"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{onClick:t[0]||(t[0]=function(t){return e.state.openDialog=!0}),"prepend-icon":"mdi-cloud-upload"},{default:(0,o.k6)((function(){return t[9]||(t[9]=[(0,o.eW)(" Open online project ")])})),_:1})]})),_:1}),(0,o.bF)(d,{cols:"12"},{default:(0,o.k6)((function(){return[(0,o.bF)(p,null,{default:(0,o.k6)((function(){return t[10]||(t[10]=[(0,o.eW)("Recent projects")])})),_:1}),(0,o.bF)(k,{flat:""},{default:(0,o.k6)((function(){return[e.recentProjects.length?((0,o.uX)(),(0,o.Wv)(g,{key:1,density:"compact"},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.recentProjects,(function(r,n){return(0,o.uX)(),(0,o.Wv)(b,{key:"home-recent-"+n,to:e.getHrefFromTypeId({type:r.type,id:r.id})},{append:(0,o.k6)((function(){return["googlespreadsheet"===r.type?((0,o.uX)(),(0,o.Wv)(h,{key:0},{default:(0,o.k6)((function(){return t[12]||(t[12]=[(0,o.eW)("mdi-google-spreadsheet")])})),_:1})):(0,o.Q3)("",!0),(0,o.bF)(f,{icon:"mdi-close",variant:"text",size:"small",onClick:(0,i.D$)((function(t){return e.removeFromRecentProjects(r.type,{id:r.id})}),["stop","prevent"])},null,8,["onClick"])]})),default:(0,o.k6)((function(){return[(0,o.bF)(m,null,{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(r.name||r.id),1)]})),_:2},1024)]})),_:2},1032,["to"])})),128))]})),_:1})):((0,o.uX)(),(0,o.Wv)(v,{key:0,class:"text-grey"},{default:(0,o.k6)((function(){return t[11]||(t[11]=[(0,o.eW)("No recent projects")])})),_:1}))]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]),(0,o.Lk)("footer",ue,[(0,o.bF)(x)])])}var se={class:"text-caption text-grey"};function de(e,t,r,n,a,i){return(0,o.uX)(),(0,o.CE)("small",se,"v"+(0,l.v_)(e.version),1)}var fe={data:function(){return{version:"0.0.1-natclinn"}}};const pe=(0,$.A)(fe,[["render",de]]);var ve=pe,me=(0,o.pM)({components:{Version:ve},setup:function(){return{state:v,recentProjects:ul,getHrefFromTypeId:jl,removeFromRecentProjects:vl,handleLoadFile:Hu}}});const he=(0,$.A)(me,[["render",ce]]);var be=he,ge={key:0,class:"view-container"},ke={class:"header-section"},ye={class:"tablelist-section"},xe={class:"compare-container elevation-3"},Ae={class:"close-btn-container"};function Ce(e,t,r,n,a,l){var u=(0,o.g2)("Header"),c=(0,o.g2)("v-container"),s=(0,o.g2)("TableList"),d=(0,o.g2)("v-card"),f=(0,o.g2)("v-icon"),p=(0,o.g2)("v-badge"),v=(0,o.g2)("v-btn"),m=(0,o.g2)("SupersetCard"),h=(0,o.g2)("v-dialog"),b=(0,o.g2)("v-expand-transition");return e.state.project&&e.state.data?((0,o.uX)(),(0,o.CE)("div",ge,[(0,o.Lk)("div",ke,[(0,o.bF)(c,{style:{"max-width":"1400px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(u)]})),_:1})]),(0,o.Lk)("div",ye,[(0,o.bF)(c,{class:"tablelist-container",fluid:"",style:{"max-width":"1600px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(d,{elevation:"0",rounded:"lg"},{default:(0,o.k6)((function(){var r;return[t[3]||(t[3]=(0,o.Lk)("div",{class:"tablelist-x-shadow"},null,-1)),t[4]||(t[4]=(0,o.Lk)("div",{class:"tablelist-y-shadow"},null,-1)),((0,o.uX)(),(0,o.Wv)(s,{key:null===(r=e.state.project)||void 0===r?void 0:r.name}))]})),_:1})]})),_:1})]),t[5]||(t[5]=(0,o.Lk)("div",{class:"bottom-padding"},null,-1)),(0,o.bF)(v,{onClick:t[0]||(t[0]=function(t){return e.state.compareDialog=!e.state.compareDialog}),color:"secondary",disabled:0===e.selectedSupersets.length,class:"floating-button",variant:"flat",elevation:"8"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{icon:"mdi-select-compare"}),e.selectedSupersets.length>0?((0,o.uX)(),(0,o.Wv)(p,{key:0,content:e.selectedSupersets.length,color:"black","text-color":"white",floating:"","offset-x":"-12","offset-y":"-12"},null,8,["content"])):(0,o.Q3)("",!0)]})),_:1},8,["disabled"]),(0,o.bF)(h,{"onClick:outside":t[1]||(t[1]=function(t){return e.state.selectedSuperset=""}),"model-value":e.state.selectedSuperset.length>0,"max-width":"480px"},{default:(0,o.k6)((function(){return[e.state.selectedSuperset.length?((0,o.uX)(),(0,o.Wv)(m,{key:0,superset:JSON.parse(e.state.selectedSuperset)},null,8,["superset"])):(0,o.Q3)("",!0)]})),_:1},8,["model-value"]),(0,o.bF)(b,null,{default:(0,o.k6)((function(){return[(0,o.bo)((0,o.Lk)("div",xe,[(0,o.bF)(d,{color:"grey-lighten-4",flat:""},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Ae,[(0,o.bF)(v,{onClick:t[2]||(t[2]=function(t){return e.state.compareDialog=!1}),size:"x-small",icon:"",color:"secondary"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{icon:"mdi-close"})]})),_:1})]),(0,o.bF)(c,{class:"supersets-container",fluid:""},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.selectedSupersets,(function(t){return(0,o.uX)(),(0,o.CE)("div",{class:"card-compare",key:t+e.state.mode},[(0,o.bF)(m,{compare:!0,cols:4,superset:JSON.parse(t)},null,8,["superset"])])})),128))]})),_:1})]})),_:1})],512),[[i.aG,e.state.compareDialog&&e.selectedSupersets.length]])]})),_:1})])):(0,o.Q3)("",!0)}var we=r(9258),Ee=(r(8706),r(2062),r(1701),r(2543)),Fe={class:"me-2 d-flex align-center"},_e=(0,o.pM)({__name:"Header",props:{chartSelectedChart:{}},setup:function(e){var t=e,r=(0,s.rd)(),i=function(e){return r.currentRoute.value.name===e};v.chartFilters||(v.chartFilters={selectedAlternative:"all-merged",analysisPer:"criteria",selectedCriterion:""});var l=(0,o.EW)({get:function(){var e;return(null===(e=v.chartFilters)||void 0===e?void 0:e.selectedAlternative)||"all-merged"},set:function(e){v.chartFilters&&(v.chartFilters.selectedAlternative=e)}}),u=(0,o.EW)({get:function(){var e;return(null===(e=v.chartFilters)||void 0===e?void 0:e.analysisPer)||"criteria"},set:function(e){v.chartFilters&&(v.chartFilters.analysisPer=e)}}),d=(0,o.EW)({get:function(){var e;return(null===(e=v.chartFilters)||void 0===e?void 0:e.selectedCriterion)||""},set:function(e){v.chartFilters&&(v.chartFilters.selectedCriterion=e)}}),f=(0,o.EW)((function(){var e,t=(null===(e=v.project)||void 0===e||null===(e=e.alternatives)||void 0===e?void 0:e.map((function(e){return{title:e.name,value:e.name}})))||[];return[].concat((0,we.A)(t),[{title:"All alternatives (merged)",value:"all-merged"},{title:"All alternatives (separated)",value:"all-separated"}])})),p=[{title:"Criteria",value:"criteria"},{title:"Stakeholder",value:"stakeholder"}],m=function(){v.searchInput=""},h=(0,Ee.debounce)((function(e){v.searchInput=e}),200),b=(0,o.EW)((function(){return Nu()})),g=(0,o.EW)((function(){return Vi(Ru(),"text")})),k=(0,o.EW)((function(){return Vi(Mu(),"text")})),y=(0,o.EW)((function(){return Vi(Du(),"text")})),x=(0,o.EW)((function(){return i("chart-view")&&"argument-count"===t.chartSelectedChart}));return(0,o.wB)((function(){return v.mode}),(0,a.A)((0,n.A)().mark((function e(){var t,a,i;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=r.currentRoute.value,!_l(a)){e.next=5;break}return e.next=4,Xl(a,!1);case 4:return e.abrupt("return");case 5:if(i={},v.spreadsheet?i[mi.GOOGLE_SPREADSHEET]=v.spreadsheet:null!==(t=v.project)&&void 0!==t&&t.name&&(i[mi.ICO]=v.project.name),0!==Object.keys(i).length){e.next=11;break}return e.next=10,Xl(a,!1);case 10:return e.abrupt("return");case 11:return e.next=13,Xl((0,W.A)((0,W.A)({},a),{},{query:(0,W.A)((0,W.A)({},a.query),i)}),!1);case 13:case"end":return e.stop()}}),e)})))),function(e,t){var r=(0,o.g2)("v-icon"),n=(0,o.g2)("v-btn"),a=(0,o.g2)("v-list-item-title"),s=(0,o.g2)("v-list-item"),A=(0,o.g2)("v-list"),C=(0,o.g2)("v-menu"),w=(0,o.g2)("v-tooltip"),F=(0,o.g2)("v-select"),_=(0,o.g2)("v-toolbar"),L=(0,o.g2)("v-col"),S=(0,o.g2)("v-autocomplete"),I=(0,o.g2)("v-row"),O=(0,o.g2)("v-text-field");return(0,o.uX)(),(0,o.Wv)(I,{class:"table-filters"},{default:(0,o.k6)((function(){return[(0,o.bF)(L,{class:"flex-grow-0",style:{"align-self":"center"}},{default:(0,o.k6)((function(){return[(0,o.bF)(_,{color:"transparent",density:"comfortable",class:"pr-2 toolbar-filters"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Fe,[(0,o.bF)(w,{text:"Global view",location:"top"},{activator:(0,o.k6)((function(e){var l=e.props;return[(0,o.bF)(C,{location:"bottom"},{activator:(0,o.k6)((function(e){var a=e.props;return[(0,o.bF)(n,(0,o.v6)({icon:"",class:"toolbar-icon-btn"},(0,W.A)((0,W.A)({},l),a),{variant:i("global-view")?"flat":"text",onClick:t[0]||(t[0]=function(e){return(0,c.R1)(ki)("global-view")})}),{default:(0,o.k6)((function(){return[(0,o.bF)(r,{icon:"mdi-table",color:i("global-view")?"primary":"grey"},null,8,["color"]),(0,o.bF)(r,{icon:"mdi-chevron-down",color:i("global-view")?"primary":"grey"},null,8,["color"])]})),_:2},1040,["variant"])]})),default:(0,o.k6)((function(){return[(0,o.bF)(A,null,{default:(0,o.k6)((function(){return[(0,c.R1)(E)?((0,o.uX)(),(0,o.Wv)(s,{key:1,onClick:t[2]||(t[2]=function(e){return(0,c.R1)(v).globalCardType="label"})},{default:(0,o.k6)((function(){return[(0,o.bF)(a,null,{default:(0,o.k6)((function(){return t[14]||(t[14]=[(0,o.eW)("By Label")])})),_:1})]})),_:1})):((0,o.uX)(),(0,o.Wv)(s,{key:0,onClick:t[1]||(t[1]=function(e){return(0,c.R1)(v).globalCardType="stakeholder"})},{default:(0,o.k6)((function(){return[(0,o.bF)(a,null,{default:(0,o.k6)((function(){return t[13]||(t[13]=[(0,o.eW)("By Stakeholder")])})),_:1})]})),_:1}))]})),_:1})]})),_:2},1024)]})),_:1}),(0,o.bF)(w,{text:"Stakeholder view",location:"top"},{activator:(0,o.k6)((function(e){var a=e.props;return[(0,o.bF)(n,(0,o.v6)({icon:"",class:"toolbar-icon-btn"},a,{variant:i("stakeholder-view")?"flat":"text",onClick:t[3]||(t[3]=function(e){return(0,c.R1)(ki)("stakeholder-view")})}),{default:(0,o.k6)((function(){return[(0,o.bF)(r,{icon:"mdi-account-multiple",color:i("stakeholder-view")?"primary":"grey"},null,8,["color"])]})),_:2},1040,["variant"])]})),_:1}),(0,o.bF)(w,{text:"Property view",location:"top"},{activator:(0,o.k6)((function(e){var a=e.props;return[(0,o.bF)(n,(0,o.v6)({icon:"",class:"toolbar-icon-btn"},a,{variant:i("property-view")?"flat":"text",onClick:t[4]||(t[4]=function(e){return(0,c.R1)(ki)("property-view")})}),{default:(0,o.k6)((function(){return[(0,o.bF)(r,{icon:"mdi-format-list-bulleted",color:i("property-view")?"primary":"grey"},null,8,["color"])]})),_:2},1040,["variant"])]})),_:1}),(0,o.bF)(w,{text:"Chart view",location:"top"},{activator:(0,o.k6)((function(e){var a=e.props;return[(0,o.bF)(n,(0,o.v6)({icon:"",class:"toolbar-icon-btn"},a,{variant:i("chart-view")?"flat":"text",onClick:t[5]||(t[5]=function(e){return(0,c.R1)(ki)("chart-view")})}),{default:(0,o.k6)((function(){return[(0,o.bF)(r,{icon:"mdi-chart-bar",color:i("chart-view")?"primary":"grey"},null,8,["color"])]})),_:2},1040,["variant"])]})),_:1})]),(0,o.bF)(F,{items:b.value,"item-title":"text","item-value":"value",modelValue:(0,c.R1)(v).mode,"onUpdate:modelValue":t[6]||(t[6]=function(e){return(0,c.R1)(v).mode=e}),label:"Select mode","hide-details":"",class:"ml-6 flex-grow-1 toolbar-select",color:"secondary",variant:"outlined",density:"comfortable",style:{"min-width":"200px"}},null,8,["items","modelValue"])]})),_:1})]})),_:1}),i("chart-view")?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(L,{key:0,class:"px-6"},{default:(0,o.k6)((function(){return[(0,o.bF)(I,null,{default:(0,o.k6)((function(){return[(0,o.bF)(L,null,{default:(0,o.k6)((function(){return[(0,o.bF)(S,{clearable:"","item-color":"secondary",color:"secondary",label:"Stakeholders",modelValue:(0,c.R1)(v).selectedStakeholders,"onUpdate:modelValue":t[7]||(t[7]=function(e){return(0,c.R1)(v).selectedStakeholders=e}),items:g.value,"item-title":"text",multiple:"",hint:"".concat((0,c.R1)(v).selectedStakeholders.length,"/").concat((0,c.R1)(Ru).length),"persistent-hint":"",autocomplete:"off",id:"selected-stakeholders",density:"comfortable"},null,8,["modelValue","items","hint"])]})),_:1}),(0,o.bF)(L,null,{default:(0,o.k6)((function(){return[(0,o.bF)(S,{clearable:"","item-color":"secondary",color:"secondary",label:"Criteria",modelValue:(0,c.R1)(v).selectedCriterions,"onUpdate:modelValue":t[8]||(t[8]=function(e){return(0,c.R1)(v).selectedCriterions=e}),items:k.value,"item-title":"text",multiple:"",hint:"".concat((0,c.R1)(v).selectedCriterions.length,"/").concat((0,c.R1)(Mu).length),"persistent-hint":"",autocomplete:"off",id:"selected-criteria",density:"comfortable"},null,8,["modelValue","items","hint"])]})),_:1}),(0,o.bF)(L,null,{default:(0,o.k6)((function(){return[(0,o.bF)(S,{clearable:"","item-color":"secondary",color:"secondary",label:"Aims",modelValue:(0,c.R1)(v).selectedAims,"onUpdate:modelValue":t[9]||(t[9]=function(e){return(0,c.R1)(v).selectedAims=e}),items:y.value,"item-title":"text",multiple:"",hint:"".concat((0,c.R1)(v).selectedAims.length,"/").concat((0,c.R1)(Du).length),"persistent-hint":"",autocomplete:"off",id:"selected-aims",density:"comfortable"},null,8,["modelValue","items","hint"])]})),_:1})]})),_:1})]})),_:1})),i("chart-view")?((0,o.uX)(),(0,o.Wv)(L,{key:1,class:"px-6"},{default:(0,o.k6)((function(){return[(0,o.bF)(I,null,{default:(0,o.k6)((function(){return[(0,o.bF)(L,{cols:"12",md:"4"},{default:(0,o.k6)((function(){return[(0,o.bF)(F,{"item-color":"secondary",color:"secondary",label:"Alternative",modelValue:l.value,"onUpdate:modelValue":t[10]||(t[10]=function(e){return l.value=e}),items:f.value,density:"comfortable",variant:"outlined"},null,8,["modelValue","items"])]})),_:1}),(0,o.bF)(L,{cols:"12",md:"4"},{default:(0,o.k6)((function(){return[(0,o.bF)(F,{"item-color":"secondary",color:"secondary",label:"Analysis per",modelValue:u.value,"onUpdate:modelValue":t[11]||(t[11]=function(e){return u.value=e}),items:p,density:"comfortable",variant:"outlined"},null,8,["modelValue"])]})),_:1}),(0,o.bF)(L,{cols:"12",md:"4"},{default:(0,o.k6)((function(){return[(0,o.bF)(F,{"item-color":"secondary",color:"secondary",label:"All criteria",modelValue:d.value,"onUpdate:modelValue":t[12]||(t[12]=function(e){return d.value=e}),items:k.value,"item-title":"text","item-value":"value",clearable:"",density:"comfortable",variant:"outlined",disabled:x.value},null,8,["modelValue","items","disabled"])]})),_:1})]})),_:1})]})),_:1})):(0,o.Q3)("",!0),i("chart-view")?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(L,{key:2,class:"flex-grow-0",style:{"min-width":"200px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(O,{color:"secondary",label:"Search","model-value":(0,c.R1)(v).searchInput,"onUpdate:modelValue":(0,c.R1)(h),clearable:"",density:"comfortable"},{"append-inner":(0,o.k6)((function(){return[(0,o.bF)(r,{icon:"mdi-magnify",class:"cursor-pointer",onClick:m})]})),_:1},8,["model-value","onUpdate:modelValue"])]})),_:1}))]})),_:1})}}});const Le=(0,$.A)(_e,[["__scopeId","data-v-2eee6bb6"]]);var Se=Le,Ie={class:"table-wrapper"},Oe={class:"custom-table"},We={key:0,style:{height:"100%"},class:"text-center"},je=["colspan"],Xe={class:"text-grey"};function Pe(e,t,r,n,a,l){var u=(0,o.g2)("TableListHead"),c=(0,o.g2)("TableListCriterion"),s=(0,o.g2)("TableListAim"),d=(0,o.g2)("TableListAlternative"),f=(0,o.g2)("v-btn"),p=(0,o.g2)("TableListFoot"),v=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(v,{fluid:"",class:"pa-0 fill-height d-flex flex-column"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Ie,[(0,o.Lk)("table",Oe,[(0,o.Lk)("thead",null,[(0,o.bF)(u)]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_criterionsIds,(function(t){return(0,o.uX)(),(0,o.CE)(o.FK,{key:"criterion-block-".concat(t)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.getAimsBy("criterion",t),(function(r,n){return(0,o.uX)(),(0,o.CE)("tr",{key:"aim-".concat(t,"-").concat(r.id)},[0===n?(0,o.bo)(((0,o.uX)(),(0,o.Wv)(c,{key:0,aim:r,criterionId:t},null,8,["aim","criterionId"])),[[i.aG,e.getFilteredCriterions.includes(t)]]):(0,o.Q3)("",!0),(0,o.bo)((0,o.bF)(s,{aim:r},null,8,["aim"]),[[i.aG,e.getFilteredAims.includes(r.id)]]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.alternativesIds,(function(n){return(0,o.uX)(),(0,o.CE)(o.FK,{key:"alternative-block-".concat(n)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.subOptionsIds,(function(a){return(0,o.bo)(((0,o.uX)(),(0,o.Wv)(d,{key:"alternative-".concat(n,"-").concat(a),aim:r,criterionId:t,alternativeId:n,subOptionId:a,alternativesIds:e.alternativesIds,subOptionsIds:e.subOptionsIds},null,8,["aim","criterionId","alternativeId","subOptionId","alternativesIds","subOptionsIds"])),[[i.aG,e.getFilteredAims.includes(r.id)]])})),128))],64)})),128))])})),128))],64)})),128)),e.getFilteredItems.length?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("tr",We,[(0,o.Lk)("td",{class:"pt-10",colspan:5+e.alternativesIds.length},[(0,o.Lk)("b",Xe,[t[1]||(t[1]=(0,o.eW)(" No results. ")),t[2]||(t[2]=(0,o.Lk)("br",null,null,-1)),t[3]||(t[3]=(0,o.Lk)("br",null,null,-1)),(0,o.bF)(f,{size:"small",color:"secondary",onClick:e.clearAppFilters},{default:(0,o.k6)((function(){return t[0]||(t[0]=[(0,o.eW)("clear filters")])})),_:1},8,["onClick"])])],8,je)]))]),(0,o.Lk)("tfoot",null,[(0,o.bF)(p)])])])]})),_:1})}var Te={class:"text-uppercase"},Re=["colspan","onClick"],De={class:"alternative-name"};function Me(e,t,r,n,a,i){var u,c,s=(0,o.g2)("v-icon"),d=(0,o.g2)("ProductDetailsDialog");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("tr",Te,[t[1]||(t[1]=(0,o.Lk)("th",{class:"criterion"},"Criterion",-1)),t[2]||(t[2]=(0,o.Lk)("th",{class:"aim"},"Aim",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.alternativesIds,(function(t){var r,n;return(0,o.uX)(),(0,o.CE)("th",{key:"alternative-".concat(t),colspan:e.subOptionsIds.length,class:"alternative",onClick:function(r){return e.openProductDialog(t)},style:(0,l.Tr)([{cursor:"pointer",position:"relative"},{backgroundColor:e.selectedAlternativeId===t?"#e3f2fd":"transparent"}])},[null!==(r=e.state.data)&&void 0!==r&&null!==(r=r.alternatives)&&void 0!==r&&null!==(r=r[t])&&void 0!==r&&r.icon?((0,o.uX)(),(0,o.Wv)(s,{key:0,class:"mr-2"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.state.data.alternatives[t].icon),1)]})),_:2},1024)):(0,o.Q3)("",!0),(0,o.Lk)("span",De,(0,l.v_)((null===(n=e.getAlternatives[t])||void 0===n?void 0:n.name)||"Unnamed"),1),e.hasProductInfo(t)?((0,o.uX)(),(0,o.Wv)(s,{key:1,size:"x-small",class:"ml-2 text-info"})):(0,o.Q3)("",!0)],12,Re)})),128))]),(0,o.bF)(d,{modelValue:e.showProductDialog,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.showProductDialog=t}),alternative:e.selectedAlternative,products:(null===(u=e.state.project)||void 0===u?void 0:u.products)||[],compositions:(null===(c=e.state.project)||void 0===c?void 0:c.compositions)||[]},null,8,["modelValue","alternative","products","compositions"])],64)}var Ne={class:"d-flex",style:{background:"rgba(0,0,0,.7)",position:"relative"}},He={class:"mr-auto zi-front"},Be={class:"subtitle-2 text-white text-uppercase"},Ve={class:"mx-4 my-4 zi-front"},qe={class:"d-flex align-start mb-2"},Ue={class:"flex-grow-1"},ze={class:"title text-primary"},Ge={class:"text-caption text-grey-darken-1"},Ke={key:0,class:"mt-2"},Qe={class:"mb-4 d-flex align-center"},Ye={class:"d-flex",style:{background:"rgba(0,0,0,.7)",position:"relative"}},$e={class:"mr-auto zi-front"},Je={class:"subtitle-2 text-white text-uppercase"},Ze={class:"mx-4 my-4 zi-front"};function et(e,t,r,n,a,i){var u=(0,o.g2)("v-icon"),c=(0,o.g2)("v-divider"),s=(0,o.g2)("v-chip"),d=(0,o.g2)("v-btn"),f=(0,o.g2)("CompositionTree"),p=(0,o.g2)("v-card-text"),v=(0,o.g2)("v-card"),m=(0,o.g2)("v-alert"),h=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.Wv)(h,{modelValue:e.isOpen,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.isOpen=t}),"max-width":"600px"},{default:(0,o.k6)((function(){return[e.alternative&&e.relatedProducts.length>0?((0,o.uX)(),(0,o.Wv)(v,{key:0,class:"superset-card"},{actions:(0,o.k6)((function(){return[(0,o.bF)(d,{class:"ml-auto",onClick:e.closeDialog,variant:"text",icon:"mdi-close"},null,8,["onClick"])]})),default:(0,o.k6)((function(){return[(0,o.Lk)("div",Ne,[(0,o.Lk)("div",{class:"card-background",style:(0,l.Tr)("background-image: url(".concat(e.getImagePath(e.alternative.image),"); background-size: cover;"))},null,4),(0,o.Lk)("div",He,[(0,o.Lk)("div",Be,(0,l.v_)(e.alternative.name),1),t[2]||(t[2]=(0,o.Lk)("div",{class:"font-weight-light text-white text-caption"}," Product Details ",-1))]),(0,o.Lk)("div",Ve,[e.alternative.icon?((0,o.uX)(),(0,o.Wv)(u,{key:0,style:{color:"white"}},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.alternative.icon),1)]})),_:1})):(0,o.Q3)("",!0)])]),(0,o.bF)(c,{class:"my-1"}),(0,o.bF)(p,null,{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.relatedProducts,(function(r){return(0,o.uX)(),(0,o.CE)("div",{key:r.productUri,class:"mb-5 no-mb-last"},[(0,o.Lk)("div",qe,[(0,o.Lk)("div",Ue,[(0,o.Lk)("div",ze,[(0,o.Lk)("b",null,(0,l.v_)(r.nameProduct),1)]),(0,o.Lk)("div",Ge,(0,l.v_)(e.truncateUri(r.productUri)),1),r.tagProduct&&r.tagProduct.length>0?((0,o.uX)(),(0,o.CE)("div",Ke,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.getDisplayedTags(r),(function(e){return(0,o.uX)(),(0,o.Wv)(s,{key:e,size:"x-small",variant:"outlined",color:"primary",class:"mr-1 mb-1"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e),1)]})),_:2},1024)})),128)),r.tagProduct.length>5?((0,o.uX)(),(0,o.Wv)(s,{key:0,size:"x-small",variant:"outlined",color:e.expandedProductTags[r.productUri]?"grey":"secondary",class:"mr-1 mb-1",onClick:function(t){return e.toggleProductTags(r.productUri)},style:{cursor:"pointer"}},{default:(0,o.k6)((function(){return[e.expandedProductTags[r.productUri]?((0,o.uX)(),(0,o.Wv)(u,{key:0,icon:"mdi-chevron-up",size:"x-small",class:"mr-1"})):((0,o.uX)(),(0,o.Wv)(u,{key:1,icon:"mdi-chevron-down",size:"x-small",class:"mr-1"})),(0,o.eW)(" "+(0,l.v_)(e.expandedProductTags[r.productUri]?"Show less":"+".concat(r.tagProduct.length-5," more")),1)]})),_:2},1032,["color","onClick"])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",Qe,[(0,o.bF)(d,{size:"small",variant:"outlined",color:"primary",onClick:t[0]||(t[0]=function(t){return e.showAllComponents=!e.showAllComponents}),"prepend-icon":e.showAllComponents?"mdi-eye":"mdi-eye-off"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.showAllComponents?"All Components":"Tagged Only"),1)]})),_:1},8,["prepend-icon"])]),(0,o.bF)(f,{uri:r.productUri,compositions:e.compositions,showAll:e.showAllComponents,level:0},null,8,["uri","compositions","showAll"])])})),128))]})),_:1}),(0,o.bF)(c)]})),_:1})):e.alternative?((0,o.uX)(),(0,o.Wv)(v,{key:1,class:"superset-card"},{actions:(0,o.k6)((function(){return[(0,o.bF)(d,{class:"ml-auto",color:"secondary",onClick:e.closeDialog,variant:"text"},{default:(0,o.k6)((function(){return[(0,o.bF)(u,null,{default:(0,o.k6)((function(){return t[5]||(t[5]=[(0,o.eW)("mdi-close")])})),_:1})]})),_:1},8,["onClick"])]})),default:(0,o.k6)((function(){return[(0,o.Lk)("div",Ye,[(0,o.Lk)("div",{class:"card-background",style:(0,l.Tr)("background-image: url(".concat(e.getImagePath(e.alternative.image),"); background-size: cover;"))},null,4),(0,o.Lk)("div",$e,[(0,o.Lk)("div",Je,(0,l.v_)(e.alternative.name),1),t[3]||(t[3]=(0,o.Lk)("div",{class:"font-weight-light text-white text-caption"}," Product Details ",-1))]),(0,o.Lk)("div",Ze,[e.alternative.icon?((0,o.uX)(),(0,o.Wv)(u,{key:0,style:{color:"white"}},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.alternative.icon),1)]})),_:1})):(0,o.Q3)("",!0)])]),(0,o.bF)(c,{class:"my-1"}),(0,o.bF)(p,null,{default:(0,o.k6)((function(){return[(0,o.bF)(m,{type:"info",variant:"outlined"},{default:(0,o.k6)((function(){return t[4]||(t[4]=[(0,o.eW)(" No product information available for this scenario. ")])})),_:1})]})),_:1}),(0,o.bF)(c)]})),_:1})):(0,o.Q3)("",!0)]})),_:1},8,["modelValue"])}r(3418),r(4782),r(6910),r(6033),r(7764),r(2953);var tt={class:"d-flex align-start pl-3 py-2 bg-grey-lighten-4 rounded"},rt={class:"mr-2 text-caption text-grey"},nt={class:"flex-grow-1"},at={class:"d-flex align-center"},it={class:"text-body-2"},ot={key:0,class:"mt-1"},lt={key:0,class:"ml-4 mt-1"};function ut(e,t,r,n,a,i){var u=(0,o.g2)("v-icon"),c=(0,o.g2)("v-chip"),s=(0,o.g2)("CompositionTree",!0);return e.filteredCompositions.length>0?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,l.C4)(["composition-level","level-".concat(e.level)])},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.filteredCompositions,(function(t){return(0,o.uX)(),(0,o.CE)("div",{key:t.uriComposant,class:"composition-item mb-2"},[(0,o.Lk)("div",tt,[(0,o.Lk)("div",rt,(0,l.v_)(t.rang)+".",1),(0,o.Lk)("div",nt,[(0,o.Lk)("div",at,[(0,o.bF)(u,{icon:"Product"===t.typeComposant?"mdi-package-variant":"mdi-food-variant",size:"x-small",color:"Product"===t.typeComposant?"orange":"green",class:"mr-1"},null,8,["icon","color"]),(0,o.Lk)("span",it,(0,l.v_)(t.nameComposant),1)]),t.tagComposant&&t.tagComposant.length>0?((0,o.uX)(),(0,o.CE)("div",ot,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.tagComposant.slice(0,3),(function(e){return(0,o.uX)(),(0,o.Wv)(c,{key:e,size:"x-small",variant:"outlined",color:"primary",class:"mr-1 mb-1"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e),1)]})),_:2},1024)})),128)),t.tagComposant.length>3?((0,o.uX)(),(0,o.Wv)(c,{key:0,size:"x-small",variant:"outlined",color:"grey",class:"mr-1 mb-1"},{default:(0,o.k6)((function(){return[(0,o.eW)(" +"+(0,l.v_)(t.tagComposant.length-3),1)]})),_:2},1024)):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)])]),e.hasSubComponents(t.uriComposant)?((0,o.uX)(),(0,o.CE)("div",lt,[(0,o.bF)(s,{uri:t.uriComposant,compositions:e.compositions,showAll:e.showAll,level:e.level+1},null,8,["uri","compositions","showAll","level"])])):(0,o.Q3)("",!0)])})),128))],2)):(0,o.Q3)("",!0)}var ct=r(3604),st=(r(8130),(0,o.pM)({name:"CompositionTree",props:{uri:{type:String,required:!0},compositions:{type:Array,required:!0},showAll:{type:Boolean,default:!0},level:{type:Number,default:0}},computed:{filteredCompositions:function(){var e=this,t=this.compositions.filter((function(t){return t.uriCompose===e.uri})).sort((function(e,t){return e.rang-t.rang}));return this.showAll?t:t.filter((function(t){return e.hasTagsInBranch(t.uriComposant)||t.tagComposant&&t.tagComposant.length>0}))}},methods:{hasSubComponents:function(e){return this.compositions.some((function(t){return t.uriCompose===e}))},hasTagsInBranch:function(e){var t,r=this.compositions.filter((function(t){return t.uriCompose===e})),n=(0,ct.A)(r);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.tagComposant&&a.tagComposant.length>0)return!0;if(this.hasTagsInBranch(a.uriComposant))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}}}));const dt=(0,$.A)(st,[["render",ut],["__scopeId","data-v-5b1825e0"]]);var ft=dt,pt=(0,o.pM)({name:"ProductDetailsDialog",components:{CompositionTree:ft},props:{modelValue:{type:Boolean,default:!1},alternative:{type:Object,default:null},products:{type:Array,default:function(){return[]}},compositions:{type:Array,default:function(){return[]}}},emits:["update:modelValue"],data:function(){return{showAllComponents:!0,expandedProductTags:{}}},setup:function(){return{getImagePath:y}},computed:{isOpen:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e)}},relatedProducts:function(){var e=this;if(!this.alternative)return[];var t=this.products.filter((function(t){var r;return t.nameAlternative===(null===(r=e.alternative)||void 0===r?void 0:r.name)})),r=Array.from(new Map(t.map((function(e){return[e.productUri,e]}))).values());return r}},methods:{getDisplayedTags:function(e){return this.expandedProductTags[e.productUri]?e.tagProduct:e.tagProduct.slice(0,5)},toggleProductTags:function(e){this.expandedProductTags[e]=!this.expandedProductTags[e],this.expandedProductTags=(0,W.A)({},this.expandedProductTags)},getCompositions:function(e){return this.compositions.filter((function(t){return t.uriCompose===e})).sort((function(e,t){return e.rang-t.rang}))},getFilteredCompositions:function(e){var t=this.getCompositions(e);return this.showAllComponents?t:t.filter((function(e){return e.tagComposant&&e.tagComposant.length>0}))},truncateUri:function(e){var t=50;return e.length>t?e.substring(0,t-3)+"...":e},closeDialog:function(){this.isOpen=!1}}});const vt=(0,$.A)(pt,[["render",et],["__scopeId","data-v-e028bf02"]]);var mt=vt,ht=(0,o.pM)({name:"TableListHead",components:{ProductDetailsDialog:mt},data:function(){return{showProductDialog:!1,selectedAlternativeId:null}},setup:function(){return{state:v,alternativesIds:(0,o.EW)((function(){return Rl()})),subOptionsIds:(0,o.EW)((function(){return mu()})),getAlternatives:(0,o.EW)((function(){return Pl()}))}},computed:{selectedAlternative:function(){return null===this.selectedAlternativeId?null:this.getAlternatives[this.selectedAlternativeId]||null}},methods:{openProductDialog:function(e){this.selectedAlternativeId=e,this.showProductDialog=!0},hasProductInfo:function(e){var t,r,n=null===(t=this.getAlternatives[e])||void 0===t?void 0:t.name;return!(!n||null===(r=this.state.project)||void 0===r||!r.products)&&this.state.project.products.some((function(e){return e.nameAlternative===n}))}}});const bt=(0,$.A)(ht,[["render",Me],["__scopeId","data-v-7ed3ce52"]]);var gt=bt,kt={tablelistfoot:""},yt={"criterion-aim":"",class:"text-right",colspan:"2"},xt={class:"text-grey",style:{"font-weight":"normal"}},At={style:{width:"90%"}},Ct={class:"text-left"},wt={class:"text-right"};function Et(e,t,r,n,a,i){var u=(0,o.g2)("v-container"),c=(0,o.g2)("v-icon"),s=(0,o.g2)("ScoreIcon");return(0,o.uX)(),(0,o.CE)("tr",kt,[(0,o.Lk)("th",yt,[(0,o.bF)(u,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("small",xt,[t[0]||(t[0]=(0,o.eW)(" Arguments: ")),(0,o.Lk)("b",null,(0,l.v_)(e.getFilteredItems.length)+"/"+(0,l.v_)(e.getAllItems.length),1)])]})),_:1})]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.alternativesIds,(function(r){return(0,o.uX)(),(0,o.CE)("th",{key:"subOption-".concat(r),alternative:"",colspan:2},[(0,o.Lk)("table",At,[(0,o.Lk)("tr",null,[(0,o.Lk)("td",Ct,[(0,o.bF)(c,{color:"green",title:e.pluralize("{count} {argument:count}",{count:e.getFilteredItemsBy({alternative:r,favorable:!0}).length})},{default:(0,o.k6)((function(){return t[1]||(t[1]=[(0,o.eW)(" mdi-emoticon-happy-outline ")])})),_:2},1032,["title"])]),(0,o.Lk)("td",null,[(0,o.eW)(" Attitude: "+(0,l.v_)(e.totalAcceptability[r])+" ",1),(0,o.bF)(s,{alternative:r,score:e.totalAcceptability[r]},null,8,["alternative","score"])]),(0,o.Lk)("td",wt,[(0,o.bF)(c,{color:"red",title:e.pluralize("{count} {argument:count}",{count:e.getFilteredItemsBy({alternative:r,favorable:!1}).length})},{default:(0,o.k6)((function(){return t[2]||(t[2]=[(0,o.eW)(" mdi-emoticon-sad-outline ")])})),_:2},1032,["title"])])])])])})),128))])}function Ft(e,t,r,n,a,i){var u=(0,o.g2)("v-icon"),c=(0,o.g2)("v-avatar"),s=(0,o.g2)("v-chip");return(0,o.uX)(),(0,o.CE)("span",null,[e.icon?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(u,{key:0,title:e.title,size:"x-small",color:e.getColorName(e.getAcceptabilityName(e.score))},{default:(0,o.k6)((function(){return t[0]||(t[0]=[(0,o.eW)("mdi-circle")])})),_:1},8,["title","color"])),e.icon?((0,o.uX)(),(0,o.Wv)(s,{key:1,variant:"outlined",size:"x-small",title:e.title,style:{padding:"0"},color:e.getColorName(e.getAcceptabilityName(e.score))},{default:(0,o.k6)((function(){return[(0,o.bF)(c,null,{default:(0,o.k6)((function(){return[e.state.data&&e.state.data.alternatives[e.alternative]?((0,o.uX)(),(0,o.Wv)(u,{key:0,size:"small",color:e.getColorName(e.getAcceptabilityName(e.score))},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.state.data.alternatives[e.alternative].icon),1)]})),_:1},8,["color"])):(0,o.Q3)("",!0)]})),_:1})]})),_:1},8,["title","color"])):(0,o.Q3)("",!0)])}var _t=(0,o.pM)({props:{score:{type:Number,default:null},title:{type:String,default:""},alternative:{type:Number,required:!0},icon:{type:Boolean,default:!1}},setup:function(e){return{state:v,getColorName:function(e){return"pro"===e?"green":"con"===e?"red":"mix"===e?"orange":"rgba(0,0,0,1)"},getAcceptabilityName:ju}}});const Lt=(0,$.A)(_t,[["render",Ft]]);var St=Lt,It=(0,o.pM)({setup:function(){return{state:v,getAcceptabilityFromAlternativeId:Xu,getFilteredItemsBy:uu,getWeightedAcceptability:Su,pluralize:Ui,totalAcceptability:(0,o.EW)((function(){return Su(au())})),alternativesIds:(0,o.EW)((function(){return Rl()})),subOptionsIds:(0,o.EW)((function(){return mu()})),getSubOptions:(0,o.EW)((function(){return vu()})),getFilteredItems:(0,o.EW)((function(){return au()})),getAllItems:(0,o.EW)((function(){return nu()}))}},components:{ScoreIcon:St}});const Ot=(0,$.A)(It,[["render",Et]]);var Wt=Ot,jt={aim:""},Xt={class:"d-flex flex-column justify-space-between text-break"},Pt={class:"d-flex"},Tt={class:"mt-1 d-flex flex-wrap flex-grow-1"};function Rt(e,t,r,n,a,i){var u=(0,o.g2)("Acceptability"),c=(0,o.g2)("ItemsCount");return(0,o.uX)(),(0,o.CE)("td",jt,[(0,o.Lk)("div",Xt,[(0,o.Lk)("div",Pt,(0,l.v_)(e.aim.name),1),(0,o.Lk)("div",Tt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_alternativesIds,(function(t,r){return(0,o.uX)(),(0,o.Wv)(u,{key:"aim-alternative-"+r+e.aimsItems[t],class:"mb-1 mr-1",icon:!0,alternative:t,items:e.aimsItems[t]},null,8,["alternative","items"])})),128))])]),(0,o.bF)(c,{count:e.totalItems},null,8,["count"])])}r(8237);function Dt(e,t,r,n,a,i){var u=(0,o.g2)("v-chip");return(0,o.uX)(),(0,o.Wv)(u,{variant:"outlined",size:"x-small",color:"default",title:"title"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.count),1)]})),_:1})}var Mt=(0,o.pM)({props:["count"],setup:function(e){return{title:(0,o.EW)((function(){return Ui("{count} {argument:count}",{count:e.count})}))}}});const Nt=(0,$.A)(Mt,[["render",Dt]]);var Ht=Nt,Bt=(0,o.pM)({__name:"Acceptability",props:{items:{},alternative:{},icon:{type:Boolean}},setup:function(e){var t=e,r=(0,o.EW)((function(){return Wu(t.items)})),n=(0,o.EW)((function(){return null!==r.value?"".concat(Ui("{count} {argument:count}",{count:t.items.length})," - ").concat(100*r.value,"% pro"):""}));return function(e,t){return(0,o.uX)(),(0,o.Wv)(St,{title:n.value,alternative:e.alternative,icon:e.icon,score:r.value},null,8,["title","alternative","icon","score"])}}});const Vt=Bt;var qt=Vt,Ut=(0,o.pM)({props:{aim:{type:Object}},setup:function(e){var t=(0,c.QW)(e),r=t.aim,n=(0,o.EW)((function(){var e={};return Dl.value.forEach((function(t){var n=uu({alternative:t,aim:r.value.id});e[t]=n})),e})),a=(0,o.EW)((function(){return Object.values(n.value).reduce((function(e,t){return e+t.length}),0)}));return{c_alternativesIds:Dl,aimsItems:n,totalItems:a,getFilteredItemsBy:uu}},components:{Acceptability:qt,ItemsCount:Ht}});const zt=(0,$.A)(Ut,[["render",Rt]]);var Gt=zt,Kt=["rowspan"],Qt={class:"d-flex flex-column justify-space-between text-break"},Yt={class:"mt-1 flex-grow-1 flex-wrap d-flex"};function $t(e,t,r,n,a,i){var u=(0,o.g2)("Acceptability"),c=(0,o.g2)("ItemsCount");return(0,o.uX)(),(0,o.CE)("td",{class:"criterion",rowspan:e.getAimsBy("criterion",e.criterionId).length},[(0,o.Lk)("div",Qt,[(0,o.Lk)("div",null,(0,l.v_)(e.c_criterions[e.aim.criterion].name),1),(0,o.Lk)("div",Yt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_alternativesIds,(function(t,r){return(0,o.uX)(),(0,o.Wv)(u,{key:"criterion-alternative-".concat(r,"-").concat(e.criterionItems[t]),class:"mb-1 mr-1",icon:!0,alternative:t,items:e.criterionItems[t]},null,8,["alternative","items"])})),128))])]),(0,o.bF)(c,{count:e.totalItems},null,8,["count"])],8,Kt)}var Jt=(0,o.pM)({name:"TableListCriterion",components:{Acceptability:qt,ItemsCount:Ht},props:{aim:{type:Object,required:!0},criterionId:{type:Number,required:!0}},setup:function(e){var t=(0,c.QW)(e),r=t.criterionId,n=(0,o.EW)((function(){var e={};return Dl.value.forEach((function(t){e[t]=uu({alternative:t,criterion:r.value})})),e})),a=(0,o.EW)((function(){return Object.values(n.value).reduce((function(e,t){return e+t.length}),0)}));return{c_criterions:$l,c_alternativesIds:Dl,getAimsBy:Ul,criterionItems:n,totalItems:a}}});const Zt=(0,$.A)(Jt,[["render",$t],["__scopeId","data-v-d4a07c98"]]);var er=Zt;function tr(e,t,r,n,a,i){var u=(0,o.g2)("TableListCard");return(0,o.uX)(),(0,o.CE)("td",{class:(0,l.C4)(e.getLabels().length?"":"is-empty"),key:"".concat(e.alternativeId,"-").concat(e.subOptionId)},[e.is1stLevelStakeholdersMode?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(e.getCardsByStakeholder(),(function(t,r){return(0,o.uX)(),(0,o.Wv)(u,{key:"superset-".concat(e.aim.id,"-stakeholder-").concat(r),superset:{criterion:e.criterionId,aim:e.aim.id,alternative:e.alternativeId,subOption:e.subOptionId,stakeholder:Number(r)}},null,8,["superset"])})),128)):((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.getLabels(),(function(t,r){return(0,o.uX)(),(0,o.Wv)(u,{key:"superset-".concat(t.property,"-").concat(t.value,"-").concat(r),superset:{criterion:e.criterionId,aim:e.aim.id,alternative:e.alternativeId,subOption:e.subOptionId,property:t.property,value:t.value}},null,8,["superset"])})),128))],2)}var rr={key:0},nr={key:1},ar={class:"d-flex"},ir={class:"card-compare-btn"},or={key:0,class:"ml-auto mr-2 mb-1 text-right",style:{"text-overflow":"ellipsis",display:"block",overflow:"hidden",width:"calc(100% - 4em)","white-space":"nowrap"}};function lr(e,t,r,n,a,u){var c=(0,o.g2)("Highlighter"),s=(0,o.g2)("v-chip"),d=(0,o.g2)("v-container"),f=(0,o.g2)("v-icon"),p=(0,o.g2)("v-btn"),v=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(v,{elevation:"1",onClick:t[2]||(t[2]=function(t){return e.toggleSuperset(e.superset)}),class:"text-center mb-3","max-width":"344"},{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){var t,r,n;return[(0,o.Lk)("div",null,[e.is1stLevelStakeholdersMode?((0,o.uX)(),(0,o.CE)("b",rr,[(0,o.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:null!==(t=e.getStakeholderName(e.superset.stakeholder))&&void 0!==t?t:""},null,8,["searchWords","textToHighlight"])])):((0,o.uX)(),(0,o.CE)("b",nr,[(0,o.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:null!==(r=e.superset.property)&&void 0!==r?r:""},null,8,["searchWords","textToHighlight"])]))]),(0,o.Lk)("div",{class:(0,l.C4)([1===e.superset.subOption?"text-success":"text-error"])},[(0,o.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:null!==(n=e.superset.value)&&void 0!==n?n:""},null,8,["searchWords","textToHighlight"])],2),(0,o.bF)(s,{variant:"outlined",size:"x-small",color:"default"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.items.length),1)]})),_:1})]})),_:1}),(0,o.Lk)("div",ar,[(0,o.Lk)("div",ir,[e.findSuperset(e.superset)?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(p,{key:0,onClick:t[0]||(t[0]=(0,i.D$)((function(t){return e.addSupersetInSelection(e.superset)}),["stop"])),variant:"text",icon:"",size:"small"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{size:"x-small"},{default:(0,o.k6)((function(){return t[3]||(t[3]=[(0,o.eW)("mdi-plus-circle-outline")])})),_:1})]})),_:1})),e.findSuperset(e.superset)?((0,o.uX)(),(0,o.Wv)(p,{key:1,onClick:t[1]||(t[1]=(0,i.D$)((function(t){return e.removeSupersetInSelection(e.superset)}),["stop"])),variant:"text",icon:"",size:"small",color:"secondary"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{size:"x-small"},{default:(0,o.k6)((function(){return t[4]||(t[4]=[(0,o.eW)("mdi-plus-circle")])})),_:1})]})),_:1})):(0,o.Q3)("",!0)]),e.condition?((0,o.uX)(),(0,o.CE)("small",or,(0,l.v_)(e.condition),1)):(0,o.Q3)("",!0)])]})),_:1})}var ur=(0,o.pM)({setup:function(){return{state:v,addSupersetInSelection:Eu,removeSupersetInSelection:Fu,getItemsBy:ou,toggleSuperset:wu,findSuperset:_u,getStakeholderName:ku,is1stLevelStakeholdersMode:E}},computed:{items:function(){return E.value?ou({stakeholder:this.superset.stakeholder,alternative:this.superset.alternative,subOption:this.superset.subOption,aim:this.superset.aim,criterion:this.superset.criterion}):ou({property:this.superset.property,value:this.superset.value,alternative:this.superset.alternative,subOption:this.superset.subOption,aim:this.superset.aim,criterion:this.superset.criterion})},condition:function(){return this.items.reduce((function(e,t){return t.condition?e.length?e+", "+t.condition:e+t.condition:e}),"")}},props:["superset","label"]});const cr=(0,$.A)(ur,[["render",lr]]);var sr=cr,dr=(0,o.pM)({setup:function(){return{is1stLevelStakeholdersMode:E}},components:{TableListCard:sr},methods:{getLabels:function(){return(0,Ee.sortBy)(Tu({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId}),"property")},getItems:function(){return uu({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId})},getCardsByStakeholder:function(){return pu({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId},"stakeholder")}},props:["alternativeId","subOptionId","aim","criterionId"]});const fr=(0,$.A)(dr,[["render",tr]]);var pr=fr,vr=(0,o.pM)({name:"TableList",components:{TableListCriterion:er,TableListHead:gt,TableListFoot:Wt,TableListAlternative:pr,TableListAim:Gt},setup:function(){var e=(0,o.EW)((function(){return ru()})),t=(0,o.EW)((function(){return au()})),r=(0,o.EW)((function(){return Gl()})),n=(0,o.EW)((function(){return Rl()})),a=(0,o.EW)((function(){return mu()})),i=(0,o.EW)((function(){return Jl()})),l=(0,o.EW)((function(){return Bl()}));return{state:v,sortBy:Ee.sortBy,getAimsBy:Ul,clearAppFilters:k,c_criterionsIds:Zl,getFilteredCriterions:e,getFilteredItems:t,getFilteredAims:r,alternativesIds:n,subOptionsIds:a,criterionsIds:i,aimsIds:l,getAlternatives:(0,o.EW)((function(){return Pl()})),getSubOptions:(0,o.EW)((function(){return vu()}))}}});const mr=(0,$.A)(vr,[["render",Pe],["__scopeId","data-v-22edaf68"]]);var hr=mr,br={class:"d-flex",style:{background:"rgba(0,0,0,.7)",position:"relative"}},gr={class:"mr-auto zi-front"},kr={class:"subtitle-2 text-white text-uppercase"},yr={class:"font-weight-light text-white text-caption"},xr={class:"mx-4 my-4 zi-front"},Ar={class:"mt-0 mb-3 d-flex"},Cr={class:"mr-auto"},wr={style:{"margin-bottom":"-.33em"},class:"title d-flex text-primary"},Er={key:0};function Fr(e,t,r,n,a,i){var u=(0,o.g2)("v-icon"),c=(0,o.g2)("v-card-text"),s=(0,o.g2)("v-divider"),d=(0,o.g2)("v-list-subheader"),f=(0,o.g2)("SupersetCardItem"),p=(0,o.g2)("v-btn"),v=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(v,{class:"superset-card"},{actions:(0,o.k6)((function(){return[e.findSuperset(e.superset)||e.compare?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(p,{key:0,onClick:t[0]||(t[0]=function(t){return e.addSupersetInSelection(e.superset)}),class:"mr-auto",variant:"text",icon:"mdi-plus-circle-outline"})),e.findSuperset(e.superset)?((0,o.uX)(),(0,o.Wv)(p,{key:1,class:(0,l.C4)(e.compare?"mx-auto":"mr-auto"),color:"secondary",onClick:t[1]||(t[1]=function(t){return e.removeSupersetInSelection(e.superset)}),variant:"text"},{default:(0,o.k6)((function(){return[(0,o.bF)(u,null,{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.compare?"mdi-close":"mdi-plus-circle"),1)]})),_:1})]})),_:1},8,["class"])):(0,o.Q3)("",!0),e.compare?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(p,{key:2,onClick:t[2]||(t[2]=function(t){return e.unselectSuperset(e.superset)}),variant:"text",icon:"mdi-close"}))]})),default:(0,o.k6)((function(){return[(0,o.Lk)("div",br,[(0,o.Lk)("div",{class:"card-background",style:(0,l.Tr)("background-image: url(".concat(e.getImagePath(e.state.data.alternatives[e.superset.alternative].image),"); background-size: cover;"))},null,4),(0,o.Lk)("div",gr,[(0,o.Lk)("div",kr,(0,l.v_)(e.getAlternativeName(e.superset.alternative)),1),(0,o.Lk)("div",yr,(0,l.v_)(e.getCriterionName(e.superset.criterion)),1)]),(0,o.Lk)("div",xr,[e.state.data?((0,o.uX)(),(0,o.Wv)(u,{key:0,style:{color:"white"}},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.state.data.alternatives[e.superset.alternative].icon),1)]})),_:1})):(0,o.Q3)("",!0)])]),(0,o.bF)(c,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Ar,[(0,o.Lk)("span",Cr,(0,l.v_)(e.getAimName(e.superset.aim)),1),(0,o.bF)(u,{class:"ml-2",size:"small"},{default:(0,o.k6)((function(){return t[3]||(t[3]=[(0,o.eW)("mdi-bullseye-arrow")])})),_:1})]),(0,o.Lk)("div",null,[(0,o.Lk)("div",wr,[e.is1stLevelStakeholdersMode?((0,o.uX)(),(0,o.CE)("b",Er,(0,l.v_)(e.getStakeholderName(e.superset.stakeholder)),1)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("b",null,(0,l.v_)(e.superset.property),1),(0,o.bF)(u,{class:(0,l.C4)(["ml-auto",1===e.superset.subOption?"text-success":"text-error"])},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.state.icons.subOption[e.superset.subOption]),1)]})),_:1},8,["class"])],64))]),e.is1stLevelStakeholdersMode?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,l.C4)(["title font-weight-regular",1===e.superset.subOption?"text-success":"text-error"])},(0,l.v_)(e.superset.value),3))])]})),_:1}),(0,o.bF)(s,{class:"my-1"}),(0,o.bF)(c,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d,{class:"px-0",textContent:(0,l.v_)("Arguments (".concat(e.supersetItems.length,")"))},null,8,["textContent"]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.duplicateGroups,(function(e,t){return(0,o.uX)(),(0,o.CE)("div",{key:t,class:"mb-5 no-mb-last"},[(0,o.bF)(f,{item:e[0],index:t,duplicatesCount:e.length},null,8,["item","index","duplicatesCount"])])})),128))]})),_:1}),(0,o.bF)(s)]})),_:1})}var _r={class:"d-flex"},Lr={class:"mb-5 overflow-hidden"},Sr={key:0},Ir={key:1},Or={key:1},Wr={class:"ml-auto flex-shrink-0"},jr={key:0,class:"text-secondary body-1"},Xr={class:"mb-5 body-1"},Pr={class:"body-1 text-secondary"},Tr={key:0,class:"mt-4"},Rr={key:1,class:"text-right text-secondary caption mt-4"};function Dr(e,t,r,n,a,u){var c=(0,o.g2)("v-chip"),s=(0,o.g2)("v-icon"),d=(0,o.g2)("v-btn"),f=(0,o.g2)("v-expand-transition"),p=(0,o.g2)("v-container"),v=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(v,{ripple:!1,outlined:"",onClick:t[0]||(t[0]=function(t){return e.openMe(e.index)})},{default:(0,o.k6)((function(){return[(0,o.bF)(p,{fluid:""},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",_r,[(0,o.Lk)("div",Lr,[(0,o.Lk)("div",{class:(0,l.C4)("caption ".concat(e.open[e.index]?"":"text-truncate"))},[e.is1stLevelStakeholdersMode?((0,o.uX)(),(0,o.CE)("b",Sr,(0,l.v_)(e.item.property),1)):((0,o.uX)(),(0,o.CE)("b",Ir,"by "+(0,l.v_)(e.getStakeholderName(e.item.stakeholder)),1))],2),(0,o.Lk)("div",{class:(0,l.C4)("caption ".concat(e.open[e.index]?"":"text-truncate"))},[e.is1stLevelStakeholdersMode?((0,o.uX)(),(0,o.CE)("span",{key:0,class:(0,l.C4)("font-weight-regular\t  ".concat(1===e.item.subOption?"text-success":"text-error"))},(0,l.v_)(e.item.value),3)):((0,o.uX)(),(0,o.CE)("em",Or,"in "+(0,l.v_)(e.item.source),1))],2)]),(0,o.Lk)("div",Wr,[(0,o.bF)(c,{variant:"outlined",size:"x-small"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.duplicatesCount),1)]})),_:1}),(0,o.bF)(d,{icon:""},{default:(0,o.k6)((function(){return[(0,o.bF)(s,null,{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.open[e.index]?"mdi-chevron-up":"mdi-chevron-down"),1)]})),_:1})]})),_:1})])]),e.open[e.index]?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",jr,(0,l.v_)(e.item.assertion),1)),(0,o.bF)(f,null,{default:(0,o.k6)((function(){return[(0,o.bo)((0,o.Lk)("div",null,[t[2]||(t[2]=(0,o.Lk)("div",{class:"overline"},"Explanation",-1)),(0,o.Lk)("p",Xr,(0,l.v_)(e.item.explanation),1),t[3]||(t[3]=(0,o.Lk)("div",{class:"overline"},"Assertion",-1)),(0,o.Lk)("p",Pr,(0,l.v_)(e.item.assertion),1),e.item.tagInitiator?((0,o.uX)(),(0,o.CE)("div",Tr,[t[1]||(t[1]=(0,o.Lk)("div",{class:"overline"},"Tag Initiator",-1)),(0,o.bF)(c,{size:"x-small",variant:"outlined",color:"black",class:"font-weight-medium"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.item.tagInitiator),1)]})),_:1})])):(0,o.Q3)("",!0),e.item.date?((0,o.uX)(),(0,o.CE)("div",Rr,[(0,o.Lk)("small",null,(0,l.v_)(e.formatDate(e.item.date)),1)])):(0,o.Q3)("",!0)],512),[[i.aG,e.open[e.index]]])]})),_:1})]})),_:1})]})),_:1})}var Mr=(0,o.pM)({setup:function(){return{state:v,getImagePath:y,openMe:function(e){this.open[e]=!this.open[e]},addSupersetInSelection:Eu,removeSupersetInSelection:Fu,unselectSuperset:Cu,findSuperset:_u,getItemsBy:ou,getCriterionById:eu,getAlternativeName:Nl,getCriterionName:tu,getStakeholderName:ku,getAimName:zl,formatDate:Hi,is1stLevelStakeholdersMode:E}},props:["item","index","duplicatesCount"],data:function(){return{open:[!1]}},computed:{supersetItems:function(){return ou(this.superset)}},mounted:function(){this.open=this.supersetItems.map((function(){return!1}))}});const Nr=(0,$.A)(Mr,[["render",Dr]]);var Hr=Nr,Br=(0,o.pM)({components:{SupersetCardItem:Hr},props:["superset","compare"],setup:function(){return{state:v,getImagePath:y,addSupersetInSelection:Eu,removeSupersetInSelection:Fu,unselectSuperset:Cu,findSuperset:_u,getItemsBy:ou,getCriterionById:eu,getAlternativeName:Nl,getCriterionName:tu,getStakeholderName:ku,getAimName:zl,formatDate:Hi,is1stLevelStakeholdersMode:E}},computed:{supersetItems:function(){return ou(this.superset)},duplicateGroups:function(){return lu(this.supersetItems)}}});const Vr=(0,$.A)(Br,[["render",Fr]]);var qr=Vr,Ur=(0,o.pM)({components:{Header:Se,TableList:hr,SupersetCard:qr},setup:function(){return{state:v,selectedSupersets:F,getFilteredItems:(0,o.EW)((function(){return au()})),getAllItems:(0,o.EW)((function(){return nu()})),removeSupersetInSelection:Fu}}});const zr=(0,$.A)(Ur,[["render",Ce],["__scopeId","data-v-82ecae66"]]);var Gr=zr;function Kr(e,t,r,n,a,i){var u=(0,o.g2)("Header"),c=(0,o.g2)("PropertyListRow"),s=(0,o.g2)("v-table"),d=(0,o.g2)("v-card"),f=(0,o.g2)("v-container");return e.state.project&&e.state.data?((0,o.uX)(),(0,o.Wv)(f,{key:0,style:{"max-width":"1400px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(u),(0,o.bF)(d,{class:"mt-2"},{default:(0,o.k6)((function(){return[(0,o.bF)(s,{class:"properties-table",style:{"min-width":"1000px"}},{default:(0,o.k6)((function(){return[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[t[0]||(t[0]=(0,o.Lk)("th",{class:"text-start"},"Property",-1)),t[1]||(t[1]=(0,o.Lk)("th",{class:"text-start"},"Criterion",-1)),t[2]||(t[2]=(0,o.Lk)("th",{class:"text-start"},"Aim",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_alternativesIds,(function(t,r){return(0,o.uX)(),(0,o.CE)("th",{key:r,class:"text-center"},(0,l.v_)(e.getAlternativeById(t).name),1)})),128))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.getNormalizedItemsByUniqueItemProp("property"),(function(e,t){return(0,o.uX)(),(0,o.Wv)(c,{key:t,items:e,property:t},null,8,["items","property"])})),128))])]})),_:1})]})),_:1})]})),_:1})):(0,o.Q3)("",!0)}var Qr=["name","id"],Yr={key:0,class:"text-grey"},$r={key:0,class:"text-grey"},Jr={key:0,class:"text-center"};function Zr(e,t,r,n,a,i){var u,c=(0,o.g2)("Highlighter"),s=(0,o.g2)("v-icon"),d=(0,o.g2)("PropertiesListCriterion"),f=(0,o.g2)("Acceptability");return(0,o.uX)(),(0,o.CE)("tr",{onClick:t[0]||(t[0]=function(t){return e.hasMany?e.showDetails=!e.showDetails:""}),key:"".concat(e.property,"-").concat(e.criterionItems.length,"-").concat(e.aimItems.length)},[(0,o.Lk)("td",null,[(0,o.Lk)("a",{name:"".concat(e.property),id:e.property},null,8,Qr),(0,o.Lk)("b",null,[(0,o.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:null!==(u=e.property)&&void 0!==u?u:""},null,8,["searchWords","textToHighlight"])]),e.criterionItems.length>1||e.aimItems.length>1?((0,o.uX)(),(0,o.Wv)(s,{key:0},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)]})),_:1})):(0,o.Q3)("",!0)]),(0,o.Lk)("td",null,[e.criterionItems.length>1&&!e.showDetails?((0,o.uX)(),(0,o.CE)("div",Yr,(0,l.v_)(e.criterionItems.length)+" criteria ",1)):(0,o.Q3)("",!0),e.criterionItems.length<=1||e.criterionItems.length>1&&e.showDetails?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.criterionItems,(function(t,r){return(0,o.uX)(),(0,o.Wv)(d,{key:r,item:t,row:e.getAimsCountFromAimsAndCriterion(e.getAimsFromItems(e.items),t.criterion)},null,8,["item","row"])})),128)):(0,o.Q3)("",!0)]),(0,o.Lk)("td",null,[e.aimItems.length>1&&!e.showDetails?((0,o.uX)(),(0,o.CE)("div",$r,(0,l.v_)(e.aimItems.length)+" aims",1)):(0,o.Q3)("",!0),e.aimItems.length<=1||e.aimItems.length>1&&e.showDetails?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.aimItems,(function(t,r){return(0,o.uX)(),(0,o.CE)("div",{key:r},(0,l.v_)(e.getAimById(t.aim).name),1)})),128)):(0,o.Q3)("",!0)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_alternativesIds,(function(t,r){return(0,o.uX)(),(0,o.CE)("td",{key:r},[e.showDetails?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Jr,[(0,o.bF)(f,{items:e.filterItemsBy(e.items,{alternative:t}),alternative:t,icon:!1},null,8,["items","alternative"])])),e.showDetails?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.aimItems,(function(r,n){return(0,o.uX)(),(0,o.CE)("div",{class:"text-center",key:n},[(0,o.bF)(f,{items:e.filterItemsBy(e.items,{alternative:t,aim:r.aim}),alternative:t,icon:!1},null,8,["items","alternative"])])})),128)):(0,o.Q3)("",!0)])})),128))])}function en(e,t,r,n,a,i){return(0,o.uX)(),(0,o.CE)("div",null,(0,l.v_)(e.getCriterionById(e.item.criterion).name),1)}var tn=(0,o.pM)({props:{item:{},row:{}},setup:function(){return{getCriterionById:eu}}});const rn=(0,$.A)(tn,[["render",en]]);var nn=rn,an=(0,o.pM)({props:{items:Array,property:{type:String,required:!0}},setup:function(e){var t=(0,c.QW)(e),r=t.items,n=(t.property,(0,c.KR)(!1)),a=(0,o.EW)((function(){return(0,Ee.uniqBy)(r.value,"criterion")})),i=(0,o.EW)((function(){return(0,Ee.uniqBy)(r.value,"aim")})),l=(0,o.EW)((function(){return a.value.length>1||i.value.length>1}));return{state:v,c_alternativesIds:Dl,showDetails:n,criterionItems:a,aimItems:i,hasMany:l,getAimsCountFromAimsAndCriterion:Ql,getAimsFromItems:Kl,countBy:Ee.countBy,sortBy:Ee.sortBy,getSubOptionById:hu,getCriterionById:eu,getAimById:ql,getAcceptabilityFromProCon:Wu,normalizeByAlternative:su,filterItemsBy:iu,uniqBy:Ee.uniqBy}},components:{Acceptability:qt,PropertiesListCriterion:nn}});const on=(0,$.A)(an,[["render",Zr]]);var ln=on,un=(0,o.pM)({setup:function(e){var t=(0,c.KR)(null);return{state:v,height:t,c_alternativesIds:Dl,setHeight:function(){var e=document.querySelector("[table-filters]");if(e){var r=e.getBoundingClientRect();t.value=window.innerHeight-r.bottom-24}},getNormalizedItemsByUniqueItemProp:fu,getAlternativeById:Ml}},components:{Header:Se,PropertyListRow:ln},mounted:function(){this.$nextTick(this.setHeight)},updated:function(){this.$nextTick(this.setHeight)},created:function(){window.addEventListener("resize",this.setHeight)},destroyed:function(){window.removeEventListener("resize",this.setHeight)}});const cn=(0,$.A)(un,[["render",Kr]]);var sn=cn,dn={style:{"overflow-x":"auto"}};function fn(e,t,r,n,a,i){var u=(0,o.g2)("Header"),c=(0,o.g2)("StakeholderListRow"),s=(0,o.g2)("v-table"),d=(0,o.g2)("v-card"),f=(0,o.g2)("v-container");return e.state.project&&e.state.data?((0,o.uX)(),(0,o.Wv)(f,{key:0,style:{"max-width":"1400px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(u),(0,o.bF)(d,{class:"mt-2"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",dn,[(0,o.bF)(s,{class:"properties-table",style:{"min-width":"1000px"}},{default:(0,o.k6)((function(){return[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[t[0]||(t[0]=(0,o.Lk)("th",{class:"text-start"},"Criterion",-1)),t[1]||(t[1]=(0,o.Lk)("th",{class:"text-start"},"Aim",-1)),t[2]||(t[2]=(0,o.Lk)("th",{class:"text-start"},"Stakeholder",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_alternativesIds,(function(t,r){return(0,o.uX)(),(0,o.CE)("th",{key:"alt-".concat(r),class:"text-center"},(0,l.v_)(e.getAlternativeById(t).name),1)})),128))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.getNormalizedItemsByUniqueItemProp("criterion"),(function(t,r){return(0,o.uX)(),(0,o.Wv)(c,{key:"crit-".concat(r),items:t,property:e.getCriterionName(r)},null,8,["items","property"])})),128))])]})),_:1})])]})),_:1})]})),_:1})):(0,o.Q3)("",!0)}var pn=["rowspan"],vn=["name","id"],mn=["rowspan"],hn={stakeholder:""};function bn(e,t,r,n,a,i){var u=(0,o.g2)("Highlighter"),c=(0,o.g2)("Acceptability");return(0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.aimItems,(function(t,r){return(0,o.uX)(),(0,o.CE)(o.FK,null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.uniqBy(e.filterItemsBy(e.items,{aim:t.aim}),"stakeholder"),(function(n,a){return(0,o.uX)(),(0,o.CE)("tr",{key:"stakeholder-".concat(a,"-").concat(r)},[0===r&&0===a?((0,o.uX)(),(0,o.CE)("td",{key:0,criterion:"",rowspan:e.uniqBy(e.filterItemsBy(e.items,{criterion:t.criterion}),"stakeholder").length*e.aimItems.length},[(0,o.Lk)("a",{name:"".concat(e.property),id:e.property},null,8,vn),(0,o.bF)(u,{class:"inline-block",searchWords:[e.state.searchInput],"text-to-highlight":e.property},null,8,["searchWords","text-to-highlight"])],8,pn)):(0,o.Q3)("",!0),0===a?((0,o.uX)(),(0,o.CE)("td",{key:1,aim:"",rowspan:e.uniqBy(e.filterItemsBy(e.items,{aim:t.aim}),"stakeholder").length},[(0,o.Lk)("span",null,(0,l.v_)(e.getAimById(t.aim).name),1)],8,mn)):(0,o.Q3)("",!0),(0,o.Lk)("td",hn,[(0,o.Lk)("b",null,(0,l.v_)(e.getStakeholderName(n.stakeholder)),1)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_alternativesIds,(function(r,a){return(0,o.uX)(),(0,o.CE)("td",{class:"text-center",alternative:"",key:a},[(0,o.bF)(c,{items:e.filterItemsBy(e.items,{alternative:r,aim:t.aim,stakeholder:n.stakeholder}),alternative:r,icon:!1},null,8,["items","alternative"])])})),128))])})),128))],64)})),256)}var gn=(0,o.pM)({props:{items:Array,property:{type:String,required:!0}},setup:function(e){var t=(0,c.QW)(e),r=t.items,n=(t.property,(0,o.EW)((function(){return(0,Ee.uniqBy)(r.value,"stakeholder")}))),a=(0,o.EW)((function(){return(0,Ee.uniqBy)(r.value,"criterion")})),i=(0,o.EW)((function(){return(0,Ee.uniqBy)(r.value,"aim")}));return console.log("aimItems"),console.log(i.value),{state:v,c_alternativesIds:Dl,stakeholderItems:n,criterionItems:a,aimItems:i,hasMany:(0,o.EW)((function(){return a.value.length>1||i.value.length>1})),getStakeholderName:ku,getAimsCountFromAimsAndCriterion:Ql,getAimsFromItems:Kl,countBy:Ee.countBy,sortBy:Ee.sortBy,getSubOptionById:hu,getCriterionById:eu,getAimById:ql,getAcceptabilityFromProCon:Wu,normalizeByAlternative:su,filterItemsBy:iu,uniqBy:Ee.uniqBy}},components:{Acceptability:qt}});const kn=(0,$.A)(gn,[["render",bn]]);var yn=kn,xn=(0,o.pM)({props:{id:Number},setup:function(){var e=(0,c.KR)(null),t=function(){var t=document.querySelector("[table-filters]");if(t){var r=t.getBoundingClientRect();e.value=window.innerHeight-r.bottom-24}};return(0,o.sV)((function(){t(),window.addEventListener("resize",t)})),(0,o.$u)(t),(0,o.xo)((function(){window.removeEventListener("resize",t)})),{state:v,height:e,c_alternativesIds:Dl,getCriterionName:tu,getNormalizedItemsByUniqueItemProp:fu,getAlternativeById:Ml,setHeight:t}},components:{Header:Se,StakeholderListRow:yn}});const An=(0,$.A)(xn,[["render",fn],["__scopeId","data-v-4259a901"]]);var Cn=An,wn={key:0,class:"view-container"},En={class:"header-section"},Fn={class:"chart-main"},_n={class:"chart-container"},Ln={class:"chart-container"},Sn={class:"chart-container"},In={class:"chart-container"},On={class:"chart-container"};function Wn(e,t,r,n,a,u){var c=(0,o.g2)("Header"),s=(0,o.g2)("v-container"),d=(0,o.g2)("v-icon"),f=(0,o.g2)("v-card-title"),p=(0,o.g2)("v-divider"),v=(0,o.g2)("v-list-item-title"),m=(0,o.g2)("v-list-item"),h=(0,o.g2)("v-list"),b=(0,o.g2)("v-card"),g=(0,o.g2)("v-col"),k=(0,o.g2)("ArgumentCount"),y=(0,o.g2)("v-card-text"),x=(0,o.g2)("BarChart"),A=(0,o.g2)("CircleChart"),C=(0,o.g2)("AlternativesComparison"),w=(0,o.g2)("CrosstabChart"),E=(0,o.g2)("v-row");return e.state.project&&e.state.data?((0,o.uX)(),(0,o.CE)("div",wn,[(0,o.Lk)("div",En,[(0,o.bF)(s,{style:{"max-width":"1600px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(c,{chartSelectedChart:e.selectedChart},null,8,["chartSelectedChart"])]})),_:1})]),(0,o.Lk)("div",Fn,[(0,o.bF)(s,{fluid:"",class:"fill-height chart-layout"},{default:(0,o.k6)((function(){return[(0,o.bF)(E,{class:"fill-height chart-row","no-gutters":""},{default:(0,o.k6)((function(){return[(0,o.bF)(g,{cols:"12",sm:"3",md:"2",class:"sidebar"},{default:(0,o.k6)((function(){return[(0,o.bF)(b,{class:"sidebar-card",elevation:"2"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{class:"text-h6 d-flex align-center pa-4"},{default:(0,o.k6)((function(){return[(0,o.bF)(d,{icon:"mdi-chart-bar",class:"mr-2",color:"primary"}),t[0]||(t[0]=(0,o.eW)(" Charts "))]})),_:1}),(0,o.bF)(p),(0,o.bF)(h,{class:"chart-menu",density:"compact"},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.charts,(function(t){return(0,o.uX)(),(0,o.Wv)(m,{key:t.id,active:e.selectedChart===t.id,onClick:function(r){return e.selectedChart=t.id},class:"chart-menu-item"},{prepend:(0,o.k6)((function(){return[(0,o.bF)(d,{icon:t.icon,size:"small",class:"mr-2"},null,8,["icon"])]})),default:(0,o.k6)((function(){return[(0,o.bF)(v,{class:"text-caption"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(t.label),1)]})),_:2},1024)]})),_:2},1032,["active","onClick"])})),128))]})),_:1})]})),_:1})]})),_:1}),(0,o.bF)(g,{cols:"12",sm:"9",md:"10",class:"content-area"},{default:(0,o.k6)((function(){return[(0,o.bF)(b,{class:"content-card",elevation:"2"},{default:(0,o.k6)((function(){return[(0,o.bo)((0,o.Lk)("div",_n,[(0,o.bF)(f,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,o.k6)((function(){return[(0,o.bF)(d,{icon:"mdi-counter",class:"mr-2",color:"primary"}),t[1]||(t[1]=(0,o.eW)(" Argument Count "))]})),_:1}),(0,o.bF)(y,{class:"pa-6"},{default:(0,o.k6)((function(){var t,r,n,a,i;return[(0,o.bF)(k,{arguments:e.filteredItems,selectedAlternative:null===(t=e.state.chartFilters)||void 0===t?void 0:t.selectedAlternative,analysisPer:null===(r=e.state.chartFilters)||void 0===r?void 0:r.analysisPer,alternativesMap:(null===(n=e.state.data)||void 0===n?void 0:n.alternatives)||null,criterionsMap:(null===(a=e.state.data)||void 0===a?void 0:a.criterions)||null,stakeholdersMap:(null===(i=e.state.data)||void 0===i?void 0:i.stakeholders)||null},null,8,["arguments","selectedAlternative","analysisPer","alternativesMap","criterionsMap","stakeholdersMap"])]})),_:1})],512),[[i.aG,"argument-count"===e.selectedChart]]),(0,o.bo)((0,o.Lk)("div",Ln,[(0,o.bF)(f,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,o.k6)((function(){return[(0,o.bF)(d,{icon:"mdi-chart-bar",class:"mr-2",color:"primary"}),t[2]||(t[2]=(0,o.eW)(" Bar Chart of Argument Repartition "))]})),_:1}),(0,o.bF)(y,{class:"pa-6"},{default:(0,o.k6)((function(){var t,r,n,a,i,l;return[(0,o.bF)(x,{arguments:e.filteredItems,selectedAlternative:null===(t=e.state.chartFilters)||void 0===t?void 0:t.selectedAlternative,analysisPer:null===(r=e.state.chartFilters)||void 0===r?void 0:r.analysisPer,selectedCriterion:null===(n=e.state.chartFilters)||void 0===n?void 0:n.selectedCriterion,alternativesMap:(null===(a=e.state.data)||void 0===a?void 0:a.alternatives)||null,criterionsMap:(null===(i=e.state.data)||void 0===i?void 0:i.criterions)||null,stakeholdersMap:(null===(l=e.state.data)||void 0===l?void 0:l.stakeholders)||null},null,8,["arguments","selectedAlternative","analysisPer","selectedCriterion","alternativesMap","criterionsMap","stakeholdersMap"])]})),_:1})],512),[[i.aG,"bar-chart"===e.selectedChart]]),(0,o.bo)((0,o.Lk)("div",Sn,[(0,o.bF)(f,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,o.k6)((function(){return[(0,o.bF)(d,{icon:"mdi-chart-bubble",class:"mr-2",color:"primary"}),t[3]||(t[3]=(0,o.eW)(" Circle Chart of Argument Repartition "))]})),_:1}),(0,o.bF)(y,{class:"pa-6"},{default:(0,o.k6)((function(){return[(0,o.bF)(A,{arguments:e.filteredItems,criterionsMap:e.state.project.criterions},null,8,["arguments","criterionsMap"])]})),_:1})],512),[[i.aG,"pie-chart"===e.selectedChart]]),(0,o.bo)((0,o.Lk)("div",In,[(0,o.bF)(f,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,o.k6)((function(){return[(0,o.bF)(d,{icon:"mdi-compare",class:"mr-2",color:"primary"}),t[4]||(t[4]=(0,o.eW)(" Comparison of Alternatives "))]})),_:1}),(0,o.bF)(y,{class:"pa-6"},{default:(0,o.k6)((function(){return[(0,o.bF)(C,{arguments:e.filteredItems},null,8,["arguments"])]})),_:1})],512),[[i.aG,"alternatives-comparison"===e.selectedChart]]),(0,o.bo)((0,o.Lk)("div",On,[(0,o.bF)(f,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,o.k6)((function(){return[(0,o.bF)(d,{icon:"mdi-table",class:"mr-2",color:"primary"}),t[5]||(t[5]=(0,o.eW)(" Cross-tab: Criteria x Stakeholders "))]})),_:1}),(0,o.bF)(y,{class:"pa-6"},{default:(0,o.k6)((function(){return[(0,o.bF)(w,{arguments:e.filteredItems,criterionsMap:e.state.project.criterions,stakeholdersMap:e.state.project.stakeholders},null,8,["arguments","criterionsMap","stakeholdersMap"])]})),_:1})],512),[[i.aG,"crosstab"===e.selectedChart]])]})),_:1})]})),_:1})]})),_:1})]})),_:1})])])):(0,o.Q3)("",!0)}var jn={class:"argument-count"},Xn={class:"count-summary mb-6"},Pn={class:"summary-cards"},Tn={class:"text-h4"},Rn={class:"text-h4"},Dn={class:"text-h4"},Mn={class:"pie-chart-container"},Nn={class:"pie-chart-wrapper"},Hn={class:"pie-chart-legend"},Bn={class:"legend-label"},Vn={class:"legend-value"},qn=["width","height"],Un={key:1,class:"separated-charts-container"},zn={class:"alternative-title"},Gn={class:"alternative-summary"},Kn={class:"summary-badge primary"},Qn={class:"badge-value"},Yn={class:"summary-badge success"},$n={class:"badge-value"},Jn={class:"summary-badge error"},Zn={class:"badge-value"},ea={class:"pie-chart-wrapper"},ta={class:"pie-chart-legend"},ra={class:"legend-label"},na={class:"legend-value"},aa=["width","height"];function ia(e,t,r,n,a,i){var u=(0,o.g2)("v-card-text"),c=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.CE)("div",jn,["all-separated"!==e.selectedAlternative?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",Xn,[(0,o.Lk)("div",Pn,[(0,o.bF)(c,{variant:"tonal",color:"primary",class:"summary-card"},{default:(0,o.k6)((function(){return[(0,o.bF)(u,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Tn,(0,l.v_)(e.totalCount),1),t[0]||(t[0]=(0,o.Lk)("div",{class:"text-caption"},"Total Arguments",-1))]})),_:1})]})),_:1}),(0,o.bF)(c,{variant:"tonal",color:"success",class:"summary-card"},{default:(0,o.k6)((function(){return[(0,o.bF)(u,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Rn,(0,l.v_)(e.favorableCount),1),t[1]||(t[1]=(0,o.Lk)("div",{class:"text-caption"},"Favorable",-1))]})),_:1})]})),_:1}),(0,o.bF)(c,{variant:"tonal",color:"error",class:"summary-card"},{default:(0,o.k6)((function(){return[(0,o.bF)(u,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Dn,(0,l.v_)(e.unfavorableCount),1),t[2]||(t[2]=(0,o.Lk)("div",{class:"text-caption"},"Unfavorable",-1))]})),_:1})]})),_:1})])]),(0,o.Lk)("div",Mn,[(0,o.Lk)("div",Nn,[(0,o.Lk)("div",Hn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.legendItems,(function(e){return(0,o.uX)(),(0,o.CE)("div",{key:e.label,class:"legend-item"},[(0,o.Lk)("span",{class:"legend-swatch",style:(0,l.Tr)({backgroundColor:e.color})},null,4),(0,o.Lk)("span",Bn,(0,l.v_)(e.label),1),(0,o.Lk)("span",Vn,(0,l.v_)(e.count),1)])})),128))]),((0,o.uX)(),(0,o.CE)("svg",{ref:"chartRef",width:e.width,height:e.height},null,8,qn))])])],64)):((0,o.uX)(),(0,o.CE)("div",Un,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.separatedChartsData,(function(r,n){return(0,o.uX)(),(0,o.CE)("div",{key:n,class:"alternative-chart-card"},[(0,o.Lk)("h3",zn,(0,l.v_)(r.name),1),(0,o.Lk)("div",Gn,[(0,o.Lk)("div",Kn,[(0,o.Lk)("span",Qn,(0,l.v_)(r.totalCount),1),t[3]||(t[3]=(0,o.Lk)("span",{class:"badge-label"},"Total",-1))]),(0,o.Lk)("div",Yn,[(0,o.Lk)("span",$n,(0,l.v_)(r.favorableCount),1),t[4]||(t[4]=(0,o.Lk)("span",{class:"badge-label"},"Favorable",-1))]),(0,o.Lk)("div",Jn,[(0,o.Lk)("span",Zn,(0,l.v_)(r.unfavorableCount),1),t[5]||(t[5]=(0,o.Lk)("span",{class:"badge-label"},"Unfavorable",-1))])]),(0,o.Lk)("div",ea,[(0,o.Lk)("div",ta,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.legendItems,(function(e){return(0,o.uX)(),(0,o.CE)("div",{key:e.label,class:"legend-item"},[(0,o.Lk)("span",{class:"legend-swatch",style:(0,l.Tr)({backgroundColor:e.color})},null,4),(0,o.Lk)("span",ra,(0,l.v_)(e.label),1),(0,o.Lk)("span",na,(0,l.v_)(e.count),1)])})),128))]),((0,o.uX)(),(0,o.CE)("svg",{ref_for:!0,ref:function(t){return e.setSvgRef(n,t)},width:e.width,height:e.height,class:"chart-svg"},null,8,aa))])])})),128))]))])}r(113),r(8598),r(116);var oa=(0,o.pM)({name:"ArgumentCount",props:{arguments:{type:Array,required:!0},alternativesMap:{type:Object,default:null},criterionsMap:{type:Object,default:null},stakeholdersMap:{type:Object,default:null},selectedAlternative:{type:String,default:"all-merged"},analysisPer:{type:String,default:"criteria"}},setup:function(e){var t=(0,c.KR)(null),r=(0,c.KR)({}),i=700,l=500,u=(0,o.EW)((function(){var t=(0,we.A)(e.arguments);if(e.selectedAlternative&&"all-merged"!==e.selectedAlternative&&"all-separated"!==e.selectedAlternative){var r,n=e.alternativesMap||{},a=null===(r=Object.values(n).find((function(t){return t.name===e.selectedAlternative})))||void 0===r?void 0:r.id;void 0!==a&&(t=t.filter((function(e){return e.alternative===a})))}return t})),s=(0,o.EW)((function(){return u.value.length})),f=(0,o.EW)((function(){return u.value.filter((function(e){return e.favorable})).length})),p=(0,o.EW)((function(){return u.value.filter((function(e){return!e.favorable})).length})),v=(0,o.EW)((function(){var t={};return u.value.forEach((function(r){var n;if("stakeholder"===e.analysisPer){var a,i=null===(a=e.stakeholdersMap)||void 0===a||null===(a=a[r.stakeholder])||void 0===a?void 0:a.name;n=i||"Stakeholder ".concat(r.stakeholder)}else{var o,l=null===(o=e.criterionsMap)||void 0===o||null===(o=o[r.criterion])||void 0===o?void 0:o.name;n=l||"Criterion ".concat(r.criterion)}t[n]||(t[n]={favorable:0,unfavorable:0}),r.favorable?t[n].favorable++:t[n].unfavorable++})),t})),m=function(e){return e.sort((function(e,t){var r=(0,d.A)(e,2),n=r[1],a=(0,d.A)(t,2),i=a[1];return i.favorable+i.unfavorable-(n.favorable+n.unfavorable)}))},h=(0,o.EW)((function(){var t={},r=e.alternativesMap||{};return Object.entries(r).forEach((function(r){var n=(0,d.A)(r,2),a=(n[0],n[1]),i=e.arguments.filter((function(e){return e.alternative===a.id})),o={};i.forEach((function(t){var r;if("stakeholder"===e.analysisPer){var n,a=null===(n=e.stakeholdersMap)||void 0===n||null===(n=n[t.stakeholder])||void 0===n?void 0:n.name;r=a||"Stakeholder ".concat(t.stakeholder)}else{var i,l=null===(i=e.criterionsMap)||void 0===i||null===(i=i[t.criterion])||void 0===i?void 0:i.name;r=l||"Criterion ".concat(t.criterion)}o[r]||(o[r]={favorable:0,unfavorable:0}),t.favorable?o[r].favorable++:o[r].unfavorable++}));var l=["#2196F3","#4CAF50","#FF9800","#F44336","#9C27B0","#00BCD4","#8BC34A","#FFC107","#E91E63","#3F51B5","#009688","#CDDC39","#FF5722","#673AB7","#795548"],u=m(Object.entries(o)),c=u.map((function(e,t){var r=(0,d.A)(e,2),n=r[0],a=r[1],i=a.favorable+a.unfavorable;return{label:n||"Unknown",count:i,color:l[t%l.length]}})),s=i.length,f=i.filter((function(e){return e.favorable})).length,p=i.filter((function(e){return!e.favorable})).length;t[a.id]={name:a.name,totalCount:s,favorableCount:f,unfavorableCount:p,chartData:o,legendItems:c}})),t})),b=["#2196F3","#4CAF50","#FF9800","#F44336","#9C27B0","#00BCD4","#8BC34A","#FFC107","#E91E63","#3F51B5","#009688","#CDDC39","#FF5722","#673AB7","#795548"],g=(0,o.EW)((function(){var e=m(Object.entries(v.value));e.reduce((function(e,t){var r=(0,d.A)(t,2),n=r[1];return e+n.favorable+n.unfavorable}),0);return e.map((function(e,t){var r=(0,d.A)(e,2),n=r[0],a=r[1],i=a.favorable+a.unfavorable;return{label:n||"Unknown",count:i,color:b[t%b.length]}}))})),k=function(e,t){r.value[e]=t},y=function(){if(t.value){var e=t.value;e.innerHTML="";var r=m(Object.entries(v.value));if(0!==r.length){var n=r.reduce((function(e,t){var r=(0,d.A)(t,2),n=r[1];return e+n.favorable+n.unfavorable}),0);if(0!==n){var a=i/2,o=l/2,u=Math.min(i,l)/2-120,c=-Math.PI/2;r.forEach((function(t,r){var i,l=(0,d.A)(t,2),s=(l[0],l[1]),f=s.favorable+s.unfavorable,p=f/n*2*Math.PI,v=c+p,m=a+u*Math.cos(c),h=o+u*Math.sin(c),g=a+u*Math.cos(v),k=o+u*Math.sin(v),y=p>Math.PI?1:0,x=document.createElementNS("http://www.w3.org/2000/svg","path");if(p>=2*Math.PI-.01){var A=c+Math.PI,C=a+u*Math.cos(A),w=o+u*Math.sin(A);i=["M ".concat(a," ").concat(o),"L ".concat(m," ").concat(h),"A ".concat(u," ").concat(u," 0 1 1 ").concat(C," ").concat(w),"A ".concat(u," ").concat(u," 0 1 1 ").concat(m," ").concat(h),"Z"].join(" ")}else i=["M ".concat(a," ").concat(o),"L ".concat(m," ").concat(h),"A ".concat(u," ").concat(u," 0 ").concat(y," 1 ").concat(g," ").concat(k),"Z"].join(" ");x.setAttribute("d",i),x.setAttribute("fill",b[r%b.length]),x.setAttribute("stroke","white"),x.setAttribute("stroke-width","2"),e.appendChild(x),c=v}))}}}},x=function(){Object.entries(h.value).forEach((function(e){var t=(0,d.A)(e,2),n=t[0],a=t[1],o=r.value[n];if(o){o.innerHTML="";var u=m(Object.entries(a.chartData));if(0!==u.length){var c=u.reduce((function(e,t){var r=(0,d.A)(t,2),n=r[1];return e+n.favorable+n.unfavorable}),0);if(0!==c){var s=i/2,f=l/2,p=Math.min(i,l)/2-120,v=-Math.PI/2;u.forEach((function(e,t){var r,n=(0,d.A)(e,2),a=(n[0],n[1]),i=a.favorable+a.unfavorable,l=i/c*2*Math.PI,u=v+l,m=s+p*Math.cos(v),h=f+p*Math.sin(v),g=s+p*Math.cos(u),k=f+p*Math.sin(u),y=l>Math.PI?1:0,x=document.createElementNS("http://www.w3.org/2000/svg","path");if(l>=2*Math.PI-.01){var A=v+Math.PI,C=s+p*Math.cos(A),w=f+p*Math.sin(A);r=["M ".concat(s," ").concat(f),"L ".concat(m," ").concat(h),"A ".concat(p," ").concat(p," 0 1 1 ").concat(C," ").concat(w),"A ".concat(p," ").concat(p," 0 1 1 ").concat(m," ").concat(h),"Z"].join(" ")}else r=["M ".concat(s," ").concat(f),"L ".concat(m," ").concat(h),"A ".concat(p," ").concat(p," 0 ").concat(y," 1 ").concat(g," ").concat(k),"Z"].join(" ");x.setAttribute("d",r),x.setAttribute("fill",b[t%b.length]),x.setAttribute("stroke","white"),x.setAttribute("stroke-width","2"),o.appendChild(x),v=u}))}}}}))};return(0,o.sV)((function(){"all-separated"!==e.selectedAlternative?y():(0,o.dY)((function(){x()}))})),(0,o.wB)((function(){return e.selectedAlternative}),(0,a.A)((0,n.A)().mark((function t(){return(0,n.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.dY)();case 2:"all-separated"!==e.selectedAlternative?y():x();case 3:case"end":return t.stop()}}),t)})))),(0,o.wB)((function(){return[v.value,e.analysisPer]}),(0,a.A)((0,n.A)().mark((function t(){return(0,n.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("all-separated"===e.selectedAlternative){t.next=4;break}return t.next=3,(0,o.dY)();case 3:y();case 4:case"end":return t.stop()}}),t)}))),{deep:!0,flush:"post"}),(0,o.wB)((function(){return g.value}),(0,a.A)((0,n.A)().mark((function t(){return(0,n.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("all-separated"===e.selectedAlternative){t.next=4;break}return t.next=3,(0,o.dY)();case 3:y();case 4:case"end":return t.stop()}}),t)}))),{deep:!0,flush:"post"}),(0,o.wB)((function(){return e.arguments}),(0,a.A)((0,n.A)().mark((function t(){return(0,n.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.dY)();case 2:"all-separated"!==e.selectedAlternative?y():x();case 3:case"end":return t.stop()}}),t)}))),{deep:!0,flush:"post"}),(0,o.wB)((function(){return[h.value,e.analysisPer]}),(0,a.A)((0,n.A)().mark((function t(){return(0,n.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("all-separated"!==e.selectedAlternative){t.next=4;break}return t.next=3,(0,o.dY)();case 3:x();case 4:case"end":return t.stop()}}),t)}))),{deep:!0,flush:"post"}),{chartRef:t,width:i,height:l,totalCount:s,favorableCount:f,unfavorableCount:p,legendItems:g,separatedChartsData:h,setSvgRef:k}}});const la=(0,$.A)(oa,[["render",ia],["__scopeId","data-v-245f0ccd"]]);var ua=la,ca={class:"bar-chart-container"},sa={key:0,class:"chart-wrapper"},da={class:"chart-area"},fa=["width","height"],pa={class:"attitude-column"},va={class:"attitude-value"},ma={key:1,class:"separated-charts-container"},ha={class:"alternative-title"},ba={class:"chart-wrapper"},ga={class:"chart-area"},ka=["width","height"],ya={class:"attitude-column"},xa={class:"attitude-value"};function Aa(e,t,r,n,a,i){return(0,o.uX)(),(0,o.CE)("div",ca,["all-separated"!==e.selectedAlternative?((0,o.uX)(),(0,o.CE)("div",sa,[(0,o.Lk)("div",da,[((0,o.uX)(),(0,o.CE)("svg",{ref:"chartRef",width:e.width,height:e.height,class:"horizontal-bars"},null,8,fa))]),(0,o.Lk)("div",pa,[t[0]||(t[0]=(0,o.Lk)("div",{class:"attitude-header"},"Attitude",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.tableRows,(function(e){return(0,o.uX)(),(0,o.CE)("div",{key:e.key,class:"attitude-item"},[(0,o.Lk)("div",va,(0,l.v_)(e.attitude),1)])})),128))])])):((0,o.uX)(),(0,o.CE)("div",ma,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.separatedChartsData,(function(r,n){return(0,o.uX)(),(0,o.CE)("div",{key:n,class:"alternative-chart-card"},[(0,o.Lk)("h3",ha,(0,l.v_)(r.name),1),(0,o.Lk)("div",ba,[(0,o.Lk)("div",ga,[((0,o.uX)(),(0,o.CE)("svg",{ref_for:!0,ref:function(t){return e.setSvgRef(String(n),t)},width:e.width,height:r.chartHeight,class:"horizontal-bars"},null,8,ka))]),(0,o.Lk)("div",ya,[t[1]||(t[1]=(0,o.Lk)("div",{class:"attitude-header"},"Attitude",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.tableRows,(function(e){return(0,o.uX)(),(0,o.CE)("div",{key:e.key,class:"attitude-item"},[(0,o.Lk)("div",xa,(0,l.v_)(e.attitude),1)])})),128))])])])})),128))]))])}r(150),r(9868),r(1415),r(7642),r(8004),r(3853),r(5876),r(2475),r(5024),r(1698),r(2762);var Ca=(0,o.pM)({name:"BarChart",props:{arguments:{type:Array,required:!0},selectedAlternative:{type:String,default:"all-merged"},analysisPer:{type:String,default:"criteria"},selectedCriterion:{type:[String,Number],default:""},alternativesMap:{type:Object,default:null},criterionsMap:{type:Object,default:null},stakeholdersMap:{type:Object,default:null}},setup:function(e){var t=(0,c.KR)(null),r=(0,c.KR)(new Map),i=600,l=(0,o.EW)((function(){var e=40,t=60,r=h.value.length;return t+r*e})),u=(0,o.EW)((function(){return"stakeholder"===e.analysisPer?"Stakeholders":"Criteria"})),s=(0,o.EW)((function(){return e.selectedAlternative&&"all-merged"!==e.selectedAlternative&&"all-separated"!==e.selectedAlternative?e.selectedAlternative:"All alternatives"})),f=(0,o.EW)((function(){var t=(0,we.A)(e.arguments);if(e.selectedAlternative&&"all-merged"!==e.selectedAlternative&&"all-separated"!==e.selectedAlternative){var r,n=e.alternativesMap||{},a=null===(r=Object.values(n).find((function(t){return t.name===e.selectedAlternative})))||void 0===r?void 0:r.id;void 0!==a&&(t=t.filter((function(e){return e.alternative===a})))}if(""!==e.selectedCriterion&&null!==e.selectedCriterion){var i=Number(e.selectedCriterion);Number.isNaN(i)||(t=t.filter((function(e){return e.criterion===i})))}return t})),p=(0,o.EW)((function(){var t=e.alternativesMap||{},r={},n=Array.from(new Set(e.arguments.map((function(e){return e.alternative}))));return n.forEach((function(n){var a,i=(null===(a=t[n])||void 0===a?void 0:a.name)||"Alternative ".concat(n),o=e.arguments.filter((function(e){return e.alternative===n})),l=(0,we.A)(o);if(""!==e.selectedCriterion&&null!==e.selectedCriterion){var u=Number(e.selectedCriterion);Number.isNaN(u)||(l=l.filter((function(e){return e.criterion===u})))}var c=new Map;l.forEach((function(t){var r="stakeholder"===e.analysisPer?t.stakeholder:t.criterion;c.has(r)||c.set(r,{favorable:0,unfavorable:0});var n=c.get(r);t.favorable?n.favorable+=1:n.unfavorable+=1}));var s=Array.from(c.entries()).map((function(e){var t=(0,d.A)(e,2),r=t[0],n=t[1],a=n.favorable+n.unfavorable,i=0===a?0:n.favorable/a;return{key:r,label:v(r),favorable:n.favorable,unfavorable:n.unfavorable,attitude:i.toFixed(2)}})).sort((function(e,t){return e.label.localeCompare(t.label)})),f=Math.max(300,40*s.length);r[String(n)]={id:n,name:i,tableRows:s,chartHeight:f}})),r})),v=function(t){var r,n;return"stakeholder"===e.analysisPer?(null===(n=e.stakeholdersMap)||void 0===n||null===(n=n[t])||void 0===n?void 0:n.name)||"Stakeholder ".concat(t):(null===(r=e.criterionsMap)||void 0===r||null===(r=r[t])||void 0===r?void 0:r.name)||"Criterion ".concat(t)},m=function(e,t){t&&r.value.set(e,t)},h=(0,o.EW)((function(){var t=new Map;return f.value.forEach((function(r){var n="stakeholder"===e.analysisPer?r.stakeholder:r.criterion;t.has(n)||t.set(n,{favorable:0,unfavorable:0});var a=t.get(n);r.favorable?a.favorable+=1:a.unfavorable+=1})),Array.from(t.entries()).map((function(e){var t=(0,d.A)(e,2),r=t[0],n=t[1],a=n.favorable+n.unfavorable,i=0===a?0:n.favorable/a;return{key:r,label:v(r),favorable:n.favorable,unfavorable:n.unfavorable,attitude:i.toFixed(2)}})).sort((function(e,t){return e.label.localeCompare(t.label)}))})),b=function(e,t,r){if(e.innerHTML="",0!==t.length){var n={left:280,right:20,top:60,bottom:0},a=i-n.left-n.right,o=r-n.top-n.bottom,l=o/t.length,u=Math.max(12,.35*l),c=4,s=Math.max.apply(Math,(0,we.A)(t.map((function(e){return e.favorable+e.unfavorable})))),d=document.createElementNS("http://www.w3.org/2000/svg","g");d.setAttribute("transform","translate(".concat(n.left,",").concat(n.top,")"));var f="#4CAF50",p="#F44336";t.forEach((function(e,t){var r=t*l,n=r+l/2,i=n-u-c/2,o=n+c/2,v=e.favorable/s*a,m=e.unfavorable/s*a,h=document.createElementNS("http://www.w3.org/2000/svg","rect");h.setAttribute("x","0"),h.setAttribute("y",String(i)),0===e.favorable?(h.setAttribute("width","12"),h.setAttribute("opacity","0.4")):(h.setAttribute("width",String(v)),h.setAttribute("opacity","1")),h.setAttribute("height",String(u)),h.setAttribute("fill",f),d.appendChild(h);var b,g,k=document.createElementNS("http://www.w3.org/2000/svg","text");0===e.favorable?(b=5,g="black"):v>35?(b=5,g="white"):(b=v+8,g="black"),k.setAttribute("x",String(b)),k.setAttribute("y",String(i+u/2+4)),k.setAttribute("text-anchor","start"),k.setAttribute("font-size","11"),k.setAttribute("font-weight","bold"),k.setAttribute("fill",g),k.textContent=String(e.favorable),d.appendChild(k);var y=document.createElementNS("http://www.w3.org/2000/svg","rect");y.setAttribute("x","0"),y.setAttribute("y",String(o)),0===e.unfavorable?(y.setAttribute("width","12"),y.setAttribute("opacity","0.4")):(y.setAttribute("width",String(m)),y.setAttribute("opacity","1")),y.setAttribute("height",String(u)),y.setAttribute("fill",p),d.appendChild(y);var x,A,C=document.createElementNS("http://www.w3.org/2000/svg","text");0===e.unfavorable?(x=5,A="black"):m>35?(x=5,A="white"):(x=m+8,A="black"),C.setAttribute("x",String(x)),C.setAttribute("y",String(o+u/2+4)),C.setAttribute("text-anchor","start"),C.setAttribute("font-size","11"),C.setAttribute("font-weight","bold"),C.setAttribute("fill",A),C.textContent=String(e.unfavorable),d.appendChild(C);var w=e.label,E="";if(e.label.length>40){for(var F=20,_=F,L=F;L<e.label.length&&L<F+10;L++)if(" "===e.label[L]){_=L;break}w=e.label.substring(0,_).trim(),E=e.label.substring(_).trim(),E.length>25&&(E=E.substring(0,25)+"...")}var S=document.createElementNS("http://www.w3.org/2000/svg","text");if(S.setAttribute("x","-20"),S.setAttribute("y",String(n-4)),S.setAttribute("text-anchor","end"),S.setAttribute("font-size","12"),S.setAttribute("color","#333"),S.textContent=w,d.appendChild(S),E){var I=document.createElementNS("http://www.w3.org/2000/svg","text");I.setAttribute("x","-20"),I.setAttribute("y",String(n+10)),I.setAttribute("text-anchor","end"),I.setAttribute("font-size","12"),I.setAttribute("color","#333"),I.textContent=E,d.appendChild(I)}}));var v=document.createElementNS("http://www.w3.org/2000/svg","g");v.setAttribute("transform","translate(0, -15)");var m=document.createElementNS("http://www.w3.org/2000/svg","rect");m.setAttribute("x","0"),m.setAttribute("y","0"),m.setAttribute("width","12"),m.setAttribute("height","12"),m.setAttribute("fill",f),v.appendChild(m);var h=document.createElementNS("http://www.w3.org/2000/svg","text");h.setAttribute("x","18"),h.setAttribute("y","10"),h.setAttribute("font-size","12"),h.textContent="Favorable",v.appendChild(h);var b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("x","120"),b.setAttribute("y","0"),b.setAttribute("width","12"),b.setAttribute("height","12"),b.setAttribute("fill",p),v.appendChild(b);var g=document.createElementNS("http://www.w3.org/2000/svg","text");g.setAttribute("x","136"),g.setAttribute("y","10"),g.setAttribute("font-size","12"),g.textContent="Unfavorable",v.appendChild(g),d.appendChild(v),e.appendChild(d)}},g=function(){t.value&&b(t.value,h.value,l.value)},k=function(){Object.entries(p.value).forEach((function(e){var t=(0,d.A)(e,2),n=t[0],a=t[1],i=r.value.get(n);i&&b(i,a.tableRows,a.chartHeight)}))};return(0,o.sV)((function(){"all-separated"!==e.selectedAlternative?g():(0,o.dY)((function(){k()}))})),(0,o.wB)((function(){return e.selectedAlternative}),(0,a.A)((0,n.A)().mark((function t(){return(0,n.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.dY)();case 2:"all-separated"!==e.selectedAlternative?g():k();case 3:case"end":return t.stop()}}),t)})))),(0,o.wB)((function(){return[h.value,e.analysisPer,e.selectedCriterion]}),(function(){"all-separated"!==e.selectedAlternative&&g()}),{deep:!0}),(0,o.wB)((function(){return[p.value,e.analysisPer,e.selectedCriterion]}),(function(){"all-separated"===e.selectedAlternative&&k()}),{deep:!0}),{chartRef:t,width:i,height:l,groupByLabel:u,alternativeLabel:s,tableRows:h,separatedChartsData:p,setSvgRef:m,renderChart:g,renderSeparatedCharts:k}}});const wa=(0,$.A)(Ca,[["render",Aa],["__scopeId","data-v-78806f70"]]);var Ea=wa,Fa={class:"circle-chart"},_a={class:"table-container"},La=["width","height"],Sa={class:"grid"},Ia=["x1","x2"],Oa=["x1","y1","x2","y2"],Wa=["x1","y1","x2","y2"],ja=["x1","y1","x2","y2"],Xa=["x1","x2","y2"],Pa=["x1","x2","y2"],Ta={class:"headers"},Ra=["x","y"],Da=["x","y"],Ma=["x","y"],Na=["x1","y1","x2","y2"],Ha=["cx","cy","r"],Ba=["cx","cy","r"],Va=["x","y"],qa=["x","y"],Ua=["x","y"],za={class:"footer-container"},Ga={class:"footer-values"};function Ka(e,t,r,n,a,i){return(0,o.uX)(),(0,o.CE)("div",Fa,[(0,o.Lk)("div",_a,[((0,o.uX)(),(0,o.CE)("svg",{width:e.tableWidth,height:e.tableHeight,class:"circle-svg"},[(0,o.Lk)("g",Sa,[(0,o.Lk)("line",{x1:e.labelWidth,y1:0,x2:e.tableWidth,y2:0,stroke:"#ddd","stroke-width":"1"},null,8,Ia),(0,o.Lk)("line",{x1:e.labelWidth,y1:e.headerHeight,x2:e.tableWidth,y2:e.headerHeight,stroke:"#ddd","stroke-width":"1"},null,8,Oa),(0,o.Lk)("line",{x1:e.labelWidth,y1:e.headerHeight+e.rowHeight,x2:e.tableWidth,y2:e.headerHeight+e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Wa),(0,o.Lk)("line",{x1:e.labelWidth,y1:e.headerHeight+2*e.rowHeight,x2:e.tableWidth,y2:e.headerHeight+2*e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,ja),(0,o.Lk)("line",{x1:e.labelWidth,y1:0,x2:e.labelWidth,y2:e.headerHeight+2*e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Xa),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.criteriaData.length,(function(t){return(0,o.uX)(),(0,o.CE)("line",{key:"vline-"+t,x1:e.labelWidth+t*e.cellWidth,y1:0,x2:e.labelWidth+t*e.cellWidth,y2:e.headerHeight+2*e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Pa)})),128))]),(0,o.Lk)("g",Ta,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.criteriaData,(function(t,r){return(0,o.uX)(),(0,o.CE)("text",{key:"header-"+t.criterionId,x:e.labelWidth+r*e.cellWidth+e.cellWidth/2,y:e.headerHeight/2+5,"text-anchor":"middle","font-size":"13","font-weight":"500",fill:"#333"},(0,l.v_)(t.criterionName),9,Ra)})),128))]),(0,o.Lk)("text",{x:e.labelWidth/2,y:e.headerHeight+e.rowHeight/2+5,"text-anchor":"middle","font-size":"18","font-weight":"500",fill:"#333"}," + ",8,Da),(0,o.Lk)("text",{x:e.labelWidth/2,y:e.headerHeight+1.5*e.rowHeight+5,"text-anchor":"middle","font-size":"18","font-weight":"500",fill:"#333"}," - ",8,Ma),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.criteriaData,(function(t,r){return(0,o.uX)(),(0,o.CE)("g",{key:"circles-"+t.criterionId},[t.favorable>0&&t.unfavorable>0?((0,o.uX)(),(0,o.CE)("line",{key:0,x1:e.getCellCenterX(r),y1:e.getFavorableY()+e.getCircleRadius(t.favorable),x2:e.getCellCenterX(r),y2:e.getUnfavorableY()-e.getCircleRadius(t.unfavorable),stroke:"#999","stroke-width":"1","stroke-dasharray":"3,3"},null,8,Na)):(0,o.Q3)("",!0),t.favorable>0?((0,o.uX)(),(0,o.CE)("circle",{key:1,cx:e.getCellCenterX(r),cy:e.getFavorableY(),r:e.getCircleRadius(t.favorable),fill:"#4CAF50",stroke:"white","stroke-width":"2"},null,8,Ha)):(0,o.Q3)("",!0),t.unfavorable>0?((0,o.uX)(),(0,o.CE)("circle",{key:2,cx:e.getCellCenterX(r),cy:e.getUnfavorableY(),r:e.getCircleRadius(t.unfavorable),fill:"#F44336",stroke:"white","stroke-width":"2"},null,8,Ba)):(0,o.Q3)("",!0),t.favorable>0?((0,o.uX)(),(0,o.CE)("text",{key:3,x:e.getCellCenterX(r),y:e.getFavorableY()+5,"text-anchor":"middle","font-size":"14","font-weight":"bold",fill:"white"},(0,l.v_)(t.favorable),9,Va)):(0,o.Q3)("",!0),t.unfavorable>0?((0,o.uX)(),(0,o.CE)("text",{key:4,x:e.getCellCenterX(r),y:e.getUnfavorableY()+5,"text-anchor":"middle","font-size":"14","font-weight":"bold",fill:"white"},(0,l.v_)(t.unfavorable),9,qa)):(0,o.Q3)("",!0)])})),128)),(0,o.Lk)("text",{x:e.labelWidth/2,y:e.headerHeight/2+5,"text-anchor":"middle","font-size":"11","font-weight":"500",fill:"#666"}," Criterion ",8,Ua)],8,La)),(0,o.Lk)("div",za,[t[0]||(t[0]=(0,o.Lk)("div",{class:"footer-label"},[(0,o.Lk)("span",null,"Collective attitude")],-1)),(0,o.Lk)("div",Ga,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.criteriaData,(function(t,r){return(0,o.uX)(),(0,o.CE)("div",{key:"footer-"+t.criterionId,class:"attitude-cell",style:(0,l.Tr)({left:e.labelWidth+r*e.cellWidth+"px",width:e.cellWidth+"px"})},(0,l.v_)(t.attitude.toFixed(2)),5)})),128))])])])])}r(8350),r(237),r(531);var Qa=(0,o.pM)({name:"CircleChart",props:{arguments:{type:Array,required:!0},criterionsMap:{type:Object,default:null}},setup:function(e){var t=180,r=60,n=60,a=250,i=20,l=70,u=(0,o.EW)((function(){var t=new Map;return e.arguments.forEach((function(e){t.has(e.criterion)||t.set(e.criterion,{favorable:0,unfavorable:0});var r=t.get(e.criterion);e.favorable?r.favorable++:r.unfavorable++})),Array.from(t.entries()).map((function(t){var r,n=(0,d.A)(t,2),a=n[0],i=n[1],o=i.favorable+i.unfavorable,l=0===o?0:i.favorable/o,u=(null===(r=e.criterionsMap)||void 0===r||null===(r=r[a])||void 0===r?void 0:r.name)||"Criterion ".concat(a);return{criterionId:a,criterionName:u,favorable:i.favorable,unfavorable:i.unfavorable,attitude:l}}))})),c=(0,o.EW)((function(){return r+u.value.length*t})),s=n+2*a;function f(e){return r+e*t+t/2}function p(){return n+a/2}function v(){return n+1.5*a}function m(e){if(0===e)return 0;var t=Math.max.apply(Math,(0,we.A)(u.value.flatMap((function(e){return[e.favorable,e.unfavorable]}))));if(0===t)return i;var r=Math.sqrt(e/t);return i+(l-i)*r}return{criteriaData:u,tableWidth:c,tableHeight:s,labelWidth:r,headerHeight:n,rowHeight:a,cellWidth:t,getCellCenterX:f,getFavorableY:p,getUnfavorableY:v,getCircleRadius:m}}});const Ya=(0,$.A)(Qa,[["render",Ka],["__scopeId","data-v-0ebc65a7"]]);var $a=Ya,Ja={class:"alternatives-comparison"},Za=["width","height"];function ei(e,t,r,n,a,i){return(0,o.uX)(),(0,o.CE)("div",Ja,[((0,o.uX)(),(0,o.CE)("svg",{ref:"chartRef",width:e.width,height:e.height},null,8,Za))])}var ti=(0,o.pM)({name:"AlternativesComparison",props:{arguments:{type:Array,required:!0}},setup:function(e){var t=(0,c.KR)(null),r=800,n=400,a=(0,o.EW)((function(){var t={};return e.arguments.forEach((function(e){var r=e.alternative||"Unknown";t[r]||(t[r]={favorable:0,unfavorable:0}),e.favorable?t[r].favorable++:t[r].unfavorable++})),t})),i=function(){if(t.value){var e=t.value;e.innerHTML="";var i=Object.entries(a.value);if(0!==i.length){var o={top:20,right:20,bottom:60,left:60},l=r-o.left-o.right,u=n-o.top-o.bottom,c=Math.max.apply(Math,(0,we.A)(i.map((function(e){var t=(0,d.A)(e,2),r=t[1];return r.favorable+r.unfavorable})))),s=l/i.length/2.5,f=l/i.length,p=document.createElementNS("http://www.w3.org/2000/svg","g");p.setAttribute("transform","translate(".concat(o.left,",").concat(o.top,")")),i.forEach((function(e,t){var r=(0,d.A)(e,2),n=r[0],a=r[1],i=t*f,o=a.favorable/c*u,l=a.unfavorable/c*u,v=document.createElementNS("http://www.w3.org/2000/svg","rect");v.setAttribute("x",String(i)),v.setAttribute("y",String(u-o)),v.setAttribute("width",String(s)),v.setAttribute("height",String(o)),v.setAttribute("fill","#4CAF50"),p.appendChild(v);var m=document.createElementNS("http://www.w3.org/2000/svg","rect");m.setAttribute("x",String(i+s+5)),m.setAttribute("y",String(u-l)),m.setAttribute("width",String(s)),m.setAttribute("height",String(l)),m.setAttribute("fill","#F44336"),p.appendChild(m);var h=document.createElementNS("http://www.w3.org/2000/svg","text");h.setAttribute("x",String(i+s)),h.setAttribute("y",String(u+20)),h.setAttribute("text-anchor","middle"),h.setAttribute("font-size","12"),h.setAttribute("transform","rotate(45, ".concat(i+s,", ").concat(u+20,")")),h.textContent=n.length>12?n.substring(0,12)+"...":n,p.appendChild(h)}));var v=document.createElementNS("http://www.w3.org/2000/svg","line");v.setAttribute("x1","0"),v.setAttribute("y1","0"),v.setAttribute("x2","0"),v.setAttribute("y2",String(u)),v.setAttribute("stroke","#666"),p.appendChild(v);var m=document.createElementNS("http://www.w3.org/2000/svg","line");m.setAttribute("x1","0"),m.setAttribute("y1",String(u)),m.setAttribute("x2",String(l)),m.setAttribute("y2",String(u)),m.setAttribute("stroke","#666"),p.appendChild(m),e.appendChild(p)}}};return(0,o.sV)((function(){i()})),(0,o.wB)((function(){return e.arguments}),(function(){i()}),{deep:!0}),{chartRef:t,width:r,height:n}}});const ri=(0,$.A)(ti,[["render",ei],["__scopeId","data-v-225f8ca9"]]);var ni=ri,ai={class:"crosstab-chart"},ii={class:"font-weight-medium"};function oi(e,t,r,n,a,i){var u=(0,o.g2)("v-chip"),c=(0,o.g2)("v-table");return(0,o.uX)(),(0,o.CE)("div",ai,[(0,o.bF)(c,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[t[0]||(t[0]=(0,o.Lk)("th",{class:"text-left"},"Criteria / Stakeholders",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.stakeholders,(function(e){return(0,o.uX)(),(0,o.CE)("th",{key:e.id,class:"text-center"},(0,l.v_)(e.name),1)})),128))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.criterions,(function(t){return(0,o.uX)(),(0,o.CE)("tr",{key:t.id},[(0,o.Lk)("td",ii,(0,l.v_)(t.name),1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.stakeholders,(function(r){return(0,o.uX)(),(0,o.CE)("td",{key:"".concat(t.id,"-").concat(r.id),class:"text-center"},[(0,o.bF)(u,{color:e.getColor(e.getCellCount(t.id,r.id)),"text-color":"white",size:"small"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(e.getCellCount(t.id,r.id)),1)]})),_:2},1032,["color"])])})),128))])})),128))])]})),_:1})])}var li=(0,o.pM)({name:"CrosstabChart",props:{arguments:{type:Array,required:!0},stakeholdersMap:{type:Object,default:null},criterionsMap:{type:Object,default:null}},setup:function(e){var t=(0,o.EW)((function(){return e.stakeholdersMap?Object.values(e.stakeholdersMap).sort((function(e,t){return e.name.localeCompare(t.name)})):[]})),r=(0,o.EW)((function(){return e.criterionsMap?Object.values(e.criterionsMap).sort((function(e,t){return e.name.localeCompare(t.name)})):[]})),n=function(t,r){return e.arguments.filter((function(e){return e.criterion===t&&e.stakeholder===r})).length},a=function(e){return 0===e?"#E0E0E0":e<=2?"#FFEB3B":e<=5?"#FF9800":"#F44336"};return{stakeholders:t,criterions:r,getCellCount:n,getColor:a}}});const ui=(0,$.A)(li,[["render",oi],["__scopeId","data-v-4e1da175"]]);var ci=ui,si=(0,o.pM)({name:"ChartView",components:{Header:Se,ArgumentCount:ua,BarChart:Ea,CircleChart:$a,AlternativesComparison:ni,CrosstabChart:ci},setup:function(){var e=(0,c.KR)("argument-count"),t=[{id:"argument-count",label:"Argument Count",icon:"mdi-counter"},{id:"bar-chart",label:"Bar Chart",icon:"mdi-chart-bar"},{id:"pie-chart",label:"Circle Chart",icon:"mdi-chart-bubble"},{id:"alternatives-comparison",label:"Alternatives Comparison",icon:"mdi-compare"},{id:"crosstab",label:"Cross-tab: Criteria x Stakeholders",icon:"mdi-table"}],r=(0,o.EW)((function(){return au()}));return{state:v,selectedChart:e,charts:t,filteredItems:r}}});const di=(0,$.A)(si,[["render",Wn],["__scopeId","data-v-d5816196"]]);var fi=di,pi=[{name:"home",path:"/",component:be},{name:"global-view",path:"/project/global-view",component:Gr},{name:"project",path:"/project/",component:re},{name:"property-view",path:"/project/property-view",component:sn,props:!0},{name:"stakeholder-view",path:"/project/stakeholder-view",component:Cn,props:!0},{name:"chart-view",path:"/project/chart-view",component:fi}],vi=(0,s.aE)({history:(0,s.LA)("/"),routes:pi});vi.beforeEach(function(){var e=(0,a.A)((0,n.A)().mark((function e(t,r,a){return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:_(),a();case 2:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),vi.afterEach(function(){var e=(0,a.A)((0,n.A)().mark((function e(t,r){var a,i,o,l,u,c;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.path.startsWith("/project")){e.next=11;break}if(a=_l(t),i=_l(r),o=Sl(t),l=Sl(r),u=a===i&&o===l,u){e.next=9;break}return e.next=9,hi();case 9:e.next=12;break;case 11:"string"===typeof(null===(c=t.meta)||void 0===c?void 0:c.title)?zi(t.meta.title):zi("My Choice");case 12:L();case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());var mi,hi=function(){var e=(0,a.A)((0,n.A)().mark((function e(){var t;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=vi.currentRoute.value,!(t.query[mi.ICO]||t.query[mi.GOOGLE_SPREADSHEET]||t.query[mi.NEXTCLOUD]||t.query["demo"])){e.next=13;break}return e.prev=2,e.next=5,Xl(t);case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e["catch"](2),console.info("LOAD FAIL, RETRY WITHOUT CACHE!"),bl(t),e.next=13,Xl(t);case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),bi=vi,gi=function(e){var t=bi.currentRoute.value.query||{};if(!e.name&&!e.path)throw new Error("La route doit contenir un `name` ou un `path`");var r=(0,W.A)({query:t},e);e.name&&delete r.path,e.path&&delete r.name,bi.push(r)},ki=function(e){gi({name:e})};(function(e){e["ICO"]="name",e["GOOGLE_SPREADSHEET"]="spreadsheet",e["XLSX"]="xlsx",e["NEXTCLOUD"]="nextcloud"})(mi||(mi={}));var yi=mi.ICO,xi=mi.GOOGLE_SPREADSHEET,Ai=(mi.XLSX,mi.NEXTCLOUD),Ci=(0,o.EW)((function(){return v.vm&&v.vm.$route&&v.vm.$route.query&&(v.vm.$route.query.name||v.vm.$route.query.spreadsheet)?v.vm.$route.query.name||v.vm.$route.query.spreadsheet:null})),wi=(0,o.EW)((function(){return(0,Ee.uniqBy)(v.notifications,"message")})),Ei=function(){var e=[];return Object.entries(v.errors).forEach((function(t){var r=(0,d.A)(t,2),n=r[0],a=r[1];if(!1!==a)return e.push(n)})),e},Fi=function(e){return v.errorMessages[e]||v.errors[e]},_i=function(){Object.keys(v.errors).forEach((function(e){v.errors[e]=!1}))},Li=r(3772),Si=(r(2811),r(1148),r(9492)),Ii=r(5026),Oi=r(8108),Wi=r(8578),ji=r(7787),Xi=(r(5440),r(4353)),Pi=r.n(Xi),Ti=r(445),Ri=r.n(Ti);Pi().extend(Ri());var Di,Mi=function(e){function t(e){var r;(0,Ii.A)(this,t);for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return r=(0,Oi.A)(this,t,[].concat(a)),r.name=e,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=new Error(r.message).stack,r}return(0,Wi.A)(t,e),(0,Si.A)(t)}((0,ji.A)(Error)),Ni=function(e,t){v.errors[e]=t},Hi=function(e){return Pi()(e,"DD/MM/YY").format("MMMM YYYY")},Bi=function(e,t,r){var n=(e-t)/(r-t);return isFinite(n)||(n=e),n},Vi=function(e,t){return e.sort((function(e,r){return e[t]>r[t]?1:-1}))},qi=function(e){return Object.keys(e).sort().reduce((function(t,r){return t[r]=e[r],t}),{})},Ui=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s",a=e,i=/{([^:}]+)(?:(?::)([^}]+))?}/g;while(null!==(r=i.exec(e))){if(r.index===i.lastIndex&&i.lastIndex++,void 0===r[2]){var o=new RegExp("\\{"+r[1]+"\\}","g");a=a.replace(o,"".concat(t[r[1]]))}if(void 0!==r[2]){var l=r[1],u=r[2],c=t[u],s=new RegExp("\\{"+l+":"+u+"\\}","g");a=Number(c)>1&&t.plural?a.replace(s,"".concat(t.plural)):a.replace(s,"".concat(l).concat(Number(c)>1?n:""))}}return a},zi=function(e){document.title=e},Gi=r(5811),Ki=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://sheets.googleapis.com/v4/spreadsheets/".concat(t,"?key=").concat("AIzaSyDEksLxmlJt3Ru6Uv8qakqnCZ05ViwHZyA"));case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qi=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i,o,l;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ki(t);case 3:return r=e.sent,a=r.sheets,i=[],o={},a.forEach((function(e){o[e.properties.index]=e.properties.title,i.push(Gi.getWorksheet(t,e.properties.title,"AIzaSyDEksLxmlJt3Ru6Uv8qakqnCZ05ViwHZyA"))})),e.next=10,Promise.all(i);case 10:return l=e.sent,e.abrupt("return",l.map((function(e,t){var r=e.data;return{data:r,title:o[t],index:t}})));case 14:throw e.prev=14,e.t0=e["catch"](0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),Yi=function(e,t){return new Promise((function(r,n){var a=null,i=t.every((function(t){return a=t,!!Object.prototype.hasOwnProperty.call(e,t)}));i?r(!0):n(a)}))},$i=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r={argument:["idArgument","assertion","explanation","date","nameStakeHolder","nameProperty","value","typeProCon","nameAlternative","nameCriterion","nameSource","aim","nameTypeSource","isProspective"],project:["nameProject"],alternative:["nameAlternative","iconAlternative"],product:["nameAlternative","productUri","nameProduct","tagProduct"],composition:["uriCompose","nameCompose","typeComposant","uriComposant","nameComposant","Rang","tagComposant"]},a=r[t.title],i=t.data[0],!i){e.next=9;break}return e.next=6,Yi(i,a).then((function(e){return e}),(function(e){throw new Mi("SPREADSHEET_ERROR","On <b>".concat(t.title,"</b> sheet, the <b>").concat(e,"</b> column is missing or misspelled"))}));case 6:return e.abrupt("return",e.sent);case 9:Ni("SPREADSHEET_ERROR","No data found in the <b>".concat(t.title,"</b> sheet"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ji=function(e){e.spreadsheetId;var t=e.item,r=e.worksheet,n=e.line,a=e.keys;a.forEach((function(e,a){if(null===t[e])throw new Mi("SPREADSHEET_ERROR","On <b>".concat(r.title,"</b> sheet, the <b>").concat(String(e),"</b> on line <b>").concat(n,"</b> is empty and must be filled"))}))},Zi=function(e){var t={};e.forEach((function(e){t[e.aim]?t[e.aim].includes(e.nameCriterion)||t[e.aim].push(e.nameCriterion):t[e.aim]=[e.nameCriterion]})),Object.entries(t).forEach((function(e){var t=(0,d.A)(e,2),r=t[0],n=t[1];n.length>1&&Ni("SPREADSHEET_ERROR_"+r,"The <b>".concat(r,"</b> aim should be associated with only one criterion, but has been found in ").concat(n.length," criteria : <b>").concat(n.join("</b>, <b>"),"</b>"))}))},eo=function(){var e=(0,a.A)((0,n.A)().mark((function e(t,r){var a,i,o;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.find((function(e){return"argument"===e.title})),i=t[a.index].data,o=i.map((function(e){return Object.keys(e).reduce((function(t,r){try{t[r]=JSON.parse(e[r])}catch(n){t[r]=e[r]}return t}),{})})),e.prev=3,e.next=6,$i(a);case 6:Zi(o),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](3),e.t0;case 12:return e.abrupt("return",o.map((function(e,t){var n=t+2;if("-"!==e.typeProCon&&"+"!==e.typeProCon)throw new Mi("SPREADSHEET_ERROR","On <b>".concat(a.title,"</b> sheet, the <b>typeProCon</b> on line <b>").concat(n,"</b> is <b>").concat(e.typeProCon,"</b> and should be <b>-</b> or <b>+</b> "));Ji({spreadsheetId:r,item:e,worksheet:a,line:n,keys:["nameSource","idArgument","nameProperty","value","nameStakeHolder","nameAlternative","nameCriterion","aim","nameTypeSource"]});var i={id:e.idArgument,stakeholder:e["nameStakeHolder"],property:e["nameProperty"],favorable:"+"===e.typeProCon,alternative:e["nameAlternative"],criterion:e["nameCriterion"],source:e["nameSource"],sourceType:e["nameTypeSource"],value:e["value"],aim:e["aim"],date:e["date"]?e["date"].toString():null,tagInitiator:e["tagInitiator"]||void 0};return delete e.idArgument,delete e["nameStakeHolder"],delete e["nameProperty"],delete e.typeProCon,delete e["nameAlternative"],delete e["nameCriterion"],delete e["nameSource"],delete e["nameTypeSource"],delete e["value"],delete e["aim"],delete e["tagInitiator"],(0,W.A)((0,W.A)({},e),i)})));case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,r){return e.apply(this,arguments)}}(),to=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i,o,l,u,c,s,d,f,p,v,m,h,b,g,k,y;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.find((function(e){return"project"===e.title})),e.prev=1,e.next=4,$i(r);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](1),e.t0;case 9:return a=r.data[0],i=t.find((function(e){return"alternative"===e.title})),e.prev=11,e.next=14,$i(i);case 14:i.data.forEach((function(e,t){var r=t+2;if(null===e.iconAlternative)throw new Mi("SPREADSHEET_ERROR","On <b>".concat(i.title,"</b> sheet, the <b>iconAlternative</b> on line <b>").concat(r,"</b> is <b>empty</b> and should be a valid icon name"))})),e.next=20;break;case 17:throw e.prev=17,e.t1=e["catch"](11),e.t1;case 20:if(o=i.data,l=o.map((function(e){return{name:e.nameAlternative,description:e.description,image:e.imageAlternative,icon:e.iconAlternative}})),u=t.find((function(e){return"hasexpertise"===e.title})),c=u.data,s=c.map((function(e){return{nameStakeHolder:e["nameStakeHolder"],nameCriterion:e["nameCriterion"]}})),d=t.find((function(e){return"typesource"===e.title})),f=d.data,p=f.map((function(e){return{fiability:e.fiability.toString(),nameTypeSource:e.nameTypeSource}})),v=[],m=t.find((function(e){return"product"===e.title})),!(m&&m.data.length>0)){e.next=41;break}return e.prev=31,e.next=34,$i(m);case 34:h=m.data,v=h.map((function(e){return{nameAlternative:e.nameAlternative,productUri:e.productUri,nameProduct:e.nameProduct,tagProduct:e.tagProduct?e.tagProduct.split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e})):[]}})),e.next=41;break;case 38:throw e.prev=38,e.t2=e["catch"](31),e.t2;case 41:if(b=[],g=t.find((function(e){return"composition"===e.title})),!(g&&g.data.length>0)){e.next=54;break}return e.prev=44,e.next=47,$i(g);case 47:k=g.data,b=k.map((function(e){return{uriCompose:e.uriCompose,nameCompose:e.nameCompose,typeComposant:e.typeComposant,uriComposant:e.uriComposant,nameComposant:e.nameComposant,rang:e.Rang,tagComposant:e.tagComposant?e.tagComposant.split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e})):[]}})),e.next=54;break;case 51:throw e.prev=51,e.t3=e["catch"](44),e.t3;case 54:return y={name:a.nameProject,image:a.image,description:a.description,alternatives:l,expertiseEntities:s,sourceTypeEntities:p,products:v.length>0?v:void 0,compositions:b.length>0?b:void 0},e.abrupt("return",y);case 56:case"end":return e.stop()}}),e,null,[[1,6],[11,17],[31,38],[44,51]])})));return function(t){return e.apply(this,arguments)}}(),ro=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qi(t);case 3:return r=e.sent,e.next=6,eo(r,t);case 6:return a=e.sent,e.next=9,to(r);case 9:return i=e.sent,e.abrupt("return",{items:a,project:i});case 13:throw e.prev=13,e.t0=e["catch"](0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),no=function(e){var t=new RegExp("/spreadsheets/d/([a-zA-Z0-9-_]+)").exec(e);if(t){var r=t[1];return r}return e},ao=function(e){var t=e,r={stakeholders:t.nameStakeholder,name:t.nameProject,aims:t.aim,criterions:t.nameCriterion,alternatives:t.alternatives.map((function(e){var t={name:e.nameAlternative,image:e.imageAlternative,icon:e.iconAlternative};return delete e.nameAlternative,(0,W.A)((0,W.A)({},e),t)})),sourceTypeEntities:t.typeSource,expertiseEntities:t.hasExpertise};return delete t.typeSource,delete t.hasExpertise,delete t.nameStakeholder,delete t.aim,delete t.nameProject,delete t.nameCriterion,(0,W.A)((0,W.A)({},t),r)},io=function(e){return e.map((function(e){var t={id:e.idArgument,stakeholder:e.nameStakeHolder,property:e.nameProperty,favorable:e.typeProCon,alternative:e.nameAlternative,criterion:e.nameCriterion,source:e.nameSource,sourceType:e.nameTypeSource};return delete e.idArgument,delete e.nameStakeHolder,delete e.nameProperty,delete e.typeProCon,delete e.nameAlternative,delete e.nameCriterion,delete e.nameSource,delete e.nameTypeSource,(0,W.A)((0,W.A)({},e),t)}))},oo=function(){var e={id:{csv:"idArgument",server:"idArgument",spreadsheet:"idArgument"},aim:{csv:"aim.description",server:"aim",spreadsheet:"aim"},alternative:{csv:"alternative.nameAlternative",server:"nameAlternative",spreadsheet:"nameAlternative"},assertion:{csv:"assertion",server:"assertion",spreadsheet:"assertion"},criterion:{csv:"criterion.nameCriterion",server:"nameCriterion",spreadsheet:"nameCriterion"},date:{csv:"date",server:"date",spreadsheet:"date"},explanation:{csv:"explanation",server:"explanation",spreadsheet:"explanation"},favorable:{csv:"typeProCon",server:"typeProCon",spreadsheet:"typeProCon"},isProspective:{csv:"isProspective",server:"isProspective",spreadsheet:"isProspective"},property:{csv:"property.nameProperty",server:"nameProperty",spreadsheet:"nameProperty"},source:{csv:"source.nameSource",server:"nameSource",spreadsheet:"nameSource"},sourceType:{csv:"typesource.nameTypeSource",server:"nameTypeSource",spreadsheet:"nameTypeSource"},stakeholder:{csv:"stakeholder.nameStakeholder",server:"nameStakeHolder",spreadsheet:"nameStakeHolder"},value:{csv:"qualvalue.qualValue",server:"value",spreadsheet:"value"},condition:{csv:"condition",server:"condition",spreadsheet:"condition"}};return e},lo=function(e,t){return(0,Ee.findKey)(oo(),(function(r){return r[e]===t}))},uo=function(e,t){var r=oo()[t]&&oo()[t][e];return r||null},co=function(e,t,r){var n=lo(e,r),a=uo(t,n);return a||null},so=function(e){return e.map((function(e){var t={};return Object.entries(e).forEach((function(e){var r=(0,d.A)(e,2),n=r[0],a=r[1],i=co("spreadsheet","csv",n);i&&(t[i]=a)})),t}))},fo=(r(744),function(e,t){var r=e.map((function(e){return e[t]})),n=(0,Ee.uniq)(r);return n}),po=function(e){var t=fo(e,"criterion");return t},vo=function(e,t){var r=e.map((function(e){return[e["aim"],e["criterion"]]})),n=(0,Ee.sortBy)((0,Ee.uniqBy)(r,bo),(function(e){var t=(0,d.A)(e,2),r=t[0];t[1];return r})),a={};return n.forEach((function(e,r){var n=e[0],i=xo(t,e[1],"nameCriterion");r++,a[r]={id:r,name:n,criterion:i}})),a},mo=function(e){var t=fo(e,"stakeholder");return t},ho=function(e){var t=fo(e,"property");return t},bo=function(e){return e.join(":")},go=function(e){var t=e.map((function(e){return[e["property"],e["value"]]})),r=(0,Ee.uniqBy)(t,bo);return r},ko=function(e){var t={};return e.forEach((function(e,r){r++,t[r]={id:r,name:e}})),t},yo=function(e){var t={};return e.forEach((function(e,r){r++,t[r]=(0,W.A)((0,W.A)({id:r},e),{},{icon:"mdi-"+e.icon.replace(/\.[^/.]+$/,"").split(/(\\|\/)/g).pop()||0})})),t},xo=function(e,t,r){var n=Object.values(e).find((function(e){return e.name===t}));try{return n.id}catch(a){throw new Mi("SPREADSHEET_ERROR","Cannot find <b>".concat(t,"</b> in ").concat("nameAlternative"===r?"alternatives":"<b>".concat(r,"</b>")))}},Ao=function(e,t){var r=t.criterions,n=t.aims,a=t.alternatives,i=t.stakeholders;return e.map((function(e){return(0,W.A)((0,W.A)({},e),{},{subOption:!0===JSON.parse(e.favorable.toString().toLowerCase())?1:2,criterion:xo(r,e.criterion,"nameCriterion"),stakeholder:xo(i,e.stakeholder,"nameStakeHolder"),aim:xo(n,e.aim,"aim"),alternative:xo(a,e.alternative,"nameAlternative"),isProspective:1===Number(e.isProspective)})}))},Co=function(e,t){var r=po(e),n=mo(e),a=t.alternatives,i=ko(r.sort()),o=yo(a),l=ko(n.sort()),u=vo(e,i),c=Ao(e,{criterions:i,aims:u,alternatives:o,stakeholders:l});return{criterions:i,alternatives:o,stakeholders:l,aims:u,items:c}},wo=function(e,t){var r=go(e),n=ho(e),a=Co(e,t),i=a.criterions,o=a.alternatives,l=a.stakeholders,u=a.aims,c=a.items,s={criterions:i,alternatives:o,stakeholders:l,labels:r,properties:n,aims:u,items:c,subOptions:{1:{id:1,name:""},2:{id:2,name:""}}};return s},Eo=function(e){var t=(0,Ee.groupBy)(e,"property"),r=Object.values(t).filter((function(e){var t=(0,Ee.groupBy)(e,"aim");if(Object.keys(t).length>1)return e})),n=(0,Ee.flatten)(r);return n},Fo=function(e){var t=(0,Ee.groupBy)(e,"aim"),r=Object.values(t).filter((function(e){var t=(0,Ee.groupBy)(e,"stakeholder");if(Object.keys(t).length>1)return e})),n=(0,Ee.flatten)(r);return n},_o=function(e,t){var r=t.filter((function(t){return e.some((function(e){return e.nameCriterion===t.criterion&&e.nameStakeHolder===t.stakeholder}))}));return r},Lo=function(e,t){var r=t.filter((function(t){return e.some((function(e){return e.nameTypeSource===t.sourceType&&1===Number(e.fiability)}))}));return r},So=function(e){var t=e.filter((function(e){return 1===Number(e.isProspective)}));return t},Io=function(e){var t=Eo(e);return t},Oo=function(e){var t=Fo(e);return t},Wo=r(7065),jo=(0,o.EW)((function(){return v.fields.nextcloudUrl})),Xo=function(e){return"".concat("https://icotest.iate.inra.fr/nextcloud/s/").concat(e,"/download")},Po=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i,o,l;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t,e.next=3,fetch(r);case 3:return a=e.sent,e.next=6,a.blob();case 6:return i=e.sent,o=Ro(t),l=new File([i],o),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),To=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po(t);case 3:return r=e.sent,e.next=6,Bo(r);case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e["catch"](0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Ro=function(e){var t=new RegExp("".concat("https://icotest.iate.inra.fr/nextcloud/s/","([a-zA-Z0-9-_]+)")).exec(e);if(t){var r=t[1];return r}return e},Do=function(){var e=(0,a.A)((0,n.A)().mark((function e(t,r){var a;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bo(t);case 3:a=e.sent,Qo(a.items,a.project,r),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),Mo=function(){var e=(0,a.A)((0,n.A)().mark((function e(t,r){return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Do(t,r);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),No=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wo.onFileSelection(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ho=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,No(t);case 2:return r=e.sent,a=Object.entries(r).map((function(e,t){var r=(0,d.A)(e,2),n=r[0],a=r[1];return{title:n,data:a,index:t}})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bo=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ho(t);case 3:return r=e.sent,e.next=6,eo(r);case 6:return a=e.sent,e.next=9,to(r);case 9:return i=e.sent,e.abrupt("return",{items:a,project:i});case 13:throw e.prev=13,e.t0=e["catch"](0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Vo=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=no(t),a={query:(0,Li.A)({},xi,r),name:"project",path:"/project"},i=bi.resolve(a),e.next=5,bi.push(i);case 5:return e.next=7,Xl(i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qo=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={query:(0,Li.A)({},yi,t),name:"project"},a=bi.resolve(r),e.next=4,bi.push(a);case 4:return e.next=6,Xl(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Uo=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Ro(t),a={query:(0,Li.A)({},Ai,r),name:"project",path:"/project"},i=bi.resolve(a),e.next=5,bi.push(a);case 5:return e.next=7,Xl(i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zo=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i,o,l;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Promise,e.next=3,Go(t);case 3:return e.t1=e.sent,e.next=6,Ko(t);case 6:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.next=10,e.t0.all.call(e.t0,e.t3);case 10:return r=e.sent,a=(0,d.A)(r,2),i=a[0],o=a[1],l={project:i,items:o},e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Go=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=null,e.next=4,Fl(t);case 4:return a=e.sent,r=ao(a),e.abrupt("return",Promise.resolve(r));case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Ko=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=null,e.next=4,El(t);case 4:return a=e.sent,r=io(a),e.abrupt("return",Promise.resolve(r));case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Qo=function(e,t,r){!1!==r?b():(g(),m()),_i();try{var n;if("interplay"===v.mode){var a=Io(e),i=wo(a,t);n=Object.freeze(i)}else if("prospective"===v.mode){var o=So(e),l=wo(o,t);n=Object.freeze(l)}else if("data-reliability"===v.mode){var u=Lo(t.sourceTypeEntities,e),c=wo(u,t);n=Object.freeze(c)}else if("expertise"===v.mode){var s=_o(t.expertiseEntities,e),d=wo(s,t);n=Object.freeze(d)}else if("multi-stakeholder"===v.mode){var f=Oo(e),p=wo(f,t);n=Object.freeze(p)}else{var h=wo(e,t);n=Object.freeze(h)}v.data=n,v.project=t}catch(k){throw k}};r(3110);(function(e){e["ICO"]="ico",e["GOOGLE_SPREADSHEET"]="googlespreadsheet",e["NEXTCLOUD"]="nextcloud",e["XLSX"]="xlsx"})(Di||(Di={}));var Yo={projects:(0,Li.A)((0,Li.A)((0,Li.A)((0,Li.A)({},Di.ICO,{}),Di.GOOGLE_SPREADSHEET,{}),Di.NEXTCLOUD,{}),Di.XLSX,{})},$o="MYCHOICE_CACHE",Jo=function(){var e=localStorage.getItem($o);return JSON.parse(e||"{}")||Yo},Zo=function(){var e=Jo();return(null===e||void 0===e?void 0:e.projects)||Yo.projects},el=function(e,t){return Object.values(Zo()[e]).find((function(e){return e.id===t}))},tl=function(e){localStorage.setItem($o,JSON.stringify(e))},rl=function(e){var t=Jo(),r=(0,Ee.merge)(t,e);tl(r)},nl=function(e){var t=Jo(),r=(0,Ee.omit)(t,e);tl(r)},al=function(e,t){rl({projects:(0,Li.A)({},e,(0,Li.A)({},t.id,t))})},il=function(e,t){al(e,t)},ol=function(e){return Zo()[e]},ll=function(e){if(!e)return{};var t={};return Object.entries(e).filter((function(e){var t=(0,d.A)(e,1),r=t[0];return r!==Di.GOOGLE_SPREADSHEET&&r!==Di.NEXTCLOUD})).forEach((function(e){var r=(0,d.A)(e,2),n=r[0],a=r[1];Object.entries(a).forEach((function(e){var r=(0,d.A)(e,2),a=r[0],i=r[1],o=pl(n,a);t[o]=(0,W.A)((0,W.A)({},i),{},{type:n})}))})),t},ul=(0,o.EW)((function(){return v.recentProjects})),cl=(0,o.EW)((function(){return!!Object.keys(ul.value).length})),sl=function(){v.recentProjects=dl(Zo())},dl=function(e){var t=ll(e),r=Object.keys(t).sort((function(e,r){return t[r].date-t[e].date})).reduce((function(e,r,n){return e[n]=t[r],e}),{}),n=Object.entries(r).map((function(e){var t=(0,d.A)(e,2),r=(t[0],t[1]);return r}));return n},fl=function(e,t){var r=t.name,n=t.id;if(void 0!==n){var a=Object.keys(ol(e)).includes(n);a?(r&&al(e,{name:r,id:n}),al(e,{date:Date.now(),id:n,type:e})):al(e,{name:r,id:n,date:Date.now(),type:e}),sl()}},pl=function(e,t){return"".concat(e,"-").concat(t)},vl=function(e,t){var r=t.id,n=v.recentProjects.some((function(t){return t.type===e&&t.id===r}));n&&(ml(e,r),sl())},ml=function(e,t){nl("projects.".concat(e,".").concat(t))},hl=function(e,t){nl("projects.".concat(e,".").concat(t,".data"))},bl=function(e){e.query[mi.ICO]&&hl(Di.ICO,e.query[mi.ICO]),e.query[mi.GOOGLE_SPREADSHEET]&&hl(Di.GOOGLE_SPREADSHEET,e.query[mi.GOOGLE_SPREADSHEET]),e.query[mi.NEXTCLOUD]&&hl(Di.NEXTCLOUD,e.query[mi.NEXTCLOUD]),e.query[mi.XLSX]&&hl(Di.XLSX,e.query[mi.XLSX])},gl=function(e){return!!xl(e)},kl=function(e){var t=Sl(e);if(t)return e.query[mi.GOOGLE_SPREADSHEET]?el(Di.GOOGLE_SPREADSHEET,t):e.query[mi.ICO]?el(Di.ICO,t):e.query[mi.NEXTCLOUD]?el(Di.NEXTCLOUD,t):e.query[mi.XLSX]?el(Di.XLSX,t):void 0},yl=function(e,t){var r=Sl(e);r&&(e.query[mi.GOOGLE_SPREADSHEET]&&il(Di.GOOGLE_SPREADSHEET,{id:r,data:t}),e.query[mi.ICO]&&il(Di.ICO,{id:r,data:t}),e.query[mi.NEXTCLOUD]&&il(Di.NEXTCLOUD,{id:r,data:t}),e.query[mi.XLSX]&&il(Di.XLSX,{id:r,data:t}))},xl=function(e){var t=kl(e);return null===t||void 0===t?void 0:t.data},Al=function(e){v.recentProjectNames[e]&&(delete v.recentProjectNames[e],localStorage.recentProjectNames=JSON.stringify(v.recentProjectNames))},Cl=function(e){vl(Di.GOOGLE_SPREADSHEET,{id:e})},wl=function(){return"http://localhost:8080/api/"},El=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=null,a=wl()+"arguments?project="+t,e.prev=2,t){e.next=5;break}throw Error();case 5:return e.next=7,fetch(a);case 7:return i=e.sent,e.next=10,i.json();case 10:r=e.sent,e.next=17;break;case 13:throw e.prev=13,e.t0=e["catch"](2),console.warn("Fetch error, unable to fetch arguments: "+a),e.t0;case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),Fl=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=null,a=wl()+"project?name="+t,e.prev=2,t){e.next=5;break}throw Error();case 5:return e.next=7,fetch(a);case 7:return i=e.sent,e.next=10,i.json();case 10:r=e.sent,e.next=17;break;case 13:throw e.prev=13,e.t0=e["catch"](2),console.warn("Fetch error, unable to fetch project:"+a),e.t0;case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),_l=function(e){return Object.prototype.hasOwnProperty.call(e.query,mi.GOOGLE_SPREADSHEET)?Di.GOOGLE_SPREADSHEET:Object.prototype.hasOwnProperty.call(e.query,mi.ICO)?Di.ICO:Object.prototype.hasOwnProperty.call(e.query,mi.XLSX)?Di.XLSX:Object.prototype.hasOwnProperty.call(e.query,mi.NEXTCLOUD)?Di.NEXTCLOUD:null},Ll=function(e){return e===Di.GOOGLE_SPREADSHEET?mi.GOOGLE_SPREADSHEET:e===Di.ICO?mi.ICO:e===Di.XLSX?mi.XLSX:e===Di.NEXTCLOUD?mi.NEXTCLOUD:null},Sl=function(e){return Object.prototype.hasOwnProperty.call(e.query,mi.GOOGLE_SPREADSHEET)?e.query[mi.GOOGLE_SPREADSHEET]:Object.prototype.hasOwnProperty.call(e.query,mi.ICO)?e.query[mi.ICO]:Object.prototype.hasOwnProperty.call(e.query,mi.XLSX)?e.query[mi.XLSX]:Object.prototype.hasOwnProperty.call(e.query,mi.NEXTCLOUD)?e.query[mi.NEXTCLOUD]:null},Il=function(){var e=(0,a.A)((0,n.A)().mark((function e(t,r){var a,i;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=Sl(t),a){e.next=3;break}throw new Error("Spreadsheet ID is required");case 3:if(fl(Di.GOOGLE_SPREADSHEET,{id:a}),i=null,!gl(t)){e.next=10;break}i=xl(t),v.notifications.push({message:"Spreadsheet loaded from cache"}),e.next=13;break;case 10:return e.next=12,ro(a);case 12:i=e.sent;case 13:if(i){e.next=15;break}throw new Error("Failed to load spreadsheet data");case 15:fl(Di.GOOGLE_SPREADSHEET,{name:i.project&&i.project.name?i.project.name:void 0,id:a}),e.prev=16,Qo(i.items,i.project,r),yl(t,i),v.spreadsheet=a,e.next=25;break;case 22:throw e.prev=22,e.t0=e["catch"](16),e.t0;case 25:case"end":return e.stop()}}),e,null,[[16,22]])})));return function(t,r){return e.apply(this,arguments)}}(),Ol=function(){var e=(0,a.A)((0,n.A)().mark((function e(t,r){var a,i;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=Sl(t),a){e.next=3;break}throw new Error("ICO ID is required");case 3:if(fl(Di.ICO,{id:a}),i=null,!gl(t)){e.next=10;break}i=xl(t),v.notifications.push({message:"Ico project loaded from cache"}),e.next=13;break;case 10:return e.next=12,zo(a);case 12:i=e.sent;case 13:if(i){e.next=15;break}throw new Error("Failed to load ICO data");case 15:i.project&&i.project.name&&fl(Di.ICO,{name:i.project.name?i.project.name:void 0,id:i.project.name}),e.prev=16,Qo(i.items,i.project,r),yl(t,i),e.next=24;break;case 21:throw e.prev=21,e.t0=e["catch"](16),e.t0;case 24:case"end":return e.stop()}}),e,null,[[16,21]])})));return function(t,r){return e.apply(this,arguments)}}(),Wl=function(){var e=(0,a.A)((0,n.A)().mark((function e(t,r){var a,i,o;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=Sl(t),a){e.next=3;break}throw new Error("Nextcloud ID is required");case 3:if(fl(Di.NEXTCLOUD,{id:a}),i=null,!gl(t)){e.next=10;break}i=xl(t),v.notifications.push({message:"Nextcloud project loaded from cache"}),e.next=14;break;case 10:return o=Xo(a),e.next=13,To(o);case 13:i=e.sent;case 14:if(i){e.next=16;break}throw new Error("Failed to load Nextcloud data");case 16:fl(Di.NEXTCLOUD,{name:i.project&&i.project.name?i.project.name:void 0,id:a}),e.prev=17,Qo(i.items,i.project,r),yl(t,i),e.next=25;break;case 22:throw e.prev=22,e.t0=e["catch"](17),e.t0;case 25:case"end":return e.stop()}}),e,null,[[17,22]])})));return function(t,r){return e.apply(this,arguments)}}(),jl=function(e){var t=e.type,r=e.id,n=Ll(t);if(!n)throw new Error("Route type is undefined for this project type.");var a={query:(0,Li.A)({},n,r),name:"project",path:"/project",params:{},matched:[],fullPath:"/project",hash:"",redirectedFrom:void 0,meta:{}},i=bi.resolve(a).href;return i},Xl=function(){var e=(0,a.A)((0,n.A)().mark((function e(t,r){var a,i;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(_(),e.prev=1,_l(t)!==Di.GOOGLE_SPREADSHEET){e.next=5;break}return e.next=5,Il(t,r);case 5:if(_l(t)!==Di.ICO){e.next=8;break}return e.next=8,Ol(t,r);case 8:if(_l(t)!==Di.NEXTCLOUD){e.next=11;break}return e.next=11,Wl(t,r);case 11:if(_l(t)!==Di.XLSX){e.next=20;break}if(a=p.value,!(a&&a.files&&a.files[0])){e.next=19;break}return i=a.files[0],e.next=17,Mo(i,r);case 17:e.next=20;break;case 19:console.error("No file selected or file input is not valid.");case 20:L(),e.next=35;break;case 23:if(e.prev=23,e.t0=e["catch"](1),L(),!(e.t0 instanceof Mi)){e.next=32;break}throw console.warn(e.t0.name,"MYCHOICE ERROR"),Ni(e.t0.name,e.t0.message),Error(e.t0.stack);case 32:throw Ni(e.t0.name,e.t0.message),console.warn(e.t0.stack,"stack"),e.t0;case 35:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t,r){return e.apply(this,arguments)}}(),Pl=function(){return v.data.alternatives},Tl=function(){var e=Object.keys(Pl());return e.map((function(e){return Number(e)}))},Rl=function(){return Object.keys(Pl()).map((function(e){return Number(e)}))},Dl=(0,o.EW)((function(){return Object.keys(Pl()).map((function(e){return Number(e)}))})),Ml=function(e){return Pl()[e]},Nl=function(e){return Ml(e).name},Hl=function(){var e=v.data.aims;return e},Bl=function(){return Object.keys(Hl()).map((function(e){return Number(e)}))},Vl=function(){var e=Object.keys(Hl());return e.map((function(e){return Number(e)}))},ql=function(e){return Hl()[e]},Ul=function(e,t){var r=Object.values(Hl()).filter((function(r){return Number(r[e])===Number(t)}));return r},zl=function(e){return Hl()[e]&&Hl()[e].name},Gl=function(){return Bl().filter((function(e){return au().some((function(t){return t.aim===e}))}))},Kl=function(e){return(0,Ee.uniqBy)(e,"aim").map((function(e){return e.aim}))},Ql=function(e,t){return e.filter((function(e){return ql(e).criterion===t})).length},Yl=function(){var e=v.data.criterions;return e},$l=(0,o.EW)((function(){return v.data.criterions})),Jl=function(){return Object.keys(Yl()).map((function(e){return Number(e)}))},Zl=(0,o.EW)((function(){return Object.keys($l.value).map((function(e){return Number(e)}))})),eu=function(e){return Yl()[e]},tu=function(e){return Yl()[Number(e)].name},ru=function(){return Jl().filter((function(e){return au().some((function(t){return t.criterion===e}))}))},nu=((0,o.EW)((function(){return Zl.value.filter((function(e){return au().some((function(t){return t.criterion===e}))}))})),function(){var e=v.data.items;return e}),au=function(){var e=cu(nu(),v.searchInput);return v.selectedAims.length&&(e=e.filter((function(e){return v.selectedAims.includes(e["aim"])}))),v.selectedStakeholders.length&&(e=e.filter((function(e){return v.selectedStakeholders.includes(e["stakeholder"])}))),v.selectedCriterions.length&&(e=e.filter((function(e){return v.selectedCriterions.includes(Number(Hl()[e["aim"]].criterion))}))),e},iu=function(e,t){var r=Object.entries(t);return e.filter((function(e){return r.every((function(t){var r=(0,d.A)(t,2),n=r[0],a=r[1];return e[n]===a}))}))},ou=function(e){return e?iu(nu(),e):[]},lu=function(e){return Object.values((0,Ee.groupBy)(e,(function(e){var t=e.property,r=e.value,n=e.assertion,a=e.explanation,i=e.stakeholder;return JSON.stringify({property:t,value:r,assertion:n,explanation:a,stakeholder:i})})))},uu=function(e){return iu(au(),e)},cu=function(e,t){return e.filter((function(e){return Object.keys(e).some((function(r){if(["property","value"].includes(r)){var n=e[r];return n.toString().toLowerCase().includes(t.toString().toLowerCase())}}))}))},su=function(e){var t={},r=Tl();return r.forEach((function(r){var n=e.filter((function(e){return e.alternative===r}));t[r]=n})),t},du=function(e){var t={},r=Vl();return r.forEach((function(r){var n=e.filter((function(e){return e.aim===r}));t[r]=n})),t},fu=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={},n=t?au():nu();return n.forEach((function(t){var n=t[e];r[n]?r[n].push(t):r[n]=[t]})),qi(r)},pu=function(e,t){return(0,Ee.groupBy)(uu(e),t)},vu=function(){return v.data.subOptions},mu=function(){return Object.keys(vu()).map((function(e){return Number(e)}))},hu=function(e){return vu()[e]},bu=function(){var e=v.data.stakeholders;return e},gu=function(){return Object.keys(bu()).map((function(e){return Number(e)}))},ku=function(e){return bu()[e]&&bu()[e].name},yu=function(e){var t={};return Object.keys(e).sort().forEach((function(r){t[r]=e[r]})),JSON.stringify(t)},xu=function(){return v.selectedSupersets},Au=function(e){v.selectedSuperset=yu(e)},Cu=function(e){v.selectedSuperset=""},wu=function(e){v.selectedSuperset===yu(e)?Cu(e):Au(e)},Eu=function(e){_u(e)||v.selectedSupersets.push(yu(e))},Fu=function(e){var t=yu(e),r=xu().indexOf(t);r>-1&&v.selectedSupersets.splice(r,1)},_u=function(e){return xu().find((function(t){return t===yu(e)}))},Lu=function(e){return Math.round(100*e)/100},Su=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=du(e),n={},a={};return Object.entries(r).map((function(e){var t=(0,d.A)(e,2),r=t[0],a=t[1],i=(Number(r),Iu(a));Object.entries(i).forEach((function(e){var t=(0,d.A)(e,2),r=t[0],a=t[1],i=Number(r);(n[i]||(n[i]=[])).push(a)}))})),Object.entries(n).forEach((function(r){var n=(0,d.A)(r,2),i=n[0],o=n[1],l=Ou(o)/e.length,u=Number.isNaN(l)?null:t?Lu(l):l;a[Number(i)]=u})),a},Iu=function(e){var t=su(e),r={};return Object.entries(t).forEach((function(t){var n,a=(0,d.A)(t,2),i=a[0],o=a[1],l=Number(i),u=o.filter((function(e){return 1===e.subOption})),c=o.filter((function(e){return 2===e.subOption})),s=u.length+1,f=(c.length,o.length+2),p=0===e.length,v=0===u.length&&0===c.length&&e.length>0;n=p?0:v?.5:s/f;var m=n*e.length;r[l]=m})),r},Ou=function(e){return e.reduce((function(e,t){return e+t}))},Wu=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0===e.length)return null;e.filter((function(e){return 1===e.subOption}));var r=e.filter((function(e){return 2===e.subOption})),n=e.length-r.length,a=Bi(n,0,e.length);return t?Lu(a):a},ju=function(e){return null===e?"":1===e?"pro":0===e?"con":"mix"},Xu=function(e){var t=au(),r=su(t),n=r[e];return Wu(n)},Pu=function(e,t){var r=iu(e,t).map((function(e){var t=e.property,r=e.value;return{property:t,value:r}}));return(0,Ee.uniqBy)(r,(function(e){return[e.property,e.value].join(":")}))},Tu=function(e){return Pu(au(),e)},Ru=function(){return gu().map((function(e){return{text:ku(e),value:e}}))},Du=function(){return Bl().map((function(e){return{text:zl(e),value:e}}))},Mu=function(){return Jl().map((function(e){return{text:tu(e),value:e}}))},Nu=function(){return Object.entries(v.modes).map((function(e){var t=(0,d.A)(e,2),r=t[0],n=t[1];return{text:n.name,value:r}}))},Hu=function(){var e;null===(e=p.value)||void 0===e||e.click()},Bu=function(e){e.preventDefault(),e.stopPropagation()},Vu=function(e){Bu(e),Qu(e)},qu=function(e){Bu(e),Yu(e)},Uu=function(e){Bu(e),Qu(e)},zu=function(e){Bu(e),Yu(e);var t=e.dataTransfer.files;p.value.files=t,Gu()},Gu=function(){var e=(0,a.A)((0,n.A)().mark((function e(){var t,r,a;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=null===(t=p.value)||void 0===t||null===(t=t.files)||void 0===t?void 0:t[0],r){e.next=3;break}return e.abrupt("return");case 3:return a=bi.resolve("/project?xlsx=".concat(r.name)),e.next=6,Xl(a);case 6:bi.push(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ku=((0,o.EW)((function(){return p.value})),(0,o.EW)((function(){var e;return null===(e=p.value)||void 0===e||null===(e=e.files)||void 0===e?void 0:e[0]})),function(e){return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e}),Qu=function(e){e.currentTarget.classList.add("fileDropHighlight"),Ku(e.dataTransfer.items[0].type)||e.currentTarget.classList.add("fileDropHighlight--invalid")},Yu=function(e){e.currentTarget.classList.remove("fileDropHighlight","fileDropHighlight--invalid")},$u=function(e){var t=document.querySelector("body");t.addEventListener("dragenter",Vu,!1),t.addEventListener("dragleave",qu,!1),t.addEventListener("dragover",Uu,!1),t.addEventListener("drop",zu,!1)},Ju=(r(2781),r(8992)),Zu=Ju.Parser,ec=function(e){var t={excelStrings:!1,delimiter:";",quote:'"',includeEmptyRows:!0,defaultValue:""};try{var r=new Zu(t),n=r.parse(e);return n}catch(a){throw a}},tc=r(6594),rc=function(){var e=_l(bi.currentRoute.value);return e===Di.GOOGLE_SPREADSHEET||e===Di.XLSX||e===Di.NEXTCLOUD},nc=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i,o,l,u,c,s,d,f;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Sl(t),r){e.next=3;break}return e.abrupt("return");case 3:if(a=_l(t),a!==Di.GOOGLE_SPREADSHEET){e.next=10;break}return e.next=7,Qi(r);case 7:return i=e.sent,e.next=10,ac(i);case 10:if(a!==Di.NEXTCLOUD){e.next=20;break}return o=Xo(r),e.next=14,Po(o);case 14:return l=e.sent,e.next=17,Ho(l);case 17:return u=e.sent,e.next=20,ac(u);case 20:if(a!==Di.XLSX){e.next=32;break}if(s=p.value,null===s||void 0===s||null===(c=s.files)||void 0===c||!c.length){e.next=31;break}return d=s.files[0],e.next=26,Ho(d);case 26:return f=e.sent,e.next=29,ac(f);case 29:e.next=32;break;case 31:console.error("Aucun fichier XLSX slectionn.");case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ac=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){var r,a,i,o,l,u,c,s,f,p;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=[],i={},o=["project","alternative","typesource","argument","hasexpertise"],t.forEach((function(e){var t=e.data,r=t[0];if("parameters"!==e.title&&r){var n=Object.keys(r).length-1;a.push(n),"argument"===e.title&&(t=so(t));var o=ec(t);i[e.title]=o}})),l=Math.max.apply(Math,a),u=";".repeat(l),c=Object.entries(i).sort((function(e,t){var r=(0,d.A)(e,1),n=r[0],a=(0,d.A)(t,1),i=a[0];return o.indexOf(n)-o.indexOf(i)})).reduce((function(e,t){var r=(0,d.A)(t,2),n=r[0],a=r[1];return(0,W.A)((0,W.A)({},e),{},(0,Li.A)({},n,a))}),{}),s=Object.entries(c).map((function(e){var t=(0,d.A)(e,2),r=t[0],n=t[1];return'"'.concat(r,'"').concat(u,"\n").concat(n,"\n").concat(u)})).join("\n"),f=ic(s),p=(null===(r=v.project)||void 0===r?void 0:r.name)||"project",(0,tc.saveAs)(f,p+".csv");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ic=function(e){return new Blob([e],{type:"text/csv;charset=utf-8;"})},oc=function(){var e=(0,a.A)((0,n.A)().mark((function e(){return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return bl(bi.currentRoute.value),e.next=3,Xl(bi.currentRoute.value);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lc={class:"mychoice-logo-container"},uc=["src"],cc={class:"d-flex align-center mr-4"},sc=["src"],dc={__name:"AppBar",setup:function(e){var t=(0,s.lq)(),r=(0,o.EW)((function(){return t.path.includes("/project")}));return function(e,t){var n=(0,o.g2)("v-app-bar-nav-icon"),a=(0,o.g2)("v-btn"),u=(0,o.g2)("v-icon"),s=(0,o.g2)("v-tooltip"),d=(0,o.g2)("v-toolbar-title"),f=(0,o.g2)("v-spacer"),p=(0,o.g2)("router-link"),m=(0,o.g2)("v-app-bar");return(0,o.uX)(),(0,o.Wv)(m,{elevation:"0",color:"secondary",theme:"dark"},{default:(0,o.k6)((function(){return[(0,o.bF)(n,{onClick:t[0]||(t[0]=(0,i.D$)((function(e){return(0,c.R1)(v).drawer=!(0,c.R1)(v).drawer}),["stop"]))}),(0,c.R1)(v).project&&r.value?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"d-flex align-center"},{default:(0,o.k6)((function(){return[(0,o.bF)(a,{variant:"text",class:"text-white text-truncate",style:{"max-width":"200px",display:"block"},title:(0,c.R1)(v).project.name,onClick:t[1]||(t[1]=function(e){return(0,c.R1)(ki)("project")})},{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)((0,c.R1)(v).project.name),1)]})),_:1},8,["title"]),(0,c.R1)(v).spreadsheet?((0,o.uX)(),(0,o.Wv)(s,{key:0,location:"bottom"},{activator:(0,o.k6)((function(e){var r=e.props;return[(0,o.bF)(a,(0,o.v6)({icon:"",target:"_blank",href:(0,c.R1)(w)((0,c.R1)(v).spreadsheet)},r),{default:(0,o.k6)((function(){return[(0,o.bF)(u,null,{default:(0,o.k6)((function(){return t[2]||(t[2]=[(0,o.eW)("mdi-google-spreadsheet")])})),_:1})]})),_:2},1040,["href"])]})),default:(0,o.k6)((function(){return[t[3]||(t[3]=(0,o.Lk)("span",null,"Open Spreadsheet",-1))]})),_:1})):(0,o.Q3)("",!0)]})),_:1})):(0,o.Q3)("",!0),(0,o.bF)(f),(0,o.Lk)("div",lc,[(0,o.bF)(p,{to:"/",class:"logo-mychoice"},{default:(0,o.k6)((function(){return[(0,o.Lk)("img",{src:(0,c.R1)(v).baseUrl+"logo-mychoice.svg",alt:"MyChoice Logo"},null,8,uc)]})),_:1})]),(0,o.Lk)("div",cc,[(0,o.Lk)("img",{src:(0,c.R1)(v).baseUrl+"logo-inrae-white-transparent.png",alt:"INRAE Logo",class:"logo-inrae"},null,8,sc)])]})),_:1})}}};const fc=(0,$.A)(dc,[["__scopeId","data-v-bdc19b12"]]);var pc=fc,vc=["src"],mc={class:"pa-2"};function hc(e,t,r,n,a,i){var u=(0,o.g2)("router-link"),c=(0,o.g2)("v-list-item-title"),s=(0,o.g2)("v-list-item"),d=(0,o.g2)("v-divider"),f=(0,o.g2)("v-icon"),p=(0,o.g2)("v-item-group"),v=(0,o.g2)("v-list-item-subtitle"),m=(0,o.g2)("v-list"),h=(0,o.g2)("v-list-subheader"),b=(0,o.g2)("v-card-subtitle"),g=(0,o.g2)("v-card"),k=(0,o.g2)("v-btn"),y=(0,o.g2)("Version"),x=(0,o.g2)("v-footer"),A=(0,o.g2)("v-navigation-drawer");return(0,o.uX)(),(0,o.Wv)(A,{modelValue:e.state.drawer,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.state.drawer=t}),temporary:"",scrim:"false"},{append:(0,o.k6)((function(){return[(0,o.Lk)("div",mc,[(0,o.bF)(k,{block:"",color:"red",class:"text-white",onClick:e.refreshProject,disabled:!e.route.path.includes("project")},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{size:"small",class:"mr-3"},{default:(0,o.k6)((function(){return t[13]||(t[13]=[(0,o.eW)("mdi-autorenew")])})),_:1}),t[14]||(t[14]=(0,o.eW)(" Refresh project "))]})),_:1},8,["onClick","disabled"])]),(0,o.bF)(m,{nav:"",dense:""},{default:(0,o.k6)((function(){return[(0,o.bF)(p,null,{default:(0,o.k6)((function(){return[(0,o.bF)(s,{onClick:t[1]||(t[1]=function(t){return e.state.aboutDialog=!0})},{default:(0,o.k6)((function(){return[(0,o.bF)(c,null,{default:(0,o.k6)((function(){return t[15]||(t[15]=[(0,o.eW)("About")])})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,o.bF)(d),(0,o.bF)(x,{class:"flex-grow-1"},{default:(0,o.k6)((function(){return[(0,o.bF)(y)]})),_:1})]})),default:(0,o.k6)((function(){return[(0,o.bF)(s,null,{default:(0,o.k6)((function(){return[(0,o.bF)(c,{class:"title"},{default:(0,o.k6)((function(){return[(0,o.bF)(u,{to:"/"},{default:(0,o.k6)((function(){return[(0,o.Lk)("img",{style:{padding:"2rem 0",width:"100%",margin:"auto"},src:e.state.baseUrl+"logo-mychoice-color.svg"},null,8,vc)]})),_:1})]})),_:1})]})),_:1}),(0,o.bF)(d),(0,o.bF)(m,{nav:"",dense:""},{default:(0,o.k6)((function(){return[(0,o.bF)(p,null,{default:(0,o.k6)((function(){return[(0,o.bF)(s,{onClick:e.handleLoadFile},{default:(0,o.k6)((function(){return[(0,o.bF)(f,null,{default:(0,o.k6)((function(){return t[3]||(t[3]=[(0,o.eW)("mdi-upload")])})),_:1}),(0,o.bF)(c,null,{default:(0,o.k6)((function(){return t[4]||(t[4]=[(0,o.eW)("Open local project "),(0,o.Lk)("small",null,"(.xlsx)",-1)])})),_:1})]})),_:1},8,["onClick"]),(0,o.bF)(s,{onClick:t[0]||(t[0]=function(t){return e.state.openDialog=!0})},{default:(0,o.k6)((function(){return[(0,o.bF)(f,null,{default:(0,o.k6)((function(){return t[5]||(t[5]=[(0,o.eW)("mdi-cloud-upload")])})),_:1}),(0,o.bF)(c,null,{default:(0,o.k6)((function(){return t[6]||(t[6]=[(0,o.eW)("Open online project")])})),_:1})]})),_:1})]})),_:1}),(0,o.bF)(s,{href:"https://docs.google.com/spreadsheets/d/1Cj5tC6JyLQxCHdtZJ8d9_-FSV9UbHT7AGE3wrLEMlig/copy",target:"_blank"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,null,{default:(0,o.k6)((function(){return t[7]||(t[7]=[(0,o.eW)("mdi-plus-circle-outline")])})),_:1}),(0,o.bF)(c,null,{default:(0,o.k6)((function(){return t[8]||(t[8]=[(0,o.eW)("Create new project")])})),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((function(){return t[9]||(t[9]=[(0,o.eW)("from spreadsheet template")])})),_:1})]})),_:1})]})),_:1}),(0,o.bF)(d),(0,o.bF)(h,null,{default:(0,o.k6)((function(){return t[10]||(t[10]=[(0,o.eW)("Recent projects")])})),_:1}),e.hasRecentProjects?((0,o.uX)(),(0,o.Wv)(m,{key:1,subheader:"",nav:"",dense:""},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.recentProjects,(function(r,n){return(0,o.uX)(),(0,o.Wv)(s,{key:n,to:e.getHrefFromTypeId({type:r.type,id:r.id})},{default:(0,o.k6)((function(){return[(0,o.bF)(c,null,{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(r.name||r.id),1)]})),_:2},1024),"googlespreadsheet"===r.type?((0,o.uX)(),(0,o.Wv)(f,{key:0},{default:(0,o.k6)((function(){return t[12]||(t[12]=[(0,o.eW)("mdi-google-spreadsheet")])})),_:1})):(0,o.Q3)("",!0)]})),_:2},1032,["to"])})),128))]})),_:1})):((0,o.uX)(),(0,o.Wv)(g,{key:0,disabled:"",flat:"",tile:""},{default:(0,o.k6)((function(){return[(0,o.bF)(b,null,{default:(0,o.k6)((function(){return t[11]||(t[11]=[(0,o.eW)("No recent projects")])})),_:1})]})),_:1}))]})),_:1},8,["modelValue"])}var bc=(0,o.pM)({components:{Version:ve},setup:function(){var e=(0,s.lq)();return{state:v,route:e,recentProjects:ul,hasRecentProjects:cl,getHrefFromTypeId:jl,handleLoadFile:Hu,isExportableToCSV:rc,openIco:qo,openSpreadsheet:Vo,getImagePath:y,exportToCSV:nc,refreshProject:oc}}});const gc=(0,$.A)(bc,[["render",hc]]);var kc=gc;function yc(e,t,r,n,a,u){var c=(0,o.g2)("v-list-item-title"),s=(0,o.g2)("v-spacer"),f=(0,o.g2)("v-icon"),p=(0,o.g2)("v-btn"),v=(0,o.g2)("v-list-item-action"),m=(0,o.g2)("v-list-item"),h=(0,o.g2)("v-combobox"),b=(0,o.g2)("v-form"),g=(0,o.g2)("v-col"),k=(0,o.g2)("v-row");return(0,o.uX)(),(0,o.Wv)(k,null,{default:(0,o.k6)((function(){return[(0,o.bF)(g,null,{default:(0,o.k6)((function(){return[t[4]||(t[4]=(0,o.Lk)("h3",null,"From INRAE's server",-1)),(0,o.bF)(k,null,{default:(0,o.k6)((function(){return[(0,o.bF)(g,{cols:"12",class:""},{default:(0,o.k6)((function(){return[(0,o.bF)(b,{onSubmit:t[1]||(t[1]=(0,i.D$)((function(t){e.handleOpenIco(e.state.fields.projectName),e.state.openDialog=!1}),["prevent"]))},{default:(0,o.k6)((function(){return[(0,o.bF)(h,{items:e.recentIcoProjects.map((function(e){var t=(0,d.A)(e,2),r=(t[0],t[1]);return{text:r.name,value:r}})),"item-text":"text","item-value":"value",label:"Project name",id:"comboprojectname",autocomplete:"off","search-input":e.state.fields.projectName,outlined:""},{item:(0,o.k6)((function(r){r.index;var n=r.item;return[(0,o.bF)(m,{to:e.getHrefFromTypeId({type:n.value.type,id:n.value.id})},{default:(0,o.k6)((function(){return[(0,o.bF)(c,null,{default:(0,o.k6)((function(){return[(0,o.eW)((0,l.v_)(n.text),1)]})),_:2},1024),(0,o.bF)(s),(0,o.bF)(v,{onClick:t[0]||(t[0]=(0,i.D$)((function(){}),["stop"]))},{default:(0,o.k6)((function(){return[(0,o.bF)(p,{icon:"",onClick:(0,i.D$)((function(t){return e.removeFromRecentProjects(n.value.type,{id:n.value.id})}),["stop","prevent"])},{default:(0,o.k6)((function(){return[(0,o.bF)(f,null,{default:(0,o.k6)((function(){return t[2]||(t[2]=[(0,o.eW)("mdi-close")])})),_:1})]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1032,["to"])]})),_:1},8,["items","search-input"]),(0,o.bF)(p,{class:"ml-auto d-flex",color:"secondary",disabled:!e.state.fields.projectName,type:"submit"},{default:(0,o.k6)((function(){return t[3]||(t[3]=[(0,o.eW)("Open from Ico")])})),_:1},8,["disabled"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var xc=(0,o.pM)({setup:function(){var e=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,qo(t);case 2:v.fields.projectName="";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Vo(t);case 2:v.fields.spreadsheetUrl="";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=(0,a.A)((0,n.A)().mark((function e(t){return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Uo(t);case 2:v.fields.nextcloudUrl="";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=(0,o.EW)((function(){return v.fields.spreadsheetUrl?no(v.fields.spreadsheetUrl):""}));return{state:v,isValidNextcloudUrl:jo,spreadsheetId:i,openNextcloudUrl:Uo,removeFromRecentProjectSpreadsheets:Cl,removeFromRecentProjectNames:Al,handleOpenIco:e,handleOpenSpreadsheet:t,handleOpenNextcloudUrl:r,recentSpreadsheetProjects:S,recentNextcloudProjects:O,recentIcoProjects:I,removeFromRecentProjects:vl,getHrefFromTypeId:jl}}});const Ac=(0,$.A)(xc,[["render",yc]]);var Cc=Ac,wc=["href"],Ec=["href"];function Fc(e,t,r,n,a,i){var l=(0,o.g2)("v-card-title"),u=(0,o.g2)("v-card-text"),c=(0,o.g2)("v-divider"),s=(0,o.g2)("v-card-subtitle"),d=(0,o.g2)("v-col"),f=(0,o.g2)("v-row"),p=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(p,{class:"text-center"},{default:(0,o.k6)((function(){return[(0,o.bF)(l,{class:"justify-center"},{default:(0,o.k6)((function(){return t[0]||(t[0]=[(0,o.eW)("About MyChoice")])})),_:1}),(0,o.bF)(u,null,{default:(0,o.k6)((function(){return t[1]||(t[1]=[(0,o.Lk)("b",null,"MyChoice",-1),(0,o.eW)(" is a web application supporting collective decision, designed by INRAE. ")])})),_:1}),(0,o.bF)(u,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("div",null,[(0,o.bF)(c,{class:"my-2"}),(0,o.bF)(s,{class:"p-0"},{default:(0,o.k6)((function(){return t[2]||(t[2]=[(0,o.eW)("Scientific contacts")])})),_:1}),(0,o.bF)(f,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){return t[3]||(t[3]=[(0,o.Lk)("b",null,[(0,o.Lk)("a",{href:"mailto:rallou.thomopoulos@inrae.fr"},"Rallou Thomopoulos")],-1),(0,o.Lk)("br",null,null,-1),(0,o.Lk)("small",null,"INRAE (IATE lab) / INRIA (GraphIK lab)",-1)])})),_:1}),(0,o.bF)(d,null,{default:(0,o.k6)((function(){return t[4]||(t[4]=[(0,o.Lk)("b",null,[(0,o.Lk)("a",{href:"mailto:julien.cufi@inrae.fr"},"Julien Cufi")],-1),(0,o.Lk)("br",null,null,-1),(0,o.Lk)("small",null,"INRAE (IATE lab)",-1)])})),_:1})]})),_:1}),(0,o.bF)(c,{class:"my-2"}),(0,o.bF)(s,null,{default:(0,o.k6)((function(){return t[5]||(t[5]=[(0,o.eW)("UX & front-end development")])})),_:1}),(0,o.bF)(f,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){return t[6]||(t[6]=[(0,o.Lk)("b",null,[(0,o.Lk)("a",{href:"https://maximelebreton.com",target:"_blank"},"Maxime Le Breton")],-1),(0,o.Lk)("br",null,null,-1),(0,o.Lk)("small",null,"Independent designer &front-enddeveloper",-1)])})),_:1})]})),_:1}),(0,o.bF)(c,{class:"my-2"}),(0,o.bF)(s,null,{default:(0,o.k6)((function(){return t[7]||(t[7]=[(0,o.eW)("Other contributors")])})),_:1}),(0,o.bF)(f,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){return t[8]||(t[8]=[(0,o.Lk)("b",null," Thomas Bosch ",-1),(0,o.Lk)("br",null,null,-1),(0,o.Lk)("small",null,"Former student at IATE lab",-1)])})),_:1})]})),_:1}),(0,o.bF)(c,{class:"my-2"}),(0,o.bF)(f,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("a",{href:e.state.baseUrl+"licenses.txt",target:"_blank"},"Open source licenses",8,wc)]})),_:1}),(0,o.bF)(d,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("a",{href:e.state.baseUrl+"Open_source_license_terms.pdf",target:"_blank"},"Open source licenses terms",8,Ec)]})),_:1})]})),_:1})])]})),_:1})]})),_:1})}var _c={data:function(){return{state:v}}};const Lc=(0,$.A)(_c,[["render",Fc]]);var Sc=Lc,Ic=(0,o.pM)({name:"App",components:{AppBar:pc,Drawer:kc,OpenDialog:Cc,About:Sc},setup:function(){(0,o.sV)((function(){$u()}));var e=(0,o.EW)({get:function(){return v.notifications.length>0},set:function(e){e||(v.notifications=[])}}),t=(0,o.EW)({get:function(){return Object.values(v.errors).some((function(e){return!1!==e}))},set:function(e){e||_i()}});return{dropFileInputRef:p,onFileChange:Gu,onFileDrop:zu,onFileDragEnter:Vu,onFileDragLeave:qu,onFileDragOver:Uu,clearErrors:_i,getErrorMessage:Fi,refreshProject:oc,state:v,getErrors:Ei,notifications:wi,isNotification:e,isError:t}}});const Oc=(0,$.A)(Ic,[["render",u]]);var Wc=Oc,jc=(r(5524),r(6306)),Xc=r(9547),Pc=r(9693),Tc=r(5432),Rc=r(9293),Dc=r(8741),Mc=r(8210),Nc=r(2034),Hc=r(5526),Bc=r(4789),Vc=r(365),qc=r(8400),Uc=r(5939),zc=r(4810),Gc=r(6832),Kc=r(1541),Qc=r(3679),Yc=r(4146),$c=r(9321),Jc=r(5286),Zc=r(9416),es=r(6843),ts=r(6838),rs=r(2940),ns=r(2281),as=r(857),is=r(4629),os=r(1539),ls=r(8591),us=r(9283),cs=r(7789),ss=r(1529),ds=r(9468),fs=r(6731),ps=r(6992),vs=r(3495),ms=r(1167),hs=r(3714),bs=r(9271),gs=r(5634),ks=r(802),ys=r(7609),xs=r(7163),As=r(2049),Cs=r(193),ws=r(9064),Es=r(6526),Fs=(0,jc.$N)({components:{VApp:Xc.E,VAppBar:Pc.z,VNavigationDrawer:Tc.e,VList:Rc.x8,VListItem:Dc.g,VListItemTitle:Mc.U,VListItemSubtitle:Nc.w,VDivider:Hc.G,VBtn:Bc.D,VIcon:Vc.w,VCard:qc.J,VCardTitle:Uc.r,VCardText:zc.O,VDialog:Gc.p,VMain:Kc.Y,VItemGroup:Qc.$V,VListSubheader:Yc.w,VOverlay:$c.L,VProgressCircular:Jc.x,VSnackbar:Zc.K,VFooter:es.O,VContainer:ts.I,VListItemAction:rs.k,VSpacer:ns.h,VCardSubtitle:as.Z,VRow:is.L,VCol:os.B,VToolbarTitle:ls.s,VTooltip:us.y,VAppBarNavIcon:cs.Z,VForm:ss.n,VCombobox:ds.A,VImg:fs.y,VAvatar:ps.y,VChip:vs.x,VBadge:ms.Q,VExpandTransition:hs.Qo,VMenu:bs.q,VBtnToggle:gs.H_,VToolbar:ks.u,VAutocomplete:ys.V,VTextField:xs.W,VSelect:As.d4,VTable:Cs.Z},directives:ws,icons:{defaultSet:"mdi",aliases:Es.z,sets:{mdi:Es.r}},theme:{defaultTheme:"light",themes:{light:{colors:{primary:"#4F4F4F",secondary:"#00A3F6",accent:"#8c9eff",error:"#b71c1c"}},dark:{colors:{primary:"#4F4F4F",secondary:"#00A3A6",accent:"#8c9eff",error:"#b71c1c"}}}}}),_s=Fs,Ls=r(5727),Ss={install:function(e){e.component("Highlighter",Ls.Ay)}},Is=function(){var e=(0,a.A)((0,n.A)().mark((function e(){return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:sl();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.A)((0,n.A)().mark((function e(){var t;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Is();case 2:t=(0,i.Ef)(Wc),t.use(bi),t.use(_s),t.use(Ss),t.mount("#app");case 7:case"end":return e.stop()}}),e)})))()},6251:function(){},7233:function(){},9800:function(){}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,function(){var e=[];r.O=function(t,n,a,i){if(!n){var o=1/0;for(s=0;s<e.length;s++){n=e[s][0],a=e[s][1],i=e[s][2];for(var l=!0,u=0;u<n.length;u++)(!1&i||o>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(l=!1,i<o&&(o=i));if(l){e.splice(s--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,a,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,o=n[0],l=n[1],u=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(u)var s=u(r)}for(t&&t(n);c<o.length;c++)i=o[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(s)},n=self["webpackChunkmy_choice"]=self["webpackChunkmy_choice"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(4889)}));n=r.O(n)})();
//# sourceMappingURL=app-legacy.85f92588.js.map