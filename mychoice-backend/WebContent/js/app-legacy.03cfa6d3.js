(function(){var e={3198:function(e,t,n){"use strict";var r=n(4048),a=n(388),i=(n(3792),n(3362),n(9085),n(9391),n(3751)),o=n(641),u=n(33),c=["innerHTML"];function s(e,t,n,r,a,i){var s=(0,o.g2)("AppBar"),l=(0,o.g2)("Drawer"),d=(0,o.g2)("router-view"),p=(0,o.g2)("v-main"),f=(0,o.g2)("v-icon"),v=(0,o.g2)("v-card-title"),m=(0,o.g2)("OpenDialog"),h=(0,o.g2)("v-card-text"),g=(0,o.g2)("v-card"),b=(0,o.g2)("v-dialog"),k=(0,o.g2)("About"),y=(0,o.g2)("v-progress-circular"),x=(0,o.g2)("v-overlay"),E=(0,o.g2)("v-btn"),A=(0,o.g2)("v-snackbar"),w=(0,o.g2)("v-app");return(0,o.uX)(),(0,o.Wv)(w,{class:"bg-grey-lighten-4"},{default:(0,o.k6)((function(){return[(0,o.bF)(s),(0,o.bF)(l),(0,o.Lk)("input",{type:"file",ref:"dropFileInputRef",accept:".xlsx",style:{display:"none"},onChange:t[0]||(t[0]=function(){return e.onFileChange&&e.onFileChange.apply(e,arguments)})},null,544),(0,o.bF)(p,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d)]})),_:1}),(0,o.bF)(b,{modelValue:e.state.openDialog,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.state.openDialog=t}),"max-width":"600"},{default:(0,o.k6)((function(){return[(0,o.bF)(g,null,{default:(0,o.k6)((function(){return[(0,o.bF)(v,{class:"d-flex align-center"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{class:"mr-2"},{default:(0,o.k6)((function(){return t[5]||(t[5]=[(0,o.eW)("mdi-cloud-upload")])})),_:1}),t[6]||(t[6]=(0,o.Lk)("span",null,"Open online project",-1))]})),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)((function(){return[(0,o.bF)(m)]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,o.bF)(b,{modelValue:e.state.aboutDialog,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.state.aboutDialog=t}),"max-width":"600"},{default:(0,o.k6)((function(){return[(0,o.bF)(k)]})),_:1},8,["modelValue"]),(0,o.bF)(x,{"model-value":e.state.overlay,class:"d-flex justify-center align-center","z-index":"3"},{default:(0,o.k6)((function(){return[(0,o.bF)(y,{indeterminate:"",size:"64",color:"primary"})]})),_:1},8,["model-value"]),(0,o.bF)(A,{modelValue:e.isNotification,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.isNotification=t}),color:"info",location:"top"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{class:"mr-2"},{default:(0,o.k6)((function(){return t[7]||(t[7]=[(0,o.eW)("mdi-information")])})),_:1}),(0,o.Lk)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.notifications,(function(e,t){return(0,o.uX)(),(0,o.CE)("div",{key:t},(0,u.v_)(e.message),1)})),128))])]})),actions:(0,o.k6)((function(){return[(0,o.bF)(E,{variant:"outlined",size:"small",onClick:e.refreshProject},{default:(0,o.k6)((function(){return t[8]||(t[8]=[(0,o.eW)("Refresh")])})),_:1},8,["onClick"])]})),_:1},8,["modelValue"]),(0,o.bF)(A,{modelValue:e.isError,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.isError=t}),color:"error",timeout:"0","multi-line":""},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.getErrors,(function(t,n){return(0,o.uX)(),(0,o.CE)("div",{key:n},[(0,o.Lk)("span",{innerHTML:e.getErrorMessage(t)},null,8,c)])})),128))]})),actions:(0,o.k6)((function(){return[(0,o.bF)(E,{variant:"text",onClick:e.clearErrors},{default:(0,o.k6)((function(){return t[9]||(t[9]=[(0,o.eW)("Close")])})),_:1},8,["onClick"])]})),_:1},8,["modelValue"])]})),_:1})}n(8111),n(3579),n(6099),n(6034),n(4423),n(2010),n(1699);var l=n(953),d=n(5220),p=(n(4114),n(7588),n(3500),n(8676)),f=(n(2008),n(4554),n(2489),n(5506),n(9432),n(4864),n(7465),n(7495),n(7745),n(906),n(8781),{mode:"consensus",globalCardType:"label",searchInput:"",selectedSuperset:"",selectedSupersets:[],selectedAims:[],selectedCriterions:[],selectedStakeholders:[],compareDialog:!1,dialog:!1,openDialog:!1,spreadsheet:null,selectedView:"table-view",data:null,project:null,aboutDialog:!1,creditsDialog:!1}),v=(0,l.KR)(null),m=(0,l.Kh)({vm:null,notifications:[],baseUrl:"/",selectedView:f.selectedView,spreadsheet:f.spreadsheet,data:f.data,project:f.project,searchInput:f.searchInput,selectedSuperset:f.selectedSuperset,selectedSupersets:f.selectedSupersets,selectedAims:f.selectedAims,selectedCriterions:f.selectedCriterions,selectedStakeholders:f.selectedStakeholders,mode:f.mode,modes:{consensus:{name:"Consensus"},interplay:{name:"Interplay"},prospective:{name:"Prospective"},expertise:{name:"Expertise"},"data-reliability":{name:"Data reliability"},"multi-stakeholder":{name:"Multi Stakeholder"}},globalCardType:"label",dialog:f.dialog,compareDialog:f.compareDialog,openDialog:f.openDialog,aboutDialog:f.aboutDialog,creditsDialog:f.creditsDialog,icons:{subOption:{1:"mdi-emoticon-happy-outline",2:"mdi-emoticon-sad-outline"},compare:"mdi"},overlay:!1,drawer:!1,errors:{FAILED_TO_FETCH_SPREADSHEET:!1,FAILED_TO_FETCH_ICO:!1},snackbar:!1,fields:{projectName:"",spreadsheetUrl:"",nextcloudUrl:""},errorMessages:{FAILED_TO_FETCH_SPREADSHEET:"The Spreadsheet isn't published or doesn't exist",FAILED_TO_FETCH_ICO:"This project name doesn't exist (note: name is case-sensitive)"},recentProjects:[],recentProjectNames:localStorage.recentProjectNames&&null!==JSON.parse(localStorage.recentProjectNames)?JSON.parse(localStorage.recentProjectNames):{},recentProjectSpreadsheets:localStorage.recentProjectSpreadsheets&&null!==JSON.parse(localStorage.recentProjectSpreadsheets)?JSON.parse(localStorage.recentProjectSpreadsheets):{}}),h=function(){m.data=f.data,m.project=f.project,m.spreadsheet=f.spreadsheet},g=function(){m.mode=f.mode},b=function(){h(),y(),g(),k()},k=function(){m.selectedSuperset=f.selectedSuperset,m.selectedSupersets.splice(0),m.compareDialog=f.compareDialog,m.dialog=f.dialog,m.openDialog=f.openDialog},y=function(){m.searchInput=f.searchInput,m.selectedAims=f.selectedAims,m.selectedCriterions=f.selectedCriterions,m.selectedStakeholders=f.selectedStakeholders},x=function(e){var t=new RegExp("^(?:[a-z]+:)?//","i"),n=t.test(e);return n?e:"hhttp://localhost:8080/img/"+m.project.name+"/"+e},E=(0,o.EW)((function(){return!!(m.vm&&m.vm.$route&&m.vm.$route.query&&m.vm.$route.query.spreadsheet)})),A=((0,o.EW)((function(){return m.vm&&m.vm.$route?m.vm.$route:null})),(0,o.EW)((function(){return m.overlay}))),w=(0,o.EW)((function(){return null===m.project})),_=function(e){return"https://docs.google.com/spreadsheets/d/".concat(e)},C=((0,o.EW)((function(){return m.project&&m.project.name?m.project.name:null})),(0,o.EW)((function(){return"stakeholder"===m.globalCardType}))),F=(0,o.EW)((function(){return m.selectedSupersets})),I=function(){m.overlay=!0},L=function(){m.overlay=!1};(0,o.wB)((function(){return m.globalCardType}),(function(e,t){e!==t&&k()}));var S=(0,o.EW)((function(){return Object.entries(m.recentProjects).filter((function(e){var t=(0,p.A)(e,2),n=(t[0],t[1].type);return"googlespreadsheet"===n}))})),O=(0,o.EW)((function(){return Object.entries(m.recentProjects).filter((function(e){var t=(0,p.A)(e,2),n=(t[0],t[1].type);return"ico"===n}))})),j=(0,o.EW)((function(){return Object.entries(m.recentProjects).filter((function(e){var t=(0,p.A)(e,2),n=(t[0],t[1].type);return"nextcloud"===n}))})),W=n(8653),X=(n(6280),n(1392),n(2675),n(9463),{class:"d-flex flex-column align-center justify-center h-100 text-white text-center px-4"}),T={class:"text-h3 mb-2"},P={class:"d-flex flex-wrap justify-center"},R={key:0,class:"mx-2 text-caption font-weight-light my-span-vs"},D={class:"d-flex align-center mx-2"},N={class:"text-center my-4 mt-n6"},H={class:"text-body-1"},B={class:"d-flex flex-wrap justify-center"},V={key:0,class:"d-flex align-center mx-4"},q={class:"text-h6 font-weight-bold mb-1"},M=["src"];function U(e,t,n,r,a,i){var c=(0,o.g2)("v-icon"),s=(0,o.g2)("v-img"),l=(0,o.g2)("v-btn"),d=(0,o.g2)("v-card-text"),p=(0,o.g2)("v-avatar"),f=(0,o.g2)("v-list-item"),v=(0,o.g2)("v-card"),m=(0,o.g2)("v-col"),h=(0,o.g2)("v-row"),g=(0,o.g2)("v-container"),b=(0,o.g2)("Empty");return(0,o.uX)(),(0,o.Wv)(v,{class:"flex-grow-1 bg-grey-lighten-4"},{default:(0,o.k6)((function(){return[e.state.project?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(s,{class:"align-center my-v-img","max-height":"300",width:"100%",src:e.getImagePath(e.state.project.image),cover:""},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",X,[(0,o.Lk)("h1",T,(0,u.v_)(e.state.project.name),1),t[1]||(t[1]=(0,o.Lk)("div",{class:"text-h6 font-weight-light mb-2"}," The alternatives discussed in the project are: ",-1)),(0,o.Lk)("div",P,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.alternativesIds,(function(t,n){return(0,o.uX)(),(0,o.CE)(o.FK,{key:t},[0!==n?((0,o.uX)(),(0,o.CE)("span",R,"VS")):(0,o.Q3)("",!0),(0,o.Lk)("div",D,[(0,o.bF)(c,{class:"me-1"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(e.getAlternatives[t].icon),1)]})),_:2},1024),(0,o.Lk)("span",null,(0,u.v_)(e.getAlternatives[t].name),1)])],64)})),128))])])]})),_:1},8,["src"]),(0,o.Lk)("div",N,[(0,o.bF)(l,{onClick:t[0]||(t[0]=function(t){return e.switchToView("global-view")}),size:"x-large",color:"primary"},{default:(0,o.k6)((function(){return[(0,o.eW)(" Open "+(0,u.v_)(e.state.project.name)+" project ",1)]})),_:1})]),(0,o.bF)(g,{style:{"max-width":"1200px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(d,{class:"text-primary text-center"},{default:(0,o.k6)((function(){return[(0,o.Lk)("p",H,(0,u.v_)(e.state.project.description),1)]})),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)((function(){return[(0,o.bF)(m,{style:{"overflow-x":"auto","text-align":"center"}},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",B,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.alternativesIds,(function(n,r){return(0,o.uX)(),(0,o.CE)(o.FK,{key:"card-"+n+r},[0!==r?((0,o.uX)(),(0,o.CE)("div",V,t[2]||(t[2]=[(0,o.Lk)("small",{class:"text-grey-darken-1 font-weight-bold text-h6"},"VS",-1)]))):(0,o.Q3)("",!0),(0,o.bF)(v,{"min-width":"280","max-width":"320",class:"mx-2 mb-4",variant:"outlined"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("div",q,[(0,o.bF)(c,{class:"text-primary me-2"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(e.getAlternatives[n].icon),1)]})),_:2},1024),(0,o.eW)(" "+(0,u.v_)(e.getAlternatives[n].name),1)]),(0,o.bF)(p,{size:"56",color:"grey"},{default:(0,o.k6)((function(){return[(0,o.Lk)("img",{src:e.getImagePath(e.getAlternatives[n].image)},null,8,M)]})),_:2},1024)]})),_:2},1024),(0,o.bF)(d,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("p",null,(0,u.v_)(e.getAlternatives[n].description),1)]})),_:2},1024)]})),_:2},1024)],64)})),128))])]})),_:1})]})),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)((function(){return[(0,o.bF)(m,null,{default:(0,o.k6)((function(){return t[3]||(t[3]=[(0,o.Lk)("div",{class:"mt-6"},[(0,o.Lk)("h2",{class:"text-h6 font-weight-bold"},"Disclaimer"),(0,o.Lk)("ul",{class:"text-caption ps-4"},[(0,o.Lk)("li",null," The authors and publisher of the software cannot be held liable in any way for the consequences that may result from the use or interpretation of the information processed by the MyChoice software... "),(0,o.Lk)("li",null,[(0,o.eW)(" By using the MyChoice software, users agree to explicitly cite the tool (home page "),(0,o.Lk)("a",{href:"https://ico.iate.inra.fr/MyChoice/",target:"_blank"},"https://ico.iate.inra.fr/MyChoice/"),(0,o.eW)(")... ")])])],-1)])})),_:1})]})),_:1})]})),_:1})],64)):((0,o.uX)(),(0,o.Wv)(b,{key:1}))]})),_:1})}var G={key:0,class:"d-flex flex-column align-center justify-center flex-grow-1",style:{"min-height":"100%"}},Q={class:"mb-5"},K={key:0},z=["href"];function $(e,t,n,r,a,i){var c=(0,o.g2)("v-icon"),s=(0,o.g2)("v-btn"),l=(0,o.g2)("v-container"),d=(0,o.g2)("v-card");return e.isEmptyProject&&!e.isLoading?((0,o.uX)(),(0,o.CE)("div",G,[(0,o.bF)(d,{color:"transparent",class:"text-center",elevation:"0"},{default:(0,o.k6)((function(){return[(0,o.bF)(l,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("h4",Q,[e.isSpreadsheet?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("span",K,(0,u.v_)(e.getRouteProjectId),1)),e.isSpreadsheet?((0,o.uX)(),(0,o.CE)("a",{key:1,target:"_blank",href:e.getSpreadsheetLink(e.getRouteProjectId)},(0,u.v_)(e.getRouteProjectId),9,z)):(0,o.Q3)("",!0),e.isSpreadsheet?((0,o.uX)(),(0,o.Wv)(c,{key:2,class:"ml-2"},{default:(0,o.k6)((function(){return t[0]||(t[0]=[(0,o.eW)("mdi-google-spreadsheet")])})),_:1})):(0,o.Q3)("",!0)]),(0,o.bF)(s,{onClick:e.refreshProject},{default:(0,o.k6)((function(){return[(0,o.bF)(c,{small:"",class:"mr-3"},{default:(0,o.k6)((function(){return t[1]||(t[1]=[(0,o.eW)("mdi-autorenew")])})),_:1}),t[2]||(t[2]=(0,o.eW)("Refresh project "))]})),_:1},8,["onClick"])]})),_:1})]})),_:1})])):(0,o.Q3)("",!0)}var J=(0,o.pM)({setup:function(){return{getSpreadsheetLink:_,isSpreadsheet:E,getRouteProjectId:Yn,state:m,refreshProject:To,isLoading:A,isEmptyProject:w}}}),Y=n(6262);const Z=(0,Y.A)(J,[["render",$]]);var ee=Z,te=(0,o.pM)({components:{Empty:ee},setup:function(){return{state:m,getImagePath:x,getFilteredItemsBy:Pi,switchToView:Kn,alternativesIds:(0,o.EW)((function(){return di()})),getAlternatives:(0,o.EW)((function(){return si()}))}}});const ne=(0,Y.A)(te,[["render",U],["__scopeId","data-v-19fbed7c"]]);var re=ne,ae={class:"text-left mb-6"},ie=["src"],oe={class:"my-6 d-flex justify-center"};function ue(e,t,n,r,a,c){var s=(0,o.g2)("v-responsive"),l=(0,o.g2)("v-sheet"),d=(0,o.g2)("v-col"),p=(0,o.g2)("v-btn"),f=(0,o.g2)("v-list-subheader"),v=(0,o.g2)("v-card-text"),m=(0,o.g2)("v-list-item-title"),h=(0,o.g2)("v-icon"),g=(0,o.g2)("v-list-item"),b=(0,o.g2)("v-list"),k=(0,o.g2)("v-card"),y=(0,o.g2)("v-row"),x=(0,o.g2)("Version"),E=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(E,{class:"pa-4 pa-sm-6",style:{"max-width":"1200px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(y,{class:"bg-grey-lighten-4 py-6",justify:"center"},{default:(0,o.k6)((function(){return[(0,o.bF)(d,{cols:"12",md:"8"},{default:(0,o.k6)((function(){return[(0,o.bF)(l,{elevation:"0",class:"pa-0","max-width":"100%"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",ae,[(0,o.Lk)("img",{src:e.state.baseUrl+"logo-mychoice-color.svg",style:{"max-width":"240px",width:"100%"},alt:"MyChoice Logo"},null,8,ie)]),t[2]||(t[2]=(0,o.Lk)("p",null,[(0,o.Lk)("b",null,"MyChoice"),(0,o.eW)(" is a web application supporting collective decision, designed by INRAE. The software enables project participants to: ")],-1)),t[3]||(t[3]=(0,o.Lk)("ul",null,[(0,o.Lk)("li",null,"Analyze, compare and assess stakeholders' attitudes towards different alternatives."),(0,o.Lk)("li",null,"Review explanatory arguments stemming from various sources and reflecting different concerns."),(0,o.Lk)("li",null,"Explain the criteria, aims and features pursued."),(0,o.Lk)("li",null,"Highlight potential synergies or competing concerns."),(0,o.Lk)("li",null,"Propose different modes of decision support (expert, consensual, prospective, etc.).")],-1)),(0,o.Lk)("div",oe,[(0,o.bF)(s,{class:"my-6","aspect-ratio":"16/9",style:{"max-width":"600px",width:"100%"}},{default:(0,o.k6)((function(){return t[1]||(t[1]=[(0,o.Lk)("video",{controls:"",style:{width:"100%",height:"100%"}},[(0,o.Lk)("source",{src:"presentation_mychoice.mp4"}),(0,o.eW)(" Your browser does not support the "),(0,o.Lk)("code",null,"video"),(0,o.eW)(" element. ")],-1)])})),_:1})]),t[4]||(t[4]=(0,o.Lk)("h6",{class:"text-overline mb-2"},"References",-1)),t[5]||(t[5]=(0,o.Lk)("ul",{class:"text-caption"},[(0,o.Lk)("li",null,[(0,o.eW)(" Rallou Thomopoulos, Julien Cufi, Maxime Le Breton. A Generic Software to Support Collective Decision in Food Chains and in Multi-Stakeholder Situations. "),(0,o.Lk)("em",null,"FoodSim 2020"),(0,o.eW)(", Sep 2020, Ghent, Belgium. ("),(0,o.Lk)("a",{href:"https://hal.archives-ouvertes.fr/hal-02484363",target:"_blank"},"hal-02484363"),(0,o.eW)(") ")]),(0,o.Lk)("li",null,[(0,o.eW)(" Rallou Thomopoulos. A practical application approach to argumentation for multicriteria analysis and decision support. "),(0,o.Lk)("em",null,"EURO journal on decision processes"),(0,o.eW)(", Springer, 2018, 6 (3-4), pp.237-255. ("),(0,o.Lk)("a",{href:"https://dx.doi.org/10.1007/s40070-018-0087-2",target:"_blank"},"10.1007/s40070-018-0087-2"),(0,o.eW)(") ("),(0,o.Lk)("a",{href:"https://hal.archives-ouvertes.fr/hal-01918020",target:"_blank"},"hal-01918020"),(0,o.eW)(") ")])],-1)),t[6]||(t[6]=(0,o.Lk)("h6",{class:"text-overline mt-6 mb-2"},"Disclaimer",-1)),t[7]||(t[7]=(0,o.Lk)("div",{class:"text-caption"},[(0,o.Lk)("ul",null,[(0,o.Lk)("li",null," The authors and publisher of the software cannot be held liable for the consequences resulting from the use of MyChoice. Information entered is the user's responsibility and affects the final result. "),(0,o.Lk)("li",null," Users agree to cite the tool in any communication and not use contributor branding without explicit consent. ")])],-1))]})),_:1})]})),_:1}),(0,o.bF)(d,{cols:"12",md:"4"},{default:(0,o.k6)((function(){return[(0,o.bF)(l,{elevation:"0"},{default:(0,o.k6)((function(){return[(0,o.bF)(y,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d,{cols:"12",class:"d-flex justify-center mb-4"},{default:(0,o.k6)((function(){return[(0,o.bF)(p,{onClick:e.handleLoadFile,"prepend-icon":"mdi-upload"},{default:(0,o.k6)((function(){return t[8]||(t[8]=[(0,o.eW)(" Open local project ")])})),_:1},8,["onClick"])]})),_:1}),(0,o.bF)(d,{cols:"12",class:"d-flex justify-center mb-4"},{default:(0,o.k6)((function(){return[(0,o.bF)(p,{onClick:t[0]||(t[0]=function(t){return e.state.openDialog=!0}),"prepend-icon":"mdi-cloud-upload"},{default:(0,o.k6)((function(){return t[9]||(t[9]=[(0,o.eW)(" Open online project ")])})),_:1})]})),_:1}),(0,o.bF)(d,{cols:"12"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,null,{default:(0,o.k6)((function(){return t[10]||(t[10]=[(0,o.eW)("Recent projects")])})),_:1}),(0,o.bF)(k,{flat:""},{default:(0,o.k6)((function(){return[e.recentProjects.length?((0,o.uX)(),(0,o.Wv)(b,{key:1,density:"compact"},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.recentProjects,(function(n,r){return(0,o.uX)(),(0,o.Wv)(g,{key:"home-recent-"+r,to:e.getHrefFromTypeId({type:n.type,id:n.id})},{append:(0,o.k6)((function(){return["googlespreadsheet"===n.type?((0,o.uX)(),(0,o.Wv)(h,{key:0},{default:(0,o.k6)((function(){return t[12]||(t[12]=[(0,o.eW)("mdi-google-spreadsheet")])})),_:1})):(0,o.Q3)("",!0),(0,o.bF)(p,{icon:"mdi-close",variant:"text",size:"small",onClick:(0,i.D$)((function(t){return e.removeFromRecentProjects(n.type,{id:n.id})}),["stop","prevent"])},null,8,["onClick"])]})),default:(0,o.k6)((function(){return[(0,o.bF)(m,null,{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(n.name||n.id),1)]})),_:2},1024)]})),_:2},1032,["to"])})),128))]})),_:1})):((0,o.uX)(),(0,o.Wv)(v,{key:0,class:"text-grey"},{default:(0,o.k6)((function(){return t[11]||(t[11]=[(0,o.eW)("No recent projects")])})),_:1}))]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,o.bF)(y,{class:"left mt-6"},{default:(0,o.k6)((function(){return[(0,o.bF)(x)]})),_:1})]})),_:1})}var ce={class:"text--small grey--text"};function se(e,t,n,r,a,i){return(0,o.uX)(),(0,o.CE)("small",ce,"v"+(0,u.v_)(e.version),1)}var le={data:function(){return{version:"0.0.1-natclinn"}}};const de=(0,Y.A)(le,[["render",se]]);var pe=de,fe=(0,o.pM)({components:{Version:pe},setup:function(){return{state:m,recentProjects:Pa,getHrefFromTypeId:ui,removeFromRecentProjects:Va,handleLoadFile:ho}}});const ve=(0,Y.A)(fe,[["render",ue]]);var me=ve,he={key:0,class:"view-container"},ge={class:"header-section"},be={class:"tablelist-section"},ke={class:"compare-container elevation-3"},ye={class:"close-btn-container"};function xe(e,t,n,r,a,u){var c=(0,o.g2)("Header"),s=(0,o.g2)("v-container"),l=(0,o.g2)("TableList"),d=(0,o.g2)("v-card"),p=(0,o.g2)("v-icon"),f=(0,o.g2)("v-badge"),v=(0,o.g2)("v-btn"),m=(0,o.g2)("SupersetCard"),h=(0,o.g2)("v-dialog"),g=(0,o.g2)("v-expand-transition");return e.state.project&&e.state.data?((0,o.uX)(),(0,o.CE)("div",he,[(0,o.Lk)("div",ge,[(0,o.bF)(s,{style:{"max-width":"1400px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(c)]})),_:1})]),(0,o.Lk)("div",be,[(0,o.bF)(s,{class:"tablelist-container",fluid:"",style:{"max-width":"1600px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(d,{elevation:"0",rounded:"lg"},{default:(0,o.k6)((function(){var n;return[t[3]||(t[3]=(0,o.Lk)("div",{class:"tablelist-x-shadow"},null,-1)),t[4]||(t[4]=(0,o.Lk)("div",{class:"tablelist-y-shadow"},null,-1)),((0,o.uX)(),(0,o.Wv)(l,{key:null===(n=e.state.project)||void 0===n?void 0:n.name}))]})),_:1})]})),_:1})]),t[5]||(t[5]=(0,o.Lk)("div",{class:"bottom-padding"},null,-1)),(0,o.bF)(v,{onClick:t[0]||(t[0]=function(t){return e.state.compareDialog=!e.state.compareDialog}),color:"secondary",disabled:0===e.selectedSupersets.length,class:"floating-button",variant:"flat",elevation:"8"},{default:(0,o.k6)((function(){return[(0,o.bF)(p,{icon:"mdi-select-compare"}),e.selectedSupersets.length>0?((0,o.uX)(),(0,o.Wv)(f,{key:0,content:e.selectedSupersets.length,color:"black","text-color":"white",floating:"","offset-x":"-12","offset-y":"-12"},null,8,["content"])):(0,o.Q3)("",!0)]})),_:1},8,["disabled"]),(0,o.bF)(h,{"onClick:outside":t[1]||(t[1]=function(t){return e.state.selectedSuperset=""}),"model-value":e.state.selectedSuperset.length>0,"max-width":"480px"},{default:(0,o.k6)((function(){return[e.state.selectedSuperset.length?((0,o.uX)(),(0,o.Wv)(m,{key:0,superset:JSON.parse(e.state.selectedSuperset)},null,8,["superset"])):(0,o.Q3)("",!0)]})),_:1},8,["model-value"]),(0,o.bF)(g,null,{default:(0,o.k6)((function(){return[(0,o.bo)((0,o.Lk)("div",ke,[(0,o.bF)(d,{color:"grey-lighten-4",flat:""},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",ye,[(0,o.bF)(v,{onClick:t[2]||(t[2]=function(t){return e.state.compareDialog=!1}),size:"x-small",icon:"",color:"secondary"},{default:(0,o.k6)((function(){return[(0,o.bF)(p,{icon:"mdi-close"})]})),_:1})]),(0,o.bF)(s,{class:"supersets-container",fluid:""},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.selectedSupersets,(function(t){return(0,o.uX)(),(0,o.CE)("div",{class:"card-compare",key:t+e.state.mode},[(0,o.bF)(m,{compare:!0,cols:4,superset:JSON.parse(t)},null,8,["superset"])])})),128))]})),_:1})]})),_:1})],512),[[i.aG,e.state.compareDialog&&e.selectedSupersets.length]])]})),_:1})])):(0,o.Q3)("",!0)}n(8706);var Ee=n(2543),Ae={class:"me-2 d-flex align-center"},we=(0,o.pM)({__name:"Header",setup:function(e){var t=(0,d.rd)(),n=function(e){return t.currentRoute.value.name===e},i=function(){m.searchInput=""},u=(0,Ee.debounce)((function(e){m.searchInput=e}),200),c=(0,o.EW)((function(){return mo()})),s=(0,o.EW)((function(){return br(po(),"text")})),p=(0,o.EW)((function(){return br(vo(),"text")})),f=(0,o.EW)((function(){return br(fo(),"text")}));return(0,o.wB)((function(){return m.mode}),(0,a.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ci(t.currentRoute.value,!1);case 2:case"end":return e.stop()}}),e)})))),function(e,t){var r=(0,o.g2)("v-icon"),a=(0,o.g2)("v-btn"),d=(0,o.g2)("v-list-item-title"),v=(0,o.g2)("v-list-item"),h=(0,o.g2)("v-list"),g=(0,o.g2)("v-menu"),b=(0,o.g2)("v-tooltip"),k=(0,o.g2)("v-select"),y=(0,o.g2)("v-toolbar"),x=(0,o.g2)("v-col"),E=(0,o.g2)("v-autocomplete"),A=(0,o.g2)("v-row"),w=(0,o.g2)("v-text-field");return(0,o.uX)(),(0,o.Wv)(A,{class:"table-filters"},{default:(0,o.k6)((function(){return[(0,o.bF)(x,{class:"flex-grow-0",style:{"align-self":"center"}},{default:(0,o.k6)((function(){return[(0,o.bF)(y,{color:"transparent",density:"comfortable",class:"pr-2"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Ae,[(0,o.bF)(b,{text:"Global view",location:"top"},{activator:(0,o.k6)((function(e){var i=e.props;return[(0,o.bF)(g,{location:"bottom"},{activator:(0,o.k6)((function(e){var u=e.props;return[(0,o.bF)(a,(0,o.v6)({icon:""},(0,W.A)((0,W.A)({},i),u),{variant:n("global-view")?"flat":"text",onClick:t[0]||(t[0]=function(e){return(0,l.R1)(Kn)("global-view")})}),{default:(0,o.k6)((function(){return[(0,o.bF)(r,{icon:"mdi-table",color:n("global-view")?"primary":"grey"},null,8,["color"]),(0,o.bF)(r,{icon:"mdi-chevron-down",color:n("global-view")?"primary":"grey"},null,8,["color"])]})),_:2},1040,["variant"])]})),default:(0,o.k6)((function(){return[(0,o.bF)(h,null,{default:(0,o.k6)((function(){return[(0,l.R1)(C)?((0,o.uX)(),(0,o.Wv)(v,{key:1,onClick:t[2]||(t[2]=function(e){return(0,l.R1)(m).globalCardType="label"})},{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){return t[10]||(t[10]=[(0,o.eW)("By Label")])})),_:1})]})),_:1})):((0,o.uX)(),(0,o.Wv)(v,{key:0,onClick:t[1]||(t[1]=function(e){return(0,l.R1)(m).globalCardType="stakeholder"})},{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){return t[9]||(t[9]=[(0,o.eW)("By Stakeholder")])})),_:1})]})),_:1}))]})),_:1})]})),_:2},1024)]})),_:1}),(0,o.bF)(b,{text:"Stakeholder view",location:"top"},{activator:(0,o.k6)((function(e){var i=e.props;return[(0,o.bF)(a,(0,o.v6)({icon:""},i,{variant:n("stakeholder-view")?"flat":"text",onClick:t[3]||(t[3]=function(e){return(0,l.R1)(Kn)("stakeholder-view")})}),{default:(0,o.k6)((function(){return[(0,o.bF)(r,{icon:"mdi-account-multiple",color:n("stakeholder-view")?"primary":"grey"},null,8,["color"])]})),_:2},1040,["variant"])]})),_:1}),(0,o.bF)(b,{text:"Property view",location:"top"},{activator:(0,o.k6)((function(e){var i=e.props;return[(0,o.bF)(a,(0,o.v6)({icon:""},i,{variant:n("property-view")?"flat":"text",onClick:t[4]||(t[4]=function(e){return(0,l.R1)(Kn)("property-view")})}),{default:(0,o.k6)((function(){return[(0,o.bF)(r,{icon:"mdi-format-list-bulleted",color:n("property-view")?"primary":"grey"},null,8,["color"])]})),_:2},1040,["variant"])]})),_:1})]),(0,o.bF)(k,{items:c.value,"item-title":"text","item-value":"value",modelValue:(0,l.R1)(m).mode,"onUpdate:modelValue":t[5]||(t[5]=function(e){return(0,l.R1)(m).mode=e}),label:"Select mode","hide-details":"",class:"ml-6 flex-grow-1",density:"comfortable",style:{"min-width":"200px"}},null,8,["items","modelValue"])]})),_:1})]})),_:1}),(0,o.bF)(x,{class:"px-6"},{default:(0,o.k6)((function(){return[(0,o.bF)(A,null,{default:(0,o.k6)((function(){return[(0,o.bF)(x,null,{default:(0,o.k6)((function(){return[(0,o.bF)(E,{clearable:"","item-color":"secondary",color:"secondary",label:"Stakeholders",modelValue:(0,l.R1)(m).selectedStakeholders,"onUpdate:modelValue":t[6]||(t[6]=function(e){return(0,l.R1)(m).selectedStakeholders=e}),items:s.value,"item-title":"text",multiple:"",hint:"".concat((0,l.R1)(m).selectedStakeholders.length,"/").concat((0,l.R1)(po).length),"persistent-hint":"",autocomplete:"off",id:"selected-stakeholders",density:"comfortable"},null,8,["modelValue","items","hint"])]})),_:1}),(0,o.bF)(x,null,{default:(0,o.k6)((function(){return[(0,o.bF)(E,{clearable:"","item-color":"secondary",color:"secondary",label:"Criteria",modelValue:(0,l.R1)(m).selectedCriterions,"onUpdate:modelValue":t[7]||(t[7]=function(e){return(0,l.R1)(m).selectedCriterions=e}),items:p.value,"item-title":"text",multiple:"",hint:"".concat((0,l.R1)(m).selectedCriterions.length,"/").concat((0,l.R1)(vo).length),"persistent-hint":"",autocomplete:"off",id:"selected-criteria",density:"comfortable"},null,8,["modelValue","items","hint"])]})),_:1}),(0,o.bF)(x,null,{default:(0,o.k6)((function(){return[(0,o.bF)(E,{clearable:"","item-color":"secondary",color:"secondary",label:"Aims",modelValue:(0,l.R1)(m).selectedAims,"onUpdate:modelValue":t[8]||(t[8]=function(e){return(0,l.R1)(m).selectedAims=e}),items:f.value,"item-title":"text",multiple:"",hint:"".concat((0,l.R1)(m).selectedAims.length,"/").concat((0,l.R1)(fo).length),"persistent-hint":"",autocomplete:"off",id:"selected-aims",density:"comfortable"},null,8,["modelValue","items","hint"])]})),_:1})]})),_:1})]})),_:1}),(0,o.bF)(x,{class:"flex-grow-0",style:{"min-width":"200px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(w,{color:"secondary",label:"Search","model-value":(0,l.R1)(m).searchInput,"onUpdate:modelValue":(0,l.R1)(u),clearable:"",density:"comfortable"},{"append-inner":(0,o.k6)((function(){return[(0,o.bF)(r,{icon:"mdi-magnify",class:"cursor-pointer",onClick:i})]})),_:1},8,["model-value","onUpdate:modelValue"])]})),_:1})]})),_:1})}}});const _e=we;var Ce=_e,Fe={class:"table-wrapper"},Ie={class:"custom-table"},Le={key:0,style:{height:"100%"},class:"text-center"},Se=["colspan"],Oe={class:"grey--text"};function je(e,t,n,r,a,u){var c=(0,o.g2)("TableListHead"),s=(0,o.g2)("TableListCriterion"),l=(0,o.g2)("TableListAim"),d=(0,o.g2)("TableListAlternative"),p=(0,o.g2)("v-btn"),f=(0,o.g2)("TableListFoot"),v=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(v,{fluid:"",class:"pa-0 fill-height d-flex flex-column"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Fe,[(0,o.Lk)("table",Ie,[(0,o.Lk)("thead",null,[(0,o.bF)(c)]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_criterionsIds,(function(t){return(0,o.uX)(),(0,o.CE)(o.FK,{key:"criterion-block-".concat(t)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.getAimsBy("criterion",t),(function(n,r){return(0,o.uX)(),(0,o.CE)("tr",{key:"aim-".concat(t,"-").concat(n.id)},[0===r?(0,o.bo)(((0,o.uX)(),(0,o.Wv)(s,{key:0,aim:n,criterionId:t},null,8,["aim","criterionId"])),[[i.aG,e.getFilteredCriterions.includes(t)]]):(0,o.Q3)("",!0),(0,o.bo)((0,o.bF)(l,{aim:n},null,8,["aim"]),[[i.aG,e.getFilteredAims.includes(n.id)]]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.alternativesIds,(function(r){return(0,o.uX)(),(0,o.CE)(o.FK,{key:"alternative-block-".concat(r)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.subOptionsIds,(function(a){return(0,o.bo)(((0,o.uX)(),(0,o.Wv)(d,{key:"alternative-".concat(r,"-").concat(a),aim:n,criterionId:t,alternativeId:r,subOptionId:a,alternativesIds:e.alternativesIds,subOptionsIds:e.subOptionsIds},null,8,["aim","criterionId","alternativeId","subOptionId","alternativesIds","subOptionsIds"])),[[i.aG,e.getFilteredAims.includes(n.id)]])})),128))],64)})),128))])})),128))],64)})),128)),e.getFilteredItems.length?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("tr",Le,[(0,o.Lk)("td",{class:"pt-10",colspan:5+e.alternativesIds.length},[(0,o.Lk)("b",Oe,[t[1]||(t[1]=(0,o.eW)(" No results. ")),t[2]||(t[2]=(0,o.Lk)("br",null,null,-1)),t[3]||(t[3]=(0,o.Lk)("br",null,null,-1)),(0,o.bF)(p,{small:"",color:"secondary",onClick:e.clearAppFilters},{default:(0,o.k6)((function(){return t[0]||(t[0]=[(0,o.eW)("clear filters")])})),_:1},8,["onClick"])])],8,Se)]))]),(0,o.Lk)("tfoot",null,[(0,o.bF)(f)])])])]})),_:1})}var We={class:"text-uppercase"},Xe=["colspan"];function Te(e,t,n,r,a,i){var c=(0,o.g2)("v-icon");return(0,o.uX)(),(0,o.CE)("tr",We,[t[0]||(t[0]=(0,o.Lk)("th",{class:"criterion"},"Criterion",-1)),t[1]||(t[1]=(0,o.Lk)("th",{class:"aim"},"Aim",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.alternativesIds,(function(t){var n,r;return(0,o.uX)(),(0,o.CE)("th",{key:"alternative-".concat(t),colspan:e.subOptionsIds.length,class:"alternative"},[null!==(n=e.state.data)&&void 0!==n&&null!==(n=n.alternatives)&&void 0!==n&&null!==(n=n[t])&&void 0!==n&&n.icon?((0,o.uX)(),(0,o.Wv)(c,{key:0},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(e.state.data.alternatives[t].icon),1)]})),_:2},1024)):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,u.v_)((null===(r=e.getAlternatives[t])||void 0===r?void 0:r.name)||"Unnamed"),1)],8,Xe)})),128))])}var Pe=(0,o.pM)({name:"TableListHead",setup:function(){return{state:m,alternativesIds:(0,o.EW)((function(){return di()})),subOptionsIds:(0,o.EW)((function(){return qi()})),getAlternatives:(0,o.EW)((function(){return si()}))}}});const Re=(0,Y.A)(Pe,[["render",Te],["__scopeId","data-v-6544bdca"]]);var De=Re,Ne={tablelistfoot:""},He={"criterion-aim":"",class:"text-right",colspan:"2"},Be={class:"grey--text",style:{"font-weight":"normal"}},Ve={style:{width:"90%"}},qe={class:"text-left"},Me={class:"text-right"};function Ue(e,t,n,r,a,i){var c=(0,o.g2)("v-container"),s=(0,o.g2)("v-icon"),l=(0,o.g2)("ScoreIcon");return(0,o.uX)(),(0,o.CE)("tr",Ne,[(0,o.Lk)("th",He,[(0,o.bF)(c,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("small",Be,[t[0]||(t[0]=(0,o.eW)(" Arguments: ")),(0,o.Lk)("b",null,(0,u.v_)(e.getFilteredItems.length)+"/"+(0,u.v_)(e.getAllItems.length),1)])]})),_:1})]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.alternativesIds,(function(n){return(0,o.uX)(),(0,o.CE)("th",{key:"subOption-".concat(n),alternative:"",colspan:2},[(0,o.Lk)("table",Ve,[(0,o.Lk)("tr",null,[(0,o.Lk)("td",qe,[(0,o.bF)(s,{color:"green",title:e.pluralize("{count} {argument:count}",{count:e.getFilteredItemsBy({alternative:n,favorable:!0}).length})},{default:(0,o.k6)((function(){return t[1]||(t[1]=[(0,o.eW)(" mdi-emoticon-happy-outline ")])})),_:2},1032,["title"])]),(0,o.Lk)("td",null,[(0,o.eW)(" Attitude: "+(0,u.v_)(e.totalAcceptability[n])+" ",1),(0,o.bF)(l,{alternative:n,score:e.totalAcceptability[n]},null,8,["alternative","score"])]),(0,o.Lk)("td",Me,[(0,o.bF)(s,{color:"red",title:e.pluralize("{count} {argument:count}",{count:e.getFilteredItemsBy({alternative:n,favorable:!1}).length})},{default:(0,o.k6)((function(){return t[2]||(t[2]=[(0,o.eW)(" mdi-emoticon-sad-outline ")])})),_:2},1032,["title"])])])])])})),128))])}function Ge(e,t,n,r,a,i){var c=(0,o.g2)("v-icon"),s=(0,o.g2)("v-avatar"),l=(0,o.g2)("v-chip");return(0,o.uX)(),(0,o.CE)("span",null,[e.icon?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(c,{key:0,title:e.title,"x-small":"",color:e.getColorName(e.getAcceptabilityName(e.score))},{default:(0,o.k6)((function(){return t[0]||(t[0]=[(0,o.eW)("mdi-circle")])})),_:1},8,["title","color"])),e.icon?((0,o.uX)(),(0,o.Wv)(l,{key:1,variant:"outlined",size:"x-small",title:"title",style:{padding:"0"},color:"getColorName(getAcceptabilityName(score))"},{default:(0,o.k6)((function(){return[(0,o.bF)(s,null,{default:(0,o.k6)((function(){return[e.state.data&&e.state.data.alternatives[e.alternative]?((0,o.uX)(),(0,o.Wv)(c,{key:0,small:""},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(e.state.data.alternatives[e.alternative].icon),1)]})),_:1})):(0,o.Q3)("",!0)]})),_:1})]})),_:1})):(0,o.Q3)("",!0)])}n(8130);var Qe=(0,o.pM)({props:{score:{type:Number||null},title:{},alternative:{type:Number},icon:{}},setup:function(e){return{state:m,getColorName:function(e){return"pro"===e?"green":"con"===e?"red":"mix"===e?"orange":"rgba(0,0,0,1)"},getAcceptabilityName:uo}}});const Ke=(0,Y.A)(Qe,[["render",Ge]]);var ze=Ke,$e=(0,o.pM)({setup:function(){return{state:m,getAcceptabilityFromAlternativeId:co,getFilteredItemsBy:Pi,getWeightedAcceptability:ro,pluralize:yr,totalAcceptability:(0,o.EW)((function(){return ro(ji())})),alternativesIds:(0,o.EW)((function(){return di()})),subOptionsIds:(0,o.EW)((function(){return qi()})),getSubOptions:(0,o.EW)((function(){return Vi()})),getFilteredItems:(0,o.EW)((function(){return ji()})),getAllItems:(0,o.EW)((function(){return Oi()}))}},components:{ScoreIcon:ze}});const Je=(0,Y.A)($e,[["render",Ue]]);var Ye=Je,Ze={aim:""},et={class:"d-flex flex-column justify-space-between text-break"},tt={class:"d-flex"},nt={class:"mt-1 d-flex flex-wrap flex-grow-1"};function rt(e,t,n,r,a,i){var c=(0,o.g2)("Acceptability"),s=(0,o.g2)("ItemsCount");return(0,o.uX)(),(0,o.CE)("td",Ze,[(0,o.Lk)("div",et,[(0,o.Lk)("div",tt,(0,u.v_)(e.aim.name),1),(0,o.Lk)("div",nt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_alternativesIds,(function(t,n){return(0,o.uX)(),(0,o.Wv)(c,{key:"aim-alternative-"+n+e.aimsItems[t],class:"mb-1 mr-1",icon:!0,alternative:t,items:e.aimsItems[t]},null,8,["alternative","items"])})),128))])]),(0,o.bF)(s,{count:e.totalItems},null,8,["count"])])}n(8237);function at(e,t,n,r,a,i){var c=(0,o.g2)("v-chip");return(0,o.uX)(),(0,o.Wv)(c,{variant:"outlined",size:"x-small",color:"default",title:"title"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(e.count),1)]})),_:1})}var it=(0,o.pM)({props:["count"],setup:function(e){return{title:(0,o.EW)((function(){return yr("{count} {argument:count}",{count:e.count})}))}}});const ot=(0,Y.A)(it,[["render",at]]);var ut=ot,ct=(0,o.pM)({__name:"Acceptability",props:{items:{},alternative:{},icon:{type:Boolean}},setup:function(e){var t=e,n=(0,o.EW)((function(){return oo(t.items)})),r=(0,o.EW)((function(){return null!==n.value?"".concat(yr("{count} {argument:count}",{count:t.items.length})," - ").concat(100*n.value,"% pro"):""}));return function(e,t){return(0,o.uX)(),(0,o.Wv)(ze,{title:r.value,alternative:e.alternative,icon:e.icon,score:n.value},null,8,["title","alternative","icon","score"])}}});const st=ct;var lt=st,dt=(0,o.pM)({props:{aim:{type:Object}},setup:function(e){var t=(0,l.QW)(e),n=t.aim,r=(0,o.EW)((function(){var e={};return pi.value.forEach((function(t){var r=Pi({alternative:t,aim:n.value.id});e[t]=r})),e})),a=(0,o.EW)((function(){return Object.values(r.value).reduce((function(e,t){return e+t.length}),0)}));return{c_alternativesIds:pi,aimsItems:r,totalItems:a,getFilteredItemsBy:Pi}},components:{Acceptability:lt,ItemsCount:ut}});const pt=(0,Y.A)(dt,[["render",rt]]);var ft=pt,vt=["rowspan"],mt={class:"d-flex flex-column justify-space-between text-break"},ht={class:"mt-1 flex-grow-1 flex-wrap d-flex"};function gt(e,t,n,r,a,i){var c=(0,o.g2)("Acceptability"),s=(0,o.g2)("ItemsCount");return(0,o.uX)(),(0,o.CE)("td",{class:"criterion",rowspan:e.getAimsBy("criterion",e.criterionId).length},[(0,o.Lk)("div",mt,[(0,o.Lk)("div",null,(0,u.v_)(e.c_criterions[e.aim.criterion].name),1),(0,o.Lk)("div",ht,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_alternativesIds,(function(t,n){return(0,o.uX)(),(0,o.Wv)(c,{key:"criterion-alternative-".concat(n,"-").concat(e.criterionItems[t]),class:"mb-1 mr-1",icon:!0,alternative:t,items:e.criterionItems[t]},null,8,["alternative","items"])})),128))])]),(0,o.bF)(s,{count:e.totalItems},null,8,["count"])],8,vt)}var bt=(0,o.pM)({name:"TableListCriterion",components:{Acceptability:lt,ItemsCount:ut},props:{aim:{type:Object,required:!0},criterionId:{type:Number,required:!0}},setup:function(e){var t=(0,l.QW)(e),n=t.criterionId,r=(0,o.EW)((function(){var e={};return pi.value.forEach((function(t){e[t]=Pi({alternative:t,criterion:n.value})})),e})),a=(0,o.EW)((function(){return Object.values(r.value).reduce((function(e,t){return e+t.length}),0)}));return{c_criterions:_i,c_alternativesIds:pi,getAimsBy:ki,criterionItems:r,totalItems:a}}});const kt=(0,Y.A)(bt,[["render",gt],["__scopeId","data-v-d4a07c98"]]);var yt=kt;function xt(e,t,n,r,a,i){var c=(0,o.g2)("TableListCard");return(0,o.uX)(),(0,o.CE)("td",{class:(0,u.C4)(e.getLabels().length?"":"is-empty"),key:"".concat(e.alternativeId,"-").concat(e.subOptionId)},[e.is1stLevelStakeholdersMode?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(e.getCardsByStakeholder(),(function(t,n){return(0,o.uX)(),(0,o.Wv)(c,{key:"superset-".concat(e.aim.id,"-stakeholder-").concat(n),superset:{criterion:e.criterionId,aim:e.aim.id,alternative:e.alternativeId,subOption:e.subOptionId,stakeholder:Number(n)}},null,8,["superset"])})),128)):((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.getLabels(),(function(t,n){return(0,o.uX)(),(0,o.Wv)(c,{key:"superset-".concat(t.property,"-").concat(t.value,"-").concat(n),superset:{criterion:e.criterionId,aim:e.aim.id,alternative:e.alternativeId,subOption:e.subOptionId,property:t.property,value:t.value}},null,8,["superset"])})),128))],2)}var Et={key:0},At={key:1},wt={class:"d-flex"},_t={class:"card-compare-btn"},Ct={key:0,class:"ml-auto mr-2 mb-1 text-right",style:{"text-overflow":"ellipsis",display:"block",overflow:"hidden",width:"calc(100% - 4em)","white-space":"nowrap"}};function Ft(e,t,n,r,a,c){var s=(0,o.g2)("Highlighter"),l=(0,o.g2)("v-chip"),d=(0,o.g2)("v-container"),p=(0,o.g2)("v-icon"),f=(0,o.g2)("v-btn"),v=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(v,{elevation:"1",onClick:t[2]||(t[2]=function(t){return e.toggleSuperset(e.superset)}),class:"text-center mb-3","max-width":"344"},{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){var t,n,r;return[(0,o.Lk)("div",null,[e.is1stLevelStakeholdersMode?((0,o.uX)(),(0,o.CE)("b",Et,[(0,o.bF)(s,{searchWords:[e.state.searchInput],textToHighlight:null!==(t=e.getStakeholderName(e.superset.stakeholder))&&void 0!==t?t:""},null,8,["searchWords","textToHighlight"])])):((0,o.uX)(),(0,o.CE)("b",At,[(0,o.bF)(s,{searchWords:[e.state.searchInput],textToHighlight:null!==(n=e.superset.property)&&void 0!==n?n:""},null,8,["searchWords","textToHighlight"])]))]),(0,o.Lk)("div",{class:(0,u.C4)([1===e.superset.subOption?"text-success":"text-error"])},[(0,o.bF)(s,{searchWords:[e.state.searchInput],textToHighlight:null!==(r=e.superset.value)&&void 0!==r?r:""},null,8,["searchWords","textToHighlight"])],2),(0,o.bF)(l,{variant:"outlined",size:"x-small",color:"default"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(e.items.length),1)]})),_:1})]})),_:1}),(0,o.Lk)("div",wt,[(0,o.Lk)("div",_t,[e.findSuperset(e.superset)?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(f,{key:0,onClick:t[0]||(t[0]=(0,i.D$)((function(t){return e.addSupersetInSelection(e.superset)}),["stop"])),text:"",icon:"",small:""},{default:(0,o.k6)((function(){return[(0,o.bF)(p,{"x-small":""},{default:(0,o.k6)((function(){return t[3]||(t[3]=[(0,o.eW)("mdi-plus-circle-outline")])})),_:1})]})),_:1})),e.findSuperset(e.superset)?((0,o.uX)(),(0,o.Wv)(f,{key:1,onClick:t[1]||(t[1]=(0,i.D$)((function(t){return e.removeSupersetInSelection(e.superset)}),["stop"])),text:"",icon:"",small:"",color:"secondary"},{default:(0,o.k6)((function(){return[(0,o.bF)(p,{"x-small":""},{default:(0,o.k6)((function(){return t[4]||(t[4]=[(0,o.eW)("mdi-plus-circle")])})),_:1})]})),_:1})):(0,o.Q3)("",!0)]),e.condition?((0,o.uX)(),(0,o.CE)("small",Ct,(0,u.v_)(e.condition),1)):(0,o.Q3)("",!0)])]})),_:1})}var It=(0,o.pM)({setup:function(){return{state:m,addSupersetInSelection:Zi,removeSupersetInSelection:eo,getItemsBy:Xi,toggleSuperset:Yi,findSuperset:to,getStakeholderName:Qi,is1stLevelStakeholdersMode:C}},computed:{items:function(){return C.value?Xi({stakeholder:this.superset.stakeholder,alternative:this.superset.alternative,subOption:this.superset.subOption,aim:this.superset.aim,criterion:this.superset.criterion}):Xi({property:this.superset.property,value:this.superset.value,alternative:this.superset.alternative,subOption:this.superset.subOption,aim:this.superset.aim,criterion:this.superset.criterion})},condition:function(){return this.items.reduce((function(e,t){return t.condition?e.length?e+", "+t.condition:e+t.condition:e}),"")}},props:["superset","label"]});const Lt=(0,Y.A)(It,[["render",Ft]]);var St=Lt,Ot=(0,o.pM)({setup:function(){return{is1stLevelStakeholdersMode:C}},components:{TableListCard:St},methods:{getLabels:function(){return(0,Ee.sortBy)(lo({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId}),"property")},getItems:function(){return Pi({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId})},getCardsByStakeholder:function(){return Bi({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId},"stakeholder")}},props:["alternativeId","subOptionId","aim","criterionId"]});const jt=(0,Y.A)(Ot,[["render",xt]]);var Wt=jt,Xt=(0,o.pM)({name:"TableList",components:{TableListCriterion:yt,TableListHead:De,TableListFoot:Ye,TableListAlternative:Wt,TableListAim:ft},setup:function(){var e=(0,o.EW)((function(){return Si()})),t=(0,o.EW)((function(){return ji()})),n=(0,o.EW)((function(){return xi()})),r=(0,o.EW)((function(){return di()})),a=(0,o.EW)((function(){return qi()})),i=(0,o.EW)((function(){return Ci()})),u=(0,o.EW)((function(){return hi()}));return{state:m,sortBy:Ee.sortBy,getAimsBy:ki,clearAppFilters:y,c_criterionsIds:Fi,getFilteredCriterions:e,getFilteredItems:t,getFilteredAims:n,alternativesIds:r,subOptionsIds:a,criterionsIds:i,aimsIds:u,getAlternatives:(0,o.EW)((function(){return si()})),getSubOptions:(0,o.EW)((function(){return Vi()}))}}});const Tt=(0,Y.A)(Xt,[["render",je],["__scopeId","data-v-2727879f"]]);var Pt=Tt,Rt={class:"d-flex",style:{background:"rgba(0,0,0,.7)",position:"relative"}},Dt={class:"mr-auto zi-front"},Nt={class:"subtitle-2 white--text text-uppercase"},Ht={class:"font-weight-light white--text text-caption"},Bt={class:"mx-4 my-4 zi-front"},Vt={class:"mt-0 mb-3 d-flex"},qt={class:"mr-auto"},Mt={style:{"margin-bottom":"-.33em"},class:"title d-flex text--primary"},Ut={key:0};function Gt(e,t,n,r,a,i){var c=(0,o.g2)("v-icon"),s=(0,o.g2)("v-card-text"),l=(0,o.g2)("v-divider"),d=(0,o.g2)("v-list-subheader"),p=(0,o.g2)("SupersetCardItem"),f=(0,o.g2)("v-btn"),v=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(v,{class:"superset-card"},{actions:(0,o.k6)((function(){return[e.findSuperset(e.superset)||e.compare?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(f,{key:0,onClick:t[0]||(t[0]=function(t){return e.addSupersetInSelection(e.superset)}),class:"mr-auto",variant:"text",icon:"mdi-plus-circle-outline"})),e.findSuperset(e.superset)?((0,o.uX)(),(0,o.Wv)(f,{key:1,class:(0,u.C4)(e.compare?"mx-auto":"mr-auto"),color:"secondary",onClick:t[1]||(t[1]=function(t){return e.removeSupersetInSelection(e.superset)}),variant:"text"},{default:(0,o.k6)((function(){return[(0,o.bF)(c,null,{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(e.compare?"mdi-close":"mdi-plus-circle"),1)]})),_:1})]})),_:1},8,["class"])):(0,o.Q3)("",!0),e.compare?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(f,{key:2,onClick:t[2]||(t[2]=function(t){return e.unselectSuperset(e.superset)}),variant:"text",icon:"mdi-close"}))]})),default:(0,o.k6)((function(){return[(0,o.Lk)("div",Rt,[(0,o.Lk)("div",{class:"card-background",style:(0,u.Tr)("background-image: url(".concat(e.getImagePath(e.state.data.alternatives[e.superset.alternative].image),"); background-size: cover;"))},null,4),(0,o.Lk)("div",Dt,[(0,o.Lk)("div",Nt,(0,u.v_)(e.getAlternativeName(e.superset.alternative)),1),(0,o.Lk)("div",Ht,(0,u.v_)(e.getCriterionName(e.superset.criterion)),1)]),(0,o.Lk)("div",Bt,[e.state.data?((0,o.uX)(),(0,o.Wv)(c,{key:0,style:{color:"white"}},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(e.state.data.alternatives[e.superset.alternative].icon),1)]})),_:1})):(0,o.Q3)("",!0)])]),(0,o.bF)(s,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Vt,[(0,o.Lk)("span",qt,(0,u.v_)(e.getAimName(e.superset.aim)),1),(0,o.bF)(c,{class:"ml-2",size:"small"},{default:(0,o.k6)((function(){return t[3]||(t[3]=[(0,o.eW)("mdi-bullseye-arrow")])})),_:1})]),(0,o.Lk)("div",null,[(0,o.Lk)("div",Mt,[e.is1stLevelStakeholdersMode?((0,o.uX)(),(0,o.CE)("b",Ut,(0,u.v_)(e.getStakeholderName(e.superset.stakeholder)),1)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("b",null,(0,u.v_)(e.superset.property),1),(0,o.bF)(c,{class:(0,u.C4)(["ml-auto",1===e.superset.subOption?"text-success":"text-error"])},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(e.state.icons.subOption[e.superset.subOption]),1)]})),_:1},8,["class"])],64))]),e.is1stLevelStakeholdersMode?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,u.C4)(["title font-weight-regular",1===e.superset.subOption?"text-success":"text-error"])},(0,u.v_)(e.superset.value),3))])]})),_:1}),(0,o.bF)(l,{class:"my-1"}),(0,o.bF)(s,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d,{class:"px-0",textContent:(0,u.v_)("Arguments (".concat(e.supersetItems.length,")"))},null,8,["textContent"]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.duplicateGroups,(function(e,t){return(0,o.uX)(),(0,o.CE)("div",{key:t,class:"mb-5 no-mb-last"},[(0,o.bF)(p,{item:e[0],index:t,duplicatesCount:e.length},null,8,["item","index","duplicatesCount"])])})),128))]})),_:1}),(0,o.bF)(l)]})),_:1})}var Qt={class:"d-flex"},Kt={class:"mb-5 overflow-hidden"},zt={key:0},$t={key:1},Jt={key:1},Yt={class:"ml-auto flex-shrink-0"},Zt={key:0,class:"text--secondary body-1"},en={class:"mb-5 body-1"},tn={class:"body-1 text--secondary"},nn={key:0,class:"text-right text--secondary caption"};function rn(e,t,n,r,a,c){var s=(0,o.g2)("v-chip"),l=(0,o.g2)("v-icon"),d=(0,o.g2)("v-btn"),p=(0,o.g2)("v-expand-transition"),f=(0,o.g2)("v-container"),v=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(v,{ripple:!1,outlined:"",onClick:t[0]||(t[0]=function(t){return e.openMe(e.index)})},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{fluid:""},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Qt,[(0,o.Lk)("div",Kt,[(0,o.Lk)("div",{class:(0,u.C4)("caption ".concat(e.open[e.index]?"":"text-truncate"))},[e.is1stLevelStakeholdersMode?((0,o.uX)(),(0,o.CE)("b",zt,(0,u.v_)(e.item.property),1)):((0,o.uX)(),(0,o.CE)("b",$t,"by "+(0,u.v_)(e.getStakeholderName(e.item.stakeholder)),1))],2),(0,o.Lk)("div",{class:(0,u.C4)("caption ".concat(e.open[e.index]?"":"text-truncate"))},[e.is1stLevelStakeholdersMode?((0,o.uX)(),(0,o.CE)("span",{key:0,class:(0,u.C4)("font-weight-regular\t  ".concat(1===e.item.subOption?"green--text":"red--text"))},(0,u.v_)(e.item.value),3)):((0,o.uX)(),(0,o.CE)("em",Jt,"in "+(0,u.v_)(e.item.source),1))],2)]),(0,o.Lk)("div",Yt,[(0,o.bF)(s,{variant:"outlined",size:"x-small"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(e.duplicatesCount),1)]})),_:1}),(0,o.bF)(d,{icon:""},{default:(0,o.k6)((function(){return[(0,o.bF)(l,null,{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(e.open[e.index]?"mdi-chevron-up":"mdi-chevron-down"),1)]})),_:1})]})),_:1})])]),e.open[e.index]?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Zt,(0,u.v_)(e.item.assertion),1)),(0,o.bF)(p,null,{default:(0,o.k6)((function(){return[(0,o.bo)((0,o.Lk)("div",null,[t[1]||(t[1]=(0,o.Lk)("div",{class:"overline"},"Explanation",-1)),(0,o.Lk)("p",en,(0,u.v_)(e.item.explanation),1),t[2]||(t[2]=(0,o.Lk)("div",{class:"overline"},"Assertion",-1)),(0,o.Lk)("p",tn,(0,u.v_)(e.item.assertion),1),e.item.date?((0,o.uX)(),(0,o.CE)("div",nn,[(0,o.Lk)("small",null,(0,u.v_)(e.formatDate(e.item.date)),1)])):(0,o.Q3)("",!0)],512),[[i.aG,e.open[e.index]]])]})),_:1})]})),_:1})]})),_:1})}n(2062),n(1701);var an=(0,o.pM)({setup:function(){return{state:m,getImagePath:x,openMe:function(e){this.open[e]=!this.open[e]},addSupersetInSelection:Zi,removeSupersetInSelection:eo,unselectSuperset:Ji,findSuperset:to,getItemsBy:Xi,getCriterionById:Ii,getAlternativeName:vi,getCriterionName:Li,getStakeholderName:Qi,getAimName:yi,formatDate:hr,is1stLevelStakeholdersMode:C}},props:["item","index","duplicatesCount"],data:function(){return{open:[!1]}},computed:{supersetItems:function(){return Xi(this.superset)}},mounted:function(){this.open=this.supersetItems.map((function(){return!1}))}});const on=(0,Y.A)(an,[["render",rn]]);var un=on,cn=(0,o.pM)({components:{SupersetCardItem:un},props:["superset","compare"],setup:function(){return{state:m,getImagePath:x,addSupersetInSelection:Zi,removeSupersetInSelection:eo,unselectSuperset:Ji,findSuperset:to,getItemsBy:Xi,getCriterionById:Ii,getAlternativeName:vi,getCriterionName:Li,getStakeholderName:Qi,getAimName:yi,formatDate:hr,is1stLevelStakeholdersMode:C}},computed:{supersetItems:function(){return Xi(this.superset)},duplicateGroups:function(){return Ti(this.supersetItems)}}});const sn=(0,Y.A)(cn,[["render",Gt]]);var ln=sn,dn=(0,o.pM)({components:{Header:Ce,TableList:Pt,SupersetCard:ln},setup:function(){return{state:m,selectedSupersets:F,getFilteredItems:(0,o.EW)((function(){return ji()})),getAllItems:(0,o.EW)((function(){return Oi()})),removeSupersetInSelection:eo}}});const pn=(0,Y.A)(dn,[["render",xe],["__scopeId","data-v-82ecae66"]]);var fn=pn;function vn(e,t,n,r,a,i){var c=(0,o.g2)("Header"),s=(0,o.g2)("PropertyListRow"),l=(0,o.g2)("v-table"),d=(0,o.g2)("v-card"),p=(0,o.g2)("v-container");return e.state.project&&e.state.data?((0,o.uX)(),(0,o.Wv)(p,{key:0,style:{"max-width":"1400px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(c),(0,o.bF)(d,{class:"mt-2"},{default:(0,o.k6)((function(){return[(0,o.bF)(l,{class:"properties-table",style:{"min-width":"1000px"}},{default:(0,o.k6)((function(){return[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[t[0]||(t[0]=(0,o.Lk)("th",{class:"text-start"},"Property",-1)),t[1]||(t[1]=(0,o.Lk)("th",{class:"text-start"},"Criterion",-1)),t[2]||(t[2]=(0,o.Lk)("th",{class:"text-start"},"Aim",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_alternativesIds,(function(t,n){return(0,o.uX)(),(0,o.CE)("th",{key:n,class:"text-center"},(0,u.v_)(e.getAlternativeById(t).name),1)})),128))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.getNormalizedItemsByUniqueItemProp("property"),(function(e,t){return(0,o.uX)(),(0,o.Wv)(s,{key:t,items:e,property:t},null,8,["items","property"])})),128))])]})),_:1})]})),_:1})]})),_:1})):(0,o.Q3)("",!0)}var mn=["name","id"],hn={key:0,class:"grey--text"},gn={key:0,class:"grey--text"},bn={key:0,class:"text-center"};function kn(e,t,n,r,a,i){var c,s=(0,o.g2)("Highlighter"),l=(0,o.g2)("v-icon"),d=(0,o.g2)("PropertiesListCriterion"),p=(0,o.g2)("Acceptability");return(0,o.uX)(),(0,o.CE)("tr",{onClick:t[0]||(t[0]=function(t){return e.hasMany?e.showDetails=!e.showDetails:""}),key:"".concat(e.property,"-").concat(e.criterionItems.length,"-").concat(e.aimItems.length)},[(0,o.Lk)("td",null,[(0,o.Lk)("a",{name:"".concat(e.property),id:e.property},null,8,mn),(0,o.Lk)("b",null,[(0,o.bF)(s,{searchWords:[e.state.searchInput],textToHighlight:null!==(c=e.property)&&void 0!==c?c:""},null,8,["searchWords","textToHighlight"])]),e.criterionItems.length>1||e.aimItems.length>1?((0,o.uX)(),(0,o.Wv)(l,{key:0},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(e.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)]})),_:1})):(0,o.Q3)("",!0)]),(0,o.Lk)("td",null,[e.criterionItems.length>1&&!e.showDetails?((0,o.uX)(),(0,o.CE)("div",hn,(0,u.v_)(e.criterionItems.length)+" criteria ",1)):(0,o.Q3)("",!0),e.criterionItems.length<=1||e.criterionItems.length>1&&e.showDetails?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.criterionItems,(function(t,n){return(0,o.uX)(),(0,o.Wv)(d,{key:n,item:t,row:e.getAimsCountFromAimsAndCriterion(e.getAimsFromItems(e.items),t.criterion)},null,8,["item","row"])})),128)):(0,o.Q3)("",!0)]),(0,o.Lk)("td",null,[e.aimItems.length>1&&!e.showDetails?((0,o.uX)(),(0,o.CE)("div",gn,(0,u.v_)(e.aimItems.length)+" aims",1)):(0,o.Q3)("",!0),e.aimItems.length<=1||e.aimItems.length>1&&e.showDetails?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.aimItems,(function(t,n){return(0,o.uX)(),(0,o.CE)("div",{key:n},(0,u.v_)(e.getAimById(t.aim).name),1)})),128)):(0,o.Q3)("",!0)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_alternativesIds,(function(t,n){return(0,o.uX)(),(0,o.CE)("td",{key:n},[e.showDetails?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",bn,[(0,o.bF)(p,{items:e.filterItemsBy(e.items,{alternative:t}),alternative:t,icon:!1},null,8,["items","alternative"])])),e.showDetails?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.aimItems,(function(n,r){return(0,o.uX)(),(0,o.CE)("div",{class:"text-center",key:r},[(0,o.bF)(p,{items:e.filterItemsBy(e.items,{alternative:t,aim:n.aim}),alternative:t,icon:!1},null,8,["items","alternative"])])})),128)):(0,o.Q3)("",!0)])})),128))])}function yn(e,t,n,r,a,i){return(0,o.uX)(),(0,o.CE)("div",null,(0,u.v_)(e.getCriterionById(e.item.criterion).name),1)}var xn=(0,o.pM)({props:{item:{},row:{}},setup:function(){return{getCriterionById:Ii}}});const En=(0,Y.A)(xn,[["render",yn]]);var An=En,wn=(0,o.pM)({props:{items:Array,property:{type:String,required:!0}},setup:function(e){var t=(0,l.QW)(e),n=t.items,r=(t.property,(0,l.KR)(!1)),a=(0,o.EW)((function(){return(0,Ee.uniqBy)(n.value,"criterion")})),i=(0,o.EW)((function(){return(0,Ee.uniqBy)(n.value,"aim")})),u=(0,o.EW)((function(){return a.value.length>1||i.value.length>1}));return{state:m,c_alternativesIds:pi,showDetails:r,criterionItems:a,aimItems:i,hasMany:u,getAimsCountFromAimsAndCriterion:Ai,getAimsFromItems:Ei,countBy:Ee.countBy,sortBy:Ee.sortBy,getSubOptionById:Mi,getCriterionById:Ii,getAimById:bi,getAcceptabilityFromProCon:oo,normalizeByAlternative:Di,filterItemsBy:Wi,uniqBy:Ee.uniqBy}},components:{Acceptability:lt,PropertiesListCriterion:An}});const _n=(0,Y.A)(wn,[["render",kn]]);var Cn=_n,Fn=(0,o.pM)({setup:function(e){var t=(0,l.KR)(null);return{state:m,height:t,c_alternativesIds:pi,setHeight:function(){var e=document.querySelector("[table-filters]");if(e){var n=e.getBoundingClientRect();t.value=window.innerHeight-n.bottom-24}},getNormalizedItemsByUniqueItemProp:Hi,getAlternativeById:fi}},components:{Header:Ce,PropertyListRow:Cn},mounted:function(){this.$nextTick(this.setHeight)},updated:function(){this.$nextTick(this.setHeight)},created:function(){window.addEventListener("resize",this.setHeight)},destroyed:function(){window.removeEventListener("resize",this.setHeight)}});const In=(0,Y.A)(Fn,[["render",vn]]);var Ln=In,Sn={style:{"overflow-x":"auto"}};function On(e,t,n,r,a,i){var c=(0,o.g2)("Header"),s=(0,o.g2)("StakeholderListRow"),l=(0,o.g2)("v-table"),d=(0,o.g2)("v-card"),p=(0,o.g2)("v-container");return e.state.project&&e.state.data?((0,o.uX)(),(0,o.Wv)(p,{key:0,style:{"max-width":"1400px"}},{default:(0,o.k6)((function(){return[(0,o.bF)(c),(0,o.bF)(d,{class:"mt-2"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Sn,[(0,o.bF)(l,{class:"properties-table",style:{"min-width":"1000px"}},{default:(0,o.k6)((function(){return[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[t[0]||(t[0]=(0,o.Lk)("th",{class:"text-start"},"Criterion",-1)),t[1]||(t[1]=(0,o.Lk)("th",{class:"text-start"},"Aim",-1)),t[2]||(t[2]=(0,o.Lk)("th",{class:"text-start"},"Stakeholder",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_alternativesIds,(function(t,n){return(0,o.uX)(),(0,o.CE)("th",{key:"alt-".concat(n),class:"text-center"},(0,u.v_)(e.getAlternativeById(t).name),1)})),128))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.getNormalizedItemsByUniqueItemProp("criterion"),(function(t,n){return(0,o.uX)(),(0,o.Wv)(s,{key:"crit-".concat(n),items:t,property:e.getCriterionName(n)},null,8,["items","property"])})),128))])]})),_:1})])]})),_:1})]})),_:1})):(0,o.Q3)("",!0)}var jn=["rowspan"],Wn=["name","id"],Xn=["rowspan"],Tn={stakeholder:""};function Pn(e,t,n,r,a,i){var c=(0,o.g2)("Highlighter"),s=(0,o.g2)("Acceptability");return(0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.aimItems,(function(t,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.uniqBy(e.filterItemsBy(e.items,{aim:t.aim}),"stakeholder"),(function(r,a){return(0,o.uX)(),(0,o.CE)("tr",{key:"stakeholder-".concat(a,"-").concat(n)},[0===n&&0===a?((0,o.uX)(),(0,o.CE)("td",{key:0,criterion:"",rowspan:e.uniqBy(e.filterItemsBy(e.items,{criterion:t.criterion}),"stakeholder").length*e.aimItems.length},[(0,o.Lk)("a",{name:"".concat(e.property),id:e.property},null,8,Wn),(0,o.bF)(c,{class:"inline-block",searchWords:[e.state.searchInput],"text-to-highlight":e.property},null,8,["searchWords","text-to-highlight"])],8,jn)):(0,o.Q3)("",!0),0===a?((0,o.uX)(),(0,o.CE)("td",{key:1,aim:"",rowspan:e.uniqBy(e.filterItemsBy(e.items,{aim:t.aim}),"stakeholder").length},[(0,o.Lk)("span",null,(0,u.v_)(e.getAimById(t.aim).name),1)],8,Xn)):(0,o.Q3)("",!0),(0,o.Lk)("td",Tn,[(0,o.Lk)("b",null,(0,u.v_)(e.getStakeholderName(r.stakeholder)),1)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.c_alternativesIds,(function(n,a){return(0,o.uX)(),(0,o.CE)("td",{class:"text-center",alternative:"",key:a},[(0,o.bF)(s,{items:e.filterItemsBy(e.items,{alternative:n,aim:t.aim,stakeholder:r.stakeholder}),alternative:n,icon:!1},null,8,["items","alternative"])])})),128))])})),128))],64)})),256)}var Rn=(0,o.pM)({props:{items:Array,property:{type:String,required:!0}},setup:function(e){var t=(0,l.QW)(e),n=t.items,r=(t.property,(0,o.EW)((function(){return(0,Ee.uniqBy)(n.value,"stakeholder")}))),a=(0,o.EW)((function(){return(0,Ee.uniqBy)(n.value,"criterion")})),i=(0,o.EW)((function(){return(0,Ee.uniqBy)(n.value,"aim")}));return console.log("aimItems"),console.log(i.value),{state:m,c_alternativesIds:pi,stakeholderItems:r,criterionItems:a,aimItems:i,hasMany:(0,o.EW)((function(){return a.value.length>1||i.value.length>1})),getStakeholderName:Qi,getAimsCountFromAimsAndCriterion:Ai,getAimsFromItems:Ei,countBy:Ee.countBy,sortBy:Ee.sortBy,getSubOptionById:Mi,getCriterionById:Ii,getAimById:bi,getAcceptabilityFromProCon:oo,normalizeByAlternative:Di,filterItemsBy:Wi,uniqBy:Ee.uniqBy}},components:{Acceptability:lt}});const Dn=(0,Y.A)(Rn,[["render",Pn]]);var Nn=Dn,Hn=(0,o.pM)({props:{id:Number},setup:function(){var e=(0,l.KR)(null),t=function(){var t=document.querySelector("[table-filters]");if(t){var n=t.getBoundingClientRect();e.value=window.innerHeight-n.bottom-24}};return(0,o.sV)((function(){t(),window.addEventListener("resize",t)})),(0,o.$u)(t),(0,o.xo)((function(){window.removeEventListener("resize",t)})),{state:m,height:e,c_alternativesIds:pi,getCriterionName:Li,getNormalizedItemsByUniqueItemProp:Hi,getAlternativeById:fi,setHeight:t}},components:{Header:Ce,StakeholderListRow:Nn}});const Bn=(0,Y.A)(Hn,[["render",On],["__scopeId","data-v-4259a901"]]);var Vn=Bn,qn=[{name:"home",path:"/",component:me},{name:"global-view",path:"/project/global-view",component:fn},{name:"project",path:"/project/",component:re},{name:"property-view",path:"/project/property-view",component:Ln,props:!0},{name:"stakeholder-view",path:"/project/stakeholder-view",component:Vn,props:!0}],Mn=(0,d.aE)({history:(0,d.LA)("/"),routes:qn});Mn.beforeEach(function(){var e=(0,a.A)((0,r.A)().mark((function e(t,n,a){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:I(),a();case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),Mn.afterEach(function(){var e=(0,a.A)((0,r.A)().mark((function e(t,n){var a,i,o,u,c,s;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.path.startsWith("/project")){e.next=11;break}if(a=ti(t),i=ti(n),o=ri(t),u=ri(n),c=a===i&&o===u,c){e.next=9;break}return e.next=9,Gn();case 9:e.next=12;break;case 11:"string"===typeof(null===(s=t.meta)||void 0===s?void 0:s.title)?xr(t.meta.title):xr("My Choice");case 12:L();case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var Un,Gn=function(){var e=(0,a.A)((0,r.A)().mark((function e(){var t;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Mn.currentRoute.value,!(t.query[Un.ICO]||t.query[Un.GOOGLE_SPREADSHEET]||t.query[Un.NEXTCLOUD]||t.query["demo"])){e.next=13;break}return e.prev=2,e.next=5,ci(t);case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e["catch"](2),console.info("LOAD FAIL, RETRY WITHOUT CACHE!"),Ua(t),e.next=13,ci(t);case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),Qn=Mn,Kn=function(e){var t={name:e};Qn.push(t)};(function(e){e["ICO"]="name",e["GOOGLE_SPREADSHEET"]="spreadsheet",e["XLSX"]="xlsx",e["NEXTCLOUD"]="nextcloud"})(Un||(Un={}));var zn=Un.ICO,$n=Un.GOOGLE_SPREADSHEET,Jn=(Un.XLSX,Un.NEXTCLOUD),Yn=(0,o.EW)((function(){return m.vm&&m.vm.$route&&m.vm.$route.query&&(m.vm.$route.query.name||m.vm.$route.query.spreadsheet)?m.vm.$route.query.name||m.vm.$route.query.spreadsheet:null})),Zn=(0,o.EW)((function(){return(0,Ee.uniqBy)(m.notifications,"message")})),er=function(){var e=[];return Object.entries(m.errors).forEach((function(t){var n=(0,p.A)(t,2),r=n[0],a=n[1];if(!1!==a)return e.push(r)})),e},tr=function(e){return m.errorMessages[e]||m.errors[e]},nr=function(){Object.keys(m.errors).forEach((function(e){m.errors[e]=!1}))},rr=n(3772),ar=(n(2811),n(7764),n(2953),n(113),n(8598),n(1148),n(116),n(9492)),ir=n(5026),or=n(8108),ur=n(8578),cr=n(7787),sr=(n(6910),n(5440),n(4353)),lr=n.n(sr),dr=n(445),pr=n.n(dr);lr().extend(pr());var fr,vr=function(e){function t(e){var n;(0,ir.A)(this,t);for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return n=(0,or.A)(this,t,[].concat(a)),n.name=e,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(n,n.constructor):n.stack=new Error(n.message).stack,n}return(0,ur.A)(t,e),(0,ar.A)(t)}((0,cr.A)(Error)),mr=function(e,t){m.errors[e]=t},hr=function(e){return lr()(e,"DD/MM/YY").format("MMMM YYYY")},gr=function(e,t,n){var r=(e-t)/(n-t);return isFinite(r)||(r=e),r},br=function(e,t){return e.sort((function(e,n){return e[t]>n[t]?1:-1}))},kr=function(e){return Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{})},yr=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s",a=e,i=/{([^:}]+)(?:(?::)([^}]+))?}/g;while(null!==(n=i.exec(e))){if(n.index===i.lastIndex&&i.lastIndex++,void 0===n[2]){var o=new RegExp("\\{"+n[1]+"\\}","g");a=a.replace(o,"".concat(t[n[1]]))}if(void 0!==n[2]){var u=n[1],c=n[2],s=t[c],l=new RegExp("\\{"+u+":"+c+"\\}","g");a=Number(s)>1&&t.plural?a.replace(l,"".concat(t.plural)):a.replace(l,"".concat(u).concat(Number(s)>1?r:""))}}return a},xr=function(e){document.title=e},Er=n(5811),Ar=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://sheets.googleapis.com/v4/spreadsheets/".concat(t,"?key=").concat("AIzaSyDEksLxmlJt3Ru6Uv8qakqnCZ05ViwHZyA"));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wr=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i,o,u;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ar(t);case 3:return n=e.sent,a=n.sheets,i=[],o={},a.forEach((function(e){o[e.properties.index]=e.properties.title,i.push(Er.getWorksheet(t,e.properties.title,"AIzaSyDEksLxmlJt3Ru6Uv8qakqnCZ05ViwHZyA"))})),e.next=10,Promise.all(i);case 10:return u=e.sent,e.abrupt("return",u.map((function(e,t){var n=e.data;return{data:n,title:o[t],index:t}})));case 14:throw e.prev=14,e.t0=e["catch"](0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),_r=function(e,t){return new Promise((function(n,r){var a=null,i=t.every((function(t){return a=t,!!Object.prototype.hasOwnProperty.call(e,t)}));i?n(!0):r(a)}))},Cr=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n={argument:["idArgument","assertion","explanation","date","nameStakeHolder","nameProperty","value","typeProCon","nameAlternative","nameCriterion","nameSource","aim","nameTypeSource","isProspective"],project:["nameProject"],alternative:["nameAlternative","iconAlternative"]},a=n[t.title],i=t.data[0],!i){e.next=9;break}return e.next=6,_r(i,a).then((function(e){return e}),(function(e){throw new vr("SPREADSHEET_ERROR","On <b>".concat(t.title,"</b> sheet, the <b>").concat(e,"</b> column is missing or misspelled"))}));case 6:return e.abrupt("return",e.sent);case 9:mr("SPREADSHEET_ERROR","No data found in the <b>".concat(t.title,"</b> sheet"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fr=function(e){e.spreadsheetId;var t=e.item,n=e.worksheet,r=e.line,a=e.keys;a.forEach((function(e,a){if(null===t[e])throw new vr("SPREADSHEET_ERROR","On <b>".concat(n.title,"</b> sheet, the <b>").concat(String(e),"</b> on line <b>").concat(r,"</b> is empty and must be filled"))}))},Ir=function(e){var t={};e.forEach((function(e){t[e.aim]?t[e.aim].includes(e.nameCriterion)||t[e.aim].push(e.nameCriterion):t[e.aim]=[e.nameCriterion]})),Object.entries(t).forEach((function(e){var t=(0,p.A)(e,2),n=t[0],r=t[1];r.length>1&&mr("SPREADSHEET_ERROR_"+n,"The <b>".concat(n,"</b> aim should be associated with only one criterion, but has been found in ").concat(r.length," criteria : <b>").concat(r.join("</b>, <b>"),"</b>"))}))},Lr=function(){var e=(0,a.A)((0,r.A)().mark((function e(t,n){var a,i,o;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.find((function(e){return"argument"===e.title})),i=t[a.index].data,o=i.map((function(e){return Object.keys(e).reduce((function(t,n){try{t[n]=JSON.parse(e[n])}catch(r){t[n]=e[n]}return t}),{})})),e.prev=3,e.next=6,Cr(a);case 6:Ir(o),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](3),e.t0;case 12:return e.abrupt("return",o.map((function(e,t){var r=t+2;if("-"!==e.typeProCon&&"+"!==e.typeProCon)throw new vr("SPREADSHEET_ERROR","On <b>".concat(a.title,"</b> sheet, the <b>typeProCon</b> on line <b>").concat(r,"</b> is <b>").concat(e.typeProCon,"</b> and should be <b>-</b> or <b>+</b> "));Fr({spreadsheetId:n,item:e,worksheet:a,line:r,keys:["nameSource","idArgument","nameProperty","value","nameStakeHolder","nameAlternative","nameCriterion","aim","nameTypeSource"]});var i={id:e.idArgument,stakeholder:e["nameStakeHolder"],property:e["nameProperty"],favorable:"+"===e.typeProCon,alternative:e["nameAlternative"],criterion:e["nameCriterion"],source:e["nameSource"],sourceType:e["nameTypeSource"],value:e["value"],aim:e["aim"],date:e["date"]?e["date"].toString():null};return delete e.idArgument,delete e["nameStakeHolder"],delete e["nameProperty"],delete e.typeProCon,delete e["nameAlternative"],delete e["nameCriterion"],delete e["nameSource"],delete e["nameTypeSource"],delete e["value"],delete e["aim"],(0,W.A)((0,W.A)({},e),i)})));case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Sr=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i,o,u,c,s,l,d,p,f,v;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.find((function(e){return"project"===e.title})),e.prev=1,e.next=4,Cr(n);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](1),e.t0;case 9:return a=n.data[0],i=t.find((function(e){return"alternative"===e.title})),e.prev=11,e.next=14,Cr(i);case 14:i.data.forEach((function(e,t){var n=t+2;if(null===e.iconAlternative)throw new vr("SPREADSHEET_ERROR","On <b>".concat(i.title,"</b> sheet, the <b>iconAlternative</b> on line <b>").concat(n,"</b> is <b>empty</b> and should be a valid icon name"))})),e.next=20;break;case 17:throw e.prev=17,e.t1=e["catch"](11),e.t1;case 20:return o=i.data,u=o.map((function(e){return{name:e.nameAlternative,description:e.description,image:e.imageAlternative,icon:e.iconAlternative}})),c=t.find((function(e){return"hasexpertise"===e.title})),s=c.data,l=s.map((function(e){return{nameStakeHolder:e["nameStakeHolder"],nameCriterion:e["nameCriterion"]}})),d=t.find((function(e){return"typesource"===e.title})),p=d.data,f=p.map((function(e){return{fiability:e.fiability.toString(),nameTypeSource:e.nameTypeSource}})),v={name:a.nameProject,image:a.image,description:a.description,alternatives:u,expertiseEntities:l,sourceTypeEntities:f},e.abrupt("return",v);case 30:case"end":return e.stop()}}),e,null,[[1,6],[11,17]])})));return function(t){return e.apply(this,arguments)}}(),Or=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wr(t);case 3:return n=e.sent,e.next=6,Lr(n,t);case 6:return a=e.sent,e.next=9,Sr(n);case 9:return i=e.sent,e.abrupt("return",{items:a,project:i});case 13:throw e.prev=13,e.t0=e["catch"](0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),jr=function(e){var t=new RegExp("/spreadsheets/d/([a-zA-Z0-9-_]+)").exec(e);if(t){var n=t[1];return n}return e},Wr=function(e){var t=e,n={stakeholders:t.nameStakeholder,name:t.nameProject,aims:t.aim,criterions:t.nameCriterion,alternatives:t.alternatives.map((function(e){var t={name:e.nameAlternative,image:e.imageAlternative,icon:e.iconAlternative};return delete e.nameAlternative,(0,W.A)((0,W.A)({},e),t)})),sourceTypeEntities:t.typeSource,expertiseEntities:t.hasExpertise};return delete t.typeSource,delete t.hasExpertise,delete t.nameStakeholder,delete t.aim,delete t.nameProject,delete t.nameCriterion,(0,W.A)((0,W.A)({},t),n)},Xr=function(e){return e.map((function(e){var t={id:e.idArgument,stakeholder:e.nameStakeHolder,property:e.nameProperty,favorable:e.typeProCon,alternative:e.nameAlternative,criterion:e.nameCriterion,source:e.nameSource,sourceType:e.nameTypeSource};return delete e.idArgument,delete e.nameStakeHolder,delete e.nameProperty,delete e.typeProCon,delete e.nameAlternative,delete e.nameCriterion,delete e.nameSource,delete e.nameTypeSource,(0,W.A)((0,W.A)({},e),t)}))},Tr=function(){var e={id:{csv:"idArgument",server:"idArgument",spreadsheet:"idArgument"},aim:{csv:"aim.description",server:"aim",spreadsheet:"aim"},alternative:{csv:"alternative.nameAlternative",server:"nameAlternative",spreadsheet:"nameAlternative"},assertion:{csv:"assertion",server:"assertion",spreadsheet:"assertion"},criterion:{csv:"criterion.nameCriterion",server:"nameCriterion",spreadsheet:"nameCriterion"},date:{csv:"date",server:"date",spreadsheet:"date"},explanation:{csv:"explanation",server:"explanation",spreadsheet:"explanation"},favorable:{csv:"typeProCon",server:"typeProCon",spreadsheet:"typeProCon"},isProspective:{csv:"isProspective",server:"isProspective",spreadsheet:"isProspective"},property:{csv:"property.nameProperty",server:"nameProperty",spreadsheet:"nameProperty"},source:{csv:"source.nameSource",server:"nameSource",spreadsheet:"nameSource"},sourceType:{csv:"typesource.nameTypeSource",server:"nameTypeSource",spreadsheet:"nameTypeSource"},stakeholder:{csv:"stakeholder.nameStakeholder",server:"nameStakeHolder",spreadsheet:"nameStakeHolder"},value:{csv:"qualvalue.qualValue",server:"value",spreadsheet:"value"},condition:{csv:"condition",server:"condition",spreadsheet:"condition"}};return e},Pr=function(e,t){return(0,Ee.findKey)(Tr(),(function(n){return n[e]===t}))},Rr=function(e,t){var n=Tr()[t]&&Tr()[t][e];return n||null},Dr=function(e,t,n){var r=Pr(e,n),a=Rr(t,r);return a||null},Nr=function(e){return e.map((function(e){var t={};return Object.entries(e).forEach((function(e){var n=(0,p.A)(e,2),r=n[0],a=n[1],i=Dr("spreadsheet","csv",r);i&&(t[i]=a)})),t}))},Hr=(n(744),function(e,t){var n=e.map((function(e){return e[t]})),r=(0,Ee.uniq)(n);return r}),Br=function(e){var t=Hr(e,"criterion");return t},Vr=function(e,t){var n=e.map((function(e){return[e["aim"],e["criterion"]]})),r=(0,Ee.sortBy)((0,Ee.uniqBy)(n,Ur),(function(e){var t=(0,p.A)(e,2),n=t[0];t[1];return n})),a={};return r.forEach((function(e,n){var r=e[0],i=zr(t,e[1],"nameCriterion");n++,a[n]={id:n,name:r,criterion:i}})),a},qr=function(e){var t=Hr(e,"stakeholder");return t},Mr=function(e){var t=Hr(e,"property");return t},Ur=function(e){return e.join(":")},Gr=function(e){var t=e.map((function(e){return[e["property"],e["value"]]})),n=(0,Ee.uniqBy)(t,Ur);return n},Qr=function(e){var t={};return e.forEach((function(e,n){n++,t[n]={id:n,name:e}})),t},Kr=function(e){var t={};return e.forEach((function(e,n){n++,t[n]=(0,W.A)((0,W.A)({id:n},e),{},{icon:"mdi-"+e.icon.replace(/\.[^/.]+$/,"").split(/(\\|\/)/g).pop()||0})})),t},zr=function(e,t,n){var r=Object.values(e).find((function(e){return e.name===t}));try{return r.id}catch(a){throw new vr("SPREADSHEET_ERROR","Cannot find <b>".concat(t,"</b> in ").concat("nameAlternative"===n?"alternatives":"<b>".concat(n,"</b>")))}},$r=function(e,t){var n=t.criterions,r=t.aims,a=t.alternatives,i=t.stakeholders;return e.map((function(e){return(0,W.A)((0,W.A)({},e),{},{subOption:!0===JSON.parse(e.favorable.toString().toLowerCase())?1:2,criterion:zr(n,e.criterion,"nameCriterion"),stakeholder:zr(i,e.stakeholder,"nameStakeHolder"),aim:zr(r,e.aim,"aim"),alternative:zr(a,e.alternative,"nameAlternative"),isProspective:1===Number(e.isProspective)})}))},Jr=function(e,t){var n=Br(e),r=qr(e),a=t.alternatives,i=Qr(n.sort()),o=Kr(a),u=Qr(r.sort()),c=Vr(e,i),s=$r(e,{criterions:i,aims:c,alternatives:o,stakeholders:u});return{criterions:i,alternatives:o,stakeholders:u,aims:c,items:s}},Yr=function(e,t){var n=Gr(e),r=Mr(e),a=Jr(e,t),i=a.criterions,o=a.alternatives,u=a.stakeholders,c=a.aims,s=a.items,l={criterions:i,alternatives:o,stakeholders:u,labels:n,properties:r,aims:c,items:s,subOptions:{1:{id:1,name:""},2:{id:2,name:""}}};return l},Zr=function(e){var t=(0,Ee.groupBy)(e,"property"),n=Object.values(t).filter((function(e){var t=(0,Ee.groupBy)(e,"aim");if(Object.keys(t).length>1)return e})),r=(0,Ee.flatten)(n);return r},ea=function(e){var t=(0,Ee.groupBy)(e,"aim"),n=Object.values(t).filter((function(e){var t=(0,Ee.groupBy)(e,"stakeholder");if(Object.keys(t).length>1)return e})),r=(0,Ee.flatten)(n);return r},ta=function(e,t){var n=t.filter((function(t){return e.some((function(e){return e.nameCriterion===t.criterion&&e.nameStakeHolder===t.stakeholder}))}));return n},na=function(e,t){var n=t.filter((function(t){return e.some((function(e){return e.nameTypeSource===t.sourceType&&1===Number(e.fiability)}))}));return n},ra=function(e){var t=e.filter((function(e){return 1===Number(e.isProspective)}));return t},aa=function(e){var t=Zr(e);return t},ia=function(e){var t=ea(e);return t},oa=n(7065),ua=(0,o.EW)((function(){return m.fields.nextcloudUrl})),ca=function(e){return"".concat("https://icotest.iate.inra.fr/nextcloud/s/").concat(e,"/download")},sa=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i,o,u;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.blob();case 6:return i=e.sent,o=da(t),u=new File([i],o),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),la=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa(t);case 3:return n=e.sent,e.next=6,ha(n);case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e["catch"](0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),da=function(e){var t=new RegExp("".concat("https://icotest.iate.inra.fr/nextcloud/s/","([a-zA-Z0-9-_]+)")).exec(e);if(t){var n=t[1];return n}return e},pa=function(){var e=(0,a.A)((0,r.A)().mark((function e(t,n){var a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ha(t);case 3:a=e.sent,Aa(a.items,a.project,n),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),fa=function(){var e=(0,a.A)((0,r.A)().mark((function e(t,n){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pa(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),va=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oa.onFileSelection(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ma=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,va(t);case 2:return n=e.sent,a=Object.entries(n).map((function(e,t){var n=(0,p.A)(e,2),r=n[0],a=n[1];return{title:r,data:a,index:t}})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ha=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ma(t);case 3:return n=e.sent,e.next=6,Lr(n);case 6:return a=e.sent,e.next=9,Sr(n);case 9:return i=e.sent,e.abrupt("return",{items:a,project:i});case 13:throw e.prev=13,e.t0=e["catch"](0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),ga=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=jr(t),a={query:(0,rr.A)({},$n,n),name:"project",path:"/project"},i=Qn.resolve(a),e.next=5,Qn.push(i);case 5:return e.next=7,ci(i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ba=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={query:(0,rr.A)({},zn,t),name:"project"},a=Qn.resolve(n),e.next=4,Qn.push(a);case 4:return e.next=6,ci(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ka=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=da(t),a={query:(0,rr.A)({},Jn,n),name:"project",path:"/project"},i=Qn.resolve(a),e.next=5,Qn.push(a);case 5:return e.next=7,ci(i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ya=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i,o,u;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Promise,e.next=3,xa(t);case 3:return e.t1=e.sent,e.next=6,Ea(t);case 6:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.next=10,e.t0.all.call(e.t0,e.t3);case 10:return n=e.sent,a=(0,p.A)(n,2),i=a[0],o=a[1],u={project:i,items:o},e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xa=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=null,e.next=4,ei(t);case 4:return a=e.sent,n=Wr(a),e.abrupt("return",Promise.resolve(n));case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Ea=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=null,e.next=4,Za(t);case 4:return a=e.sent,n=Xr(a),e.abrupt("return",Promise.resolve(n));case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Aa=function(e,t,n){!1!==n?b():(k(),h()),nr();try{var r;if("interplay"===m.mode){var a=aa(e),i=Yr(a,t);r=Object.freeze(i)}else if("prospective"===m.mode){var o=ra(e),u=Yr(o,t);r=Object.freeze(u)}else if("data-reliability"===m.mode){var c=na(t.sourceTypeEntities,e),s=Yr(c,t);r=Object.freeze(s)}else if("expertise"===m.mode){var l=ta(t.expertiseEntities,e),d=Yr(l,t);r=Object.freeze(d)}else if("multi-stakeholder"===m.mode){var p=ia(e),f=Yr(p,t);r=Object.freeze(f)}else{var v=Yr(e,t);r=Object.freeze(v)}m.data=r,m.project=t}catch(g){throw g}};n(3110);(function(e){e["ICO"]="ico",e["GOOGLE_SPREADSHEET"]="googlespreadsheet",e["NEXTCLOUD"]="nextcloud",e["XLSX"]="xlsx"})(fr||(fr={}));var wa={projects:(0,rr.A)((0,rr.A)((0,rr.A)((0,rr.A)({},fr.ICO,{}),fr.GOOGLE_SPREADSHEET,{}),fr.NEXTCLOUD,{}),fr.XLSX,{})},_a="MYCHOICE_CACHE",Ca=function(){return JSON.parse(localStorage.getItem(_a))||wa},Fa=function(){return Ca()["projects"]},Ia=function(e,t){return Object.values(Fa()[e]).find((function(e){return e.id===t}))},La=function(e){localStorage.setItem(_a,JSON.stringify(e))},Sa=function(e){var t=Ca(),n=(0,Ee.merge)(t,e);La(n)},Oa=function(e){var t=Ca(),n=(0,Ee.omit)(t,e);La(n)},ja=function(e,t){Sa({projects:(0,rr.A)({},e,(0,rr.A)({},t.id,t))})},Wa=function(e,t){ja(e,t)},Xa=function(e){return Fa()[e]},Ta=function(e){var t={};return Object.entries(e).filter((function(e){var t=(0,p.A)(e,1),n=t[0];return n!==fr.GOOGLE_SPREADSHEET&&n!==fr.NEXTCLOUD})).forEach((function(e){var n=(0,p.A)(e,2),r=n[0],a=n[1];Object.entries(a).forEach((function(e){var n=(0,p.A)(e,2),a=n[0],i=n[1],o=Ba(r,a);t[o]=(0,W.A)((0,W.A)({},i),{},{type:r})}))})),t},Pa=(0,o.EW)((function(){return m.recentProjects})),Ra=(0,o.EW)((function(){return!!Object.keys(Pa.value).length})),Da=function(){m.recentProjects=Na(Fa())},Na=function(e){var t=Ta(e),n=Object.keys(t).sort((function(e,n){return t[n].date-t[e].date})).reduce((function(e,n,r){return e[r]=t[n],e}),{}),r=Object.entries(n).map((function(e){var t=(0,p.A)(e,2),n=(t[0],t[1]);return n}));return r},Ha=function(e,t){var n=t.name,r=t.id;if(void 0!==r){var a=Object.keys(Xa(e)).includes(r);a?(n&&ja(e,{name:n,id:r}),ja(e,{date:Date.now(),id:r,type:e})):ja(e,{name:n,id:r,date:Date.now(),type:e}),Da()}},Ba=function(e,t){return"".concat(e,"-").concat(t)},Va=function(e,t){var n=t.id,r=m.recentProjects.some((function(t){return t.type===e&&t.id===n}));r&&(qa(e,n),Da())},qa=function(e,t){Oa("projects.".concat(e,".").concat(t))},Ma=function(e,t){Oa("projects.".concat(e,".").concat(t,".data"))},Ua=function(e){e.query[Un.ICO]&&Ma(fr.ICO,e.query[Un.ICO]),e.query[Un.GOOGLE_SPREADSHEET]&&Ma(fr.GOOGLE_SPREADSHEET,e.query[Un.GOOGLE_SPREADSHEET]),e.query[Un.NEXTCLOUD]&&Ma(fr.NEXTCLOUD,e.query[Un.NEXTCLOUD]),e.query[Un.XLSX]&&Ma(fr.XLSX,e.query[Un.XLSX])},Ga=function(e){return!!za(e)},Qa=function(e){var t=ri(e);return e.query[Un.GOOGLE_SPREADSHEET]?Ia(fr.GOOGLE_SPREADSHEET,t):e.query[Un.ICO]?Ia(fr.ICO,t):e.query[Un.NEXTCLOUD]?Ia(fr.NEXTCLOUD,t):e.query[Un.XLSX]?Ia(fr.XLSX,t):void 0},Ka=function(e,t){var n=ri(e);e.query[Un.GOOGLE_SPREADSHEET]&&Wa(fr.GOOGLE_SPREADSHEET,{id:n,data:t}),e.query[Un.ICO]&&Wa(fr.ICO,{id:n,data:t}),e.query[Un.NEXTCLOUD]&&Wa(fr.NEXTCLOUD,{id:n,data:t}),e.query[Un.XLSX]&&Wa(fr.XLSX,{id:n,data:t})},za=function(e){var t=Qa(e),n=t.data;return n},$a=function(e){m.recentProjectNames[e]&&(delete m.recentProjectNames[e],localStorage.recentProjectNames=JSON.stringify(m.recentProjectNames))},Ja=function(e){Va(fr.GOOGLE_SPREADSHEET,{id:e})},Ya=function(){return"http://localhost:8080/api/"},Za=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=null,a=Ya()+"arguments?project="+t,e.prev=2,t){e.next=5;break}throw Error();case 5:return e.next=7,fetch(a);case 7:return i=e.sent,e.next=10,i.json();case 10:n=e.sent,e.next=17;break;case 13:throw e.prev=13,e.t0=e["catch"](2),console.warn("Fetch error, unable to fetch arguments: "+a),e.t0;case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),ei=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=null,a=Ya()+"project?name="+t,e.prev=2,t){e.next=5;break}throw Error();case 5:return e.next=7,fetch(a);case 7:return i=e.sent,e.next=10,i.json();case 10:n=e.sent,e.next=17;break;case 13:throw e.prev=13,e.t0=e["catch"](2),console.warn("Fetch error, unable to fetch project:"+a),e.t0;case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),ti=function(e){return Object.prototype.hasOwnProperty.call(e.query,Un.GOOGLE_SPREADSHEET)?fr.GOOGLE_SPREADSHEET:Object.prototype.hasOwnProperty.call(e.query,Un.ICO)?fr.ICO:Object.prototype.hasOwnProperty.call(e.query,Un.XLSX)?fr.XLSX:Object.prototype.hasOwnProperty.call(e.query,Un.NEXTCLOUD)?fr.NEXTCLOUD:null},ni=function(e){return e===fr.GOOGLE_SPREADSHEET?Un.GOOGLE_SPREADSHEET:e===fr.ICO?Un.ICO:e===fr.XLSX?Un.XLSX:e===fr.NEXTCLOUD?Un.NEXTCLOUD:null},ri=function(e){return Object.prototype.hasOwnProperty.call(e.query,Un.GOOGLE_SPREADSHEET)?e.query[Un.GOOGLE_SPREADSHEET]:Object.prototype.hasOwnProperty.call(e.query,Un.ICO)?e.query[Un.ICO]:Object.prototype.hasOwnProperty.call(e.query,Un.XLSX)?e.query[Un.XLSX]:Object.prototype.hasOwnProperty.call(e.query,Un.NEXTCLOUD)?e.query[Un.NEXTCLOUD]:null},ai=function(){var e=(0,a.A)((0,r.A)().mark((function e(t,n){var a,i;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=ri(t),Ha(fr.GOOGLE_SPREADSHEET,{id:a}),i=null,!Ga(t)){e.next=8;break}i=za(t),m.notifications.push({message:"Spreadsheet loaded from cache"}),e.next=11;break;case 8:return e.next=10,Or(a);case 10:i=e.sent;case 11:Ha(fr.GOOGLE_SPREADSHEET,{name:i.project&&i.project.name?i.project.name:void 0,id:a}),e.prev=12,Aa(i.items,i.project,n),Ka(t,i),m.spreadsheet=a,e.next=21;break;case 18:throw e.prev=18,e.t0=e["catch"](12),e.t0;case 21:case"end":return e.stop()}}),e,null,[[12,18]])})));return function(t,n){return e.apply(this,arguments)}}(),ii=function(){var e=(0,a.A)((0,r.A)().mark((function e(t,n){var a,i;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=ri(t),Ha(fr.ICO,{id:a}),i=null,!Ga(t)){e.next=8;break}i=za(t),m.notifications.push({message:"Ico project loaded from cache"}),e.next=11;break;case 8:return e.next=10,ya(a);case 10:i=e.sent;case 11:i.project&&i.project.name&&Ha(fr.ICO,{name:i.project.name?i.project.name:void 0,id:i.project.name}),e.prev=12,Aa(i.items,i.project,n),Ka(t,i),e.next=20;break;case 17:throw e.prev=17,e.t0=e["catch"](12),e.t0;case 20:case"end":return e.stop()}}),e,null,[[12,17]])})));return function(t,n){return e.apply(this,arguments)}}(),oi=function(){var e=(0,a.A)((0,r.A)().mark((function e(t,n){var a,i,o;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=ri(t),Ha(fr.NEXTCLOUD,{id:a}),i=null,!Ga(t)){e.next=8;break}i=za(t),m.notifications.push({message:"Nextcloud project loaded from cache"}),e.next=12;break;case 8:return o=ca(a),e.next=11,la(o);case 11:i=e.sent;case 12:Ha(fr.NEXTCLOUD,{name:i.project&&i.project.name?i.project.name:void 0,id:a}),e.prev=13,Aa(i.items,i.project,n),Ka(t,i),e.next=21;break;case 18:throw e.prev=18,e.t0=e["catch"](13),e.t0;case 21:case"end":return e.stop()}}),e,null,[[13,18]])})));return function(t,n){return e.apply(this,arguments)}}(),ui=function(e){var t=e.type,n=e.id,r=ni(t);if(!r)throw new Error("Route type is undefined for this project type.");var a={query:(0,rr.A)({},r,n),name:"project",path:"/project",params:{},matched:[],fullPath:"/project",hash:"",redirectedFrom:void 0,meta:void 0},i=Qn.resolve(a).href;return i},ci=function(){var e=(0,a.A)((0,r.A)().mark((function e(t,n){var a,i;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(I(),e.prev=1,ti(t)!==fr.GOOGLE_SPREADSHEET){e.next=5;break}return e.next=5,ai(t,n);case 5:if(ti(t)!==fr.ICO){e.next=8;break}return e.next=8,ii(t,n);case 8:if(ti(t)!==fr.NEXTCLOUD){e.next=11;break}return e.next=11,oi(t,n);case 11:if(ti(t)!==fr.XLSX){e.next=20;break}if(a=v.value,!(a&&a.files&&a.files[0])){e.next=19;break}return i=a.files[0],e.next=17,fa(i,n);case 17:e.next=20;break;case 19:console.error("No file selected or file input is not valid.");case 20:L(),e.next=35;break;case 23:if(e.prev=23,e.t0=e["catch"](1),L(),!(e.t0 instanceof vr)){e.next=32;break}throw console.warn(e.t0.name,"MYCHOICE ERROR"),mr(e.t0.name,e.t0.message),Error(e.t0.stack);case 32:throw mr(e.t0.name,e.t0.message),console.warn(e.t0.stack,"stack"),e.t0;case 35:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t,n){return e.apply(this,arguments)}}(),si=function(){return m.data.alternatives},li=function(){var e=Object.keys(si());return e.map((function(e){return Number(e)}))},di=function(){return Object.keys(si()).map((function(e){return Number(e)}))},pi=(0,o.EW)((function(){return Object.keys(si()).map((function(e){return Number(e)}))})),fi=function(e){return si()[e]},vi=function(e){return fi(e).name},mi=function(){var e=m.data.aims;return e},hi=function(){return Object.keys(mi()).map((function(e){return Number(e)}))},gi=function(){var e=Object.keys(mi());return e.map((function(e){return Number(e)}))},bi=function(e){return mi()[e]},ki=function(e,t){var n=Object.values(mi()).filter((function(n){return Number(n[e])===Number(t)}));return n},yi=function(e){return mi()[e]&&mi()[e].name},xi=function(){return hi().filter((function(e){return ji().some((function(t){return t.aim===e}))}))},Ei=function(e){return(0,Ee.uniqBy)(e,"aim").map((function(e){return e.aim}))},Ai=function(e,t){return e.filter((function(e){return bi(e).criterion===t})).length},wi=function(){var e=m.data.criterions;return e},_i=(0,o.EW)((function(){return m.data.criterions})),Ci=function(){return Object.keys(wi()).map((function(e){return Number(e)}))},Fi=(0,o.EW)((function(){return Object.keys(_i.value).map((function(e){return Number(e)}))})),Ii=function(e){return wi()[e]},Li=function(e){return wi()[Number(e)].name},Si=function(){return Ci().filter((function(e){return ji().some((function(t){return t.criterion===e}))}))},Oi=((0,o.EW)((function(){return Fi.value.filter((function(e){return ji().some((function(t){return t.criterion===e}))}))})),function(){var e=m.data.items;return e}),ji=function(){var e=Ri(Oi(),m.searchInput);return m.selectedAims.length&&(e=e.filter((function(e){return m.selectedAims.includes(e["aim"])}))),m.selectedStakeholders.length&&(e=e.filter((function(e){return m.selectedStakeholders.includes(e["stakeholder"])}))),m.selectedCriterions.length&&(e=e.filter((function(e){return m.selectedCriterions.includes(Number(mi()[e["aim"]].criterion))}))),e},Wi=function(e,t){var n=Object.entries(t);return e.filter((function(e){return n.every((function(t){var n=(0,p.A)(t,2),r=n[0],a=n[1];return e[r]===a}))}))},Xi=function(e){return e?Wi(Oi(),e):[]},Ti=function(e){return Object.values((0,Ee.groupBy)(e,(function(e){var t=e.property,n=e.value,r=e.assertion,a=e.explanation,i=e.stakeholder;return JSON.stringify({property:t,value:n,assertion:r,explanation:a,stakeholder:i})})))},Pi=function(e){return Wi(ji(),e)},Ri=function(e,t){return e.filter((function(e){return Object.keys(e).some((function(n){if(["property","value"].includes(n)){var r=e[n];return r.toString().toLowerCase().includes(t.toString().toLowerCase())}}))}))},Di=function(e){var t={},n=li();return n.forEach((function(n){var r=e.filter((function(e){return e.alternative===n}));t[n]=r})),t},Ni=function(e){var t={},n=gi();return n.forEach((function(n){var r=e.filter((function(e){return e.aim===n}));t[n]=r})),t},Hi=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={},r=t?ji():Oi();return r.forEach((function(t){var r=t[e];n[r]?n[r].push(t):n[r]=[t]})),kr(n)},Bi=function(e,t){return(0,Ee.groupBy)(Pi(e),t)},Vi=function(){return m.data.subOptions},qi=function(){return Object.keys(Vi()).map((function(e){return Number(e)}))},Mi=function(e){return Vi()[e]},Ui=function(){var e=m.data.stakeholders;return e},Gi=function(){return Object.keys(Ui()).map((function(e){return Number(e)}))},Qi=function(e){return Ui()[e]&&Ui()[e].name},Ki=function(e){var t={};return Object.keys(e).sort().forEach((function(n){t[n]=e[n]})),JSON.stringify(t)},zi=function(){return m.selectedSupersets},$i=function(e){m.selectedSuperset=Ki(e)},Ji=function(e){m.selectedSuperset=""},Yi=function(e){m.selectedSuperset===Ki(e)?Ji(e):$i(e)},Zi=function(e){to(e)||m.selectedSupersets.push(Ki(e))},eo=function(e){var t=Ki(e),n=zi().indexOf(t);n>-1&&m.selectedSupersets.splice(n,1)},to=function(e){return zi().find((function(t){return t===Ki(e)}))},no=(n(150),function(e){return Math.round(100*e)/100}),ro=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Ni(e),r={},a={};return Object.entries(n).map((function(e){var t=(0,p.A)(e,2),n=t[0],a=t[1],i=(Number(n),ao(a));Object.entries(i).forEach((function(e){var t=(0,p.A)(e,2),n=t[0],a=t[1],i=Number(n);(r[i]||(r[i]=[])).push(a)}))})),Object.entries(r).forEach((function(n){var r=(0,p.A)(n,2),i=r[0],o=r[1],u=io(o)/e.length,c=Number.isNaN(u)?null:t?no(u):u;a[Number(i)]=c})),a},ao=function(e){var t=Di(e),n={};return Object.entries(t).forEach((function(t){var r,a=(0,p.A)(t,2),i=a[0],o=a[1],u=Number(i),c=o.filter((function(e){return 1===e.subOption})),s=o.filter((function(e){return 2===e.subOption})),l=c.length+1,d=(s.length,o.length+2),f=0===e.length,v=0===c.length&&0===s.length&&e.length>0;r=f?0:v?.5:l/d;var m=r*e.length;n[u]=m})),n},io=function(e){return e.reduce((function(e,t){return e+t}))},oo=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0===e.length)return null;e.filter((function(e){return 1===e.subOption}));var n=e.filter((function(e){return 2===e.subOption})),r=e.length-n.length,a=gr(r,0,e.length);return t?no(a):a},uo=function(e){return null===e?"":1===e?"pro":0===e?"con":"mix"},co=function(e){var t=ji(),n=Di(t),r=n[e];return oo(r)},so=function(e,t){var n=Wi(e,t).map((function(e){var t=e.property,n=e.value;return{property:t,value:n}}));return(0,Ee.uniqBy)(n,(function(e){return[e.property,e.value].join(":")}))},lo=function(e){return so(ji(),e)},po=function(){return Gi().map((function(e){return{text:Qi(e),value:e}}))},fo=function(){return hi().map((function(e){return{text:yi(e),value:e}}))},vo=function(){return Ci().map((function(e){return{text:Li(e),value:e}}))},mo=function(){return Object.entries(m.modes).map((function(e){var t=(0,p.A)(e,2),n=t[0],r=t[1];return{text:r.name,value:n}}))},ho=function(){var e;null===(e=v.value)||void 0===e||e.click()},go=function(e){e.preventDefault(),e.stopPropagation()},bo=function(e){go(e),wo(e)},ko=function(e){go(e),_o(e)},yo=function(e){go(e),wo(e)},xo=function(e){go(e),_o(e);var t=e.dataTransfer.files;v.value.files=t,Eo()},Eo=function(){var e=(0,a.A)((0,r.A)().mark((function e(){var t,n,a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null===(t=v.value)||void 0===t||null===(t=t.files)||void 0===t?void 0:t[0],a=Qn.resolve("/project?xlsx=".concat(n.name)),e.next=4,ci(a);case 4:Qn.push(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ao=((0,o.EW)((function(){return v.value})),(0,o.EW)((function(){var e;return null===(e=v.value)||void 0===e||null===(e=e.files)||void 0===e?void 0:e[0]})),function(e){return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e}),wo=function(e){e.currentTarget.classList.add("fileDropHighlight"),Ao(e.dataTransfer.items[0].type)||e.currentTarget.classList.add("fileDropHighlight--invalid")},_o=function(e){e.currentTarget.classList.remove("fileDropHighlight","fileDropHighlight--invalid")},Co=function(e){var t=document.querySelector("body");t.addEventListener("dragenter",bo,!1),t.addEventListener("dragleave",ko,!1),t.addEventListener("dragover",yo,!1),t.addEventListener("drop",xo,!1)},Fo=(n(2781),n(8992)),Io=Fo.Parser,Lo=function(e){var t={excelStrings:!1,delimiter:";",quote:'"',includeEmptyRows:!0,defaultValue:""};try{var n=new Io(t),r=n.parse(e);return r}catch(a){throw a}},So=n(6594),Oo=function(){var e=ti(Qn.currentRoute.value);return e===fr.GOOGLE_SPREADSHEET||e===fr.XLSX||e===fr.NEXTCLOUD},jo=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i,o,u,c,s,l,d,p;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=ri(t),a=ti(t),a!==fr.GOOGLE_SPREADSHEET){e.next=8;break}return e.next=5,wr(n);case 5:return i=e.sent,e.next=8,Wo(i);case 8:if(a!==fr.NEXTCLOUD){e.next=18;break}return o=ca(n),e.next=12,sa(o);case 12:return u=e.sent,e.next=15,ma(u);case 15:return c=e.sent,e.next=18,Wo(c);case 18:if(a!==fr.XLSX){e.next=30;break}if(l=v.value,null===l||void 0===l||null===(s=l.files)||void 0===s||!s.length){e.next=29;break}return d=l.files[0],e.next=24,ma(d);case 24:return p=e.sent,e.next=27,Wo(p);case 27:e.next=30;break;case 29:console.error("Aucun fichier XLSX slectionn.");case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wo=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){var n,a,i,o,u,c,s,l;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],a={},i=["project","alternative","typesource","argument","hasexpertise"],t.forEach((function(e){var t=e.data,r=t[0];if("parameters"!==e.title&&r){var i=Object.keys(r).length-1;n.push(i),"argument"===e.title&&(t=Nr(t));var o=Lo(t);a[e.title]=o}})),o=Math.max.apply(Math,n),u=";".repeat(o),c=Object.entries(a).sort((function(e,t){var n=(0,p.A)(e,1),r=n[0],a=(0,p.A)(t,1),o=a[0];return i.indexOf(r)-i.indexOf(o)})).reduce((function(e,t){var n=(0,p.A)(t,2),r=n[0],a=n[1];return(0,W.A)((0,W.A)({},e),{},(0,rr.A)({},r,a))}),{}),s=Object.entries(c).map((function(e){var t=(0,p.A)(e,2),n=t[0],r=t[1];return'"'.concat(n,'"').concat(u,"\n").concat(r,"\n").concat(u)})).join("\n"),l=Xo(s),(0,So.saveAs)(l,m.project.name+".csv");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xo=function(e){return new Blob([e],{type:"text/csv;charset=utf-8;"})},To=function(){var e=(0,a.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Ua(Qn.currentRoute.value),e.next=3,ci(Qn.currentRoute.value);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Po=["title"],Ro={class:"mychoice-logo-container"},Do=["src"],No={class:"d-flex align-center mr-4"},Ho=["src"],Bo={__name:"AppBar",setup:function(e){var t=(0,d.lq)(),n=(0,o.EW)((function(){return t.path.includes("/project")}));return function(e,t){var r=(0,o.g2)("v-app-bar-nav-icon"),a=(0,o.g2)("v-icon"),c=(0,o.g2)("v-btn"),s=(0,o.g2)("v-tooltip"),d=(0,o.g2)("v-toolbar-title"),p=(0,o.g2)("v-spacer"),f=(0,o.g2)("router-link"),v=(0,o.g2)("v-app-bar");return(0,o.uX)(),(0,o.Wv)(v,{elevation:"0",color:"secondary",dark:"",app:""},{default:(0,o.k6)((function(){return[(0,o.bF)(r,{onClick:t[0]||(t[0]=(0,i.D$)((function(e){return(0,l.R1)(m).drawer=!(0,l.R1)(m).drawer}),["stop"]))}),(0,l.R1)(m).project&&n.value?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"d-flex align-center"},{default:(0,o.k6)((function(){return[(0,o.Lk)("a",{class:"white--text text-truncate",style:{"max-width":"200px",display:"block"},title:(0,l.R1)(m).project.name,onClick:t[1]||(t[1]=function(e){return(0,l.R1)(Kn)("project")})},(0,u.v_)((0,l.R1)(m).project.name),9,Po),(0,l.R1)(m).spreadsheet?((0,o.uX)(),(0,o.Wv)(s,{key:0,location:"bottom"},{activator:(0,o.k6)((function(e){var n=e.props;return[(0,o.bF)(c,(0,o.v6)({icon:"",target:"_blank",href:(0,l.R1)(_)((0,l.R1)(m).spreadsheet)},n),{default:(0,o.k6)((function(){return[(0,o.bF)(a,null,{default:(0,o.k6)((function(){return t[2]||(t[2]=[(0,o.eW)("mdi-google-spreadsheet")])})),_:1})]})),_:2},1040,["href"])]})),default:(0,o.k6)((function(){return[t[3]||(t[3]=(0,o.Lk)("span",null,"Open Spreadsheet",-1))]})),_:1})):(0,o.Q3)("",!0)]})),_:1})):(0,o.Q3)("",!0),(0,o.bF)(p),(0,o.Lk)("div",Ro,[(0,o.bF)(f,{to:"/",class:"logo-mychoice"},{default:(0,o.k6)((function(){return[(0,o.Lk)("img",{src:(0,l.R1)(m).baseUrl+"logo-mychoice.svg",alt:"MyChoice Logo"},null,8,Do)]})),_:1})]),(0,o.Lk)("div",No,[(0,o.Lk)("img",{src:(0,l.R1)(m).baseUrl+"logo-inrae-white-transparent.png",alt:"INRAE Logo",class:"logo-inrae"},null,8,Ho)])]})),_:1})}}};const Vo=(0,Y.A)(Bo,[["__scopeId","data-v-73702eaa"]]);var qo=Vo,Mo=["src"],Uo={class:"pa-2"};function Go(e,t,n,r,a,i){var c=(0,o.g2)("router-link"),s=(0,o.g2)("v-list-item-title"),l=(0,o.g2)("v-list-item"),d=(0,o.g2)("v-divider"),p=(0,o.g2)("v-icon"),f=(0,o.g2)("v-item-group"),v=(0,o.g2)("v-list-item-subtitle"),m=(0,o.g2)("v-list"),h=(0,o.g2)("v-list-subheader"),g=(0,o.g2)("v-card-subtitle"),b=(0,o.g2)("v-card"),k=(0,o.g2)("v-btn"),y=(0,o.g2)("Version"),x=(0,o.g2)("v-footer"),E=(0,o.g2)("v-navigation-drawer");return(0,o.uX)(),(0,o.Wv)(E,{app:"",modelValue:e.state.drawer,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.state.drawer=t}),fixed:"",temporary:"","hide-overlay":""},{append:(0,o.k6)((function(){return[(0,o.Lk)("div",Uo,[(0,o.bF)(k,{block:"",color:"red",class:"white--text",onClick:e.refreshProject,disabled:!e.route.path.includes("project")},{default:(0,o.k6)((function(){return[(0,o.bF)(p,{small:"",class:"mr-3"},{default:(0,o.k6)((function(){return t[13]||(t[13]=[(0,o.eW)("mdi-autorenew")])})),_:1}),t[14]||(t[14]=(0,o.eW)(" Refresh project "))]})),_:1},8,["onClick","disabled"])]),(0,o.bF)(m,{nav:"",dense:""},{default:(0,o.k6)((function(){return[(0,o.bF)(f,null,{default:(0,o.k6)((function(){return[(0,o.bF)(l,{onClick:t[1]||(t[1]=function(t){return e.state.aboutDialog=!0})},{default:(0,o.k6)((function(){return[(0,o.bF)(s,null,{default:(0,o.k6)((function(){return t[15]||(t[15]=[(0,o.eW)("About")])})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,o.bF)(d),(0,o.bF)(x,{class:"flex-grow-1"},{default:(0,o.k6)((function(){return[(0,o.bF)(y)]})),_:1})]})),default:(0,o.k6)((function(){return[(0,o.bF)(l,null,{default:(0,o.k6)((function(){return[(0,o.bF)(s,{class:"title"},{default:(0,o.k6)((function(){return[(0,o.bF)(c,{to:"/"},{default:(0,o.k6)((function(){return[(0,o.Lk)("img",{style:{padding:"2rem 0",width:"100%",margin:"auto"},src:e.state.baseUrl+"logo-mychoice-color.svg"},null,8,Mo)]})),_:1})]})),_:1})]})),_:1}),(0,o.bF)(d),(0,o.bF)(m,{nav:"",dense:""},{default:(0,o.k6)((function(){return[(0,o.bF)(f,null,{default:(0,o.k6)((function(){return[(0,o.bF)(l,{onClick:e.handleLoadFile},{default:(0,o.k6)((function(){return[(0,o.bF)(p,null,{default:(0,o.k6)((function(){return t[3]||(t[3]=[(0,o.eW)("mdi-upload")])})),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((function(){return t[4]||(t[4]=[(0,o.eW)("Open local project "),(0,o.Lk)("small",null,"(.xlsx)",-1)])})),_:1})]})),_:1},8,["onClick"]),(0,o.bF)(l,{onClick:t[0]||(t[0]=function(t){return e.state.openDialog=!0})},{default:(0,o.k6)((function(){return[(0,o.bF)(p,null,{default:(0,o.k6)((function(){return t[5]||(t[5]=[(0,o.eW)("mdi-cloud-upload")])})),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((function(){return t[6]||(t[6]=[(0,o.eW)("Open online project")])})),_:1})]})),_:1})]})),_:1}),(0,o.bF)(l,{href:"https://docs.google.com/spreadsheets/d/1Cj5tC6JyLQxCHdtZJ8d9_-FSV9UbHT7AGE3wrLEMlig/copy",target:"_blank"},{default:(0,o.k6)((function(){return[(0,o.bF)(p,null,{default:(0,o.k6)((function(){return t[7]||(t[7]=[(0,o.eW)("mdi-plus-circle-outline")])})),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((function(){return t[8]||(t[8]=[(0,o.eW)("Create new project")])})),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((function(){return t[9]||(t[9]=[(0,o.eW)("from spreadsheet template")])})),_:1})]})),_:1})]})),_:1}),(0,o.bF)(d),(0,o.bF)(h,null,{default:(0,o.k6)((function(){return t[10]||(t[10]=[(0,o.eW)("Recent projects")])})),_:1}),e.hasRecentProjects?((0,o.uX)(),(0,o.Wv)(m,{key:1,subheader:"",nav:"",dense:""},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.recentProjects,(function(n,r){return(0,o.uX)(),(0,o.Wv)(l,{key:r,to:e.getHrefFromTypeId({type:n.type,id:n.id})},{default:(0,o.k6)((function(){return[(0,o.bF)(s,null,{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(n.name||n.id),1)]})),_:2},1024),"googlespreadsheet"===n.type?((0,o.uX)(),(0,o.Wv)(p,{key:0},{default:(0,o.k6)((function(){return t[12]||(t[12]=[(0,o.eW)("mdi-google-spreadsheet")])})),_:1})):(0,o.Q3)("",!0)]})),_:2},1032,["to"])})),128))]})),_:1})):((0,o.uX)(),(0,o.Wv)(b,{key:0,disabled:"",flat:"",tile:""},{default:(0,o.k6)((function(){return[(0,o.bF)(g,null,{default:(0,o.k6)((function(){return t[11]||(t[11]=[(0,o.eW)("No recent projects")])})),_:1})]})),_:1}))]})),_:1},8,["modelValue"])}var Qo=(0,o.pM)({components:{Version:pe},setup:function(){var e=(0,d.lq)();return{state:m,route:e,recentProjects:Pa,hasRecentProjects:Ra,getHrefFromTypeId:ui,handleLoadFile:ho,isExportableToCSV:Oo,openIco:ba,openSpreadsheet:ga,getImagePath:x,exportToCSV:jo,refreshProject:To}}});const Ko=(0,Y.A)(Qo,[["render",Go]]);var zo=Ko;function $o(e,t,n,r,a,c){var s=(0,o.g2)("v-list-item-title"),l=(0,o.g2)("v-spacer"),d=(0,o.g2)("v-icon"),f=(0,o.g2)("v-btn"),v=(0,o.g2)("v-list-item-action"),m=(0,o.g2)("v-list-item"),h=(0,o.g2)("v-combobox"),g=(0,o.g2)("v-form"),b=(0,o.g2)("v-col"),k=(0,o.g2)("v-row");return(0,o.uX)(),(0,o.Wv)(k,null,{default:(0,o.k6)((function(){return[(0,o.bF)(b,null,{default:(0,o.k6)((function(){return[t[4]||(t[4]=(0,o.Lk)("h3",null,"From INRAE's server",-1)),(0,o.bF)(k,null,{default:(0,o.k6)((function(){return[(0,o.bF)(b,{cols:"12",class:""},{default:(0,o.k6)((function(){return[(0,o.bF)(g,{onSubmit:t[1]||(t[1]=(0,i.D$)((function(t){e.handleOpenIco(e.state.fields.projectName),e.state.openDialog=!1}),["prevent"]))},{default:(0,o.k6)((function(){return[(0,o.bF)(h,{items:e.recentIcoProjects.map((function(e){var t=(0,p.A)(e,2),n=(t[0],t[1]);return{text:n.name,value:n}})),"item-text":"text","item-value":"value",label:"Project name",id:"comboprojectname",autocomplete:"off","search-input":e.state.fields.projectName,outlined:""},{item:(0,o.k6)((function(n){n.index;var r=n.item;return[(0,o.bF)(m,{to:e.getHrefFromTypeId({type:r.value.type,id:r.value.id})},{default:(0,o.k6)((function(){return[(0,o.bF)(s,null,{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)(r.text),1)]})),_:2},1024),(0,o.bF)(l),(0,o.bF)(v,{onClick:t[0]||(t[0]=(0,i.D$)((function(){}),["stop"]))},{default:(0,o.k6)((function(){return[(0,o.bF)(f,{icon:"",onClick:(0,i.D$)((function(t){return e.removeFromRecentProjects(r.value.type,{id:r.value.id})}),["stop","prevent"])},{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){return t[2]||(t[2]=[(0,o.eW)("mdi-close")])})),_:1})]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1032,["to"])]})),_:1},8,["items","search-input"]),(0,o.bF)(f,{class:"ml-auto d-flex",color:"secondary",disabled:!e.state.fields.projectName,type:"submit"},{default:(0,o.k6)((function(){return t[3]||(t[3]=[(0,o.eW)("Open from Ico")])})),_:1},8,["disabled"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var Jo=(0,o.pM)({setup:function(){var e=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ba(t);case 2:m.fields.projectName="";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ga(t);case 2:m.fields.spreadsheetUrl="";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=(0,a.A)((0,r.A)().mark((function e(t){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ka(t);case 2:m.fields.nextcloudUrl="";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=(0,o.EW)((function(){return m.fields.spreadsheetUrl?jr(m.fields.spreadsheetUrl):""}));return{state:m,isValidNextcloudUrl:ua,spreadsheetId:i,openNextcloudUrl:ka,removeFromRecentProjectSpreadsheets:Ja,removeFromRecentProjectNames:$a,handleOpenIco:e,handleOpenSpreadsheet:t,handleOpenNextcloudUrl:n,recentSpreadsheetProjects:S,recentNextcloudProjects:j,recentIcoProjects:O,removeFromRecentProjects:Va,getHrefFromTypeId:ui}}});const Yo=(0,Y.A)(Jo,[["render",$o]]);var Zo=Yo,eu=["href"],tu=["href"];function nu(e,t,n,r,a,i){var u=(0,o.g2)("v-card-title"),c=(0,o.g2)("v-card-text"),s=(0,o.g2)("v-divider"),l=(0,o.g2)("v-card-subtitle"),d=(0,o.g2)("v-col"),p=(0,o.g2)("v-row"),f=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(f,{class:"text-center"},{default:(0,o.k6)((function(){return[(0,o.bF)(u,{class:"justify-center"},{default:(0,o.k6)((function(){return t[0]||(t[0]=[(0,o.eW)("About MyChoice")])})),_:1}),(0,o.bF)(c,null,{default:(0,o.k6)((function(){return t[1]||(t[1]=[(0,o.Lk)("b",null,"MyChoice",-1),(0,o.eW)(" is a web application supporting collective decision, designed by INRAE. ")])})),_:1}),(0,o.bF)(c,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("div",null,[(0,o.bF)(s,{class:"my-2"}),(0,o.bF)(l,{class:"p-0"},{default:(0,o.k6)((function(){return t[2]||(t[2]=[(0,o.eW)("Scientific contacts")])})),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){return t[3]||(t[3]=[(0,o.Lk)("b",null,[(0,o.Lk)("a",{href:"mailto:rallou.thomopoulos@inrae.fr"},"Rallou Thomopoulos")],-1),(0,o.Lk)("br",null,null,-1),(0,o.Lk)("small",null,"INRAE (IATE lab) / INRIA (GraphIK lab)",-1)])})),_:1}),(0,o.bF)(d,null,{default:(0,o.k6)((function(){return t[4]||(t[4]=[(0,o.Lk)("b",null,[(0,o.Lk)("a",{href:"mailto:julien.cufi@inrae.fr"},"Julien Cufi")],-1),(0,o.Lk)("br",null,null,-1),(0,o.Lk)("small",null,"INRAE (IATE lab)",-1)])})),_:1})]})),_:1}),(0,o.bF)(s,{class:"my-2"}),(0,o.bF)(l,null,{default:(0,o.k6)((function(){return t[5]||(t[5]=[(0,o.eW)("UX & front-end development")])})),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){return t[6]||(t[6]=[(0,o.Lk)("b",null,[(0,o.Lk)("a",{href:"https://maximelebreton.com",target:"_blank"},"Maxime Le Breton")],-1),(0,o.Lk)("br",null,null,-1),(0,o.Lk)("small",null,"Independent designer &front-enddeveloper",-1)])})),_:1})]})),_:1}),(0,o.bF)(s,{class:"my-2"}),(0,o.bF)(l,null,{default:(0,o.k6)((function(){return t[7]||(t[7]=[(0,o.eW)("Other contributors")])})),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){return t[8]||(t[8]=[(0,o.Lk)("b",null," Thomas Bosch ",-1),(0,o.Lk)("br",null,null,-1),(0,o.Lk)("small",null,"Former student at IATE lab",-1)])})),_:1})]})),_:1}),(0,o.bF)(s,{class:"my-2"}),(0,o.bF)(p,null,{default:(0,o.k6)((function(){return[(0,o.bF)(d,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("a",{href:e.state.baseUrl+"licenses.txt",target:"_blank"},"Open source licenses",8,eu)]})),_:1}),(0,o.bF)(d,null,{default:(0,o.k6)((function(){return[(0,o.Lk)("a",{href:e.state.baseUrl+"Open_source_license_terms.pdf",target:"_blank"},"Open source licenses terms",8,tu)]})),_:1})]})),_:1})])]})),_:1})]})),_:1})}var ru={data:function(){return{state:m}}};const au=(0,Y.A)(ru,[["render",nu]]);var iu=au,ou=(0,o.pM)({name:"App",components:{AppBar:qo,Drawer:zo,OpenDialog:Zo,About:iu},setup:function(){(0,o.sV)((function(){Co()}));var e=(0,o.EW)({get:function(){return m.notifications.length>0},set:function(e){e||(m.notifications=[])}}),t=(0,o.EW)({get:function(){return Object.values(m.errors).some((function(e){return!1!==e}))},set:function(e){e||nr()}});return{dropFileInputRef:v,onFileChange:Eo,onFileDrop:xo,onFileDragEnter:bo,onFileDragLeave:ko,onFileDragOver:yo,clearErrors:nr,getErrorMessage:tr,refreshProject:To,state:m,getErrors:er,notifications:Zn,isNotification:e,isError:t}}});const uu=(0,Y.A)(ou,[["render",s]]);var cu=uu,su=(n(5524),n(6306)),lu=n(9547),du=n(9693),pu=n(5432),fu=n(9293),vu=n(8741),mu=n(8210),hu=n(2034),gu=n(5526),bu=n(4789),ku=n(365),yu=n(8400),xu=n(5939),Eu=n(4810),Au=n(6832),wu=n(1541),_u=n(3679),Cu=n(4146),Fu=n(9321),Iu=n(5286),Lu=n(9416),Su=n(6843),Ou=n(6838),ju=n(2940),Wu=n(2281),Xu=n(857),Tu=n(4629),Pu=n(1539),Ru=n(8591),Du=n(9283),Nu=n(7789),Hu=n(1529),Bu=n(9468),Vu=n(6731),qu=n(6992),Mu=n(3495),Uu=n(1167),Gu=n(3714),Qu=n(9271),Ku=n(5634),zu=n(802),$u=n(7609),Ju=n(7163),Yu=n(2049),Zu=n(193),ec=n(9064),tc=n(6526),nc=(0,su.$N)({components:{VApp:lu.E,VAppBar:du.z,VNavigationDrawer:pu.e,VList:fu.x8,VListItem:vu.g,VListItemTitle:mu.U,VListItemSubtitle:hu.w,VDivider:gu.G,VBtn:bu.D,VIcon:ku.w,VCard:yu.J,VCardTitle:xu.r,VCardText:Eu.O,VDialog:Au.p,VMain:wu.Y,VItemGroup:_u.$V,VListSubheader:Cu.w,VOverlay:Fu.L,VProgressCircular:Iu.x,VSnackbar:Lu.K,VFooter:Su.O,VContainer:Ou.I,VListItemAction:ju.k,VSpacer:Wu.h,VCardSubtitle:Xu.Z,VRow:Tu.L,VCol:Pu.B,VToolbarTitle:Ru.s,VTooltip:Du.y,VAppBarNavIcon:Nu.Z,VForm:Hu.n,VCombobox:Bu.A,VImg:Vu.y,VAvatar:qu.y,VChip:Mu.x,VBadge:Uu.Q,VExpandTransition:Gu.Qo,VMenu:Qu.q,VBtnToggle:Ku.H_,VToolbar:zu.u,VAutocomplete:$u.V,VTextField:Ju.W,VSelect:Yu.d4,VTable:Zu.Z},directives:ec,icons:{defaultSet:"mdi",aliases:tc.z,sets:{mdi:tc.r}},theme:{defaultTheme:"light",themes:{light:{colors:{primary:"#4F4F4F",secondary:"#00A3F6",accent:"#8c9eff",error:"#b71c1c"}},dark:{colors:{primary:"#4F4F4F",secondary:"#00A3A6",accent:"#8c9eff",error:"#b71c1c"}}}}}),rc=nc,ac=n(5727),ic={install:function(e){e.component("Highlighter",ac.Ay)}},oc=function(){var e=(0,a.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Da();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.A)((0,r.A)().mark((function e(){var t;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oc();case 2:t=(0,i.Ef)(cu),t.use(Qn),t.use(rc),t.use(ic),t.mount("#app");case 7:case"end":return e.stop()}}),e)})))()},6251:function(){},7233:function(){},9800:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,i){if(!r){var o=1/0;for(l=0;l<e.length;l++){r=e[l][0],a=e[l][1],i=e[l][2];for(var u=!0,c=0;c<r.length;c++)(!1&i||o>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(u=!1,i<o&&(o=i));if(u){e.splice(l--,1);var s=a();void 0!==s&&(t=s)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,o=r[0],u=r[1],c=r[2],s=0;if(o.some((function(t){return 0!==e[t]}))){for(a in u)n.o(u,a)&&(n.m[a]=u[a]);if(c)var l=c(n)}for(t&&t(r);s<o.length;s++)i=o[s],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},r=self["webpackChunkmy_choice"]=self["webpackChunkmy_choice"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(3198)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.03cfa6d3.js.map