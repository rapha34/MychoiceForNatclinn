{"version":3,"file":"js/app.389aa837.js","mappings":"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","sources":["webpack://my-choice/./src/App.vue","webpack://my-choice/./src/store/state.ts","webpack://my-choice/./src/views/Project.vue?c832","webpack://my-choice/./src/views/Project.vue","webpack://my-choice/./src/components/Empty.vue","webpack://my-choice/./src/components/Empty.vue?43be","webpack://my-choice/./src/views/Project.vue?c46e","webpack://my-choice/./src/views/Home.vue","webpack://my-choice/./src/components/Version.vue","webpack://my-choice/./src/components/Version.vue?9114","webpack://my-choice/./src/views/Home.vue?9051","webpack://my-choice/./src/views/Main.vue","webpack://my-choice/./src/components/Header.vue?60f3","webpack://my-choice/./src/components/Header.vue","webpack://my-choice/./src/components/Header.vue?801b","webpack://my-choice/./src/components/TableList/TableList.vue?7f65","webpack://my-choice/./src/components/TableList/TableList.vue","webpack://my-choice/./src/components/TableList/TableListHead.vue?e413","webpack://my-choice/./src/components/TableList/TableListHead.vue","webpack://my-choice/./src/components/TableList/TableListHead.vue?9196","webpack://my-choice/./src/components/TableList/TableListFoot.vue","webpack://my-choice/./src/components/ScoreIcon.vue?2ff0","webpack://my-choice/./src/components/ScoreIcon.vue","webpack://my-choice/./src/components/ScoreIcon.vue?c879","webpack://my-choice/./src/components/TableList/TableListFoot.vue?e57e","webpack://my-choice/./src/components/TableList/TableListAim.vue?28a3","webpack://my-choice/./src/components/TableList/TableListAim.vue","webpack://my-choice/./src/components/ItemsCount.vue?3ceb","webpack://my-choice/./src/components/ItemsCount.vue","webpack://my-choice/./src/components/ItemsCount.vue?1e1a","webpack://my-choice/./src/components/Acceptability.vue?d3b2","webpack://my-choice/./src/components/Acceptability.vue","webpack://my-choice/./src/components/Acceptability.vue?b4af","webpack://my-choice/./src/components/TableList/TableListAim.vue?ebbb","webpack://my-choice/./src/components/TableList/TableListCriterion.vue?badd","webpack://my-choice/./src/components/TableList/TableListCriterion.vue","webpack://my-choice/./src/components/TableList/TableListCriterion.vue?09b4","webpack://my-choice/./src/components/TableList/TableListAlternative.vue","webpack://my-choice/./src/components/TableList/TableListCard.vue","webpack://my-choice/./src/components/TableList/TableListCard.vue?f3c0","webpack://my-choice/./src/components/TableList/TableListAlternative.vue?d28a","webpack://my-choice/./src/components/TableList/TableList.vue?8723","webpack://my-choice/./src/components/SupersetCard.vue","webpack://my-choice/./src/components/SupersetCardItem.vue","webpack://my-choice/./src/components/SupersetCardItem.vue?483e","webpack://my-choice/./src/components/SupersetCard.vue?5507","webpack://my-choice/./src/views/Main.vue?0dcf","webpack://my-choice/./src/views/Properties.vue?5fea","webpack://my-choice/./src/views/Properties.vue","webpack://my-choice/./src/components/PropertiesList/PropertyListRow.vue?c7c8","webpack://my-choice/./src/components/PropertiesList/PropertyListRow.vue","webpack://my-choice/./src/components/PropertiesList/PropertiesListCriterion.vue?f030","webpack://my-choice/./src/components/PropertiesList/PropertiesListCriterion.vue","webpack://my-choice/./src/components/PropertiesList/PropertiesListCriterion.vue?4525","webpack://my-choice/./src/components/PropertiesList/PropertyListRow.vue?9157","webpack://my-choice/./src/views/Properties.vue?bf79","webpack://my-choice/./src/views/Stakeholders.vue?141b","webpack://my-choice/./src/views/Stakeholders.vue","webpack://my-choice/./src/components/StakeholderList/StakeholderListRow.vue?8657","webpack://my-choice/./src/components/StakeholderList/StakeholderListRow.vue","webpack://my-choice/./src/components/StakeholderList/StakeholderListRow.vue?1475","webpack://my-choice/./src/views/Stakeholders.vue?a536","webpack://my-choice/./src/router/index.ts","webpack://my-choice/./src/store/routes.ts","webpack://my-choice/./src/store/notifications.ts","webpack://my-choice/./src/store/utils.ts","webpack://my-choice/./src/data-spreadsheet.ts","webpack://my-choice/./src/store/spreadsheet.ts","webpack://my-choice/./src/data-renamed.ts","webpack://my-choice/./src/data-parser.ts","webpack://my-choice/./src/store/xlsx.ts","webpack://my-choice/./src/store/project.ts","webpack://my-choice/./src/store/cache.ts","webpack://my-choice/./src/store/fetch.ts","webpack://my-choice/./src/store/alternatives.ts","webpack://my-choice/./src/store/aims.ts","webpack://my-choice/./src/store/criterions.ts","webpack://my-choice/./src/store/items.ts","webpack://my-choice/./src/store/suboptions.ts","webpack://my-choice/./src/store/stakeholders.ts","webpack://my-choice/./src/store/supersets.ts","webpack://my-choice/./src/store/acceptability.ts","webpack://my-choice/./src/store/labels.ts","webpack://my-choice/./src/store/select.ts","webpack://my-choice/./src/store/filedrop.ts","webpack://my-choice/./src/data-csv.ts","webpack://my-choice/./src/store/csv.ts","webpack://my-choice/./src/store/index.ts","webpack://my-choice/./src/components/AppBar.vue","webpack://my-choice/./src/components/AppBar.vue?7e47","webpack://my-choice/./src/components/Drawer.vue","webpack://my-choice/./src/components/Drawer.vue?b302","webpack://my-choice/./src/components/OpenDialog.vue?d5e7","webpack://my-choice/./src/components/OpenDialog.vue","webpack://my-choice/./src/components/OpenDialog.vue?26ba","webpack://my-choice/./src/views/About.vue","webpack://my-choice/./src/views/About.vue?1393","webpack://my-choice/./src/App.vue?7ccd","webpack://my-choice/./src/plugins/vuetify.ts","webpack://my-choice/./src/plugins/text-highlight.ts","webpack://my-choice/./src/store/events.ts","webpack://my-choice/./src/main.ts","webpack://my-choice/webpack/bootstrap","webpack://my-choice/webpack/runtime/chunk loaded","webpack://my-choice/webpack/runtime/compat get default export","webpack://my-choice/webpack/runtime/define property getters","webpack://my-choice/webpack/runtime/global","webpack://my-choice/webpack/runtime/hasOwnProperty shorthand","webpack://my-choice/webpack/runtime/make namespace object","webpack://my-choice/webpack/runtime/node module decorator","webpack://my-choice/webpack/runtime/jsonp chunk loading","webpack://my-choice/webpack/startup"],"sourcesContent":["<template>\r\n  <v-app class=\"bg-grey-lighten-4\">\r\n    <AppBar />\r\n    <Drawer />\r\n\r\n    <!-- Input pour import local -->\r\n    <input\r\n      type=\"file\"\r\n      ref=\"dropFileInputRef\"\r\n      accept=\".xlsx\"\r\n      style=\"display: none\"\r\n      @change=\"onFileChange\"\r\n    />\r\n    <v-main> \r\n      <router-view />\r\n    </v-main>\r\n\r\n\r\n    <!-- Dialogue ouverture projet en ligne -->\r\n    <v-dialog v-model=\"state.openDialog\" max-width=\"600\">\r\n      <v-card>\r\n        <v-card-title class=\"d-flex align-center\">\r\n          <v-icon class=\"mr-2\">mdi-cloud-upload</v-icon>\r\n          <span>Open online project</span>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <OpenDialog />\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <!-- Dialogue \"About\" -->\r\n    <v-dialog v-model=\"state.aboutDialog\" max-width=\"600\">\r\n      <About />\r\n    </v-dialog>\r\n\r\n    <!-- Overlay de chargement -->\r\n    <v-overlay :model-value=\"state.overlay\" class=\"d-flex justify-center align-center\" z-index=\"3\">\r\n      <v-progress-circular indeterminate size=\"64\" color=\"primary\" />\r\n    </v-overlay>\r\n\r\n    <!-- Snackbar notifications -->\r\n    <v-snackbar v-model=\"isNotification\" color=\"info\" location=\"top\">\r\n      <template #default>\r\n        <v-icon class=\"mr-2\">mdi-information</v-icon>\r\n        <div>\r\n          <div v-for=\"(notification, index) in notifications\" :key=\"index\">\r\n            {{ notification.message }}\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template #actions>\r\n        <v-btn variant=\"outlined\" size=\"small\" @click=\"refreshProject\">Refresh</v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n\r\n    <!-- Snackbar erreurs -->\r\n    <v-snackbar v-model=\"isError\" color=\"error\" timeout=\"0\" multi-line>\r\n      <template #default>\r\n        <div v-for=\"(key, index) in getErrors\" :key=\"index\">\r\n          <span v-html=\"getErrorMessage(key)\" />\r\n        </div>\r\n      </template>\r\n      <template #actions>\r\n        <v-btn variant=\"text\" @click=\"clearErrors\">Close</v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed, defineComponent } from \"vue\";\r\nimport AppBar from \"@/components/AppBar.vue\";\r\nimport Drawer from \"@/components/Drawer.vue\";\r\nimport OpenDialog from \"@/components/OpenDialog.vue\";\r\nimport About from \"@/views/About.vue\";\r\n\r\nimport {\r\n  state,\r\n  clearErrors,\r\n  getErrors,\r\n  getErrorMessage,\r\n  refreshProject,\r\n  onFileChange,\r\n  onFileDrop,\r\n  onFileDragEnter,\r\n  onFileDragLeave,\r\n  onFileDragOver,\r\n  initDropArea,\r\n  notifications,\r\n  dropFileInputRef\r\n} from \"@/store\";\r\n\r\nexport default defineComponent({\r\n  name: \"App\",\r\n  components: {\r\n    AppBar,\r\n    Drawer,\r\n    OpenDialog,\r\n    About\r\n  },\r\n  setup() {\r\n    onMounted(() => {\r\n      initDropArea();\r\n    });\r\n\r\n    const isNotification = computed({\r\n      get: () => state.notifications.length > 0,\r\n      set: (val) => {\r\n        if (!val) state.notifications = [];\r\n      }\r\n    });\r\n\r\n    const isError = computed({\r\n      get: () => Object.values(state.errors).some(error => error !== false),\r\n      set: (val) => {\r\n        if (!val) clearErrors();\r\n      }\r\n    });\r\n\r\n    return {\r\n      dropFileInputRef,\r\n      onFileChange,\r\n      onFileDrop,\r\n      onFileDragEnter,\r\n      onFileDragLeave,\r\n      onFileDragOver,\r\n      clearErrors,\r\n      getErrorMessage,\r\n      refreshProject,\r\n      state,\r\n      getErrors,\r\n      notifications,\r\n      isNotification,\r\n      isError\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@/styles/main.scss\";\r\n</style>\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\n//import { data } from \"../data\";\r\n\r\nimport { computed, Ref, reactive, watch, ref } from \"vue\";\r\nimport { NormalizedData, Project } from \"@/@types\";\r\nimport { LocalStorageCache, LocalStorageCacheProjectItem } from \".\";\r\n\r\nexport interface State {\r\n  vm: any;  // Utiliser `any` ou `ComponentPublicInstance` pour Vue 3\r\n  notifications: {\r\n    type?: string;\r\n    message: string;\r\n  }[];\r\n  readonly baseUrl: string;\r\n  spreadsheet: string | null;\r\n  data: NormalizedData | null;\r\n  project: Project | null;\r\n  searchInput: string;\r\n  selectedSuperset: string;\r\n  selectedSupersets: string[];\r\n  selectedAims: number[];\r\n  selectedCriterions: number[];\r\n  selectedStakeholders: number[];\r\n  mode:\r\n    | \"consensus\"\r\n    | \"interplay\"\r\n    | \"data-reliability\"\r\n    | \"expertise\"\r\n    | \"prospective\"\r\n    | \"multi-stakeholder\";\r\n  readonly modes: {\r\n    [key in State[\"mode\"]]?: {\r\n      name: string;\r\n    };\r\n  };\r\n  globalCardType: \"label\" | \"stakeholder\";\r\n  dialog: boolean;\r\n  compareDialog: boolean;\r\n  openDialog: boolean;\r\n  readonly icons: {\r\n    [id: string]: any;\r\n  };\r\n  aboutDialog: boolean;\r\n  creditsDialog: boolean;\r\n  // dropFileInputRef: null | Ref<HTMLInputElement>;\r\n  overlay: boolean;\r\n  drawer: boolean;\r\n  selectedView: string;\r\n  errors: {\r\n    [key: string]: boolean | string | null;\r\n  };\r\n  snackbar: boolean;\r\n  readonly errorMessages: {\r\n    [key: string]: string;\r\n  };\r\n  recentProjects: LocalStorageCacheProjectItem[];\r\n  recentProjectNames: {\r\n    [key: string]: {\r\n      name: string;\r\n      date: number;\r\n    };\r\n  };\r\n  recentProjectSpreadsheets: {\r\n    [key: string]: {\r\n      name: string;\r\n      id: string;\r\n      date: number;\r\n    };\r\n  };\r\n  fields: {\r\n    projectName: string;\r\n    spreadsheetUrl: string;\r\n    nextcloudUrl: string;\r\n  };\r\n}\r\n\r\nexport const DEFAULTS: Pick<\r\n  State,\r\n  | \"mode\"\r\n  | \"searchInput\"\r\n  | \"selectedSuperset\"\r\n  | \"selectedSupersets\"\r\n  | \"selectedAims\"\r\n  | \"selectedCriterions\"\r\n  | \"selectedStakeholders\"\r\n  | \"compareDialog\"\r\n  | \"dialog\"\r\n  | \"openDialog\"\r\n  | \"spreadsheet\"\r\n  | \"selectedView\"\r\n  | \"data\"\r\n  | \"project\"\r\n  | \"aboutDialog\"\r\n  | \"creditsDialog\"\r\n  | \"globalCardType\"\r\n  // | \"dropFileInputRef\"\r\n> = {\r\n  mode: \"consensus\",\r\n  globalCardType: \"label\",\r\n  searchInput: \"\",\r\n  selectedSuperset: \"\",\r\n  selectedSupersets: [],\r\n  selectedAims: [],\r\n  selectedCriterions: [],\r\n  selectedStakeholders: [],\r\n  compareDialog: false,\r\n  dialog: false,\r\n  openDialog: false,\r\n  spreadsheet: null,\r\n  selectedView: \"table-view\",\r\n  data: null,\r\n  project: null,\r\n  aboutDialog: false,\r\n  creditsDialog: false,\r\n  // dropFileInputRef: null,\r\n};\r\n\r\nexport const dropFileInputRef = ref<HTMLInputElement | null>(null);\r\n\r\nexport const state = reactive<State>({\r\n  vm: null,\r\n  notifications: [],\r\n  baseUrl: process.env.BASE_URL,\r\n  selectedView: DEFAULTS.selectedView,\r\n  spreadsheet: DEFAULTS.spreadsheet,\r\n  data: DEFAULTS.data,\r\n  project: DEFAULTS.project,\r\n  searchInput: DEFAULTS.searchInput,\r\n  selectedSuperset: DEFAULTS.selectedSuperset,\r\n  selectedSupersets: DEFAULTS.selectedSupersets,\r\n  selectedAims: DEFAULTS.selectedAims,\r\n  selectedCriterions: DEFAULTS.selectedCriterions,\r\n  selectedStakeholders: DEFAULTS.selectedStakeholders,\r\n  mode: DEFAULTS.mode,\r\n  modes: {\r\n    consensus: {\r\n      name: \"Consensus\",\r\n    },\r\n    interplay: {\r\n      name: \"Interplay\",\r\n    },\r\n    prospective: {\r\n      name: \"Prospective\",\r\n    },\r\n    expertise: {\r\n      name: \"Expertise\",\r\n    },\r\n    \"data-reliability\": {\r\n      name: \"Data reliability\",\r\n    },\r\n    \"multi-stakeholder\": {\r\n      name: \"Multi Stakeholder\",\r\n    },\r\n  },\r\n  globalCardType: \"label\",\r\n  dialog: DEFAULTS.dialog,\r\n  compareDialog: DEFAULTS.compareDialog,\r\n  openDialog: DEFAULTS.openDialog,\r\n  aboutDialog: DEFAULTS.aboutDialog,\r\n  creditsDialog: DEFAULTS.creditsDialog,\r\n  // dropFileInputRef: ref<HTMLInputElement | null>(null),\r\n  icons: {\r\n    subOption: {\r\n      1: \"mdi-emoticon-happy-outline\",\r\n      2: \"mdi-emoticon-sad-outline\",\r\n    },\r\n    compare: \"mdi\",\r\n  },\r\n  overlay: false,\r\n  drawer: false,\r\n  errors: {\r\n    FAILED_TO_FETCH_SPREADSHEET: false,\r\n    FAILED_TO_FETCH_ICO: false,\r\n  },\r\n  snackbar: false,\r\n  fields: {\r\n    projectName: \"\",\r\n    spreadsheetUrl: \"\",\r\n    nextcloudUrl: \"\",\r\n  },\r\n  errorMessages: {\r\n    FAILED_TO_FETCH_SPREADSHEET:\r\n      \"The Spreadsheet isn't published or doesn't exist\",\r\n    FAILED_TO_FETCH_ICO:\r\n      \"This project name doesn't exist (note: name is case-sensitive)\",\r\n  },\r\n  recentProjects: [],\r\n  recentProjectNames:\r\n    localStorage.recentProjectNames &&\r\n    JSON.parse(localStorage.recentProjectNames) !== null\r\n      ? JSON.parse(localStorage.recentProjectNames)\r\n      : {},\r\n  recentProjectSpreadsheets:\r\n    localStorage.recentProjectSpreadsheets &&\r\n    JSON.parse(localStorage.recentProjectSpreadsheets) !== null\r\n      ? JSON.parse(localStorage.recentProjectSpreadsheets)\r\n      : {},\r\n});\r\n\r\nexport const clearAppDataAndProject = () => {\r\n  state.data = DEFAULTS.data;\r\n  state.project = DEFAULTS.project;\r\n  state.spreadsheet = DEFAULTS.spreadsheet;\r\n};\r\n\r\nexport const clearAppMode = () => {\r\n  state.mode = DEFAULTS.mode;\r\n};\r\n\r\nexport const clearAll = () => {\r\n  clearAppDataAndProject();\r\n  clearAppFilters();\r\n  clearAppMode();\r\n  clearAppDialogs();\r\n};\r\n\r\nexport const clearAppDialogs = () => {\r\n  state.selectedSuperset = DEFAULTS.selectedSuperset;\r\n  state.selectedSupersets.splice(0); // Clear the array\r\n  state.compareDialog = DEFAULTS.compareDialog;\r\n  state.dialog = DEFAULTS.dialog;\r\n  state.openDialog = DEFAULTS.openDialog;\r\n};\r\n\r\nexport const clearAppFilters = () => {\r\n  state.searchInput = DEFAULTS.searchInput;\r\n  state.selectedAims = DEFAULTS.selectedAims;\r\n  state.selectedCriterions = DEFAULTS.selectedCriterions;\r\n  state.selectedStakeholders = DEFAULTS.selectedStakeholders;\r\n};\r\n\r\nexport const getImagePath = (url: string) => {\r\n  const regex = new RegExp(\"^(?:[a-z]+:)?//\", \"i\");\r\n  const isAbsoluteUrl = regex.test(url);\r\n  return isAbsoluteUrl\r\n    ? url\r\n    : process.env.VUE_APP_ROOT_URL + \"img/\" + state.project!.name + \"/\" + url;\r\n};\r\n\r\nexport const isSpreadsheet = computed(() =>\r\n  state.vm &&\r\n  state.vm.$route &&\r\n  state.vm.$route.query &&\r\n  state.vm.$route.query.spreadsheet\r\n    ? true\r\n    : false\r\n);\r\n\r\nexport const getCurrentRoute = computed(() =>\r\n  state.vm && state.vm.$route ? state.vm.$route : null\r\n);\r\n\r\nexport const isLoading = computed(() => state.overlay);\r\nexport const isEmptyProject = computed(() => state.project === null);\r\n\r\nexport const getSpreadsheetLink = (spreadsheetId: string) =>\r\n  `https://docs.google.com/spreadsheets/d/${spreadsheetId}`;\r\n\r\nexport const getProjectName = computed(() =>\r\n  state.project && state.project.name ? state.project.name : null\r\n);\r\n\r\nexport const is1stLevelStakeholdersMode = computed(() =>\r\n  state.globalCardType === \"stakeholder\" ? true : false\r\n);\r\n\r\nexport const selectedSupersets = computed(() => state.selectedSupersets);\r\n\r\nexport const showOverlay = () => {\r\n  state.overlay = true;\r\n};\r\n\r\nexport const hideOverlay = () => {\r\n  state.overlay = false;\r\n};\r\n\r\nwatch(\r\n  () => state.globalCardType,\r\n  (newValue, oldValue) => {\r\n    if (newValue !== oldValue) {\r\n      clearAppDialogs();\r\n    }\r\n  }\r\n);\r\n\r\nexport const recentSpreadsheetProjects = computed(() => {\r\n  return Object.entries(state.recentProjects).filter(\r\n    ([key, { type }]) => type === \"googlespreadsheet\"\r\n  );\r\n});\r\n\r\nexport const recentIcoProjects = computed(() => {\r\n  return Object.entries(state.recentProjects).filter(\r\n    ([key, { type }]) => type === \"ico\"\r\n  );\r\n});\r\n\r\nexport const recentNextcloudProjects = computed(() => {\r\n  return Object.entries(state.recentProjects).filter(\r\n    ([key, { type }]) => type === \"nextcloud\"\r\n  );\r\n});\r\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"d-flex flex-column align-center justify-center h-100 text-white text-center px-4\" }\nconst _hoisted_2 = { class: \"text-h3 mb-2\" }\nconst _hoisted_3 = { class: \"d-flex flex-wrap justify-center\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"mx-2 text-caption font-weight-light my-span-vs\"\n}\nconst _hoisted_5 = { class: \"d-flex align-center mx-2\" }\nconst _hoisted_6 = { class: \"text-center my-4 mt-n6\" }\nconst _hoisted_7 = { class: \"text-body-1\" }\nconst _hoisted_8 = { class: \"d-flex flex-wrap justify-center\" }\nconst _hoisted_9 = {\n  key: 0,\n  class: \"d-flex align-center mx-4\"\n}\nconst _hoisted_10 = { class: \"text-h6 font-weight-bold mb-1\" }\nconst _hoisted_11 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_img = _resolveComponent(\"v-img\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_avatar = _resolveComponent(\"v-avatar\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_Empty = _resolveComponent(\"Empty\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, { class: \"flex-grow-1 bg-grey-lighten-4\" }, {\n    default: _withCtx(() => [\n      (_ctx.state.project)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n            _createVNode(_component_v_img, {\n              class: \"align-center my-v-img\",\n              \"max-height\": \"300\",\n              width: \"100%\",\n              src: _ctx.getImagePath(_ctx.state.project.image),\n              cover: \"\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_1, [\n                  _createElementVNode(\"h1\", _hoisted_2, _toDisplayString(_ctx.state.project.name), 1),\n                  _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"text-h6 font-weight-light mb-2\" }, \" The alternatives discussed in the project are: \", -1)),\n                  _createElementVNode(\"div\", _hoisted_3, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternativesIds, (alternativeId, index) => {\n                      return (_openBlock(), _createElementBlock(_Fragment, { key: alternativeId }, [\n                        (index !== 0)\n                          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"VS\"))\n                          : _createCommentVNode(\"\", true),\n                        _createElementVNode(\"div\", _hoisted_5, [\n                          _createVNode(_component_v_icon, { class: \"me-1\" }, {\n                            default: _withCtx(() => [\n                              _createTextVNode(_toDisplayString(_ctx.getAlternatives[alternativeId].icon), 1)\n                            ]),\n                            _: 2\n                          }, 1024),\n                          _createElementVNode(\"span\", null, _toDisplayString(_ctx.getAlternatives[alternativeId].name), 1)\n                        ])\n                      ], 64))\n                    }), 128))\n                  ])\n                ])\n              ]),\n              _: 1\n            }, 8, [\"src\"]),\n            _createElementVNode(\"div\", _hoisted_6, [\n              _createVNode(_component_v_btn, {\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.switchToView('global-view'))),\n                size: \"x-large\",\n                color: \"primary\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Open \" + _toDisplayString(_ctx.state.project.name) + \" project \", 1)\n                ]),\n                _: 1\n              })\n            ]),\n            _createVNode(_component_v_container, { style: {\"max-width\":\"1200px\"} }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_card_text, { class: \"text-primary text-center\" }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"p\", _hoisted_7, _toDisplayString(_ctx.state.project.description), 1)\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_row, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_col, { style: {\"overflow-x\":\"auto\",\"text-align\":\"center\"} }, {\n                      default: _withCtx(() => [\n                        _createElementVNode(\"div\", _hoisted_8, [\n                          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternativesIds, (alternativeId, index) => {\n                            return (_openBlock(), _createElementBlock(_Fragment, {\n                              key: 'card-' + alternativeId + index\n                            }, [\n                              (index !== 0)\n                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _cache[2] || (_cache[2] = [\n                                    _createElementVNode(\"small\", { class: \"text-grey-darken-1 font-weight-bold text-h6\" }, \"VS\", -1)\n                                  ])))\n                                : _createCommentVNode(\"\", true),\n                              _createVNode(_component_v_card, {\n                                \"min-width\": \"280\",\n                                \"max-width\": \"320\",\n                                class: \"mx-2 mb-4\",\n                                variant: \"outlined\"\n                              }, {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_v_list_item, null, {\n                                    default: _withCtx(() => [\n                                      _createElementVNode(\"div\", _hoisted_10, [\n                                        _createVNode(_component_v_icon, { class: \"text-primary me-2\" }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(_toDisplayString(_ctx.getAlternatives[alternativeId].icon), 1)\n                                          ]),\n                                          _: 2\n                                        }, 1024),\n                                        _createTextVNode(\" \" + _toDisplayString(_ctx.getAlternatives[alternativeId].name), 1)\n                                      ]),\n                                      _createVNode(_component_v_avatar, {\n                                        size: \"56\",\n                                        color: \"grey\"\n                                      }, {\n                                        default: _withCtx(() => [\n                                          _createElementVNode(\"img\", {\n                                            src: _ctx.getImagePath(_ctx.getAlternatives[alternativeId].image)\n                                          }, null, 8, _hoisted_11)\n                                        ]),\n                                        _: 2\n                                      }, 1024)\n                                    ]),\n                                    _: 2\n                                  }, 1024),\n                                  _createVNode(_component_v_card_text, null, {\n                                    default: _withCtx(() => [\n                                      _createElementVNode(\"p\", null, _toDisplayString(_ctx.getAlternatives[alternativeId].description), 1)\n                                    ]),\n                                    _: 2\n                                  }, 1024)\n                                ]),\n                                _: 2\n                              }, 1024)\n                            ], 64))\n                          }), 128))\n                        ])\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_row, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_col, null, {\n                      default: _withCtx(() => _cache[3] || (_cache[3] = [\n                        _createElementVNode(\"div\", { class: \"mt-6\" }, [\n                          _createElementVNode(\"h2\", { class: \"text-h6 font-weight-bold\" }, \"Disclaimer\"),\n                          _createElementVNode(\"ul\", { class: \"text-caption ps-4\" }, [\n                            _createElementVNode(\"li\", null, \" The authors and publisher of the software cannot be held liable in any way for the consequences that may result from the use or interpretation of the information processed by the MyChoice software... \"),\n                            _createElementVNode(\"li\", null, [\n                              _createTextVNode(\" By using the MyChoice software, users agree to explicitly cite the tool (home page \"),\n                              _createElementVNode(\"a\", {\n                                href: \"https://ico.iate.inra.fr/MyChoice/\",\n                                target: \"_blank\"\n                              }, \"https://ico.iate.inra.fr/MyChoice/\"),\n                              _createTextVNode(\")... \")\n                            ])\n                          ])\n                        ], -1)\n                      ])),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ], 64))\n        : (_openBlock(), _createBlock(_component_Empty, { key: 1 }))\n    ]),\n    _: 1\n  }))\n}","<template>\r\n  <v-card class=\"flex-grow-1 bg-grey-lighten-4\">\r\n    <template v-if=\"state.project\">\r\n      <v-img\r\n        class=\"align-center my-v-img\"\r\n        max-height=\"300\"\r\n        width=\"100%\"\r\n        :src=\"getImagePath(state.project.image)\"\r\n        cover\r\n      >\r\n        <div class=\"d-flex flex-column align-center justify-center h-100 text-white text-center px-4\">\r\n          <h1 class=\"text-h3 mb-2\">{{ state.project.name }}</h1>\r\n          <div class=\"text-h6 font-weight-light mb-2\">\r\n            The alternatives discussed in the project are:\r\n          </div>\r\n          <div class=\"d-flex flex-wrap justify-center\">\r\n            <template v-for=\"(alternativeId, index) in alternativesIds\" :key=\"alternativeId\">\r\n              <span v-if=\"index !== 0\" class=\"mx-2 text-caption font-weight-light my-span-vs\">VS</span>\r\n              <div class=\"d-flex align-center mx-2\">\r\n                <v-icon class=\"me-1\">{{ getAlternatives[alternativeId].icon }}</v-icon>\r\n                <span>{{ getAlternatives[alternativeId].name }}</span>\r\n              </div>\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </v-img>\r\n\r\n      <div class=\"text-center my-4 mt-n6\">\r\n        <v-btn @click=\"switchToView('global-view')\" size=\"x-large\" color=\"primary\">\r\n          Open {{ state.project.name }} project\r\n        </v-btn>\r\n      </div>\r\n\r\n      <v-container style=\"max-width: 1200px;\">\r\n        <v-card-text class=\"text-primary text-center\">\r\n          <p class=\"text-body-1\">\r\n            {{ state.project.description }}\r\n          </p>\r\n        </v-card-text>\r\n\r\n        <v-row>\r\n          <v-col style=\"overflow-x: auto; text-align: center;\">\r\n            <div class=\"d-flex flex-wrap justify-center\">\r\n              <template v-for=\"(alternativeId, index) in alternativesIds\" :key=\"'card-' + alternativeId + index\">\r\n                <div v-if=\"index !== 0\" class=\"d-flex align-center mx-4\">\r\n                  <small class=\"text-grey-darken-1 font-weight-bold text-h6\">VS</small>\r\n                </div>\r\n\r\n                <v-card min-width=\"280\" max-width=\"320\" class=\"mx-2 mb-4\" variant=\"outlined\">\r\n                  <v-list-item>\r\n                    <div class=\"text-h6 font-weight-bold mb-1\">\r\n                      <v-icon class=\"text-primary me-2\">{{ getAlternatives[alternativeId].icon }}</v-icon>\r\n                      {{ getAlternatives[alternativeId].name }}\r\n                    </div>\r\n                    <v-avatar size=\"56\" color=\"grey\">\r\n                      <img :src=\"getImagePath(getAlternatives[alternativeId].image)\" />\r\n                    </v-avatar>\r\n                  </v-list-item>\r\n                  <v-card-text>\r\n                    <p>{{ getAlternatives[alternativeId].description }}</p>\r\n                  </v-card-text>\r\n                </v-card>\r\n              </template>\r\n            </div>\r\n          </v-col>\r\n        </v-row>\r\n\r\n        <v-row>\r\n          <v-col>\r\n            <div class=\"mt-6\">\r\n              <h2 class=\"text-h6 font-weight-bold\">Disclaimer</h2>\r\n              <ul class=\"text-caption ps-4\">\r\n                <li>\r\n                  The authors and publisher of the software cannot be held liable in any way for the consequences that may result from the use or interpretation of the information processed by the MyChoice software...\r\n                </li>\r\n                <li>\r\n                  By using the MyChoice software, users agree to explicitly cite the tool (home page\r\n                  <a href=\"https://ico.iate.inra.fr/MyChoice/\" target=\"_blank\">https://ico.iate.inra.fr/MyChoice/</a>)...\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </template>\r\n\r\n    <template v-else>\r\n      <Empty />\r\n    </template>\r\n  </v-card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Empty from '@/components/Empty.vue';\r\nimport {\r\n  state,\r\n  alternativesIds,\r\n  getAlternatives,\r\n  getImagePath,\r\n  getFilteredItemsBy,\r\n  switchToView\r\n} from '@/store';\r\nimport { defineComponent, computed } from 'vue';\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    Empty,\r\n  },\r\n  setup() {\r\n    return {\r\n      state,\r\n      getImagePath,\r\n      getFilteredItemsBy,\r\n      switchToView,\r\n      alternativesIds: computed(() => alternativesIds()),\r\n      getAlternatives: computed(() => getAlternatives()),\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\nimg {\r\n  object-fit: cover;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"d-flex flex-column align-center justify-center flex-grow-1\" style=\"min-height: 100%;\" v-if=\"isEmptyProject && !isLoading\">\r\n            <v-card color=\"transparent\" class=\"text-center\" elevation=\"0\">\r\n                <v-container>\r\n                    <!-- <Menu />\r\n                    <v-divider />\r\n                    <RecentProjects /> -->\r\n                    <h4 class=\"mb-5\">\r\n                        \r\n                        <span v-if=\"!isSpreadsheet\">{{getRouteProjectId}}</span>\r\n                        \r\n                        <a target=\"_blank\" :href=\"getSpreadsheetLink(getRouteProjectId)\" v-if=\"isSpreadsheet\">{{getRouteProjectId}}</a>\r\n                        <v-icon class=\"ml-2\" v-if=\"isSpreadsheet\">mdi-google-spreadsheet</v-icon>\r\n                    </h4>\r\n\r\n                    <v-btn @click=\"refreshProject\">\r\n                        <v-icon small class=\"mr-3\">mdi-autorenew</v-icon>Refresh project\r\n                    </v-btn>\r\n\r\n                </v-container>\r\n            </v-card>\r\n\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nimport { state, refreshProject, isLoading, isEmptyProject, getRouteProjectId, isSpreadsheet, getSpreadsheetLink } from \"@/store\";\r\n\r\nimport {defineComponent} from \"vue\"\r\n\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n        getSpreadsheetLink,\r\n        isSpreadsheet,\r\n        getRouteProjectId,\r\n      state,\r\n      refreshProject,\r\n      isLoading,\r\n      isEmptyProject\r\n    }\r\n  }\r\n});\r\n</script>\r\n","import { render } from \"./Empty.vue?vue&type=template&id=618a6dfe\"\nimport script from \"./Empty.vue?vue&type=script&lang=js\"\nexport * from \"./Empty.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Project.vue?vue&type=template&id=19fbed7c&scoped=true&ts=true\"\nimport script from \"./Project.vue?vue&type=script&lang=ts\"\nexport * from \"./Project.vue?vue&type=script&lang=ts\"\n\nimport \"./Project.vue?vue&type=style&index=0&id=19fbed7c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-19fbed7c\"]])\n\nexport default __exports__","<template>\r\n  \r\n    <v-container class=\"pa-4 pa-sm-6\" style=\"max-width: 1200px;\">\r\n      <v-row class=\"bg-grey-lighten-4 py-6\" justify=\"center\">\r\n        <!-- Colonne principale avec texte et vido -->\r\n        <v-col cols=\"12\" md=\"8\">\r\n          <v-sheet elevation=\"0\" class=\"pa-0\" max-width=\"100%\">\r\n            <!-- Logo -->\r\n            <div class=\"text-left mb-6\">\r\n              <img\r\n                :src=\"state.baseUrl + 'logo-mychoice-color.svg'\"\r\n                style=\"max-width: 240px; width: 100%;\"\r\n                alt=\"MyChoice Logo\"\r\n              />\r\n            </div>\r\n\r\n            <!-- Prsentation -->\r\n            <p>\r\n              <b>MyChoice</b> is a web application supporting collective decision,\r\n              designed by INRAE. The software enables project participants to:\r\n            </p>\r\n            <ul>\r\n              <li>Analyze, compare and assess stakeholders' attitudes towards different alternatives.</li>\r\n              <li>Review explanatory arguments stemming from various sources and reflecting different concerns.</li>\r\n              <li>Explain the criteria, aims and features pursued.</li>\r\n              <li>Highlight potential synergies or competing concerns.</li>\r\n              <li>Propose different modes of decision support (expert, consensual, prospective, etc.).</li>\r\n            </ul>\r\n\r\n            <!-- Vido responsive plus petite et centre -->\r\n            <div class=\"my-6 d-flex justify-center\">\r\n              <v-responsive\r\n                class=\"my-6\"\r\n                aspect-ratio=\"16/9\"\r\n                style=\"max-width: 600px; width: 100%;\"\r\n              >\r\n                <video controls style=\"width: 100%; height: 100%;\">\r\n                  <source src=\"presentation_mychoice.mp4\" />\r\n                  Your browser does not support the <code>video</code> element.\r\n                </video>\r\n              </v-responsive>\r\n            </div>\r\n\r\n\r\n            <!-- Rfrences -->\r\n            <h6 class=\"text-overline mb-2\">References</h6>\r\n            <ul class=\"text-caption\">\r\n              <li>\r\n                Rallou Thomopoulos, Julien Cufi, Maxime Le Breton. A Generic Software to Support Collective Decision in Food Chains and in Multi-Stakeholder Situations.\r\n                <em>FoodSim 2020</em>, Sep 2020, Ghent, Belgium.\r\n                (<a href=\"https://hal.archives-ouvertes.fr/hal-02484363\" target=\"_blank\">hal-02484363</a>)\r\n              </li>\r\n              <li>\r\n                Rallou Thomopoulos. A practical application approach to argumentation for multicriteria analysis and decision support.\r\n                <em>EURO journal on decision processes</em>, Springer, 2018, 6 (3-4), pp.237-255.\r\n                (<a href=\"https://dx.doi.org/10.1007/s40070-018-0087-2\" target=\"_blank\">10.1007/s40070-018-0087-2</a>)\r\n                (<a href=\"https://hal.archives-ouvertes.fr/hal-01918020\" target=\"_blank\">hal-01918020</a>)\r\n              </li>\r\n            </ul>\r\n\r\n            <!-- Disclaimer -->\r\n            <h6 class=\"text-overline mt-6 mb-2\">Disclaimer</h6>\r\n            <div class=\"text-caption\">\r\n              <ul>\r\n                <li>\r\n                  The authors and publisher of the software cannot be held liable for the consequences resulting from the use of MyChoice. Information entered is the user's responsibility and affects the final result.\r\n                </li>\r\n                <li>\r\n                  Users agree to cite the tool in any communication and not use contributor branding without explicit consent.\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </v-sheet>\r\n        </v-col>\r\n\r\n        <!-- Colonne actions (boutons et projets rcents) -->\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-sheet elevation=\"0\">\r\n            <v-row>\r\n              <v-col cols=\"12\" class=\"d-flex justify-center mb-4\">\r\n                <v-btn @click=\"handleLoadFile\" prepend-icon=\"mdi-upload\">\r\n                  Open local project\r\n                </v-btn>\r\n              </v-col>\r\n              <v-col cols=\"12\" class=\"d-flex justify-center mb-4\">\r\n                <v-btn @click=\"state.openDialog = true\" prepend-icon=\"mdi-cloud-upload\">\r\n                  Open online project\r\n                </v-btn>\r\n              </v-col>\r\n              <v-col cols=\"12\">\r\n                <v-list-subheader>Recent projects</v-list-subheader>\r\n                <v-card flat>\r\n                  <v-card-text v-if=\"!recentProjects.length\" class=\"text-grey\">No recent projects</v-card-text>\r\n                  <v-list v-else density=\"compact\">\r\n                    <v-list-item\r\n                      v-for=\"(value, projectName) in recentProjects\"\r\n                      :key=\"'home-recent-' + projectName\"\r\n                      :to=\"getHrefFromTypeId({ type: value.type, id: value.id })\"\r\n                    >\r\n                      <v-list-item-title>\r\n                        {{ value.name || value.id }}\r\n                      </v-list-item-title>\r\n                      <template #append>\r\n                        <v-icon v-if=\"value.type === 'googlespreadsheet'\">mdi-google-spreadsheet</v-icon>\r\n                        <v-btn\r\n                          icon=\"mdi-close\"\r\n                          variant=\"text\"\r\n                          size=\"small\"\r\n                          @click.stop.prevent=\"removeFromRecentProjects(value.type, { id: value.id })\"\r\n                        />\r\n                      </template>\r\n                    </v-list-item>\r\n                  </v-list>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n          </v-sheet>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <!-- Version en bas de page -->\r\n      <v-row class=\"left mt-6\">\r\n        <Version />\r\n      </v-row>\r\n    </v-container>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Version from \"@/components/Version.vue\";\r\nimport {\r\n  state,\r\n  getRecentProjects,\r\n  recentProjects,\r\n  getHrefFromTypeId,\r\n  removeFromRecentProjects,\r\n  handleLoadFile\r\n} from \"@/store\";\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    Version\r\n  },\r\n  setup() {\r\n    return {\r\n      state,\r\n      recentProjects,\r\n      getHrefFromTypeId,\r\n      removeFromRecentProjects,\r\n      handleLoadFile\r\n    };\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <small class=\"text--small grey--text\">v{{ version }}</small>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: () => ({\r\n    version: process.env.VUE_APP_VERSION,\r\n  }),\r\n};\r\n</script>\r\n","import { render } from \"./Version.vue?vue&type=template&id=fc4b7858\"\nimport script from \"./Version.vue?vue&type=script&lang=js\"\nexport * from \"./Version.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Home.vue?vue&type=template&id=0654008e\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"view-container\" v-if=\"state.project && state.data\">\r\n    <!-- Header -->\r\n    <div class=\"header-section\">\r\n      <v-container style=\"max-width: 1400px;\">\r\n        <Header />\r\n      </v-container>\r\n    </div>\r\n\r\n    <!-- Table List -->\r\n    <div class=\"tablelist-section\">\r\n      <v-container class=\"tablelist-container\" fluid style=\"max-width: 1600px;\">\r\n        <v-card elevation=\"0\" rounded=\"lg\">\r\n          <div class=\"tablelist-x-shadow\"></div>\r\n          <div class=\"tablelist-y-shadow\"></div>\r\n          <TableList :key=\"state.project?.name\" />\r\n        </v-card>\r\n      </v-container>\r\n    </div>\r\n\r\n    <!-- Bottom Padding (optionnel,  conserver si utile pour l'espacement) -->\r\n    <div class=\"bottom-padding\"></div>\r\n\r\n    <!-- Floating Button -->\r\n    <v-btn\r\n      @click=\"state.compareDialog = !state.compareDialog\"\r\n      color=\"secondary\"\r\n      :disabled=\"selectedSupersets.length === 0\"\r\n      class=\"floating-button\"\r\n      variant=\"flat\"\r\n      elevation=\"8\"\r\n    >\r\n      <v-icon icon=\"mdi-select-compare\" />\r\n      <v-badge\r\n        v-if=\"selectedSupersets.length > 0\"\r\n        :content=\"selectedSupersets.length\"\r\n        color=\"black\"\r\n        text-color=\"white\"\r\n        floating\r\n        offset-x=\"-12\"\r\n        offset-y=\"-12\"\r\n      />\r\n    </v-btn>\r\n\r\n    <!-- Superset Dialog -->\r\n    <v-dialog\r\n      @click:outside=\"state.selectedSuperset = ''\"\r\n      :model-value=\"state.selectedSuperset.length > 0\"\r\n      max-width=\"480px\"\r\n    >\r\n      <template #default>\r\n        <SupersetCard\r\n          v-if=\"state.selectedSuperset.length\"\r\n          :superset=\"JSON.parse(state.selectedSuperset)\"\r\n        />\r\n      </template>\r\n    </v-dialog>\r\n\r\n    <!-- Comparison Section -->\r\n    <v-expand-transition>\r\n      <div\r\n        class=\"compare-container elevation-3\"\r\n        v-show=\"state.compareDialog && selectedSupersets.length\"\r\n      >\r\n        <v-card color=\"grey-lighten-4\" flat>\r\n          <div class=\"close-btn-container\">\r\n            <v-btn @click=\"state.compareDialog = false\" size=\"x-small\" icon color=\"secondary\">\r\n              <v-icon icon=\"mdi-close\" />\r\n            </v-btn>\r\n          </div>\r\n          <v-container class=\"supersets-container\" fluid>\r\n            <div\r\n              class=\"card-compare\"\r\n              v-for=\"superset in selectedSupersets\"\r\n              :key=\"superset + state.mode\"\r\n            >\r\n              <SupersetCard :compare=\"true\" :cols=\"4\" :superset=\"JSON.parse(superset)\" />\r\n            </div>\r\n          </v-container>\r\n        </v-card>\r\n      </div>\r\n    </v-expand-transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from \"@/components/Header.vue\";\r\nimport TableList from \"@/components/TableList/TableList.vue\";\r\nimport SupersetCard from \"@/components/SupersetCard.vue\";\r\nimport {\r\n  state,\r\n  getFilteredItems,\r\n  getAllItems,\r\n  removeSupersetInSelection,\r\n  selectedSupersets\r\n} from \"@/store\";\r\nimport { defineComponent, computed } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    Header,\r\n    TableList,\r\n    SupersetCard\r\n  },\r\n  setup() {\r\n    return {\r\n      state,\r\n      selectedSupersets,\r\n      getFilteredItems: computed(() => getFilteredItems()),\r\n      getAllItems: computed(() => getAllItems()),\r\n      removeSupersetInSelection\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n/* .view-container {\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: auto;\r\n  padding-bottom: 120px; \r\n} */\r\n.view-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100vh; /* au lieu de height */\r\n  /* padding-bottom: 120px; pour le bouton flottant */\r\n}\r\n\r\n.header-section {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.tablelist-section {\r\n  flex-shrink: 1;\r\n  margin: 0 0 0 0;\r\n}\r\n\r\n.bottom-padding {\r\n  height: 16px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.floating-button {\r\n  position: fixed;\r\n  bottom: 16px;\r\n  left: 16px;\r\n  width: 56px;\r\n  height: 56px;\r\n  border-radius: 50%;\r\n  z-index: 10;\r\n}\r\n\r\n.compare-container {\r\n  position: fixed;\r\n  bottom: 80px;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 12;\r\n}\r\n\r\n.close-btn-container {\r\n  position: fixed;\r\n  left: 0;\r\n  transform: translateY(-50%) translateX(-25%);\r\n  z-index: 15;\r\n}\r\n\r\n.card-compare {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n  .compare-container {\r\n    padding: 8px;\r\n  }\r\n\r\n  .card-compare {\r\n    margin-bottom: 12px;\r\n  }\r\n}\r\n</style>\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, mergeProps as _mergeProps, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"me-2 d-flex align-center\" }\n\nimport { computed, watch } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { debounce } from 'lodash'\r\n\r\nimport {\r\n  getSelectStakeholders,\r\n  getSelectAims,\r\n  getSelectCriterions,\r\n  state,\r\n  getSelectModes,\r\n  loadAll,\r\n  switchToView,\r\n  is1stLevelStakeholdersMode,\r\n  orderByPropName,\r\n} from '@/store'\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Header',\n  setup(__props) {\n\r\nconst router = useRouter()\r\n\r\nconst isActiveRoute = (name: string) => router.currentRoute.value.name === name\r\n\r\nconst clearSearch = () => {\r\n  state.searchInput = ''\r\n}\r\n\r\nconst debounceInput = debounce((value: string) => {\r\n  state.searchInput = value\r\n}, 200)\r\n\r\nconst getSelectModesComputed = computed(() => getSelectModes())\r\n\r\nconst orderedStakeholders = computed(() =>\r\n  orderByPropName(getSelectStakeholders(), 'text')\r\n)\r\nconst orderedCriterions = computed(() =>\r\n  orderByPropName(getSelectCriterions(), 'text')\r\n)\r\nconst orderedAims = computed(() =>\r\n  orderByPropName(getSelectAims(), 'text')\r\n)\r\n\r\nwatch(\r\n  () => state.mode,\r\n  async () => {\r\n    await loadAll(router.currentRoute.value, false)\r\n  }\r\n)\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_list = _resolveComponent(\"v-list\")!\n  const _component_v_menu = _resolveComponent(\"v-menu\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_v_select = _resolveComponent(\"v-select\")!\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_autocomplete = _resolveComponent(\"v-autocomplete\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n\n  return (_openBlock(), _createBlock(_component_v_row, { class: \"table-filters\" }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_col, {\n        class: \"flex-grow-0\",\n        style: {\"align-self\":\"center\"}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_toolbar, {\n            color: \"transparent\",\n            density: \"comfortable\",\n            class: \"pr-2\"\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_1, [\n                _createVNode(_component_v_tooltip, {\n                  text: \"Global view\",\n                  location: \"top\"\n                }, {\n                  activator: _withCtx(({ props: tooltipProps }) => [\n                    _createVNode(_component_v_menu, { location: \"bottom\" }, {\n                      activator: _withCtx(({ props: menuProps }) => [\n                        _createVNode(_component_v_btn, _mergeProps({ icon: \"\" }, { ...tooltipProps, ...menuProps }, {\n                          variant: isActiveRoute('global-view') ? 'flat' : 'text',\n                          onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(switchToView)('global-view')))\n                        }), {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_icon, {\n                              icon: 'mdi-table',\n                              color: isActiveRoute('global-view') ? 'primary' : 'grey'\n                            }, null, 8, [\"color\"]),\n                            _createVNode(_component_v_icon, {\n                              icon: 'mdi-chevron-down',\n                              color: isActiveRoute('global-view') ? 'primary' : 'grey'\n                            }, null, 8, [\"color\"])\n                          ]),\n                          _: 2\n                        }, 1040, [\"variant\"])\n                      ]),\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_list, null, {\n                          default: _withCtx(() => [\n                            (!_unref(is1stLevelStakeholdersMode))\n                              ? (_openBlock(), _createBlock(_component_v_list_item, {\n                                  key: 0,\n                                  onClick: _cache[1] || (_cache[1] = ($event: any) => (_unref(state).globalCardType = 'stakeholder'))\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_list_item_title, null, {\n                                      default: _withCtx(() => _cache[9] || (_cache[9] = [\n                                        _createTextVNode(\"By Stakeholder\")\n                                      ])),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                }))\n                              : (_openBlock(), _createBlock(_component_v_list_item, {\n                                  key: 1,\n                                  onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(state).globalCardType = 'label'))\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_list_item_title, null, {\n                                      default: _withCtx(() => _cache[10] || (_cache[10] = [\n                                        _createTextVNode(\"By Label\")\n                                      ])),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                }))\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 2\n                    }, 1024)\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_tooltip, {\n                  text: \"Stakeholder view\",\n                  location: \"top\"\n                }, {\n                  activator: _withCtx(({ props }) => [\n                    _createVNode(_component_v_btn, _mergeProps({ icon: \"\" }, props, {\n                      variant: isActiveRoute('stakeholder-view') ? 'flat' : 'text',\n                      onClick: _cache[3] || (_cache[3] = ($event: any) => (_unref(switchToView)('stakeholder-view')))\n                    }), {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_icon, {\n                          icon: 'mdi-account-multiple',\n                          color: isActiveRoute('stakeholder-view') ? 'primary' : 'grey'\n                        }, null, 8, [\"color\"])\n                      ]),\n                      _: 2\n                    }, 1040, [\"variant\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_tooltip, {\n                  text: \"Property view\",\n                  location: \"top\"\n                }, {\n                  activator: _withCtx(({ props }) => [\n                    _createVNode(_component_v_btn, _mergeProps({ icon: \"\" }, props, {\n                      variant: isActiveRoute('property-view') ? 'flat' : 'text',\n                      onClick: _cache[4] || (_cache[4] = ($event: any) => (_unref(switchToView)('property-view')))\n                    }), {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_icon, {\n                          icon: 'mdi-format-list-bulleted',\n                          color: isActiveRoute('property-view') ? 'primary' : 'grey'\n                        }, null, 8, [\"color\"])\n                      ]),\n                      _: 2\n                    }, 1040, [\"variant\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _createVNode(_component_v_select, {\n                items: getSelectModesComputed.value,\n                \"item-title\": \"text\",\n                \"item-value\": \"value\",\n                modelValue: _unref(state).mode,\n                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_unref(state).mode) = $event)),\n                label: \"Select mode\",\n                \"hide-details\": \"\",\n                class: \"ml-6 flex-grow-1\",\n                density: \"comfortable\",\n                style: {\"min-width\":\"200px\"}\n              }, null, 8, [\"items\", \"modelValue\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_v_col, { class: \"px-6\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_row, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_col, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_autocomplete, {\n                    clearable: \"\",\n                    \"item-color\": \"secondary\",\n                    color: \"secondary\",\n                    label: \"Stakeholders\",\n                    modelValue: _unref(state).selectedStakeholders,\n                    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_unref(state).selectedStakeholders) = $event)),\n                    items: orderedStakeholders.value,\n                    \"item-title\": \"text\",\n                    multiple: \"\",\n                    hint: `${_unref(state).selectedStakeholders.length}/${_unref(getSelectStakeholders).length}`,\n                    \"persistent-hint\": \"\",\n                    autocomplete: \"off\",\n                    id: \"selected-stakeholders\",\n                    density: \"comfortable\"\n                  }, null, 8, [\"modelValue\", \"items\", \"hint\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_v_col, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_autocomplete, {\n                    clearable: \"\",\n                    \"item-color\": \"secondary\",\n                    color: \"secondary\",\n                    label: \"Criteria\",\n                    modelValue: _unref(state).selectedCriterions,\n                    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_unref(state).selectedCriterions) = $event)),\n                    items: orderedCriterions.value,\n                    \"item-title\": \"text\",\n                    multiple: \"\",\n                    hint: `${_unref(state).selectedCriterions.length}/${_unref(getSelectCriterions).length}`,\n                    \"persistent-hint\": \"\",\n                    autocomplete: \"off\",\n                    id: \"selected-criteria\",\n                    density: \"comfortable\"\n                  }, null, 8, [\"modelValue\", \"items\", \"hint\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_v_col, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_autocomplete, {\n                    clearable: \"\",\n                    \"item-color\": \"secondary\",\n                    color: \"secondary\",\n                    label: \"Aims\",\n                    modelValue: _unref(state).selectedAims,\n                    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_unref(state).selectedAims) = $event)),\n                    items: orderedAims.value,\n                    \"item-title\": \"text\",\n                    multiple: \"\",\n                    hint: `${_unref(state).selectedAims.length}/${_unref(getSelectAims).length}`,\n                    \"persistent-hint\": \"\",\n                    autocomplete: \"off\",\n                    id: \"selected-aims\",\n                    density: \"comfortable\"\n                  }, null, 8, [\"modelValue\", \"items\", \"hint\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_v_col, {\n        class: \"flex-grow-0\",\n        style: {\"min-width\":\"200px\"}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_text_field, {\n            color: \"secondary\",\n            label: \"Search\",\n            \"model-value\": _unref(state).searchInput,\n            \"onUpdate:modelValue\": _unref(debounceInput),\n            clearable: \"\",\n            density: \"comfortable\"\n          }, {\n            \"append-inner\": _withCtx(() => [\n              _createVNode(_component_v_icon, {\n                icon: \"mdi-magnify\",\n                class: \"cursor-pointer\",\n                onClick: clearSearch\n              })\n            ]),\n            _: 1\n          }, 8, [\"model-value\", \"onUpdate:modelValue\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n  <v-row class=\"table-filters\">\r\n    <v-col class=\"flex-grow-0\" style=\"align-self: center;\">\r\n      <v-toolbar color=\"transparent\" density=\"comfortable\" class=\"pr-2\">\r\n        <div class=\"me-2 d-flex align-center\">\r\n\r\n          <!-- Global View Toggle with Menu -->\r\n          <v-tooltip text=\"Global view\" location=\"top\">\r\n            <template #activator=\"{ props: tooltipProps }\">\r\n              <v-menu location=\"bottom\">\r\n                <template #activator=\"{ props: menuProps }\">\r\n                  <v-btn\r\n                    icon\r\n                    v-bind=\"{ ...tooltipProps, ...menuProps }\"\r\n                    :variant=\"isActiveRoute('global-view') ? 'flat' : 'text'\"\r\n                    @click=\"switchToView('global-view')\"\r\n                  >\r\n                    <v-icon :icon=\"'mdi-table'\" :color=\"isActiveRoute('global-view') ? 'primary' : 'grey'\" />\r\n                    <v-icon :icon=\"'mdi-chevron-down'\" :color=\"isActiveRoute('global-view') ? 'primary' : 'grey'\" />\r\n                  </v-btn>\r\n                </template>\r\n                <v-list>\r\n                  <v-list-item\r\n                    v-if=\"!is1stLevelStakeholdersMode\"\r\n                    @click=\"state.globalCardType = 'stakeholder'\"\r\n                  >\r\n                    <v-list-item-title>By Stakeholder</v-list-item-title>\r\n                  </v-list-item>\r\n                  <v-list-item\r\n                    v-else\r\n                    @click=\"state.globalCardType = 'label'\"\r\n                  >\r\n                    <v-list-item-title>By Label</v-list-item-title>\r\n                  </v-list-item>\r\n                </v-list>\r\n              </v-menu>\r\n            </template>\r\n          </v-tooltip>\r\n\r\n          <!-- Stakeholder View -->\r\n          <v-tooltip text=\"Stakeholder view\" location=\"top\">\r\n            <template #activator=\"{ props }\">\r\n              <v-btn\r\n                icon\r\n                v-bind=\"props\"\r\n                :variant=\"isActiveRoute('stakeholder-view') ? 'flat' : 'text'\"\r\n                @click=\"switchToView('stakeholder-view')\"\r\n              >\r\n                <v-icon :icon=\"'mdi-account-multiple'\" :color=\"isActiveRoute('stakeholder-view') ? 'primary' : 'grey'\" />\r\n              </v-btn>\r\n            </template>\r\n          </v-tooltip>\r\n\r\n          <!-- Property View -->\r\n          <v-tooltip text=\"Property view\" location=\"top\">\r\n            <template #activator=\"{ props }\">\r\n              <v-btn\r\n                icon\r\n                v-bind=\"props\"\r\n                :variant=\"isActiveRoute('property-view') ? 'flat' : 'text'\"\r\n                @click=\"switchToView('property-view')\"\r\n              >\r\n                <v-icon :icon=\"'mdi-format-list-bulleted'\" :color=\"isActiveRoute('property-view') ? 'primary' : 'grey'\" />\r\n              </v-btn>\r\n            </template>\r\n          </v-tooltip>\r\n        </div>\r\n\r\n        <!-- Mode Selector -->\r\n        <v-select\r\n          :items=\"getSelectModesComputed\"\r\n          item-title=\"text\"\r\n          item-value=\"value\"\r\n          v-model=\"state.mode\"\r\n          label=\"Select mode\"\r\n          hide-details\r\n          class=\"ml-6 flex-grow-1\"\r\n          density=\"comfortable\"\r\n          style=\"min-width: 200px;\"\r\n        />\r\n      </v-toolbar>\r\n    </v-col>\r\n\r\n    <!-- Autocomplete Filters -->\r\n    <v-col class=\"px-6\">\r\n      <v-row>\r\n        <v-col>\r\n          <v-autocomplete\r\n            clearable\r\n            item-color=\"secondary\"\r\n            color=\"secondary\"\r\n            label=\"Stakeholders\"\r\n            v-model=\"state.selectedStakeholders\"\r\n            :items=\"orderedStakeholders\"\r\n            item-title=\"text\"\r\n            multiple\r\n            :hint=\"`${state.selectedStakeholders.length}/${getSelectStakeholders.length}`\"\r\n            persistent-hint\r\n            autocomplete=\"off\"\r\n            id=\"selected-stakeholders\"\r\n            density=\"comfortable\"\r\n          />\r\n        </v-col>\r\n        <v-col>\r\n          <v-autocomplete\r\n            clearable\r\n            item-color=\"secondary\"\r\n            color=\"secondary\"\r\n            label=\"Criteria\"\r\n            v-model=\"state.selectedCriterions\"\r\n            :items=\"orderedCriterions\"\r\n            item-title=\"text\"\r\n            multiple\r\n            :hint=\"`${state.selectedCriterions.length}/${getSelectCriterions.length}`\"\r\n            persistent-hint\r\n            autocomplete=\"off\"\r\n            id=\"selected-criteria\"\r\n            density=\"comfortable\"\r\n          />\r\n        </v-col>\r\n        <v-col>\r\n          <v-autocomplete\r\n            clearable\r\n            item-color=\"secondary\"\r\n            color=\"secondary\"\r\n            label=\"Aims\"\r\n            v-model=\"state.selectedAims\"\r\n            :items=\"orderedAims\"\r\n            item-title=\"text\"\r\n            multiple\r\n            :hint=\"`${state.selectedAims.length}/${getSelectAims.length}`\"\r\n            persistent-hint\r\n            autocomplete=\"off\"\r\n            id=\"selected-aims\"\r\n            density=\"comfortable\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n    </v-col>\r\n\r\n      <!-- Search Field -->\r\n      <v-col class=\"flex-grow-0\" style=\"min-width: 200px;\">\r\n        <v-text-field\r\n          color=\"secondary\"\r\n          label=\"Search\"\r\n          :model-value=\"state.searchInput\"\r\n          @update:modelValue=\"debounceInput\"\r\n          clearable\r\n          density=\"comfortable\"\r\n        >\r\n          <template #append-inner>\r\n            <v-icon\r\n              icon=\"mdi-magnify\"\r\n              class=\"cursor-pointer\"\r\n              @click=\"clearSearch\"\r\n            />\r\n          </template>\r\n        </v-text-field>\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { computed, watch } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { debounce } from 'lodash'\r\n\r\nimport {\r\n  getSelectStakeholders,\r\n  getSelectAims,\r\n  getSelectCriterions,\r\n  state,\r\n  getSelectModes,\r\n  loadAll,\r\n  switchToView,\r\n  is1stLevelStakeholdersMode,\r\n  orderByPropName,\r\n} from '@/store'\r\n\r\nconst router = useRouter()\r\n\r\nconst isActiveRoute = (name: string) => router.currentRoute.value.name === name\r\n\r\nconst clearSearch = () => {\r\n  state.searchInput = ''\r\n}\r\n\r\nconst debounceInput = debounce((value: string) => {\r\n  state.searchInput = value\r\n}, 200)\r\n\r\nconst getSelectModesComputed = computed(() => getSelectModes())\r\n\r\nconst orderedStakeholders = computed(() =>\r\n  orderByPropName(getSelectStakeholders(), 'text')\r\n)\r\nconst orderedCriterions = computed(() =>\r\n  orderByPropName(getSelectCriterions(), 'text')\r\n)\r\nconst orderedAims = computed(() =>\r\n  orderByPropName(getSelectAims(), 'text')\r\n)\r\n\r\nwatch(\r\n  () => state.mode,\r\n  async () => {\r\n    await loadAll(router.currentRoute.value, false)\r\n  }\r\n)\r\n</script>\r\n","import script from \"./Header.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Header.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = { class: \"table-wrapper\" }\nconst _hoisted_2 = { class: \"custom-table\" }\nconst _hoisted_3 = {\n  key: 0,\n  style: {\"height\":\"100%\"},\n  class: \"text-center\"\n}\nconst _hoisted_4 = [\"colspan\"]\nconst _hoisted_5 = { class: \"grey--text\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_TableListHead = _resolveComponent(\"TableListHead\")!\n  const _component_TableListCriterion = _resolveComponent(\"TableListCriterion\")!\n  const _component_TableListAim = _resolveComponent(\"TableListAim\")!\n  const _component_TableListAlternative = _resolveComponent(\"TableListAlternative\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_TableListFoot = _resolveComponent(\"TableListFoot\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n\n  return (_openBlock(), _createBlock(_component_v_container, {\n    fluid: \"\",\n    class: \"pa-0 fill-height d-flex flex-column\"\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"table\", _hoisted_2, [\n          _createElementVNode(\"thead\", null, [\n            _createVNode(_component_TableListHead)\n          ]),\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_criterionsIds, (criterionId) => {\n              return (_openBlock(), _createElementBlock(_Fragment, {\n                key: `criterion-block-${criterionId}`\n              }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getAimsBy('criterion', criterionId), (aim, index) => {\n                  return (_openBlock(), _createElementBlock(\"tr\", {\n                    key: `aim-${criterionId}-${aim.id}`\n                  }, [\n                    (index === 0)\n                      ? _withDirectives((_openBlock(), _createBlock(_component_TableListCriterion, {\n                          key: 0,\n                          aim: aim,\n                          criterionId: criterionId\n                        }, null, 8, [\"aim\", \"criterionId\"])), [\n                          [_vShow, _ctx.getFilteredCriterions.includes(criterionId)]\n                        ])\n                      : _createCommentVNode(\"\", true),\n                    _withDirectives(_createVNode(_component_TableListAim, { aim: aim }, null, 8, [\"aim\"]), [\n                      [_vShow, _ctx.getFilteredAims.includes(aim.id)]\n                    ]),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternativesIds, (alternativeId) => {\n                      return (_openBlock(), _createElementBlock(_Fragment, {\n                        key: `alternative-block-${alternativeId}`\n                      }, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.subOptionsIds, (subOptionId) => {\n                          return _withDirectives((_openBlock(), _createBlock(_component_TableListAlternative, {\n                            key: `alternative-${alternativeId}-${subOptionId}`,\n                            aim: aim,\n                            criterionId: criterionId,\n                            alternativeId: alternativeId,\n                            subOptionId: subOptionId,\n                            alternativesIds: _ctx.alternativesIds,\n                            subOptionsIds: _ctx.subOptionsIds\n                          }, null, 8, [\"aim\", \"criterionId\", \"alternativeId\", \"subOptionId\", \"alternativesIds\", \"subOptionsIds\"])), [\n                            [_vShow, _ctx.getFilteredAims.includes(aim.id)]\n                          ])\n                        }), 128))\n                      ], 64))\n                    }), 128))\n                  ]))\n                }), 128))\n              ], 64))\n            }), 128)),\n            (!_ctx.getFilteredItems.length)\n              ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_3, [\n                  _createElementVNode(\"td\", {\n                    class: \"pt-10\",\n                    colspan: 5 + _ctx.alternativesIds.length\n                  }, [\n                    _createElementVNode(\"b\", _hoisted_5, [\n                      _cache[1] || (_cache[1] = _createTextVNode(\" No results. \")),\n                      _cache[2] || (_cache[2] = _createElementVNode(\"br\", null, null, -1)),\n                      _cache[3] || (_cache[3] = _createElementVNode(\"br\", null, null, -1)),\n                      _createVNode(_component_v_btn, {\n                        small: \"\",\n                        color: \"secondary\",\n                        onClick: _ctx.clearAppFilters\n                      }, {\n                        default: _withCtx(() => _cache[0] || (_cache[0] = [\n                          _createTextVNode(\"clear filters\")\n                        ])),\n                        _: 1\n                      }, 8, [\"onClick\"])\n                    ])\n                  ], 8, _hoisted_4)\n                ]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _createElementVNode(\"tfoot\", null, [\n            _createVNode(_component_TableListFoot)\n          ])\n        ])\n      ])\n    ]),\n    _: 1\n  }))\n}","<template>\r\n  <v-container fluid class=\"pa-0 fill-height d-flex flex-column\">\r\n    <div class=\"table-wrapper\">\r\n      <table class=\"custom-table\">\r\n        <thead>\r\n          <TableListHead />\r\n        </thead>\r\n        <tbody>\r\n          <template v-for=\"criterionId in c_criterionsIds\" :key=\"`criterion-block-${criterionId}`\">\r\n            <tr\r\n              v-for=\"(aim, index) in getAimsBy('criterion', criterionId)\"\r\n              :key=\"`aim-${criterionId}-${aim.id}`\"\r\n            >\r\n              <TableListCriterion\r\n                v-if=\"index === 0\"\r\n                v-show=\"getFilteredCriterions.includes(criterionId)\"\r\n                :aim=\"aim\"\r\n                :criterionId=\"criterionId\"\r\n              />\r\n              <TableListAim v-show=\"getFilteredAims.includes(aim.id)\" :aim=\"aim\" />\r\n              <template v-for=\"alternativeId in alternativesIds\" :key=\"`alternative-block-${alternativeId}`\">\r\n                <TableListAlternative\r\n                  v-show=\"getFilteredAims.includes(aim.id)\"\r\n                  v-for=\"subOptionId in subOptionsIds\"\r\n                  :key=\"`alternative-${alternativeId}-${subOptionId}`\"\r\n                  :aim=\"aim\"\r\n                  :criterionId=\"criterionId\"\r\n                  :alternativeId=\"alternativeId\"\r\n                  :subOptionId=\"subOptionId\"\r\n                  :alternativesIds=\"alternativesIds\"\r\n                  :subOptionsIds=\"subOptionsIds\"\r\n                />\r\n              </template>\r\n            </tr>\r\n          </template>\r\n\r\n          <template v-if=\"!getFilteredItems.length\">\r\n            <tr style=\"height:100%;\" class=\"text-center\">\r\n              <td class=\"pt-10\" :colspan=\"5 + alternativesIds.length\">\r\n                <b class=\"grey--text\">\r\n                  No results.\r\n                  <br /><br />\r\n                  <v-btn small color=\"secondary\" @click=\"clearAppFilters\">clear filters</v-btn>\r\n                </b>\r\n              </td>\r\n            </tr>\r\n          </template>\r\n        </tbody>\r\n        <tfoot>\r\n          <TableListFoot />\r\n        </tfoot>\r\n      </table>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed, onMounted, onUnmounted, ref} from \"vue\";\r\nimport { sortBy } from \"lodash\";\r\n\r\nimport TableListHead from \"./TableListHead.vue\";\r\nimport TableListFoot from \"./TableListFoot.vue\";\r\nimport TableListAim from \"./TableListAim.vue\";\r\nimport TableListCriterion from \"./TableListCriterion.vue\";\r\nimport TableListAlternative from \"./TableListAlternative.vue\";\r\n\r\nimport {\r\n  clearAppFilters,\r\n  subOptionsIds,\r\n  alternativesIds,\r\n  criterionsIds,\r\n  c_criterionsIds,\r\n  aimsIds,\r\n  getAimsBy,\r\n  getAlternatives,\r\n  getSubOptions,\r\n  state,\r\n  getFilteredCriterions,\r\n  getFilteredItems,\r\n  getFilteredAims\r\n} from \"@/store\";\r\n\r\nexport default defineComponent({\r\n  name: \"TableList\",\r\n  components: {\r\n    TableListCriterion,\r\n    TableListHead,\r\n    TableListFoot,\r\n    TableListAlternative,\r\n    TableListAim\r\n  },\r\n  setup() {\r\n    \r\n    const filteredCriterions = computed(() => getFilteredCriterions());\r\n    const filteredItems = computed(() => getFilteredItems());\r\n    const filteredAims = computed(() => getFilteredAims());\r\n\r\n    const alternatives = computed(() => alternativesIds());\r\n    const subOptions = computed(() => subOptionsIds());\r\n    const criterions = computed(() => criterionsIds());\r\n    const aims = computed(() => aimsIds());\r\n\r\n    return {\r\n      state,\r\n      sortBy,\r\n      getAimsBy,\r\n      clearAppFilters,\r\n\r\n      c_criterionsIds,\r\n\r\n      getFilteredCriterions: filteredCriterions,\r\n      getFilteredItems: filteredItems,\r\n      getFilteredAims: filteredAims,\r\n\r\n      alternativesIds: alternatives,\r\n      subOptionsIds: subOptions,\r\n      criterionsIds: criterions,\r\n      aimsIds: aims,\r\n\r\n      getAlternatives: computed(() => getAlternatives()),\r\n      getSubOptions: computed(() => getSubOptions())\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.table-wrapper {\r\n  height: 80vh;\r\n  overflow: auto;\r\n  border: 1px solid #ccc;\r\n}\r\n\r\n/* Table */\r\n.custom-table {\r\n  border-collapse: collapse;\r\n  width: 100vw;\r\n  min-width: 100%;\r\n}\r\n\r\n/* Header sticky */\r\n.custom-table thead th {\r\n  position: sticky;\r\n  top: 0;\r\n  background: white;\r\n  z-index: 2;\r\n  border-bottom: 2px solid #ccc;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n\r\n/* Footer sticky */\r\n.custom-table tfoot td {\r\n  position: sticky;\r\n  bottom: 0;\r\n  background: white;\r\n  z-index: 1;\r\n  border-top: 2px solid #ccc;\r\n  padding: 8px;\r\n}\r\n\r\n/* Cellules normales */\r\n.custom-table td {\r\n  padding: 8px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n</style>\r\n\r\n\r\n","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"text-uppercase\" }\nconst _hoisted_2 = [\"colspan\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"tr\", _hoisted_1, [\n    _cache[0] || (_cache[0] = _createElementVNode(\"th\", { class: \"criterion\" }, \"Criterion\", -1)),\n    _cache[1] || (_cache[1] = _createElementVNode(\"th\", { class: \"aim\" }, \"Aim\", -1)),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternativesIds, (alternativeId) => {\n      return (_openBlock(), _createElementBlock(\"th\", {\n        key: `alternative-${alternativeId}`,\n        colspan: _ctx.subOptionsIds.length,\n        class: \"alternative\"\n      }, [\n        (_ctx.state.data?.alternatives?.[alternativeId]?.icon)\n          ? (_openBlock(), _createBlock(_component_v_icon, { key: 0 }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.state.data.alternatives[alternativeId].icon), 1)\n              ]),\n              _: 2\n            }, 1024))\n          : _createCommentVNode(\"\", true),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.getAlternatives[alternativeId]?.name || 'Unnamed'), 1)\n      ], 8, _hoisted_2))\n    }), 128))\n  ]))\n}","<template>\r\n  <tr class=\"text-uppercase\">\r\n    <th class=\"criterion\">Criterion</th>\r\n    <th class=\"aim\">Aim</th>\r\n    <th\r\n      v-for=\"alternativeId in alternativesIds\"\r\n      :key=\"`alternative-${alternativeId}`\"\r\n      :colspan=\"subOptionsIds.length\"\r\n      class=\"alternative\"\r\n    >\r\n      <v-icon v-if=\"state.data?.alternatives?.[alternativeId]?.icon\">\r\n        {{ state.data.alternatives[alternativeId].icon }}\r\n      </v-icon>\r\n      {{ getAlternatives[alternativeId]?.name || 'Unnamed' }}\r\n    </th>\r\n  </tr>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed } from \"vue\";\r\nimport {\r\n  state,\r\n  alternativesIds,\r\n  subOptionsIds,\r\n  getAlternatives\r\n} from \"@/store\";\r\n\r\nexport default defineComponent({\r\n  name: \"TableListHead\",\r\n  setup() {\r\n    return {\r\n      state,\r\n      alternativesIds: computed(() => alternativesIds()),\r\n      subOptionsIds: computed(() => subOptionsIds()),\r\n      getAlternatives: computed(() => getAlternatives())\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n\r\n/* Header sticky */\r\n.custom-table thead th {\r\n  position: sticky;\r\n  top: 0;\r\n  background: white;\r\n  z-index: 2;\r\n  border-bottom: 2px solid #ccc;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n</style>\r\n\r\n\r\n","import { render } from \"./TableListHead.vue?vue&type=template&id=6544bdca&scoped=true&ts=true\"\nimport script from \"./TableListHead.vue?vue&type=script&lang=ts\"\nexport * from \"./TableListHead.vue?vue&type=script&lang=ts\"\n\nimport \"./TableListHead.vue?vue&type=style&index=0&id=6544bdca&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6544bdca\"]])\n\nexport default __exports__","<template>\r\n  <tr tablelistfoot>\r\n    <th criterion-aim class=\"text-right\" colspan=\"2\">\r\n      <v-container>\r\n        <small class=\"grey--text\" style=\"font-weight: normal;\">\r\n          Arguments:\r\n          <b>{{ getFilteredItems.length }}/{{ getAllItems.length }}</b>\r\n        </small>\r\n      </v-container>\r\n    </th>\r\n\r\n    <!-- <template v-for=\"alternativeId in subOptionsIds\" :key=\"`subOption-${alternativeId}`\">\r\n      <th\r\n        alternative\r\n        :colspan=\"subOptionsIds.length\"\r\n      > -->\r\n    <template v-for=\"alternativeId in alternativesIds\" :key=\"`subOption-${alternativeId}`\">\r\n      <th\r\n        alternative\r\n        :colspan=2\r\n      >\r\n        <table style=\"width: 90%;\">\r\n          <tr>\r\n            <td class=\"text-left\">\r\n              <v-icon\r\n                color=\"green\"\r\n                :title=\"\r\n                  pluralize('{count} {argument:count}', {\r\n                    count: getFilteredItemsBy({\r\n                      alternative: alternativeId,\r\n                      favorable: true\r\n                    }).length\r\n                  })\r\n                \"\r\n              >\r\n                mdi-emoticon-happy-outline\r\n              </v-icon>\r\n            </td>\r\n            <td>\r\n              Attitude: {{ totalAcceptability[alternativeId] }}\r\n              <ScoreIcon\r\n                :alternative=\"alternativeId\"\r\n                :score=\"totalAcceptability[alternativeId]\"\r\n              />\r\n            </td>\r\n            <td class=\"text-right\">\r\n              <v-icon\r\n                color=\"red\"\r\n                :title=\"\r\n                  pluralize('{count} {argument:count}', {\r\n                    count: getFilteredItemsBy({\r\n                      alternative: alternativeId,\r\n                      favorable: false\r\n                    }).length\r\n                  })\r\n                \"\r\n              >\r\n                mdi-emoticon-sad-outline\r\n              </v-icon>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </th>\r\n    </template>\r\n  </tr>\r\n</template>\r\n\r\n<script>\r\n// import Acceptability from \"@/components/Acceptability.vue\";\r\nimport ScoreIcon from \"@/components/ScoreIcon.vue\";\r\nimport {\r\n  pluralize,\r\n  alternativesIds,\r\n  subOptionsIds,\r\n  getSubOptions,\r\n  getFilteredItemsBy,\r\n  getWeightedAcceptability,\r\n  getAcceptabilityFromAlternativeId,\r\n  getFilteredItems,\r\n  getAllItems,\r\n  state\r\n} from \"@/store\";\r\nimport { computed, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() {\r\n\r\n    return  {\r\n      state,\r\n\r\n      getAcceptabilityFromAlternativeId,\r\n      getFilteredItemsBy,\r\n      getWeightedAcceptability,\r\n      pluralize,\r\n\r\n      totalAcceptability: computed(() => {\r\n        return getWeightedAcceptability(getFilteredItems());\r\n      }),\r\n      alternativesIds: computed(() => alternativesIds()),\r\n      subOptionsIds: computed(() => subOptionsIds()),\r\n      getSubOptions: computed(() => getSubOptions()),\r\n      getFilteredItems: computed(() => getFilteredItems()),\r\n      getAllItems: computed(() => getAllItems())\r\n    }\r\n  },\r\n  \r\n  components: {\r\n    ScoreIcon\r\n  }\r\n});\r\n</script>\r\n\r\n<style>\r\n/* Footer sticky */\r\n.custom-table tfoot tr {\r\n  display: table-cells; \r\n  position: sticky;\r\n  bottom: 0;\r\n  background: white;\r\n  z-index: 1;\r\n  border-top: 2px solid #ccc;\r\n  padding: 8px;\r\n}\r\n</style>","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createVNode as _createVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_avatar = _resolveComponent(\"v-avatar\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n\n  return (_openBlock(), _createElementBlock(\"span\", null, [\n    (!_ctx.icon)\n      ? (_openBlock(), _createBlock(_component_v_icon, {\n          key: 0,\n          title: _ctx.title,\n          \"x-small\": \"\",\n          color: _ctx.getColorName(_ctx.getAcceptabilityName(_ctx.score))\n        }, {\n          default: _withCtx(() => _cache[0] || (_cache[0] = [\n            _createTextVNode(\"mdi-circle\")\n          ])),\n          _: 1\n        }, 8, [\"title\", \"color\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.icon)\n      ? (_openBlock(), _createBlock(_component_v_chip, {\n          key: 1,\n          variant: \"outlined\",\n          size: \"x-small\",\n          title: \"title\",\n          style: {\"padding\":\"0\"},\n          color: \"getColorName(getAcceptabilityName(score))\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_avatar, null, {\n              default: _withCtx(() => [\n                (_ctx.state.data && _ctx.state.data.alternatives[_ctx.alternative])\n                  ? (_openBlock(), _createBlock(_component_v_icon, {\n                      key: 0,\n                      small: \"\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(_ctx.state.data.alternatives[_ctx.alternative].icon), 1)\n                      ]),\n                      _: 1\n                    }))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","<template>\r\n  <span>\r\n    <v-icon\r\n      :title=\"title\"\r\n      v-if=\"!icon\"\r\n      x-small\r\n      :color=\"getColorName(getAcceptabilityName(score))\"\r\n      >mdi-circle</v-icon\r\n    >\r\n    <v-chip\r\n      variant=\"outlined\"\r\n      size=\"x-small\"\r\n      title=\"title\"\r\n      v-if=\"icon\"\r\n      style=\"padding: 0;\"\r\n      color=\"getColorName(getAcceptabilityName(score))\"\r\n    >\r\n    <!-- <v-chip\r\n      :title=\"title\"\r\n      outlined\r\n      dark\r\n      small\r\n      v-if=\"icon\"\r\n      style=\"padding: 0;\"\r\n      :color=\"getColorName(getAcceptabilityName(score))\"\r\n    > -->\r\n      <!-- <v-avatar>\r\n        <v-icon small v-if=\"state.data\">{{\r\n          state.data.alternatives[alternative].icon\r\n        }}</v-icon>\r\n      </v-avatar> -->\r\n      <v-avatar>\r\n        <v-icon small v-if=\"state.data && state.data.alternatives[alternative]\">\r\n        {{ state.data.alternatives[alternative].icon }}\r\n        </v-icon>\r\n      </v-avatar>\r\n    </v-chip>\r\n  </span>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { getAcceptabilityName, state } from \"@/store\";\r\nimport { defineComponent, toRefs } from \"vue\";\r\nexport default defineComponent({\r\n\r\n\r\n  props: {\r\n    score: {\r\n      type: Number || null\r\n    },\r\n    title: {}, \r\n    alternative: {\r\n      type: Number\r\n    },\r\n    icon: {}\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    \r\n\r\n    return {\r\n      \r\n      state,\r\n\r\n      getColorName: (name: string) => {\r\n        if (name === \"pro\") {\r\n          return \"green\";\r\n        } else if (name === \"con\") {\r\n          return \"red\";\r\n        } else if (name === \"mix\") {\r\n          return \"orange\";\r\n        } else {\r\n          // return \"rgba(0,0,0,.2)\";\r\n          return \"rgba(0,0,0,1)\";  // Opacit pleine\r\n        }\r\n      },\r\n      getAcceptabilityName\r\n    }\r\n  },\r\n  \r\n\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.acceptability {\r\n  &::before {\r\n    content: \"\\200b\";\r\n    width: 1em;\r\n    height: 1em;\r\n    background: #000;\r\n    display: inline-block;\r\n    border-radius: 50%;\r\n    vertical-align: middle;\r\n    clear: both;\r\n  }\r\n  &::after {\r\n    content: \" \"; /* 1 */\r\n    display: table; /* 2 */\r\n    clear: both;\r\n  }\r\n\r\n  margin: auto;\r\n}\r\n.pro::before {\r\n  background-color: green;\r\n}\r\n.con::before {\r\n  background-color: red;\r\n}\r\n.mix::before {\r\n  background-color: orange;\r\n}\r\n</style>\r\n","import { render } from \"./ScoreIcon.vue?vue&type=template&id=72e9531e&ts=true\"\nimport script from \"./ScoreIcon.vue?vue&type=script&lang=ts\"\nexport * from \"./ScoreIcon.vue?vue&type=script&lang=ts\"\n\nimport \"./ScoreIcon.vue?vue&type=style&index=0&id=72e9531e&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TableListFoot.vue?vue&type=template&id=5193f3a6\"\nimport script from \"./TableListFoot.vue?vue&type=script&lang=js\"\nexport * from \"./TableListFoot.vue?vue&type=script&lang=js\"\n\nimport \"./TableListFoot.vue?vue&type=style&index=0&id=5193f3a6&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { aim: \"\" }\nconst _hoisted_2 = { class: \"d-flex flex-column justify-space-between text-break\" }\nconst _hoisted_3 = { class: \"d-flex\" }\nconst _hoisted_4 = { class: \"mt-1 d-flex flex-wrap flex-grow-1\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Acceptability = _resolveComponent(\"Acceptability\")!\n  const _component_ItemsCount = _resolveComponent(\"ItemsCount\")!\n\n  return (_openBlock(), _createElementBlock(\"td\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, _toDisplayString(_ctx.aim.name), 1),\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n          return (_openBlock(), _createBlock(_component_Acceptability, {\n            key: 'aim-alternative-' + index + _ctx.aimsItems[alternativeId],\n            class: \"mb-1 mr-1\",\n            icon: true,\n            alternative: alternativeId,\n            items: _ctx.aimsItems[alternativeId]\n          }, null, 8, [\"alternative\", \"items\"]))\n        }), 128))\n      ])\n    ]),\n    _createVNode(_component_ItemsCount, { count: _ctx.totalItems }, null, 8, [\"count\"])\n  ]))\n}","<!-- <template>\r\n  <td aim>\r\n    <div class=\"d-flex flex-column justify-space-between text-break\">\r\n      <div class=\"d-flex\">{{aim.name}}</div>\r\n      <div class=\"mt-1 flex-grow-1 flex-wrap d-flex\">\r\n        <Acceptability\r\n          :key=\"'aim-alternative-'+index+aimsItems[alternativeId]\"\r\n          v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n          class=\"mb-1 mr-1\"\r\n          :icon=\"true\"\r\n          :alternative=\"alternativeId\"\r\n          :items=\"aimsItems[alternativeId]\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <ItemsCount :count=\"totalItems\" />\r\n  </td>\r\n</template> -->\r\n<template>\r\n  <td aim>\r\n    <div class=\"d-flex flex-column justify-space-between text-break\">\r\n      <div class=\"d-flex\">{{ aim.name }}</div>\r\n      <div class=\"mt-1 d-flex flex-wrap flex-grow-1\">\r\n        <Acceptability\r\n          v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n          :key=\"'aim-alternative-' + index + aimsItems[alternativeId]\"\r\n          class=\"mb-1 mr-1\"\r\n          :icon=\"true\"\r\n          :alternative=\"alternativeId\"\r\n          :items=\"aimsItems[alternativeId]\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <ItemsCount :count=\"totalItems\" />\r\n  </td>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport ItemsCount from \"@/components/ItemsCount.vue\";\r\nimport Acceptability from \"@/components/Acceptability.vue\";\r\nimport { getFilteredItemsBy, c_alternativesIds } from \"@/store\";\r\nimport { computed, defineComponent, PropType, ref, toRefs  } from \"vue\";\r\nimport { NormalizedAim, NormalizedArgument } from \"@/@types\";\r\nexport default defineComponent({\r\n\r\n\r\n  props: {\r\n    aim: {\r\n      type: Object as PropType<NormalizedAim>\r\n    }\r\n  },\r\n\r\n\r\n  setup(props) {\r\n\r\n    const {aim} = toRefs(props)\r\n\r\n  \r\n    const aimsItems = computed(() => {\r\n      let obj : {[key: string]: NormalizedArgument[]} = {};\r\n      c_alternativesIds.value.forEach(alternativeId => {\r\n        const items = getFilteredItemsBy({\r\n          alternative: alternativeId,\r\n          aim: aim.value.id\r\n        });\r\n\r\n        obj[alternativeId] = items;\r\n      });\r\n      return obj;\r\n    })\r\n\r\n    const totalItems = computed(() => {\r\n      return Object.values(aimsItems.value).reduce((acc, items) => {\r\n        return acc + items.length;\r\n      }, 0)\r\n      })\r\n\r\n    return {\r\n      \r\n\r\n      c_alternativesIds,\r\n      aimsItems,\r\n      totalItems,\r\n\r\n      getFilteredItemsBy\r\n\r\n    }\r\n\r\n  },\r\n  // props: [\"aim\"],\r\n  components: {\r\n    Acceptability,\r\n    ItemsCount\r\n  },\r\n  // computed: {\r\n    \r\n    \r\n    \r\n    // alternativeItems: function() {\r\n    //   return {\r\n    //     1: getFilteredItemsBy({\r\n    //       alternative: 1,\r\n    //       aim: this.aim.id\r\n    //     }),\r\n    //     2: getFilteredItemsBy({\r\n    //       alternative: 2,\r\n    //       aim: this.aim.id\r\n    //     })\r\n    //   };\r\n    // }\r\n  // },\r\n  // methods: {\r\n    \r\n  // }\r\n});\r\n</script>\r\n\r\n","import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n\n  return (_openBlock(), _createBlock(_component_v_chip, {\n    variant: \"outlined\",\n    size: \"x-small\",\n    color: \"default\",\n    title: \"title\"\n  }, {\n    default: _withCtx(() => [\n      _createTextVNode(_toDisplayString(_ctx.count), 1)\n    ]),\n    _: 1\n  }))\n}","<template>\r\n  <!-- <v-chip outlined x-small :title=\"title\">{{count}}</v-chip> -->\r\n  <v-chip\r\n    variant=\"outlined\"\r\n    size=\"x-small\"\r\n    color=\"default\"\r\n    title=\"title\"\r\n  >\r\n    {{count}}\r\n  </v-chip>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { pluralize } from \"@/store\";\r\nimport { computed, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  props: [\"count\"],\r\n\r\n  setup(props) {\r\n\r\n    return {\r\n      title: computed(() => {\r\n        return pluralize(\"{count} {argument:count}\", {\r\n          count: props.count\r\n        })\r\n      })\r\n    }\r\n\r\n  }\r\n  \r\n});\r\n</script>","import { render } from \"./ItemsCount.vue?vue&type=template&id=696800dc&ts=true\"\nimport script from \"./ItemsCount.vue?vue&type=script&lang=ts\"\nexport * from \"./ItemsCount.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { computed } from 'vue'\r\nimport { NormalizedArgument } from '@/@types'\r\nimport { getAcceptabilityFromProCon, pluralize } from '@/store'\r\nimport ScoreIcon from './ScoreIcon.vue'\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Acceptability',\n  props: {\n    items: {},\n    alternative: {},\n    icon: { type: Boolean }\n  },\n  setup(__props: any) {\n\r\nconst props = __props\r\n\r\nconst acceptability = computed(() => getAcceptabilityFromProCon(props.items))\r\n\r\nconst scoreTitle = computed(() => {\r\n  return acceptability.value !== null\r\n    ? `${pluralize('{count} {argument:count}', {\r\n        count: props.items.length\r\n      })} - ${acceptability.value * 100}% pro`\r\n    : ''\r\n})\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(ScoreIcon, {\n    title: scoreTitle.value,\n    alternative: _ctx.alternative,\n    icon: _ctx.icon,\n    score: acceptability.value\n  }, null, 8, [\"title\", \"alternative\", \"icon\", \"score\"]))\n}\n}\n\n})","<!-- <template>\r\n  <ScoreIcon\r\n    :title=\"\r\n      `${\r\n        acceptability !== null\r\n          ? `${pluralize('{count} {argument:count}', {\r\n              count: items.length\r\n            })} - ${acceptability * 100}% pro`\r\n          : ''\r\n      }`\r\n    \"\r\n    :alternative=\"alternative\"\r\n    :icon=\"icon\"\r\n    :score=\"acceptability\"\r\n  />\r\n</template> -->\r\n<!-- <template>\r\n  <ScoreIcon\r\n    :title=\"acceptability !== null\r\n      ? `${pluralize('{count} {argument:count}', { count: items.length })} - ${acceptability * 100}% pro`\r\n      : ''\"\r\n    :alternative=\"alternative\"\r\n    :icon=\"icon\"\r\n    :score=\"acceptability\"\r\n  />\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport { NormalizedArgument } from \"@/@types\";\r\nimport { getAcceptabilityFromProCon, pluralize } from \"@/store\";\r\nimport { computed, defineComponent, PropType, toRefs } from \"vue\";\r\nimport ScoreIcon from \"./ScoreIcon.vue\";\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    items: {\r\n      type: Array as PropType<NormalizedArgument[]>\r\n    },\r\n    alternative: {\r\n      type: Number\r\n    },\r\n    icon: {\r\n      type: Boolean\r\n    }\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    const {items, alternative, icon} = toRefs(props)\r\n\r\n    return {\r\n      \r\n\r\n      acceptability: computed(() => getAcceptabilityFromProCon(items.value)),\r\n\r\n      getAcceptabilityFromProCon,\r\n      pluralize\r\n    \r\n    }\r\n  },\r\n\r\n  components: {\r\n    ScoreIcon\r\n  },\r\n  // props: [\"items\", \"alternative\", \"icon\"],\r\n  computed: {\r\n    \r\n  },\r\n  methods: {\r\n    \r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\"></style> -->\r\n<template>\r\n  <ScoreIcon\r\n    :title=\"scoreTitle\"\r\n    :alternative=\"alternative\"\r\n    :icon=\"icon\"\r\n    :score=\"acceptability\"\r\n  />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport { NormalizedArgument } from '@/@types'\r\nimport { getAcceptabilityFromProCon, pluralize } from '@/store'\r\nimport ScoreIcon from './ScoreIcon.vue'\r\n\r\nconst props = defineProps<{\r\n  items: NormalizedArgument[]\r\n  alternative: number\r\n  icon: boolean\r\n}>()\r\n\r\nconst acceptability = computed(() => getAcceptabilityFromProCon(props.items))\r\n\r\nconst scoreTitle = computed(() => {\r\n  return acceptability.value !== null\r\n    ? `${pluralize('{count} {argument:count}', {\r\n        count: props.items.length\r\n      })} - ${acceptability.value * 100}% pro`\r\n    : ''\r\n})\r\n</script>\r\n\r\n","import script from \"./Acceptability.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Acceptability.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./TableListAim.vue?vue&type=template&id=9ea91f8e&ts=true\"\nimport script from \"./TableListAim.vue?vue&type=script&lang=ts\"\nexport * from \"./TableListAim.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = [\"rowspan\"]\nconst _hoisted_2 = { class: \"d-flex flex-column justify-space-between text-break\" }\nconst _hoisted_3 = { class: \"mt-1 flex-grow-1 flex-wrap d-flex\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Acceptability = _resolveComponent(\"Acceptability\")!\n  const _component_ItemsCount = _resolveComponent(\"ItemsCount\")!\n\n  return (_openBlock(), _createElementBlock(\"td\", {\n    class: \"criterion\",\n    rowspan: _ctx.getAimsBy('criterion', _ctx.criterionId).length\n  }, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", null, _toDisplayString(_ctx.c_criterions[_ctx.aim.criterion].name), 1),\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n          return (_openBlock(), _createBlock(_component_Acceptability, {\n            key: `criterion-alternative-${index}-${_ctx.criterionItems[alternativeId]}`,\n            class: \"mb-1 mr-1\",\n            icon: true,\n            alternative: alternativeId,\n            items: _ctx.criterionItems[alternativeId]\n          }, null, 8, [\"alternative\", \"items\"]))\n        }), 128))\n      ])\n    ]),\n    _createVNode(_component_ItemsCount, { count: _ctx.totalItems }, null, 8, [\"count\"])\n  ], 8, _hoisted_1))\n}","<template>\r\n  <td class=\"criterion\" :rowspan=\"getAimsBy('criterion', criterionId).length\">\r\n    <div class=\"d-flex flex-column justify-space-between text-break\">\r\n      <div>{{ c_criterions[aim.criterion].name }}</div>\r\n      <div class=\"mt-1 flex-grow-1 flex-wrap d-flex\">\r\n        <Acceptability\r\n          v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n          :key=\"`criterion-alternative-${index}-${criterionItems[alternativeId]}`\"\r\n          class=\"mb-1 mr-1\"\r\n          :icon=\"true\"\r\n          :alternative=\"alternativeId\"\r\n          :items=\"criterionItems[alternativeId]\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <ItemsCount :count=\"totalItems\" />\r\n  </td>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed, PropType, toRefs } from \"vue\";\r\nimport { getFilteredItemsBy, getAimsBy, c_criterions, c_alternativesIds } from \"@/store\";\r\nimport ItemsCount from \"@/components/ItemsCount.vue\";\r\nimport Acceptability from \"@/components/Acceptability.vue\";\r\nimport type { NormalizedAim, NormalizedArgument } from \"@/@types\";\r\n\r\nexport default defineComponent({\r\n  name: \"TableListCriterion\",\r\n\r\n  components: {\r\n    Acceptability,\r\n    ItemsCount\r\n  },\r\n\r\n  props: {\r\n    aim: {\r\n      type: Object as PropType<NormalizedAim>,\r\n      required: true\r\n    },\r\n    criterionId: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  setup(props) {\r\n    const { criterionId } = toRefs(props);\r\n\r\n    const criterionItems = computed(() => {\r\n      const result: Record<string, NormalizedArgument[]> = {};\r\n      c_alternativesIds.value.forEach(alternativeId => {\r\n        result[alternativeId] = getFilteredItemsBy({\r\n          alternative: alternativeId,\r\n          criterion: criterionId.value\r\n        });\r\n      });\r\n      return result;\r\n    });\r\n\r\n    const totalItems = computed(() => {\r\n      return Object.values(criterionItems.value).reduce((acc, items) => acc + items.length, 0);\r\n    });\r\n\r\n    return {\r\n      c_criterions,\r\n      c_alternativesIds,\r\n      getAimsBy,\r\n      criterionItems,\r\n      totalItems\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.criterion {\r\n  vertical-align: top;\r\n}\r\n</style>\r\n","import { render } from \"./TableListCriterion.vue?vue&type=template&id=d4a07c98&scoped=true&ts=true\"\nimport script from \"./TableListCriterion.vue?vue&type=script&lang=ts\"\nexport * from \"./TableListCriterion.vue?vue&type=script&lang=ts\"\n\nimport \"./TableListCriterion.vue?vue&type=style&index=0&id=d4a07c98&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d4a07c98\"]])\n\nexport default __exports__","<!-- <template>\r\n  <td\r\n    :class=\"getLabels().length ? '' : 'is-empty'\"\r\n    alternative\r\n    :key=\"`${alternativeId}${subOptionId}`\"\r\n  >\r\n  <template v-if=\"is1stLevelStakeholdersMode\">\r\n    \r\n    <TableListCard\r\n      v-for=\"(value, key) in getCardsByStakeholder()\"\r\n      :superset=\"{\r\n        criterion: criterionId,\r\n        aim: aim.id,\r\n        alternative: alternativeId,\r\n        subOption: subOptionId,\r\n        stakeholder: Number(key)\r\n      }\"\r\n      :key=\"`superset-${aim.id}-stakeholder-${key}`\"\r\n      \r\n    />\r\n  </template>\r\n  <template v-else>\r\n    <TableListCard\r\n      v-for=\"(label, index) in getLabels()\"\r\n      :superset=\"{\r\n        criterion: criterionId,\r\n        aim: aim.id,\r\n        alternative: alternativeId,\r\n        subOption: subOptionId,\r\n        property: label.property,\r\n        value: label.value,\r\n      }\"\r\n      :key=\"`superset-${label.property}-${label.value}-${index}`\"\r\n    />\r\n  </template>\r\n  </td>\r\n</template> -->\r\n<template>\r\n  <td\r\n    :class=\"getLabels().length ? '' : 'is-empty'\"\r\n    :key=\"`${alternativeId}-${subOptionId}`\"\r\n  >\r\n    <template v-if=\"is1stLevelStakeholdersMode\">\r\n      <TableListCard\r\n        v-for=\"(value, key) in getCardsByStakeholder()\"\r\n        :key=\"`superset-${aim.id}-stakeholder-${key}`\"\r\n        :superset=\"{\r\n          criterion: criterionId,\r\n          aim: aim.id,\r\n          alternative: alternativeId,\r\n          subOption: subOptionId,\r\n          stakeholder: Number(key),\r\n        }\"\r\n      />\r\n    </template>\r\n\r\n    <template v-else>\r\n      <TableListCard\r\n        v-for=\"(label, index) in getLabels()\"\r\n        :key=\"`superset-${label.property}-${label.value}-${index}`\"\r\n        :superset=\"{\r\n          criterion: criterionId,\r\n          aim: aim.id,\r\n          alternative: alternativeId,\r\n          subOption: subOptionId,\r\n          property: label.property,\r\n          value: label.value,\r\n        }\"\r\n      />\r\n    </template>\r\n  </td>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { getUniqueFilteredLabelsBy, getFilteredItemsBy, getFilteredItemsGroupByProp, is1stLevelStakeholdersMode } from \"@/store\";\r\nimport { sortBy } from \"lodash\";\r\nimport { defineComponent } from \"vue\";\r\nimport TableListCard from \"./TableListCard\";\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n      is1stLevelStakeholdersMode\r\n    }\r\n  },\r\n  components: {\r\n    TableListCard\r\n  },\r\n  methods: {\r\n    getLabels: function() {\r\n      return sortBy(\r\n        getUniqueFilteredLabelsBy({\r\n          alternative: this.alternativeId,\r\n          subOption: this.subOptionId,\r\n          aim: this.aim.id,\r\n          criterion: this.criterionId\r\n        }),\r\n        \"property\"\r\n      );\r\n    },\r\n    getItems: function() {\r\n\r\n      return getFilteredItemsBy({\r\n        alternative: this.alternativeId,\r\n          subOption: this.subOptionId,\r\n          aim: this.aim.id,\r\n          criterion: this.criterionId\r\n      })\r\n\r\n    },\r\n\r\n    getCardsByStakeholder: function() {\r\n      return getFilteredItemsGroupByProp({\r\n        alternative: this.alternativeId,\r\n          subOption: this.subOptionId,\r\n          aim: this.aim.id,\r\n          criterion: this.criterionId\r\n      }, \"stakeholder\")\r\n    }\r\n  },\r\n  props: [\"alternativeId\", \"subOptionId\", \"aim\", \"criterionId\"]\r\n});\r\n</script>\r\n","0+0<template>\r\n  <v-card elevation=\"1\" @click=\"toggleSuperset(superset)\" class=\"text-center mb-3\" max-width=\"344\">\r\n    \r\n    <!-- <v-btn\r\n      x-small\r\n      absolute\r\n      bottom\r\n      right\r\n      text\r\n      icon\r\n      :color=\"findSuperset(superset) ? 'green' : ''\"\r\n      @click=\"toggleSuperset(superset)\"\r\n    >\r\n      <v-icon>mdi-eye</v-icon>\r\n    </v-btn>-->\r\n    <v-container>\r\n      <div>\r\n        <b v-if=\"is1stLevelStakeholdersMode\">\r\n          <Highlighter :searchWords=\"[state.searchInput]\" :textToHighlight=\"getStakeholderName(superset.stakeholder) ?? ''\"/>\r\n        </b>\r\n        <b v-else>\r\n          <Highlighter :searchWords=\"[state.searchInput]\" :textToHighlight=\"superset.property ?? ''\"/>\r\n        </b>\r\n      </div>\r\n      <div :class=\"[superset.subOption === 1 ? 'text-success' : 'text-error']\">\r\n        <Highlighter :searchWords=\"[state.searchInput]\" :textToHighlight=\"superset.value ?? ''\"/>\r\n      </div>\r\n        <v-chip\r\n          variant=\"outlined\"\r\n          size=\"x-small\"\r\n          color=\"default\"\r\n        >\r\n          {{ items.length }}\r\n        </v-chip>\r\n\r\n      <!-- <small>\r\n        <b>{{ items.length > 1 ? `${items.length} arguments` : `${items.length} argument`}}</b>\r\n      </small>-->\r\n      <!-- <ul>\r\n      <li :key=\"'item-' + index\" v-for=\"(item, index) in supersetItems\">\r\n        {{ item.assertion }}\r\n        <br />\r\n        <br />\r\n      </li>\r\n      </ul>-->\r\n    </v-container>\r\n\r\n  <div class=\"d-flex\">\r\n    <div class=\"card-compare-btn\">\r\n      <v-btn\r\n        v-if=\"!findSuperset(superset)\"\r\n        @click.stop=\"addSupersetInSelection(superset)\"\r\n        text\r\n        icon\r\n        small\r\n      >\r\n        <v-icon x-small>mdi-plus-circle-outline</v-icon>\r\n      </v-btn>\r\n      <v-btn\r\n        v-if=\"findSuperset(superset)\"\r\n        @click.stop=\"removeSupersetInSelection(superset)\"\r\n        text\r\n        icon\r\n        small\r\n        color=\"secondary\"\r\n      >\r\n        <v-icon x-small>mdi-plus-circle</v-icon>\r\n      </v-btn>\r\n\r\n    </div>\r\n      <small v-if=\"condition\" class=\"ml-auto mr-2 mb-1 text-right\" style=\"text-overflow: ellipsis;display: block;overflow: hidden;width: calc(100% - 4em);white-space: nowrap;\">{{condition}}</small>\r\n  </div>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  state,\r\n  getItemsBy,\r\n  toggleSuperset,\r\n  findSuperset,\r\n  addSupersetInSelection,\r\n  removeSupersetInSelection,\r\n  getStakeholderName,\r\n  is1stLevelStakeholdersMode\r\n} from \"@/store\";\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n      state,\r\n      addSupersetInSelection,\r\n    removeSupersetInSelection,\r\n    getItemsBy,\r\n    toggleSuperset,\r\n    findSuperset,\r\n    getStakeholderName,\r\n    is1stLevelStakeholdersMode\r\n    }  \r\n  },\r\n  \r\n  computed: {\r\n    items: function() {\r\n      if (is1stLevelStakeholdersMode.value) {\r\n        return getItemsBy({\r\n          stakeholder: this.superset.stakeholder,\r\n          alternative: this.superset.alternative,\r\n          subOption: this.superset.subOption,\r\n          aim: this.superset.aim,\r\n          criterion: this.superset.criterion\r\n        });\r\n      } else {\r\n        return getItemsBy({\r\n          property: this.superset.property,\r\n          value: this.superset.value,\r\n          alternative: this.superset.alternative,\r\n          subOption: this.superset.subOption,\r\n          aim: this.superset.aim,\r\n          criterion: this.superset.criterion\r\n        });\r\n      }\r\n      \r\n    },\r\n    condition: function() {\r\n      return this.items.reduce((acc, item) => {\r\n        if (item.condition) {\r\n          if (acc.length) {\r\n            return acc + \", \" + item.condition\r\n          } else {\r\n            return acc + item.condition\r\n          }\r\n        } else {\r\n          return acc\r\n        }\r\n      }, \"\")\r\n    }\r\n    // supersetItems: function() {\r\n    //   return getItemsBy({\r\n    //     alternative: this.superset.alternative,\r\n    //     subOption: this.superset.subOption,\r\n    //     aim: this.superset.aim,\r\n    //     criterion: this.superset.criterion,\r\n    //     property: this.superset.property,\r\n    //     value: this.superset.value\r\n    //   });\r\n    //}\r\n  },\r\n  props: [\"superset\", \"label\"]\r\n});\r\n</script>\r\n\r\n<style>\r\n.card {\r\n  padding: 1em;\r\n  margin-bottom: 1em;\r\n}\r\n</style>","import { render } from \"./TableListCard.vue?vue&type=template&id=b12c8c0e\"\nimport script from \"./TableListCard.vue?vue&type=script&lang=js\"\nexport * from \"./TableListCard.vue?vue&type=script&lang=js\"\n\nimport \"./TableListCard.vue?vue&type=style&index=0&id=b12c8c0e&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TableListAlternative.vue?vue&type=template&id=04c26cba\"\nimport script from \"./TableListAlternative.vue?vue&type=script&lang=js\"\nexport * from \"./TableListAlternative.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TableList.vue?vue&type=template&id=2727879f&scoped=true&ts=true\"\nimport script from \"./TableList.vue?vue&type=script&lang=ts\"\nexport * from \"./TableList.vue?vue&type=script&lang=ts\"\n\nimport \"./TableList.vue?vue&type=style&index=0&id=2727879f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2727879f\"]])\n\nexport default __exports__","<template>\r\n  <v-card class=\"superset-card\">\r\n    <div class=\"d-flex\" style=\"background: rgba(0,0,0,.7);position: relative;\">\r\n      <div\r\n        class=\"card-background\"\r\n        :style=\"`background-image: url(${getImagePath(state.data.alternatives[superset.alternative].image)}); background-size: cover;`\"\r\n      ></div>\r\n\r\n      <div class=\"mr-auto zi-front\">\r\n        <div class=\"subtitle-2 white--text text-uppercase\">\r\n          {{ getAlternativeName(superset.alternative) }}\r\n        </div>\r\n        <div class=\"font-weight-light white--text text-caption\">\r\n          {{ getCriterionName(superset.criterion) }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mx-4 my-4 zi-front\">\r\n        <v-icon style=\"color: white;\" v-if=\"state.data\">\r\n          {{ state.data.alternatives[superset.alternative].icon }}\r\n        </v-icon>\r\n      </div>\r\n    </div>\r\n\r\n    <v-card-text>\r\n      <div class=\"mt-0 mb-3 d-flex\">\r\n        <span class=\"mr-auto\">{{ getAimName(superset.aim) }}</span>\r\n        <v-icon class=\"ml-2\" size=\"small\">mdi-bullseye-arrow</v-icon>\r\n      </div>\r\n\r\n      <div>\r\n        <div style=\"margin-bottom: -.33em;\" class=\"title d-flex text--primary\">\r\n          <b v-if=\"is1stLevelStakeholdersMode\">{{ getStakeholderName(superset.stakeholder) }}</b>\r\n          <template v-else>\r\n            <b>{{ superset.property }}</b>\r\n            <v-icon\r\n              :class=\"['ml-auto', superset.subOption === 1 ? 'text-success' : 'text-error']\"\r\n            >\r\n              {{ state.icons.subOption[superset.subOption] }}\r\n            </v-icon>\r\n          </template>\r\n        </div>\r\n\r\n        <div\r\n          v-if=\"!is1stLevelStakeholdersMode\"\r\n          :class=\"['title font-weight-regular', superset.subOption === 1 ? 'text-success' : 'text-error']\"\r\n        >\r\n          {{ superset.value }}\r\n        </div>\r\n      </div>\r\n    </v-card-text>\r\n\r\n    <v-divider class=\"my-1\" />\r\n\r\n    <v-card-text>\r\n      <v-list-subheader class=\"px-0\" v-text=\"`Arguments (${supersetItems.length})`\" />\r\n\r\n      <div\r\n        v-for=\"(items, index) in duplicateGroups\"\r\n        :key=\"index\"\r\n        class=\"mb-5 no-mb-last\"\r\n      >\r\n        <SupersetCardItem\r\n          :item=\"items[0]\"\r\n          :index=\"index\"\r\n          :duplicatesCount=\"items.length\"\r\n        />\r\n      </div>\r\n    </v-card-text>\r\n\r\n    <v-divider />\r\n\r\n    <template #actions>\r\n      <v-btn\r\n        v-if=\"!findSuperset(superset) && !compare\"\r\n        @click=\"addSupersetInSelection(superset)\"\r\n        class=\"mr-auto\"\r\n        variant=\"text\"\r\n        icon=\"mdi-plus-circle-outline\"\r\n      />\r\n\r\n      <v-btn\r\n        v-if=\"findSuperset(superset)\"\r\n        :class=\"compare ? 'mx-auto' : 'mr-auto'\"\r\n        color=\"secondary\"\r\n        @click=\"removeSupersetInSelection(superset)\"\r\n        variant=\"text\"\r\n      >\r\n        <v-icon>\r\n          {{ compare ? \"mdi-close\" : \"mdi-plus-circle\" }}\r\n        </v-icon>\r\n      </v-btn>\r\n\r\n      <v-btn\r\n        v-if=\"!compare\"\r\n        @click=\"unselectSuperset(superset)\"\r\n        variant=\"text\"\r\n        icon=\"mdi-close\"\r\n      />\r\n    </template>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getItemsBy,\r\n  getCriterionById,\r\n  getStakeholderById,\r\n  getAlternativeName,\r\n  getCriterionName,\r\n  getStakeholderName,\r\n  getAimName,\r\n  addSupersetInSelection,\r\n  unselectSuperset,\r\n  removeSupersetInSelection,\r\n  findSuperset,\r\n  state,\r\n  formatDate,\r\n  getImagePath,\r\n  getDuplicatesGroups,\r\n  is1stLevelStakeholdersMode\r\n} from \"@/store\";\r\n\r\nimport SupersetCardItem from './SupersetCardItem.vue';\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  components: { SupersetCardItem },\r\n  props: [\"superset\", \"compare\"],\r\n\r\n  setup() {\r\n    return {\r\n      state,\r\n      getImagePath,\r\n      addSupersetInSelection,\r\n      removeSupersetInSelection,\r\n      unselectSuperset,\r\n      findSuperset,\r\n      getItemsBy,\r\n      getCriterionById,\r\n      getAlternativeName,\r\n      getCriterionName,\r\n      getStakeholderName,\r\n      getAimName,\r\n      formatDate,\r\n      is1stLevelStakeholdersMode\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    supersetItems() {\r\n      return getItemsBy(this.superset);\r\n    },\r\n    duplicateGroups() {\r\n      return getDuplicatesGroups(this.supersetItems);\r\n    }\r\n  }\r\n});\r\n</script>\r\n\r\n<style>\r\n.card-background {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-size: cover;\r\n  background-position: center center;\r\n  opacity: 0.3;\r\n  z-index: 0;\r\n}\r\n.zi-front {\r\n  z-index: 1;\r\n  position: relative;\r\n}\r\n</style>\r\n","<template>\r\n    <v-card :ripple=\"false\" outlined @click=\"openMe(index)\">\r\n          <v-container fluid>\r\n            <div class=\"d-flex\">\r\n              <div class=\"mb-5 overflow-hidden\">\r\n                <div :class=\"`caption ${!open[index] ? 'text-truncate' : ''}`\">\r\n                  <b v-if=\"is1stLevelStakeholdersMode\">{{item.property}}</b>\r\n                  <b v-else>by {{ getStakeholderName(item.stakeholder) }}</b>\r\n                </div>\r\n                <div :class=\"`caption ${!open[index] ? 'text-truncate' : ''}`\">\r\n                  <span :class=\"\r\n            `font-weight-regular\t  ${\r\n              item.subOption === 1 ? 'green--text' : 'red--text'\r\n            }`\r\n          \" v-if=\"is1stLevelStakeholdersMode\">{{item.value}}</span>\r\n                  <em v-else>in {{ item.source }}</em>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"ml-auto flex-shrink-0\">\r\n                <!-- <v-chip outlined x-small>{{duplicatesCount}}</v-chip> -->\r\n                <v-chip\r\n                  variant=\"outlined\"\r\n                  size=\"x-small\"\r\n                >\r\n                  {{duplicatesCount}}\r\n                </v-chip>\r\n                <v-btn icon>\r\n                  <v-icon>\r\n                    {{\r\n                    open[index] ? \"mdi-chevron-up\" : \"mdi-chevron-down\"\r\n                    }}\r\n                  </v-icon>\r\n                </v-btn>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"text--secondary body-1\" v-if=\"!open[index]\">{{ item.assertion }}</div>\r\n\r\n            \r\n            \r\n\r\n            <v-expand-transition>\r\n              <div v-show=\"open[index]\">\r\n                <div class=\"overline\">Explanation</div>\r\n                <p class=\"mb-5 body-1\">{{ item.explanation }}</p>\r\n\r\n                <div class=\"overline\">Assertion</div>\r\n                <p class=\"body-1 text--secondary\">{{ item.assertion }}</p>\r\n\r\n                <div v-if=\"item.date\" class=\"text-right text--secondary caption\">\r\n                  <small>{{ formatDate(item.date) }}</small>\r\n                </div>\r\n              </div>\r\n            </v-expand-transition>\r\n          </v-container>\r\n        </v-card>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport {\r\n  getItemsBy,\r\n  getCriterionById,\r\n  getStakeholderById,\r\n  getAlternativeName,\r\n  getCriterionName,\r\n  getStakeholderName,\r\n  getAimName,\r\n  addSupersetInSelection,\r\n  unselectSuperset,\r\n  removeSupersetInSelection,\r\n  findSuperset,\r\n  state,\r\n  formatDate,\r\n  getImagePath,\r\n  is1stLevelStakeholdersMode\r\n} from \"@/store\";\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n      state,\r\n      getImagePath,\r\n      openMe(index) {\r\n        this.open[index] = !this.open[index];\r\n      },\r\n      addSupersetInSelection,\r\n      removeSupersetInSelection,\r\n      unselectSuperset,\r\n      findSuperset,\r\n      getItemsBy,\r\n      getCriterionById,\r\n      getAlternativeName,\r\n      getCriterionName,\r\n      getStakeholderName,\r\n      getAimName,\r\n      formatDate,\r\n      is1stLevelStakeholdersMode\r\n    }\r\n  },\r\n  props: [\"item\", \"index\", \"duplicatesCount\"],\r\n  data: () => ({\r\n    open: [false],\r\n    \r\n  }),\r\n  computed: {\r\n    supersetItems: function() {\r\n      return getItemsBy(this.superset);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.open = this.supersetItems.map(() => false);\r\n  }\r\n});\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import { render } from \"./SupersetCardItem.vue?vue&type=template&id=2d8d74f7\"\nimport script from \"./SupersetCardItem.vue?vue&type=script&lang=js\"\nexport * from \"./SupersetCardItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./SupersetCard.vue?vue&type=template&id=d5b4017c\"\nimport script from \"./SupersetCard.vue?vue&type=script&lang=js\"\nexport * from \"./SupersetCard.vue?vue&type=script&lang=js\"\n\nimport \"./SupersetCard.vue?vue&type=style&index=0&id=d5b4017c&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Main.vue?vue&type=template&id=82ecae66&scoped=true\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=82ecae66&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-82ecae66\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, withCtx as _withCtx, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Header = _resolveComponent(\"Header\")!\n  const _component_PropertyListRow = _resolveComponent(\"PropertyListRow\")!\n  const _component_v_table = _resolveComponent(\"v-table\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n\n  return (_ctx.state.project && _ctx.state.data)\n    ? (_openBlock(), _createBlock(_component_v_container, {\n        key: 0,\n        style: {\"max-width\":\"1400px\"}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_Header),\n          _createVNode(_component_v_card, { class: \"mt-2\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_table, {\n                class: \"properties-table\",\n                style: {\"min-width\":\"1000px\"}\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"thead\", null, [\n                    _createElementVNode(\"tr\", null, [\n                      _cache[0] || (_cache[0] = _createElementVNode(\"th\", { class: \"text-start\" }, \"Property\", -1)),\n                      _cache[1] || (_cache[1] = _createElementVNode(\"th\", { class: \"text-start\" }, \"Criterion\", -1)),\n                      _cache[2] || (_cache[2] = _createElementVNode(\"th\", { class: \"text-start\" }, \"Aim\", -1)),\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n                        return (_openBlock(), _createElementBlock(\"th\", {\n                          key: index,\n                          class: \"text-center\"\n                        }, _toDisplayString(_ctx.getAlternativeById(alternativeId).name), 1))\n                      }), 128))\n                    ])\n                  ]),\n                  _createElementVNode(\"tbody\", null, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getNormalizedItemsByUniqueItemProp('property'), (items, property) => {\n                      return (_openBlock(), _createBlock(_component_PropertyListRow, {\n                        key: property,\n                        items: items,\n                        property: property\n                      }, null, 8, [\"items\", \"property\"]))\n                    }), 128))\n                  ])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }))\n    : _createCommentVNode(\"\", true)\n}","<template>\r\n  <v-container v-if=\"state.project && state.data\" style=\"max-width: 1400px;\">\r\n    <Header />\r\n\r\n    <v-card class=\"mt-2\">\r\n      <v-table class=\"properties-table\" style=\"min-width: 1000px;\">\r\n        <thead>\r\n          <tr>\r\n            <th class=\"text-start\">Property</th>\r\n            <th class=\"text-start\">Criterion</th>\r\n            <th class=\"text-start\">Aim</th>\r\n            <th\r\n              v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n              :key=\"index\"\r\n              class=\"text-center\"\r\n            >\r\n              {{ getAlternativeById(alternativeId).name }}\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <PropertyListRow\r\n            v-for=\"(items, property) in getNormalizedItemsByUniqueItemProp('property')\"\r\n            :key=\"property\"\r\n            :items=\"items\"\r\n            :property=\"property\"\r\n          />\r\n        </tbody>\r\n      </v-table>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n\r\n\r\n<script lang=\"ts\">\r\nimport PropertyListRow from \"@/components/PropertiesList/PropertyListRow.vue\";\r\nimport Header from \"@/components/Header.vue\";\r\nimport {\r\n  getNormalizedItemsByUniqueItemProp,\r\n  getAlternativeById,\r\n  c_alternativesIds,\r\n  state\r\n} from \"@/store\";\r\nimport { defineComponent, ref } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  // props: {\r\n  //   id: Number\r\n  // },\r\n\r\n  setup(props) {\r\n\r\n    const height = ref(null)\r\n\r\n\r\n    return {\r\n      state,\r\n      height,\r\n\r\n      c_alternativesIds,\r\n\r\n\r\n      setHeight: () => {\r\n        const tableFilters = document.querySelector(\"[table-filters]\");\r\n\r\n        if (tableFilters) {\r\n          const tableFiltersRect = tableFilters.getBoundingClientRect();\r\n          height.value = window.innerHeight - tableFiltersRect.bottom - 24;\r\n        }\r\n      },\r\n      getNormalizedItemsByUniqueItemProp,\r\n      getAlternativeById\r\n    }\r\n\r\n  },\r\n  \r\n  // data: () => ({\r\n  //   state,\r\n  //   height: \"\"\r\n  // }),\r\n  components: {\r\n    Header,\r\n    PropertyListRow\r\n  },\r\n  \r\n  mounted() {\r\n    this.$nextTick(this.setHeight);\r\n  },\r\n  updated() {\r\n    this.$nextTick(this.setHeight);\r\n  },\r\n  created() {\r\n    window.addEventListener(\"resize\", this.setHeight);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"resize\", this.setHeight);\r\n  },\r\n  // methods: {\r\n    \r\n  // },\r\n  // props: [\"id\"]\r\n});\r\n</script>\r\n\r\n<style>\r\n.v-data-table thead th {\r\n  text-transform: uppercase;\r\n}\r\n</style>\r\n","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = [\"name\", \"id\"]\nconst _hoisted_2 = {\n  key: 0,\n  class: \"grey--text\"\n}\nconst _hoisted_3 = {\n  key: 0,\n  class: \"grey--text\"\n}\nconst _hoisted_4 = {\n  key: 0,\n  class: \"text-center\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Highlighter = _resolveComponent(\"Highlighter\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_PropertiesListCriterion = _resolveComponent(\"PropertiesListCriterion\")!\n  const _component_Acceptability = _resolveComponent(\"Acceptability\")!\n\n  return (_openBlock(), _createElementBlock(\"tr\", {\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.hasMany ? _ctx.showDetails = !_ctx.showDetails : '')),\n    key: `${_ctx.property}-${_ctx.criterionItems.length}-${_ctx.aimItems.length}`\n  }, [\n    _createElementVNode(\"td\", null, [\n      _createElementVNode(\"a\", {\n        name: `${_ctx.property}`,\n        id: _ctx.property\n      }, null, 8, _hoisted_1),\n      _createElementVNode(\"b\", null, [\n        _createVNode(_component_Highlighter, {\n          searchWords: [_ctx.state.searchInput],\n          textToHighlight: _ctx.property ?? ''\n        }, null, 8, [\"searchWords\", \"textToHighlight\"])\n      ]),\n      (_ctx.criterionItems.length > 1 || _ctx.aimItems.length > 1)\n        ? (_openBlock(), _createBlock(_component_v_icon, { key: 0 }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.showDetails ? 'mdi-chevron-up' : 'mdi-chevron-down'), 1)\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"td\", null, [\n      (_ctx.criterionItems.length > 1 && !_ctx.showDetails)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString(_ctx.criterionItems.length) + \" criteria \", 1))\n        : _createCommentVNode(\"\", true),\n      (_ctx.criterionItems.length <= 1 || (_ctx.criterionItems.length > 1 && _ctx.showDetails))\n        ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.criterionItems, (item, index) => {\n            return (_openBlock(), _createBlock(_component_PropertiesListCriterion, {\n              key: index,\n              item: item,\n              row: _ctx.getAimsCountFromAimsAndCriterion(_ctx.getAimsFromItems(_ctx.items), item.criterion)\n            }, null, 8, [\"item\", \"row\"]))\n          }), 128))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"td\", null, [\n      (_ctx.aimItems.length > 1 && !_ctx.showDetails)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString(_ctx.aimItems.length) + \" aims\", 1))\n        : _createCommentVNode(\"\", true),\n      (_ctx.aimItems.length <= 1 || (_ctx.aimItems.length > 1 && _ctx.showDetails))\n        ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.aimItems, (argument, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", { key: index }, _toDisplayString(_ctx.getAimById(argument.aim).name), 1))\n          }), 128))\n        : _createCommentVNode(\"\", true)\n    ]),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n      return (_openBlock(), _createElementBlock(\"td\", { key: index }, [\n        (!_ctx.showDetails)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n              _createVNode(_component_Acceptability, {\n                items: _ctx.filterItemsBy(_ctx.items, {\r\n                alternative: alternativeId\r\n            }),\n                alternative: alternativeId,\n                icon: false\n              }, null, 8, [\"items\", \"alternative\"])\n            ]))\n          : _createCommentVNode(\"\", true),\n        (_ctx.showDetails)\n          ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.aimItems, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                class: \"text-center\",\n                key: index\n              }, [\n                _createVNode(_component_Acceptability, {\n                  items: _ctx.filterItemsBy(_ctx.items, {\r\n                alternative: alternativeId,\r\n                aim: item.aim\r\n            }),\n                  alternative: alternativeId,\n                  icon: false\n                }, null, 8, [\"items\", \"alternative\"])\n              ]))\n            }), 128))\n          : _createCommentVNode(\"\", true)\n      ]))\n    }), 128))\n  ]))\n}","<template>\r\n  <tr\r\n    @click=\"hasMany ? showDetails = !showDetails : ''\"\r\n    :key=\"`${property}-${criterionItems.length}-${aimItems.length}`\"\r\n  >\r\n    <td>\r\n      <a :name=\"`${property}`\" :id=\"property\"></a>\r\n      <b>\r\n        <Highlighter :searchWords=\"[state.searchInput]\":textToHighlight=\"property ?? ''\"/>\r\n      </b>\r\n      <v-icon\r\n        v-if=\"criterionItems.length > 1 || aimItems.length > 1\"\r\n      >{{showDetails ? 'mdi-chevron-up' : 'mdi-chevron-down'}}</v-icon>\r\n    </td>\r\n\r\n    <td>\r\n      <template v-if=\"criterionItems.length > 1 && !showDetails\">\r\n        <div class=\"grey--text\">\r\n          {{criterionItems.length}} criteria\r\n        </div>\r\n      </template>\r\n      <template v-if=\"criterionItems.length <= 1 || (criterionItems.length > 1 && showDetails)\">\r\n        <template v-for=\"(item, index) in criterionItems\" :key=\"index\">\r\n          <PropertiesListCriterion\r\n            :item=\"item\"\r\n            :row=\"getAimsCountFromAimsAndCriterion(getAimsFromItems(items), item.criterion)\"\r\n          />\r\n        </template>\r\n      </template>\r\n    </td>\r\n\r\n    <td>\r\n      <template v-if=\"aimItems.length > 1 && !showDetails\">\r\n        <div class=\"grey--text\">{{aimItems.length}} aims</div>\r\n      </template>\r\n      <template v-if=\"aimItems.length <= 1 || (aimItems.length > 1 && showDetails)\">\r\n        <div :key=\"index\" v-for=\"(argument, index) in aimItems\">{{ getAimById(argument.aim).name }}</div>\r\n      </template>\r\n    </td>\r\n\r\n    <td :key=\"index\" v-for=\"(alternativeId, index) in c_alternativesIds\">\r\n      <template v-if=\"!showDetails\">\r\n        <div class=\"text-center\">\r\n          <Acceptability\r\n            :items=\"filterItemsBy(items, {\r\n                alternative: alternativeId\r\n            })\"\r\n            :alternative=\"alternativeId\"\r\n            :icon=\"false\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <template v-if=\"showDetails\">\r\n        <div class=\"text-center\" :key=\"index\" v-for=\"(item, index) in aimItems\">\r\n          <Acceptability\r\n            :items=\"filterItemsBy(items, {\r\n                alternative: alternativeId,\r\n                aim: item.aim\r\n            })\"\r\n            :alternative=\"alternativeId\"\r\n            :icon=\"false\"             \r\n          />\r\n        </div>\r\n      </template>\r\n    </td>\r\n  </tr>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { sortBy, uniqBy, countBy } from \"lodash\";\r\nimport {\r\n  getAcceptabilityFromProCon,\r\n  getSubOptionById,\r\n  getCriterionById,\r\n  getAimById,\r\n  normalizeByAlternative,\r\n  filterItemsBy,\r\n  c_alternativesIds,\r\n  getAimsCountFromAimsAndCriterion,\r\n  getAimsFromItems,\r\n  state\r\n} from \"@/store\";\r\nimport { NormalizedArgument } from \"@/@types\";\r\n\r\nimport Acceptability from \"@/components/Acceptability.vue\";\r\nimport PropertiesListCriterion from \"@/components/PropertiesList/PropertiesListCriterion.vue\";\r\nimport { computed, defineComponent, ref, toRefs, PropType } from \"vue\";\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    items: Array as PropType<NormalizedArgument[]>,\r\n    property: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    const {items, property} = toRefs(props);\r\n\r\n    const showDetails = ref(false);\r\n\r\n    const criterionItems = computed(() => {\r\n      return uniqBy(items.value, \"criterion\");\r\n    });\r\n    const aimItems = computed(() => {\r\n      return uniqBy(items.value, \"aim\");\r\n    });\r\n\r\n    const hasMany = computed(() => {\r\n      return criterionItems.value.length > 1 || aimItems.value.length > 1;\r\n    });\r\n\r\n    return {\r\n      state,\r\n      c_alternativesIds,\r\n      showDetails,\r\n\r\n      criterionItems,\r\n      aimItems,\r\n      hasMany,\r\n\r\n      getAimsCountFromAimsAndCriterion,\r\n      getAimsFromItems,\r\n      countBy,\r\n      sortBy,\r\n      getSubOptionById,\r\n      getCriterionById,\r\n      getAimById,\r\n      getAcceptabilityFromProCon,\r\n      normalizeByAlternative,\r\n      filterItemsBy,\r\n      uniqBy\r\n    }\r\n  },\r\n  components: {\r\n    Acceptability,\r\n    PropertiesListCriterion\r\n  }\r\n  \r\n});\r\n</script>","import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", null, _toDisplayString(_ctx.getCriterionById(_ctx.item.criterion).name), 1))\n}","<template>\r\n  <div>\r\n    {{ getCriterionById(item.criterion).name }}\r\n    <!-- <br :key=\"n\" v-for=\"n in row\" /> -->\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { getCriterionById } from \"@/store\";\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    item: {},\r\n    row: {}\r\n  },\r\n\r\n  setup() {\r\n\r\n    return {\r\n      getCriterionById\r\n    }\r\n\r\n  },\r\n  // props: [\"item\", \"row\"],\r\n  \r\n});\r\n</script>","import { render } from \"./PropertiesListCriterion.vue?vue&type=template&id=19131206&ts=true\"\nimport script from \"./PropertiesListCriterion.vue?vue&type=script&lang=ts\"\nexport * from \"./PropertiesListCriterion.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PropertyListRow.vue?vue&type=template&id=64f289f9&ts=true\"\nimport script from \"./PropertyListRow.vue?vue&type=script&lang=ts\"\nexport * from \"./PropertyListRow.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Properties.vue?vue&type=template&id=06396210&ts=true\"\nimport script from \"./Properties.vue?vue&type=script&lang=ts\"\nexport * from \"./Properties.vue?vue&type=script&lang=ts\"\n\nimport \"./Properties.vue?vue&type=style&index=0&id=06396210&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, withCtx as _withCtx, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { style: {\"overflow-x\":\"auto\"} }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Header = _resolveComponent(\"Header\")!\n  const _component_StakeholderListRow = _resolveComponent(\"StakeholderListRow\")!\n  const _component_v_table = _resolveComponent(\"v-table\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n\n  return (_ctx.state.project && _ctx.state.data)\n    ? (_openBlock(), _createBlock(_component_v_container, {\n        key: 0,\n        style: {\"max-width\":\"1400px\"}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_Header),\n          _createVNode(_component_v_card, { class: \"mt-2\" }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_1, [\n                _createVNode(_component_v_table, {\n                  class: \"properties-table\",\n                  style: {\"min-width\":\"1000px\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"thead\", null, [\n                      _createElementVNode(\"tr\", null, [\n                        _cache[0] || (_cache[0] = _createElementVNode(\"th\", { class: \"text-start\" }, \"Criterion\", -1)),\n                        _cache[1] || (_cache[1] = _createElementVNode(\"th\", { class: \"text-start\" }, \"Aim\", -1)),\n                        _cache[2] || (_cache[2] = _createElementVNode(\"th\", { class: \"text-start\" }, \"Stakeholder\", -1)),\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n                          return (_openBlock(), _createElementBlock(\"th\", {\n                            key: `alt-${index}`,\n                            class: \"text-center\"\n                          }, _toDisplayString(_ctx.getAlternativeById(alternativeId).name), 1))\n                        }), 128))\n                      ])\n                    ]),\n                    _createElementVNode(\"tbody\", null, [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getNormalizedItemsByUniqueItemProp('criterion'), (items, criterionId) => {\n                        return (_openBlock(), _createBlock(_component_StakeholderListRow, {\n                          key: `crit-${criterionId}`,\n                          items: items,\n                          property: _ctx.getCriterionName(criterionId)\n                        }, null, 8, [\"items\", \"property\"]))\n                      }), 128))\n                    ])\n                  ]),\n                  _: 1\n                })\n              ])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }))\n    : _createCommentVNode(\"\", true)\n}","<template>\r\n  <v-container v-if=\"state.project && state.data\" style=\"max-width: 1400px;\">\r\n    <Header />\r\n\r\n    <v-card class=\"mt-2\">\r\n      <!-- Conteneur scrollable horizontalement -->\r\n      <div style=\"overflow-x: auto;\">\r\n        <v-table class=\"properties-table\" style=\"min-width: 1000px;\">\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-start\">Criterion</th>\r\n              <th class=\"text-start\">Aim</th>\r\n              <th class=\"text-start\">Stakeholder</th>\r\n              <th\r\n                v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n                :key=\"`alt-${index}`\"\r\n                class=\"text-center\"\r\n              >\r\n                {{ getAlternativeById(alternativeId).name }}\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <StakeholderListRow\r\n              v-for=\"(items, criterionId) in getNormalizedItemsByUniqueItemProp('criterion')\"\r\n              :key=\"`crit-${criterionId}`\"\r\n              :items=\"items\"\r\n              :property=\"getCriterionName(criterionId)\"\r\n            />\r\n          </tbody>\r\n        </v-table>\r\n      </div>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport StakeholderListRow from \"@/components/StakeholderList/StakeholderListRow.vue\";\r\nimport Header from \"@/components/Header.vue\";\r\nimport {\r\n  getNormalizedItemsByUniqueItemProp,\r\n  getAlternativeById,\r\n  c_alternativesIds,\r\n  state,\r\n  getCriterionName\r\n} from \"@/store\";\r\nimport { defineComponent, ref, onMounted, onUpdated, onBeforeUnmount } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    id: Number\r\n  },\r\n  setup() {\r\n    const height = ref<number | null>(null);\r\n\r\n    const setHeight = () => {\r\n      const tableFilters = document.querySelector(\"[table-filters]\");\r\n      if (tableFilters) {\r\n        const tableFiltersRect = tableFilters.getBoundingClientRect();\r\n        height.value = window.innerHeight - tableFiltersRect.bottom - 24;\r\n      }\r\n    };\r\n\r\n    onMounted(() => {\r\n      setHeight();\r\n      window.addEventListener(\"resize\", setHeight);\r\n    });\r\n\r\n    onUpdated(setHeight);\r\n\r\n    onBeforeUnmount(() => {\r\n      window.removeEventListener(\"resize\", setHeight);\r\n    });\r\n\r\n    return {\r\n      state,\r\n      height,\r\n      c_alternativesIds,\r\n      getCriterionName,\r\n      getNormalizedItemsByUniqueItemProp,\r\n      getAlternativeById,\r\n      setHeight\r\n    };\r\n  },\r\n  components: {\r\n    Header,\r\n    StakeholderListRow\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.v-data-table thead th {\r\n  text-transform: uppercase;\r\n}\r\n</style>\r\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = [\"rowspan\"]\nconst _hoisted_2 = [\"name\", \"id\"]\nconst _hoisted_3 = [\"rowspan\"]\nconst _hoisted_4 = { stakeholder: \"\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Highlighter = _resolveComponent(\"Highlighter\")!\n  const _component_Acceptability = _resolveComponent(\"Acceptability\")!\n\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.aimItems, (aimItem, aimIndex) => {\n    return (_openBlock(), _createElementBlock(_Fragment, null, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.uniqBy(\r\n            _ctx.filterItemsBy(_ctx.items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          ), (stakeholderItem, stakeholderIndex) => {\n        return (_openBlock(), _createElementBlock(\"tr\", {\n          key: `stakeholder-${stakeholderIndex}-${aimIndex}`\n        }, [\n          (aimIndex === 0 && stakeholderIndex === 0)\n            ? (_openBlock(), _createElementBlock(\"td\", {\n                key: 0,\n                criterion: \"\",\n                rowspan: _ctx.uniqBy(\r\n            _ctx.filterItemsBy(_ctx.items, {\r\n              criterion: aimItem.criterion\r\n            }),\r\n            'stakeholder'\r\n          ).length * _ctx.aimItems.length\n              }, [\n                _createElementVNode(\"a\", {\n                  name: `${_ctx.property}`,\n                  id: _ctx.property\n                }, null, 8, _hoisted_2),\n                _createVNode(_component_Highlighter, {\n                  class: \"inline-block\",\n                  searchWords: [_ctx.state.searchInput],\n                  \"text-to-highlight\": _ctx.property\n                }, null, 8, [\"searchWords\", \"text-to-highlight\"])\n              ], 8, _hoisted_1))\n            : _createCommentVNode(\"\", true),\n          (stakeholderIndex === 0)\n            ? (_openBlock(), _createElementBlock(\"td\", {\n                key: 1,\n                aim: \"\",\n                rowspan: _ctx.uniqBy(\r\n            _ctx.filterItemsBy(_ctx.items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          ).length\n              }, [\n                _createElementVNode(\"span\", null, _toDisplayString(_ctx.getAimById(aimItem.aim).name), 1)\n              ], 8, _hoisted_3))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"td\", _hoisted_4, [\n            _createElementVNode(\"b\", null, _toDisplayString(_ctx.getStakeholderName(stakeholderItem.stakeholder)), 1)\n          ]),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, alternativeIndex) => {\n            return (_openBlock(), _createElementBlock(\"td\", {\n              class: \"text-center\",\n              alternative: \"\",\n              key: alternativeIndex\n            }, [\n              _createVNode(_component_Acceptability, {\n                items: \r\n              _ctx.filterItemsBy(_ctx.items, {\r\n                alternative: alternativeId,\r\n                aim: aimItem.aim,\r\n                stakeholder: stakeholderItem.stakeholder\r\n              })\r\n            ,\n                alternative: alternativeId,\n                icon: false\n              }, null, 8, [\"items\", \"alternative\"])\n            ]))\n          }), 128))\n        ]))\n      }), 128))\n    ], 64))\n  }), 256))\n}","<template>\r\n\r\n<!-- <tbody> -->\r\n      <template v-for=\"(aimItem, aimIndex) in aimItems\"  >\r\n      <tr v-for=\"(stakeholderItem, stakeholderIndex) in uniqBy(\r\n            filterItemsBy(items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          )\" :key=\"`stakeholder-${stakeholderIndex}-${aimIndex}`\" >\r\n\r\n        \r\n        <td criterion v-if=\"aimIndex === 0 && stakeholderIndex === 0\" :rowspan=\"uniqBy(\r\n            filterItemsBy(items, {\r\n              criterion: aimItem.criterion\r\n            }),\r\n            'stakeholder'\r\n          ).length * aimItems.length\" >\r\n          \r\n\r\n          <a :name=\"`${property}`\" :id=\"property\"></a>\r\n          <Highlighter class=\"inline-block\" :searchWords=\"[state.searchInput]\" :text-to-highlight=\"property\" />\r\n\r\n        </td>\r\n\r\n        <td aim v-if=\"stakeholderIndex === 0\" :rowspan=\"uniqBy(\r\n            filterItemsBy(items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          ).length\">\r\n\r\n          \r\n          <span >{{\r\n              getAimById(aimItem.aim).name\r\n            }}</span>\r\n        </td>\r\n\r\n        <td stakeholder>\r\n          <b>{{ getStakeholderName(stakeholderItem.stakeholder) }}</b>\r\n        </td>\r\n\r\n        <td class=\"text-center\" alternative :key=\"alternativeIndex\" v-for=\"(alternativeId, alternativeIndex) in c_alternativesIds\">\r\n      \r\n        \r\n          <Acceptability\r\n            :items=\"\r\n              filterItemsBy(items, {\r\n                alternative: alternativeId,\r\n                aim: aimItem.aim,\r\n                stakeholder: stakeholderItem.stakeholder\r\n              })\r\n            \"\r\n            :alternative=\"alternativeId\"\r\n            :icon=\"false\"          \r\n          />\r\n        \r\n      \r\n        </td>\r\n\r\n\r\n\r\n      </tr>\r\n      </template>\r\n\r\n    \r\n<!-- \r\n    <td criterion>\r\n      <a :name=\"`${property}`\" :id=\"property\"></a>\r\n      <text-highlight class=\"inline-block\" :searchWords\"[state.searchInput]\">{{\r\n        property\r\n      }}</text-highlight>\r\n    </td>\r\n\r\n    <td aim>\r\n      <template>\r\n        <div :key=\"index\" v-for=\"(argument, index) in aimItems\">\r\n          <div\r\n            class=\"inline-block\"\r\n            :key=\"index + stakeholderItem + stakeholderIndex\"\r\n            v-for=\"(stakeholderItem, stakeholderIndex) in uniqBy(\r\n              filterItemsBy(items, {\r\n                aim: argument.aim\r\n              }),\r\n              'stakeholder'\r\n            )\"\r\n          >\r\n            <span v-if=\"stakeholderIndex !== 0\" v-html=\"'&#8291;'\"></span>\r\n            <span v-if=\"stakeholderIndex === 0\">{{\r\n              getAimById(argument.aim).name\r\n            }}</span>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </td>\r\n\r\n    <td stakeholder>\r\n      <template v-for=\"(aimItem, aimIndex) in aimItems\">\r\n        <template>\r\n          <div\r\n            class=\"inline-block\"\r\n            :key=\"index + aimItem + aimIndex\"\r\n            v-for=\"(stakeholderItem, index) in uniqBy(\r\n              filterItemsBy(items, {\r\n                aim: aimItem.aim\r\n                \r\n              }),\r\n              'stakeholder'\r\n            )\"\r\n          >\r\n            <b>{{ getStakeholderName(stakeholderItem.stakeholder) }}</b>\r\n          </div>\r\n        </template>\r\n      </template>\r\n    </td>\r\n\r\n    <td alternative :key=\"index\" v-for=\"(alternativeId, index) in c_alternativesIds\">\r\n      <template v-for=\"(aimItem, aimIndex) in aimItems\">\r\n        <div\r\n          class=\"text-center\"\r\n          :key=\"index + aimItem + aimIndex\"\r\n          v-for=\"(stakeholderItem, index) in uniqBy(\r\n            filterItemsBy(items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          )\"\r\n        >\r\n          <Acceptability\r\n            :items=\"\r\n              filterItemsBy(items, {\r\n                alternative: alternativeId,\r\n                aim: aimItem.aim,\r\n                stakeholder: stakeholderItem.stakeholder\r\n              })\r\n            \"\r\n          />\r\n        </div>\r\n      </template>\r\n    </td> -->\r\n  \r\n<!-- </tbody> -->\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { sortBy, uniqBy, countBy } from \"lodash\";\r\nimport {\r\n  getAcceptabilityFromProCon,\r\n  getSubOptionById,\r\n  getCriterionById,\r\n  getAimById,\r\n  normalizeByAlternative,\r\n  filterItemsBy,\r\n  c_alternativesIds,\r\n  getAimsCountFromAimsAndCriterion,\r\n  getAimsFromItems,\r\n  state,\r\n  getStakeholderName,\r\n} from \"@/store\";\r\nimport { NormalizedArgument } from \"@/@types\";\r\n\r\nimport Acceptability from \"@/components/Acceptability.vue\";\r\nimport PropertiesListCriterion from \"@/components/PropertiesList/PropertiesListCriterion.vue\";\r\nimport { computed, defineComponent, toRefs, PropType } from \"vue\";\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    items: Array as PropType<NormalizedArgument[]>,\r\n    property: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    const {items, property} = toRefs(props)\r\n\r\n    const stakeholderItems = computed(() => {\r\n      return uniqBy(items.value, \"stakeholder\");\r\n    })\r\n\r\n    const criterionItems = computed(() => {\r\n      return uniqBy(items.value, \"criterion\");\r\n    })\r\n\r\n    const aimItems = computed(() => {\r\n      return uniqBy(items.value, \"aim\");\r\n    })\r\n    \r\n    console.log(\"aimItems\")\r\n    console.log(aimItems.value)\r\n\r\n    return {\r\n      state,\r\n\r\n      c_alternativesIds,\r\n\r\n      stakeholderItems,\r\n      criterionItems,\r\n      aimItems,\r\n      \r\n      hasMany: computed(() => {\r\n        return criterionItems.value.length > 1 || aimItems.value.length > 1;\r\n      }),\r\n\r\n\r\n      getStakeholderName,\r\n      getAimsCountFromAimsAndCriterion,\r\n      getAimsFromItems,\r\n      countBy,\r\n      sortBy,\r\n      getSubOptionById,\r\n      getCriterionById,\r\n      getAimById,\r\n      getAcceptabilityFromProCon,\r\n      normalizeByAlternative,\r\n      filterItemsBy,\r\n      uniqBy\r\n        \r\n    }\r\n\r\n  },\r\n\r\n  // data: () => ({\r\n  //   state,\r\n  //   showDetails: false\r\n  // }),\r\n  // computed: {\r\n    \r\n  // },\r\n  components: {\r\n    Acceptability\r\n  },\r\n  // props: [\"items\", \"property\"],\r\n  // methods: {\r\n    \r\n  // }\r\n});\r\n</script>\r\n","import { render } from \"./StakeholderListRow.vue?vue&type=template&id=78452ed3&ts=true\"\nimport script from \"./StakeholderListRow.vue?vue&type=script&lang=ts\"\nexport * from \"./StakeholderListRow.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Stakeholders.vue?vue&type=template&id=4259a901&scoped=true&ts=true\"\nimport script from \"./Stakeholders.vue?vue&type=script&lang=ts\"\nexport * from \"./Stakeholders.vue?vue&type=script&lang=ts\"\n\nimport \"./Stakeholders.vue?vue&type=style&index=0&id=4259a901&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4259a901\"]])\n\nexport default __exports__","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\n// src/router/index.ts\r\n\r\nimport { createRouter, createWebHistory, RouteRecordRaw } from \"vue-router\";\r\nimport Project from \"@/views/Project.vue\";\r\nimport Home from \"@/views/Home.vue\";\r\nimport Main from \"@/views/Main.vue\";\r\nimport Properties from \"@/views/Properties.vue\";\r\nimport Stakeholders from \"@/views/Stakeholders.vue\";\r\n\r\nimport {\r\n  clearProjectDataCacheFromRoute,\r\n  getProjectTypeFromRoute,\r\n  getRouteTypeValue,\r\n  hideOverlay,\r\n  loadAll,\r\n  PROJECT_TYPE_ROUTES,\r\n  setDocumentTitle,\r\n  showOverlay,\r\n} from \"@/store\";\r\n\r\nconst routes: Array<RouteRecordRaw> = [\r\n  { name: \"home\", path: \"/\", component: Home },\r\n  { name: \"global-view\", path: \"/project/global-view\", component: Main },\r\n  { name: \"project\", path: \"/project/\", component: Project },\r\n  {\r\n    name: \"property-view\",\r\n    path: \"/project/property-view\",\r\n    component: Properties,\r\n    props: true,\r\n  },\r\n  {\r\n    name: \"stakeholder-view\",\r\n    path: \"/project/stakeholder-view\",\r\n    component: Stakeholders,\r\n    props: true,\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n});\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n  showOverlay();\r\n  next();\r\n});\r\n\r\nrouter.afterEach(async (to, from) => {\r\n  if (to.path.startsWith(\"/project\")) {\r\n    const toProjectType = getProjectTypeFromRoute(to);\r\n    const fromProjectType = getProjectTypeFromRoute(from);\r\n    const toProjectId = getRouteTypeValue(to);\r\n    const fromProjectId = getRouteTypeValue(from);\r\n    const isSameProject =\r\n      toProjectType === fromProjectType && toProjectId === fromProjectId;\r\n    if (!isSameProject) {\r\n      await loadProject();\r\n    }\r\n  } else {\r\n    if (typeof to.meta?.title === 'string') {\r\n      setDocumentTitle(to.meta.title);\r\n    } else {\r\n      setDocumentTitle(\"My Choice\");\r\n    }    \r\n  }\r\n\r\n  hideOverlay();\r\n});\r\n\r\n// In Vue 3, there's no router.onReady. You can call loadProject after app is mounted.\r\nexport const loadProject = async () => {\r\n  const route = router.currentRoute.value;\r\n  if (\r\n    route.query[PROJECT_TYPE_ROUTES.ICO] ||\r\n    route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET] ||\r\n    route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD] ||\r\n    route.query[\"demo\"]\r\n  ) {\r\n    try {\r\n      await loadAll(route);\r\n    } catch (e) {\r\n      console.info(\"LOAD FAIL, RETRY WITHOUT CACHE!\");\r\n      clearProjectDataCacheFromRoute(route);\r\n      await loadAll(route);\r\n    }\r\n  }\r\n};\r\n\r\nexport default router;\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport router from \"@/router\";\r\nimport { computed } from \"vue\";\r\nimport { RouteLocationNormalized, LocationQuery, RouteRecordNameGeneric } from 'vue-router';\r\nimport { state } from \"@/store\";\r\n\r\nexport const pushRouteWithQuery = (routeParams: Partial<RouteLocationNormalized>) => {\r\n  const query = router.currentRoute.value.query || {};  // On rcupre les paramtres de requte actuels\r\n  \r\n  // Vrifie si routeParams contient un `name` ou un `path`\r\n  if (!routeParams.name && !routeParams.path) {\r\n    throw new Error('La route doit contenir un `name` ou un `path`');\r\n  }\r\n\r\n  // Construire l'objet pour router.push() en fonction des paramtres passs\r\n  const routeToPush: any = {\r\n    query: query,  // Ajoute les paramtres de requte\r\n    ...routeParams, // Ajoute les autres paramtres\r\n  };\r\n\r\n  // Si `routeParams` contient un `name`, on n'ajoute pas `path`\r\n  if (routeParams.name) {\r\n    delete routeToPush.path;  // Si `name` est dfini, on supprime `path` car ce n'est pas ncessaire\r\n  }\r\n  \r\n  // Si `routeParams` contient un `path`, on supprime `name`\r\n  if (routeParams.path) {\r\n    delete routeToPush.name;  // Si `path` est dfini, on supprime `name`\r\n  }\r\n\r\n  // Appel  router.push() avec l'objet corrig\r\n  router.push(routeToPush);\r\n};\r\n\r\nexport const switchToView = (routeName: RouteLocationNormalized[\"name\"]) => {\r\n  const route = {\r\n    name: routeName\r\n  };\r\n  router.push(route);\r\n};\r\n\r\nexport enum PROJECT_TYPE_ROUTES {\r\n  ICO = \"name\",\r\n  GOOGLE_SPREADSHEET = \"spreadsheet\",\r\n  XLSX = \"xlsx\",\r\n  NEXTCLOUD = \"nextcloud\"\r\n}\r\n\r\nexport const projectNameRouteQuery = PROJECT_TYPE_ROUTES.ICO;\r\nexport const spreadsheetIdRouteQuery = PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET;\r\nexport const xlsxFileRouteQuery = PROJECT_TYPE_ROUTES.XLSX;\r\nexport const nextcloudIdRouteQuery = PROJECT_TYPE_ROUTES.NEXTCLOUD;\r\n\r\nexport const getRouteProjectId = computed(() => {\r\n  return state.vm &&\r\n    state.vm.$route &&\r\n    state.vm.$route.query &&\r\n    (state.vm.$route.query.name || state.vm.$route.query.spreadsheet)\r\n    ? state.vm.$route.query.name || state.vm.$route.query.spreadsheet\r\n    : null;\r\n});\r\n","import { computed } from \"vue\";\r\nimport { uniqBy } from \"lodash\";\r\nimport { state } from \"./state\";\r\n\r\nexport const notifications = computed(() => {\r\n  return uniqBy(state.notifications, \"message\");\r\n});\r\n\r\nexport const getErrors = () => {\r\n  const acc: string[] = [];\r\n  Object.entries(state.errors).forEach(([key, value]) => {\r\n    if (value !== false) {\r\n      return acc.push(key);\r\n    }\r\n  });\r\n  return acc;\r\n};\r\n\r\nexport const getErrorMessage = (errorName: string) => {\r\n  return state.errorMessages[errorName] || state.errors[errorName];\r\n};\r\n\r\nexport const clearError = (errorName: string) => {\r\n  state.errors[errorName] = false;\r\n};\r\nexport const clearErrors = () => {\r\n  Object.keys(state.errors).forEach((error) => {\r\n    state.errors[error] = false;\r\n  });\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport dayjs from \"dayjs\";\r\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\r\nimport { state } from \"./state\";\r\ndayjs.extend(customParseFormat);\r\n\r\nexport class MyChoiceError extends Error {\r\n  constructor(name: string, ...args: any) {\r\n    super(...args);\r\n    // this.name = this.constructor.name;\r\n    this.name = name;\r\n    //@ts-ignore\r\n    if (typeof Error.captureStackTrace === \"function\") {\r\n      //@ts-ignore\r\n      Error.captureStackTrace(this, this.constructor);\r\n    } else {\r\n      this.stack = new Error(this.message).stack;\r\n    }\r\n  }\r\n}\r\n\r\n// class GoodError extends Error {\r\n//   constructor(...args) {\r\n//       super(...args)\r\n//       Error.captureStackTrace(this, GoodError)\r\n//   }\r\n// }\r\n\r\nexport const setError = (errorName: string, errorValue: boolean | string) => {\r\n  // state.errors[errorName] = errorValue;\r\n  (state.errors as any)[errorName] = errorValue;\r\n};\r\n\r\nexport const formatDate = (date: string) => {\r\n  return dayjs(date, \"DD/MM/YY\").format(\"MMMM YYYY\");\r\n};\r\n\r\nexport const getRange = function (value: number, min: number, max: number) {\r\n  let range = (value - min) / (max - min);\r\n  if (!isFinite(range)) {\r\n    range = value;\r\n  }\r\n  return range;\r\n};\r\n\r\nexport const orderByPropName = <T extends {}>(list: T[], propName: keyof T) => {\r\n  return list.sort((a, b) => (a[propName] > b[propName] ? 1 : -1));\r\n};\r\n\r\n//@ts-ignore\r\nexport const sortObject = (o) => {\r\n  return (\r\n    Object.keys(o)\r\n      .sort()\r\n      //@ts-ignore\r\n      .reduce((r, k) => ((r[k] = o[k]), r), {})\r\n  );\r\n};\r\n\r\nexport const pluralize = function (\r\n  str: string,\r\n  object: {\r\n    [key: string]: string | number;\r\n  },\r\n  suffix = \"s\"\r\n) {\r\n  //let formatted = this;\r\n  //const entries = Object.entries(object);\r\n  let formatted = str;\r\n  const regex = /{([^:}]+)(?:(?::)([^}]+))?}/g;\r\n  let match;\r\n\r\n  while ((match = regex.exec(str)) !== null) {\r\n    // This is necessary to avoid infinite loops with zero-width match\r\n    if (match.index === regex.lastIndex) {\r\n      regex.lastIndex++;\r\n    }\r\n\r\n    if (match[2] === undefined) {\r\n      const regex = new RegExp(\"\\\\{\" + match[1] + \"\\\\}\", \"g\");\r\n      formatted = formatted.replace(regex, `${object[match[1]]}`);\r\n    }\r\n    if (match[2] !== undefined) {\r\n      const wordToPluralize = match[1];\r\n      const linkedVar = match[2];\r\n      const value = object[linkedVar];\r\n\r\n      const regex = new RegExp(\r\n        \"\\\\{\" + wordToPluralize + \":\" + linkedVar + \"\\\\}\",\r\n        \"g\"\r\n      );\r\n      if (Number(value) > 1 && object.plural) {\r\n        formatted = formatted.replace(regex, `${object.plural}`);\r\n      } else {\r\n        formatted = formatted.replace(\r\n          regex,\r\n          `${wordToPluralize}${Number(value) > 1 ? suffix : \"\"}`\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  // entries.forEach(([key, value]) => {\r\n  //   entries.forEach(([countKey, countValue]) => {\r\n  //     //const regexp = new RegExp(\"\\\\{\" + key + \":\" + countKey + \"\\\\}\", \"gi\");\r\n\r\n  //     formatted = formatted.replace(\r\n  //       regexp,\r\n  //       `${countValue}${countValue !== 1 ? suffix : \"\"}`\r\n  //     );\r\n  //   });\r\n  //   const regexp2 = new RegExp(\"\\\\{\" + key + \"\\\\}\", \"gi\");\r\n  //   formatted = formatted.replace(regexp2, value);\r\n  // });\r\n\r\n  return formatted;\r\n};\r\n\r\nexport const setDocumentTitle = (title: string) => {\r\n  document.title = title;\r\n};\r\n\r\n/* const pluralize = (count, noun, suffix = \"s\") =>\r\n    `${count} ${noun}${count !== 1 ? suffix : \"\"}`;\r\n  \r\n  \"The {0} is dead. Don't code {0}. Code {1} that is open source!\".format(\r\n    \"ASP\",\r\n    \"PHP\"\r\n  );\r\n   */\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { forEach, values } from \"lodash\";\r\nimport {\r\n  Argument,\r\n  Project,\r\n  Alternative,\r\n  expertiseEntity,\r\n  SourceTypeEntity,\r\n} from \"./@types\";\r\nimport { MyChoiceError, setError } from \"./store/utils\";\r\n\r\nconst gsheets = require(\"gsheets\");\r\n\r\nconst KEY = \"1R0UaXut1IWLe4KKk9M5Nu7NHmE7SzajBWT1povyhIUE\";\r\n\r\n// a: \"/Show\"\r\n// aim: \"Consuming a balanced diet\"\r\n// alternative: \"Plant-based diet\"\r\n// assertion: \"B12 deficiency in vegetal proteins\"\r\n// b: \"/Hide\"\r\n// confidenceLevel: null\r\n// cons: \"/Show\"\r\n// criterion: \"Nutrition and health\"\r\n// date: 43002\r\n// explanation: \"B12 deficiency in vegetal proteins\"\r\n// hasCoverage: 0.92\r\n// idArgument: 1\r\n// infValue: null\r\n// isProspective: 0\r\n// pro: \"/Hide\"\r\n// proCon: \"-\"\r\n// project.nameProject: \"VITAMIN\"\r\n// propertyName: \"Vitamin B12\"\r\n// propertyValue: \"deficient\"\r\n// source: \"Canard Enchain - 144 - Juillet 2017\"\r\n// sourceType: \"Newspaper\"\r\n// stakeholder: \"Journalist\"\r\n// supValue: null\r\n// unit: null\r\n\r\nexport type GSheetsData = {\r\n  title: string;\r\n  updated: string;\r\n  worksheets: {\r\n    [key: string]: unknown;\r\n  }[];\r\n};\r\n\r\nexport type SpreadsheetWorksheet = {\r\n  data: {\r\n    [key: string]: any;\r\n  }[];\r\n  title: string;\r\n  updated?: string;\r\n  index: number;\r\n};\r\n\r\nexport const getSpreadsheet = async (spreadsheetId: string) => {\r\n  const response = await fetch(\r\n    `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}?key=${process.env.VUE_APP_GSHEETS_API_KEY}`\r\n  );\r\n  const result = await response.json();\r\n\r\n  return result as {\r\n    sheets: {\r\n      properties: {\r\n        sheetId: number;\r\n        title: string;\r\n        index: number;\r\n        sheetType: \"GRID\";\r\n        gridProperties: {\r\n          rowCount: number;\r\n          columnCount: number;\r\n          frozenRowCount: number;\r\n        };\r\n      };\r\n    }[];\r\n  };\r\n};\r\n\r\nexport const fetchSpreadsheetWorksheets = async (\r\n  id: string\r\n): Promise<SpreadsheetWorksheet[]> => {\r\n  // eslint-disable-next-line no-useless-catch\r\n  try {\r\n    const json = await getSpreadsheet(id);\r\n    const worksheets = json.sheets;\r\n\r\n    const promises: Promise<SpreadsheetWorksheet>[] = [];\r\n\r\n    const refs = {} as { [key: number]: string };\r\n\r\n    worksheets.forEach((worksheet) => {\r\n      refs[worksheet.properties.index] = worksheet.properties.title;\r\n      promises.push(\r\n        gsheets.getWorksheet(\r\n          id,\r\n          worksheet.properties.title,\r\n          process.env.VUE_APP_GSHEETS_API_KEY\r\n        )\r\n      );\r\n    });\r\n\r\n    const response = await Promise.all(promises);\r\n    // console.log(response, \"RESPONSE\");\r\n    return response.map(({ data }, index) => ({\r\n      data,\r\n      title: refs[index],\r\n      index,\r\n    }));\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\n// export interface SpreadsheetArgument {\r\n//   idArgument: number;\r\n//   assertion: string;\r\n//   explanation: string;\r\n//   date: string;\r\n//   \"stakeholder.nameStakeholder\": string;\r\n//   \"property.nameProperty\": string;\r\n//   \"qualvalue.qualValue\": string;\r\n//   typeProCon: string;\r\n//   \"alternative.nameAlternative\": string;\r\n//   \"criterion.nameCriterion\": string;\r\n//   \"source.nameSource\": string;\r\n//   \"aim.description\": string;\r\n//   \"typesource.nameTypeSource\": string;\r\n//   isProspective: string;\r\n// }\r\n\r\nexport interface SpreadsheetArgument {\r\n  idArgument: number;\r\n  assertion: string;\r\n  explanation: string;\r\n  date: string;\r\n  nameStakeHolder: string;\r\n  nameProperty: string;\r\n  value: string;\r\n  typeProCon: string;\r\n  nameAlternative: string;\r\n  nameCriterion: string;\r\n  nameSource: string;\r\n  aim: string;\r\n  nameTypeSource: string;\r\n  isProspective: string;\r\n  condition?: string;\r\n}\r\n\r\nexport type SpreadsheetProject = {\r\n  nameProject: string;\r\n  description: string;\r\n  image: string;\r\n};\r\nexport type SpreadsheetAlternative = {\r\n  nameAlternative: string;\r\n  description: string;\r\n  imageAlternative: string;\r\n  iconAlternative: string;\r\n};\r\nexport type SpreadsheetExpertise = {\r\n  nameStakeHolder: string;\r\n  nameCriterion: string;\r\n};\r\nexport type SpreadsheetSourceType = {\r\n  nameTypeSource: string;\r\n  fiability: number;\r\n};\r\n\r\nexport const hasExpectedProperties = <T>(obj: T, props: string[]) => {\r\n  return new Promise((resolve, reject) => {\r\n    let lastTestedProp = null;\r\n    const hasAll = props.every((prop) => {\r\n      lastTestedProp = prop;\r\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n        return true;\r\n      } else {\r\n        // console.log(\"reject\");\r\n        return false;\r\n        // return false;\r\n      }\r\n    });\r\n    if (hasAll) {\r\n      resolve(true);\r\n    } else {\r\n      reject(lastTestedProp);\r\n    }\r\n  });\r\n};\r\n\r\n// export const isValidSpreadsheetArgumentItem = <T>(obj: T) => {\r\n//   const props = [\r\n//     \"idArgument\",\r\n//     \"assertion\",\r\n//     \"explanation\",\r\n//     \"date\",\r\n//     \"nameStakeHolder\",\r\n//     \"nameProperty\",\r\n//     \"value\",\r\n//     \"typeProCon\",\r\n//     \"nameAlternative\",\r\n//     \"nameCriterion\",\r\n//     \"nameSource\",\r\n//     \"aim\",\r\n//     \"nameTypeSource\",\r\n//     \"isProspective\"\r\n//   ];\r\n\r\n//   return hasExpectedProperties(obj, props).then(\r\n//     result => result,\r\n//     prop => {\r\n//       throw new MyChoiceError(\r\n//         \"SPREADSHEET_ERROR\",\r\n//         `This column name is missing or misspelled in \"argument\" worksheet: <b>${prop}</b>`\r\n//       );\r\n//     }\r\n//   );\r\n// };\r\n\r\n// export const isValidProjectWorksheetItem = <T>(obj: T) => {\r\n//   const props = [\"nameProject\"];\r\n\r\n//   return hasExpectedProperties(obj, props).then(\r\n//     result => result,\r\n//     prop => {\r\n//       throw new MyChoiceError(\r\n//         \"SPREADSHEET_ERROR\",\r\n//         `This column name is missing or misspelled in \"project\" worksheet: <b>${prop}</b>`\r\n//       );\r\n//     }\r\n//   );\r\n// };\r\n\r\nexport const isValidWorkSheet = async (worksheet: SpreadsheetWorksheet) => {\r\n  const worksheetsExpectedProps = {\r\n    argument: [\r\n      \"idArgument\",\r\n      \"assertion\",\r\n      \"explanation\",\r\n      \"date\",\r\n      \"nameStakeHolder\",\r\n      \"nameProperty\",\r\n      \"value\",\r\n      \"typeProCon\",\r\n      \"nameAlternative\",\r\n      \"nameCriterion\",\r\n      \"nameSource\",\r\n      \"aim\",\r\n      \"nameTypeSource\",\r\n      \"isProspective\",\r\n    ],\r\n    project: [\"nameProject\"],\r\n    alternative: [\"nameAlternative\", \"iconAlternative\"],\r\n  };\r\n\r\n  //@ts-ignore\r\n  const props = worksheetsExpectedProps[worksheet.title];\r\n  const firstWorksheetItem = worksheet.data[0];\r\n\r\n  if (firstWorksheetItem) {\r\n    // console.log(firstWorksheetItem, \"FIRST\");\r\n    return await hasExpectedProperties(firstWorksheetItem, props).then(\r\n      (result) => result,\r\n      (prop) => {\r\n        throw new MyChoiceError(\r\n          \"SPREADSHEET_ERROR\",\r\n          `On <b>${worksheet.title}</b> sheet, the <b>${prop}</b> column is missing or misspelled`\r\n        );\r\n      }\r\n    );\r\n  } else {\r\n    setError(\r\n      \"SPREADSHEET_ERROR\",\r\n      `No data found in the <b>${worksheet.title}</b> sheet`\r\n    );\r\n  }\r\n};\r\n\r\nexport const checkEmptyArguments = <T extends SpreadsheetWorksheet[\"data\"][0]>({\r\n  spreadsheetId,\r\n  item,\r\n  worksheet,\r\n  line,\r\n  keys,\r\n}: {\r\n  spreadsheetId?: string;\r\n  item: T;\r\n  worksheet: SpreadsheetWorksheet;\r\n  line: number;\r\n  keys: (keyof T)[];\r\n}) => {\r\n  keys.forEach((key, index) => {\r\n    if (item[key] === null) {\r\n      // const alphabet = \"abcdefghijklmnopqrstuvwxyz\".toUpperCase().split(\"\");\r\n      // const letter = alphabet[index];\r\n\r\n      // const url = `https://docs.google.com/spreadsheets/d/${spreadsheetId}/edit#gid=${gid}&range=${letter}${line}`;\r\n      // const url = `https://docs.google.com/spreadsheets/d/${spreadsheetId}/edit`;\r\n\r\n      throw new MyChoiceError(\r\n        \"SPREADSHEET_ERROR\",\r\n        // `On <b>${worksheet.title}</b> sheet, the <b>${key}</b> on <a href=\"${url}\" target=\"_blank\">line <b>${line}</b></a> is empty and must be filled`\r\n        `On <b>${worksheet.title}</b> sheet, the <b>${String(key)}</b> on line <b>${line}</b> is empty and must be filled`\r\n      );\r\n    }\r\n  });\r\n};\r\n\r\nexport const checkUniqueAimsHasUniqueCriterions = (\r\n  items: SpreadsheetArgument[]\r\n) => {\r\n  const aims: { [key: string]: string[] } = {};\r\n\r\n  items.forEach((item) => {\r\n    if (aims[item.aim]) {\r\n      if (!aims[item.aim].includes(item.nameCriterion)) {\r\n        aims[item.aim].push(item.nameCriterion);\r\n      }\r\n    } else {\r\n      aims[item.aim] = [item.nameCriterion];\r\n    }\r\n  });\r\n\r\n  Object.entries(aims).forEach(([key, value]) => {\r\n    if (value.length > 1) {\r\n      setError(\r\n        \"SPREADSHEET_ERROR_\" + key,\r\n        `The <b>${key}</b> aim should be associated with only one criterion, but has been found in ${\r\n          value.length\r\n        } criteria : <b>${value.join(\"</b>, <b>\")}</b>`\r\n      );\r\n      // throw new MyChoiceError(\r\n      //   \"SPREADSHEET_ERROR\",\r\n      //   // `On <b>${worksheet.title}</b> sheet, the <b>${key}</b> on <a href=\"${url}\" target=\"_blank\">line <b>${line}</b></a> is empty and must be filled`\r\n      //   `The <b>${key}</b> aim should be associated with only one criterion, but has been found in ${\r\n      //     value.length\r\n      //   } criteria : <b>${value.join(\"</b>, <b>\")}</b>`\r\n      // );\r\n    }\r\n  });\r\n};\r\n\r\nexport const getRenamedSpreadsheetItems = async (\r\n  worksheets: SpreadsheetWorksheet[],\r\n  spreadsheetId?: string\r\n) => {\r\n  const argumentWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"argument\"\r\n  );\r\n\r\n  const rawSpreadsheetItems = worksheets[argumentWorksheet.index]!\r\n    .data as SpreadsheetArgument[];\r\n  const spreadsheetItems = rawSpreadsheetItems.map((item) => {\r\n    return Object.keys(item).reduce(function (result, key) {\r\n      try {\r\n        //@ts-ignore\r\n        result[key] = JSON.parse(item[key]);\r\n      } catch (e) {\r\n        //@ts-ignore\r\n        result[key] = item[key];\r\n      }\r\n      return result;\r\n    }, {} as SpreadsheetArgument);\r\n  });\r\n\r\n  try {\r\n    // await isValidSpreadsheetArgumentItem(spreadsheetItems[0]);\r\n    await isValidWorkSheet(argumentWorksheet);\r\n    checkUniqueAimsHasUniqueCriterions(spreadsheetItems);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n\r\n  return spreadsheetItems.map((item, index) => {\r\n    // if (!isValidSpreadsheetArgumentItem(item)) {\r\n    //   return;\r\n    // }\r\n    const line = index + 2; // start at 1 + header\r\n\r\n    if (item.typeProCon !== \"-\" && item.typeProCon !== \"+\") {\r\n      throw new MyChoiceError(\r\n        \"SPREADSHEET_ERROR\",\r\n        `On <b>${argumentWorksheet.title}</b> sheet, the <b>typeProCon</b> on line <b>${line}</b> is <b>${item.typeProCon}</b> and should be <b>-</b> or <b>+</b> `\r\n      );\r\n    }\r\n\r\n    checkEmptyArguments({\r\n      spreadsheetId,\r\n      item,\r\n      worksheet: argumentWorksheet,\r\n      line,\r\n      keys: [\r\n        // \"date\",\r\n        \"nameSource\",\r\n        \"idArgument\",\r\n        \"nameProperty\",\r\n        \"value\",\r\n        \"nameStakeHolder\",\r\n        \"nameAlternative\",\r\n        \"nameCriterion\",\r\n        \"aim\",\r\n        \"nameTypeSource\",\r\n      ] as (keyof SpreadsheetArgument)[],\r\n    });\r\n\r\n    const renamedItem = {\r\n      id: item.idArgument,\r\n      stakeholder: item[\"nameStakeHolder\"],\r\n      property: item[\"nameProperty\"],\r\n      favorable: item.typeProCon === \"+\" ? true : false,\r\n      alternative: item[\"nameAlternative\"],\r\n      criterion: item[\"nameCriterion\"],\r\n      source: item[\"nameSource\"],\r\n      sourceType: item[\"nameTypeSource\"],\r\n      value: item[\"value\"],\r\n      aim: item[\"aim\"],\r\n      date: item[\"date\"] ? item[\"date\"].toString() : null,\r\n    };\r\n\r\n    delete item.idArgument;\r\n    delete item[\"nameStakeHolder\"];\r\n    delete item[\"nameProperty\"];\r\n    delete item.typeProCon;\r\n    delete item[\"nameAlternative\"];\r\n    delete item[\"nameCriterion\"];\r\n    delete item[\"nameSource\"];\r\n    delete item[\"nameTypeSource\"];\r\n    delete item[\"value\"];\r\n    delete item[\"aim\"];\r\n    return <Argument>{\r\n      ...item,\r\n      ...renamedItem,\r\n    };\r\n  });\r\n};\r\n\r\nexport const getRenamedSpreadsheetProject = async (\r\n  worksheets: SpreadsheetWorksheet[]\r\n) => {\r\n  const projectWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"project\"\r\n  );\r\n\r\n  // const projectItems = projectWorksheet!.data;\r\n\r\n  try {\r\n    await isValidWorkSheet(projectWorksheet);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n\r\n  const spreadsheetProject = projectWorksheet!.data[0] as SpreadsheetProject;\r\n\r\n  const alternativeWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"alternative\"\r\n  );\r\n\r\n  try {\r\n    await isValidWorkSheet(alternativeWorksheet);\r\n\r\n    alternativeWorksheet.data.forEach((item, index) => {\r\n      const line = index + 2;\r\n      if (item.iconAlternative === null) {\r\n        throw new MyChoiceError(\r\n          \"SPREADSHEET_ERROR\",\r\n          `On <b>${alternativeWorksheet.title}</b> sheet, the <b>iconAlternative</b> on line <b>${line}</b> is <b>empty</b> and should be a valid icon name`\r\n        );\r\n      }\r\n    });\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n\r\n  const spreadsheetAlternatives = alternativeWorksheet!\r\n    .data as SpreadsheetAlternative[];\r\n\r\n  const renamedAlternatives: Alternative[] = spreadsheetAlternatives.map(\r\n    (k) => ({\r\n      name: k.nameAlternative,\r\n      description: k.description,\r\n      image: k.imageAlternative,\r\n      icon: k.iconAlternative,\r\n    })\r\n  );\r\n\r\n  const expertiseWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"hasexpertise\"\r\n  );\r\n  const spreadsheetExpertises = expertiseWorksheet!\r\n    .data as SpreadsheetExpertise[];\r\n\r\n  const renamedExpertiseEntities: expertiseEntity[] = spreadsheetExpertises.map(\r\n    (k) => ({\r\n      nameStakeHolder: k[\"nameStakeHolder\"],\r\n      nameCriterion: k[\"nameCriterion\"],\r\n    })\r\n  );\r\n\r\n  const sourceTypeWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"typesource\"\r\n  );\r\n  const spreadsheetSourceType = sourceTypeWorksheet!\r\n    .data as SpreadsheetSourceType[];\r\n\r\n  const renamedSourceTypeEntities: SourceTypeEntity[] =\r\n    spreadsheetSourceType.map((k) => ({\r\n      fiability: k.fiability.toString(),\r\n      nameTypeSource: k.nameTypeSource,\r\n    }));\r\n\r\n  const renamedProject: Project = {\r\n    name: spreadsheetProject.nameProject,\r\n    image: spreadsheetProject.image,\r\n    description: spreadsheetProject.description,\r\n    alternatives: renamedAlternatives,\r\n    expertiseEntities: renamedExpertiseEntities,\r\n    sourceTypeEntities: renamedSourceTypeEntities,\r\n  };\r\n\r\n  return renamedProject;\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"./state\";\r\nimport {\r\n  fetchSpreadsheetWorksheets,\r\n  getRenamedSpreadsheetItems,\r\n  getRenamedSpreadsheetProject,\r\n} from \"../data-spreadsheet\";\r\nimport { Argument, Data, Project } from \"@/@types\";\r\n\r\nexport const setSpreadsheet = (id: string) => {};\r\n\r\nexport const getSpreadsheetData = async (id: string) => {\r\n  try {\r\n    const worksheets = await fetchSpreadsheetWorksheets(id);\r\n\r\n    const renamedSpreadsheetItems = await getRenamedSpreadsheetItems(\r\n      worksheets,\r\n      id\r\n    );\r\n\r\n    const renamedProject = await getRenamedSpreadsheetProject(worksheets);\r\n\r\n    return {\r\n      items: renamedSpreadsheetItems,\r\n      project: renamedProject,\r\n    } as Data;\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\n// export const exportToMultipleCSV = async (id: string) => {\r\n//   const worksheets = await fetchSpreadsheetWorksheets(id);\r\n\r\n//   const zip = new JSZip();\r\n\r\n//   worksheets.forEach(worksheet => {\r\n//     const data = worksheet.data;\r\n//     const CSV = getCSVFromJSON(data);\r\n//     const filename = worksheet.title + \".csv\";\r\n//     const blob = getAsCSVBlob(CSV);\r\n//     zip.file(filename, blob);\r\n//   });\r\n//   zip.generateAsync({ type: \"blob\" }).then(function(content) {\r\n//     // see FileSaver.js\r\n//     saveAs(content, state.project.name + \".zip\");\r\n//   });\r\n// };\r\n\r\nexport const getSpreadsheetIdFromUrl = (url: string) => {\r\n  const matches = new RegExp(\"/spreadsheets/d/([a-zA-Z0-9-_]+)\").exec(url);\r\n  if (matches) {\r\n    const spreadsheetId = matches![1];\r\n    return spreadsheetId;\r\n  } else {\r\n    return url;\r\n  }\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { findKey } from \"lodash\";\r\nimport {\r\n  IcoProject,\r\n  Project,\r\n  IcoArguments,\r\n  Argument,\r\n  Data,\r\n  IcoArgument,\r\n} from \"./@types\";\r\nimport { SpreadsheetArgument } from \"./data-spreadsheet\";\r\n\r\nexport const getIcoRenamedProject = (\r\n  sourceProject: IcoProject\r\n): Data[\"project\"] => {\r\n  const item = sourceProject;\r\n  const renamedItem: Omit<Project, \"description\" | \"image\"> = {\r\n    stakeholders: item.nameStakeholder,\r\n    name: item.nameProject,\r\n    aims: item.aim,\r\n    criterions: item.nameCriterion,\r\n    alternatives: item.alternatives.map((alternative) => {\r\n      const renamedAlternative = {\r\n        name: alternative.nameAlternative,\r\n        image: alternative.imageAlternative,\r\n        icon: alternative.iconAlternative,\r\n      };\r\n      delete alternative.nameAlternative;\r\n      return {\r\n        ...alternative,\r\n        ...renamedAlternative,\r\n      };\r\n    }),\r\n    sourceTypeEntities: item.typeSource,\r\n    expertiseEntities: item.hasExpertise,\r\n  };\r\n  delete item.typeSource;\r\n  delete item.hasExpertise;\r\n  delete item.nameStakeholder;\r\n  delete item.aim;\r\n  delete item.nameProject;\r\n  delete item.nameCriterion;\r\n  return {\r\n    ...item,\r\n    ...renamedItem,\r\n  };\r\n};\r\n\r\nexport const getIcoRenamedItems = (\r\n  sourceArguments: IcoArguments\r\n): Data[\"items\"] => {\r\n  return sourceArguments.map((item) => {\r\n    const renamedItem = {\r\n      id: item.idArgument,\r\n      stakeholder: item.nameStakeHolder,\r\n      property: item.nameProperty,\r\n      favorable: item.typeProCon,\r\n      alternative: item.nameAlternative,\r\n      criterion: item.nameCriterion,\r\n      source: item.nameSource,\r\n      sourceType: item.nameTypeSource,\r\n    };\r\n    delete item.idArgument;\r\n    delete item.nameStakeHolder;\r\n    delete item.nameProperty;\r\n    delete item.typeProCon;\r\n    delete item.nameAlternative;\r\n    delete item.nameCriterion;\r\n    delete item.nameSource;\r\n    delete item.nameTypeSource;\r\n\r\n    // console.log(renamedItem, \"renamedItem\");\r\n    return <Argument>{\r\n      ...item,\r\n      ...renamedItem,\r\n    };\r\n  });\r\n};\r\n\r\nexport interface CSVArgument {\r\n  idArgument: number;\r\n  assertion: string;\r\n  explanation: string;\r\n  date: string;\r\n  \"stakeholder.nameStakeholder\": string;\r\n  \"property.nameProperty\": string;\r\n  \"qualvalue.qualValue\": string;\r\n  typeProCon: string;\r\n  \"alternative.nameAlternative\": string;\r\n  \"criterion.nameCriterion\": string;\r\n  \"source.nameSource\": string;\r\n  \"aim.description\": string;\r\n  \"typesource.nameTypeSource\": string;\r\n  isProspective: string;\r\n  infValue?: unknown;\r\n  supValue?: unknown;\r\n  unit?: unknown;\r\n  hasCoverage?: unknown;\r\n  confidenceLevel?: unknown;\r\n  condition?: string;\r\n}\r\n\r\nexport type EquivalentSources = \"csv\" | \"server\" | \"spreadsheet\";\r\n\r\nexport const getEquivalentTable = () => {\r\n  const appArgument: Argument = null;\r\n  const serverArgument: IcoArgument = null;\r\n  const spreadsheetArgument: SpreadsheetArgument = null;\r\n\r\n  const equivalentTable: {\r\n    [K in keyof Argument]: {\r\n      csv: keyof CSVArgument;\r\n      server: keyof IcoArgument;\r\n      spreadsheet: keyof SpreadsheetArgument;\r\n    };\r\n  } = {\r\n    id: {\r\n      csv: \"idArgument\",\r\n      server: \"idArgument\",\r\n      spreadsheet: \"idArgument\",\r\n    },\r\n    aim: {\r\n      csv: \"aim.description\",\r\n      server: \"aim\",\r\n      spreadsheet: \"aim\",\r\n    },\r\n    alternative: {\r\n      csv: \"alternative.nameAlternative\",\r\n      server: \"nameAlternative\",\r\n      spreadsheet: \"nameAlternative\",\r\n    },\r\n    assertion: {\r\n      csv: \"assertion\",\r\n      server: \"assertion\",\r\n      spreadsheet: \"assertion\",\r\n    },\r\n    criterion: {\r\n      csv: \"criterion.nameCriterion\",\r\n      server: \"nameCriterion\",\r\n      spreadsheet: \"nameCriterion\",\r\n    },\r\n    date: {\r\n      csv: \"date\",\r\n      server: \"date\",\r\n      spreadsheet: \"date\",\r\n    },\r\n    explanation: {\r\n      csv: \"explanation\",\r\n      server: \"explanation\",\r\n      spreadsheet: \"explanation\",\r\n    },\r\n    favorable: {\r\n      csv: \"typeProCon\",\r\n      server: \"typeProCon\",\r\n      spreadsheet: \"typeProCon\",\r\n    },\r\n    isProspective: {\r\n      csv: \"isProspective\",\r\n      server: \"isProspective\",\r\n      spreadsheet: \"isProspective\",\r\n    },\r\n    property: {\r\n      csv: \"property.nameProperty\",\r\n      server: \"nameProperty\",\r\n      spreadsheet: \"nameProperty\",\r\n    },\r\n    source: {\r\n      csv: \"source.nameSource\",\r\n      server: \"nameSource\",\r\n      spreadsheet: \"nameSource\",\r\n    },\r\n    sourceType: {\r\n      csv: \"typesource.nameTypeSource\",\r\n      server: \"nameTypeSource\",\r\n      spreadsheet: \"nameTypeSource\",\r\n    },\r\n    stakeholder: {\r\n      csv: \"stakeholder.nameStakeholder\",\r\n      server: \"nameStakeHolder\",\r\n      spreadsheet: \"nameStakeHolder\",\r\n    },\r\n    value: {\r\n      csv: \"qualvalue.qualValue\",\r\n      server: \"value\",\r\n      spreadsheet: \"value\",\r\n    },\r\n    condition: {\r\n      csv: \"condition\",\r\n      server: \"condition\",\r\n      spreadsheet: \"condition\",\r\n    },\r\n  };\r\n\r\n  return equivalentTable;\r\n};\r\n\r\nexport const getEquivalentAppPropFromSource = (\r\n  source: EquivalentSources,\r\n  property: keyof CSVArgument | keyof IcoArgument | keyof SpreadsheetArgument\r\n) => {\r\n  return findKey(getEquivalentTable(), function (k) {\r\n    return k[source] === property;\r\n  }) as keyof Argument;\r\n};\r\n\r\nexport const getEquivalentSourcePropFromApp = (\r\n  source: EquivalentSources,\r\n  property: keyof Argument\r\n) => {\r\n  const equivalent =\r\n    getEquivalentTable()[property] && getEquivalentTable()[property][source];\r\n  return equivalent ? equivalent : null;\r\n};\r\n\r\nexport const getRenamedItemPropFromTo = (\r\n  from: EquivalentSources,\r\n  to: EquivalentSources,\r\n  property: keyof CSVArgument | keyof IcoArgument | keyof SpreadsheetArgument\r\n) => {\r\n  const appProperty = getEquivalentAppPropFromSource(from, property);\r\n  const toProperty = getEquivalentSourcePropFromApp(to, appProperty);\r\n\r\n  return toProperty ? toProperty : null;\r\n};\r\n\r\nexport const getRenamedItemsFromSpreadsheetToCSV = (\r\n  spreadsheetItems: SpreadsheetArgument[]\r\n): CSVArgument[] => {\r\n  return spreadsheetItems.map((item) => {\r\n    const renamedItem = {};\r\n    Object.entries(item).forEach(([k, v]) => {\r\n      //@ts-ignore\r\n      const renamedProp = getRenamedItemPropFromTo(\"spreadsheet\", \"csv\", k);\r\n      if (renamedProp) {\r\n        //@ts-ignore\r\n        renamedItem[renamedProp] = v;\r\n      }\r\n    });\r\n    return renamedItem as CSVArgument;\r\n  });\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { uniq, uniqBy, sortBy, groupBy, flatten } from \"lodash\";\r\nimport {\r\n  Arguments,\r\n  Argument,\r\n  NormalizedArgument,\r\n  Alternative,\r\n  NormalizedObject,\r\n  NormalizedData,\r\n  SourceTypeEntity,\r\n  expertiseEntity,\r\n  Project\r\n} from \"@/@types\";\r\nimport { MyChoiceError } from \"./store/utils\";\r\nimport { SpreadsheetArgument } from \"./data-spreadsheet\";\r\n\r\n// const getUniqueValues = (data: Arguments, propertyName: T) => {\r\n//   const allValues: Array<K> = data.map(argument => {\r\n//     return argument.criterion;\r\n//   });\r\n//   const values: Array<K> = uniq(allValues);\r\n//   return values;\r\n// }\r\n\r\nexport const getPropertyUniqueValues = <\r\n  D extends Arguments,\r\n  P extends keyof Argument\r\n>(\r\n  data: D,\r\n  prop: P\r\n) => {\r\n  const allValues = data.map(argument => {\r\n    return argument[prop];\r\n  });\r\n  const values = uniq(allValues);\r\n  return values;\r\n};\r\n\r\n// export const getLabels = <D extends Arguments>(data: D) => {\r\n//   const allLabels = data.map(argument => {\r\n//     return `${argument[\"property\"]}:${argument[\"value\"]}`;\r\n//   });\r\n//   const labels = uniq(allLabels);\r\n//   return labels;\r\n// };\r\n\r\nexport const getCriterions = (data: Arguments) => {\r\n  const criterions = getPropertyUniqueValues(data, \"criterion\");\r\n  return criterions;\r\n};\r\n\r\n// export const getAims = (data: Arguments) => {\r\n//   const aims = getPropertyUniqueValues(data, \"aim\");\r\n\r\n//   return aims;\r\n// };\r\n\r\nexport const getAimsWithParentCriterion = (\r\n  data: Arguments,\r\n  criterions: NormalizedObject\r\n) => {\r\n  const allAimsTuples = data.map(argument => {\r\n    return [argument[\"aim\"], argument[\"criterion\"]];\r\n  });\r\n  const aimsTuples = sortBy(\r\n    uniqBy(allAimsTuples, joinTuple),\r\n    ([aim, criterion]) => {\r\n      return aim;\r\n    }\r\n  );\r\n  const object: NormalizedObject & {\r\n    [id: number]: { criterion?: number };\r\n  } = {};\r\n  aimsTuples.forEach((tuple, index) => {\r\n    const aimId = tuple[0];\r\n    const criterionId = getIdFrom(criterions, tuple[1], \"nameCriterion\");\r\n    index++;\r\n    object[index] = { id: index, name: aimId, criterion: criterionId };\r\n  });\r\n  return object;\r\n};\r\n\r\nexport const getStakeholders = (data: Arguments) => {\r\n  const stakeholders = getPropertyUniqueValues(data, \"stakeholder\");\r\n  return stakeholders;\r\n};\r\n\r\nexport const getProperties = (data: Arguments) => {\r\n  const properties = getPropertyUniqueValues(data, \"property\");\r\n  return properties;\r\n};\r\n\r\nexport const getValues = (data: Arguments) => {\r\n  const values = getPropertyUniqueValues(data, \"value\");\r\n  return values;\r\n};\r\n\r\nexport const joinTuple = <T>(array: T[]) => {\r\n  return array.join(\":\");\r\n};\r\n\r\nexport const getPropertyValueTuples = (data: Arguments) => {\r\n  const allPropertyValueTuples = data.map(argument => {\r\n    return [argument[\"property\"], argument[\"value\"]];\r\n  });\r\n  const propertyValueTuples = uniqBy(allPropertyValueTuples, joinTuple);\r\n  return propertyValueTuples;\r\n};\r\n\r\nexport const getAlternatives = (data: Arguments) => {\r\n  const alternatives = getPropertyUniqueValues(data, \"alternative\");\r\n  return alternatives;\r\n};\r\n\r\n// export const getAlternativesAsObject = (\r\n//   data: Arguments\r\n// ): Array<Omit<Alternative, \"description\">> => {\r\n//   const alternatives = getPropertyUniqueValues(data, \"alternative\");\r\n\r\n//   return alternatives.map(name => {\r\n//     return {\r\n//       name: name\r\n//     };\r\n//   });\r\n// };\r\n\r\nexport const getFavorableValues = (data: Arguments) => {\r\n  const favorables = getPropertyUniqueValues(data, \"favorable\");\r\n  return favorables;\r\n};\r\n\r\nexport const normalizeArray = <T extends keyof Argument>(\r\n  array: Array<Extract<string, Argument[T]>>\r\n) => {\r\n  const object: NormalizedObject = {};\r\n  array.forEach((name, index) => {\r\n    index++;\r\n    object[index] = { id: index, name };\r\n  });\r\n  return object;\r\n};\r\n\r\nexport const normalizeAlternatives = (array: Alternative[]) => {\r\n  const object: NormalizedData[\"alternatives\"] = {};\r\n  array.forEach((alternative, index) => {\r\n    index++;\r\n    object[index] = {\r\n      id: index,\r\n      ...alternative,\r\n      icon:\r\n        \"mdi-\" +\r\n          alternative.icon\r\n            .replace(/\\.[^/.]+$/, \"\")\r\n            .split(/(\\\\|\\/)/g)\r\n            .pop() || \"\"\r\n    };\r\n  });\r\n  return object;\r\n};\r\n\r\n// export const normalizeCriterions = (\r\n//   criterions: Array<Argument['criterion']>\r\n// ) => {\r\n//   return normalizeArray(criterions);\r\n// };\r\n\r\n// export const normalizeAims = (aims: Array<Argument['aim']>) => {\r\n//   return normalizeArray(aims);\r\n// };\r\n\r\n// export const normalizeAlternatives = (\r\n//   alternatives: Array<Argument['alternative']>\r\n// ) => {\r\n//   return normalizeArray(alternatives);\r\n// };\r\n\r\nconst getIdFrom = <T extends keyof Argument>(\r\n  object: NormalizedObject,\r\n  property: Argument[T],\r\n  name?: keyof SpreadsheetArgument\r\n) => {\r\n  // console.log(object, \"object\");\r\n  // console.log(property, \"property\");\r\n  const result = Object.values(object).find(item => item.name === property);\r\n\r\n  try {\r\n    return result!.id;\r\n  } catch (e) {\r\n    throw new MyChoiceError(\r\n      \"SPREADSHEET_ERROR\",\r\n      `Cannot find <b>${property}</b> in ${\r\n        name === \"nameAlternative\" ? `alternatives` : `<b>${name}</b>`\r\n      }`\r\n    );\r\n  }\r\n};\r\n\r\nexport const parseItems = <\r\n  T extends {\r\n    [id: string]: NormalizedObject;\r\n  }\r\n>(\r\n  data: Arguments,\r\n  { criterions, aims, alternatives, stakeholders }: T\r\n): NormalizedArgument[] => {\r\n  return data.map(item => {\r\n    // console.log(item, \"item\");\r\n    // console.log(item.alternative, \" alternative\");\r\n    return {\r\n      ...item,\r\n      subOption:\r\n        JSON.parse(item.favorable.toString().toLowerCase()) === true ? 1 : 2, // not sure if it's a good practice...\r\n      criterion: getIdFrom(criterions, item.criterion, \"nameCriterion\"),\r\n      stakeholder: getIdFrom(stakeholders, item.stakeholder, \"nameStakeHolder\"),\r\n      aim: getIdFrom(aims, item.aim, \"aim\"),\r\n      alternative: getIdFrom(alternatives, item.alternative, \"nameAlternative\"),\r\n      isProspective: Number(item.isProspective) === 1 ? true : false\r\n    };\r\n  });\r\n};\r\n\r\nexport const getNormalizedSubsets = (data: Arguments, project: Project) => {\r\n  const criterions = getCriterions(data);\r\n  const stakeholders = getStakeholders(data);\r\n  //const alternatives = getAlternatives(data);\r\n  const alternatives = project.alternatives;\r\n\r\n  const normalizedCriterions = normalizeArray(criterions.sort());\r\n  const normalizedAlternatives = normalizeAlternatives(alternatives);\r\n  const normalizedStakeholders = normalizeArray(stakeholders.sort());\r\n  const normalizedAims = getAimsWithParentCriterion(data, normalizedCriterions);\r\n\r\n  const normalizedItems = parseItems(data, {\r\n    criterions: normalizedCriterions,\r\n    aims: normalizedAims,\r\n    alternatives: normalizedAlternatives,\r\n    stakeholders: normalizedStakeholders\r\n  });\r\n\r\n  return {\r\n    criterions: normalizedCriterions,\r\n    alternatives: normalizedAlternatives,\r\n    stakeholders: normalizedStakeholders,\r\n    aims: normalizedAims,\r\n    items: normalizedItems\r\n  };\r\n};\r\n\r\nexport const getNormalizedData = (\r\n  data: Arguments,\r\n  project: Project\r\n): NormalizedData => {\r\n  // const properties = getProperties(data);\r\n  // const values = getValues(data);\r\n\r\n  const propertyValueTuples = getPropertyValueTuples(data);\r\n  const properties = getProperties(data);\r\n\r\n  const {\r\n    criterions,\r\n    alternatives,\r\n    stakeholders,\r\n    aims,\r\n    items\r\n  } = getNormalizedSubsets(data, project);\r\n\r\n  const normalizedData = {\r\n    criterions,\r\n    alternatives,\r\n    stakeholders,\r\n    labels: propertyValueTuples,\r\n    properties,\r\n    aims,\r\n    items,\r\n    subOptions: {\r\n      1: { id: 1, name: \"\" },\r\n      2: { id: 2, name: \"\" }\r\n    }\r\n  };\r\n\r\n  /* console.log(normalizedData, \"DATA\"); */\r\n\r\n  return normalizedData;\r\n};\r\n\r\nexport const getInterplayItems = function(items: Argument[]) {\r\n  const propertyGroups = groupBy(items, \"property\");\r\n\r\n  const propertyGroupsWithMultipleAims = Object.values(propertyGroups).filter(\r\n    groupItems => {\r\n      const aimGroups = groupBy(groupItems, \"aim\");\r\n\r\n      if (Object.keys(aimGroups).length > 1) {\r\n        return groupItems;\r\n      }\r\n    }\r\n  );\r\n\r\n  const interplayItems = flatten(propertyGroupsWithMultipleAims);\r\n\r\n  return interplayItems;\r\n};\r\n\r\nexport const getMultiStakholderItems = function(items: Argument[]) {\r\n  const aimGroups = groupBy(items, \"aim\");\r\n\r\n  const aimGroupsWithMultipleStakeholders = Object.values(aimGroups).filter(\r\n    groupItems => {\r\n      const stakeholderGroups = groupBy(groupItems, \"stakeholder\");\r\n\r\n      if (Object.keys(stakeholderGroups).length > 1) {\r\n        return groupItems;\r\n      }\r\n    }\r\n  );\r\n\r\n  const multiStakeholderItems = flatten(aimGroupsWithMultipleStakeholders);\r\n\r\n  return multiStakeholderItems;\r\n};\r\n\r\nexport const filterDataAsExpertise = (\r\n  expertiseEntities: expertiseEntity[],\r\n  data: Arguments\r\n) => {\r\n  const expertiseArguments = data.filter(item => {\r\n    return expertiseEntities.some(\r\n      entity =>\r\n        entity.nameCriterion === item.criterion &&\r\n        entity.nameStakeHolder === item.stakeholder\r\n    );\r\n  });\r\n\r\n  return expertiseArguments;\r\n};\r\n\r\nexport const filterDataAsReliability = (\r\n  typeSource: SourceTypeEntity[],\r\n  data: Arguments\r\n) => {\r\n  typeSource;\r\n\r\n  const prospectiveArguments = data.filter(item => {\r\n    return typeSource.some(\r\n      source =>\r\n        source.nameTypeSource === item.sourceType &&\r\n        Number(source.fiability) === (1 || 2)\r\n    );\r\n  });\r\n\r\n  return prospectiveArguments;\r\n};\r\n\r\nexport const filterDataAsProspective = (data: Arguments) => {\r\n  const prospectiveArguments = data.filter(\r\n    item => Number(item.isProspective) === 1\r\n  );\r\n\r\n  return prospectiveArguments;\r\n};\r\n\r\n// DEPRECETATED (to remove)\r\nexport const filterNormalizedDataAsProspective = (\r\n  normalizedData: NormalizedData\r\n) => {\r\n  const prospectiveItems = normalizedData.items.filter(\r\n    item => item.isProspective === true\r\n  );\r\n\r\n  const prospectiveData = {\r\n    ...normalizedData,\r\n    items: prospectiveItems\r\n  };\r\n\r\n  return prospectiveData;\r\n};\r\n\r\nexport const filterDataAsInterplay = (data: Arguments) => {\r\n  const interplayItems = getInterplayItems(data);\r\n\r\n  return interplayItems;\r\n};\r\n\r\nexport const filterDataAsMultiStakeholder = (data: Arguments) => {\r\n  const multiStakeholderItems = getMultiStakholderItems(data);\r\n\r\n  return multiStakeholderItems;\r\n};\r\n\r\n// DEPRECETATED (to remove)\r\nexport const filterNormalizedDataAsInterplay = (\r\n  normalizedData: NormalizedData\r\n) => {\r\n  const itemsProps = {\r\n    criterions: \"criterion\",\r\n    aims: \"aim\",\r\n    stakeholders: \"stakeholder\"\r\n  };\r\n  // const props = <Array<keyof NormalizedArgument>>[\r\n  //   \"criterion\",\r\n  //   \"aim\",\r\n  //   \"stakeholder\"\r\n  // ];\r\n\r\n  const interplayData = normalizedData;\r\n  //@ts-ignore\r\n  interplayData.items = getInterplayItems(normalizedData.items);\r\n\r\n  Object.entries(normalizedData).forEach(([key, normalizedObject]) => {\r\n    if (Object.keys(itemsProps).includes(key)) {\r\n      //@ts-ignore\r\n      const itemPropName = itemsProps[key];\r\n      const interplayNormalizedObject = Object.keys(normalizedObject)\r\n        .map(key => Number(key))\r\n        .filter(id => {\r\n          return normalizedData.items.some(item => {\r\n            //@ts-ignore\r\n            return item[itemPropName] === id;\r\n          });\r\n        })\r\n        .reduce((filteredNormalizedObject: NormalizedObject, id: number) => {\r\n          filteredNormalizedObject[id] = normalizedObject[id];\r\n          return filteredNormalizedObject;\r\n        }, {});\r\n      //@ts-ignore\r\n      interplayData[key] = interplayNormalizedObject;\r\n    }\r\n  });\r\n\r\n  return interplayData;\r\n};\r\n\r\n// export const normalizeFavorables = (\r\n//   favorables: Array<Argument['favorable']>\r\n// ) => {\r\n\r\n//   return normalizeArray(favorables);\r\n// };\r\n\r\nconst test = {\r\n  criterions: {\r\n    1: { id: 1, name: \"Nutrition and health\t\" },\r\n    2: { id: 2, name: \"Economic\" }\r\n  },\r\n  aims: {\r\n    1: { id: 1, name: \"Consuming a balanced diet\", category: 1 },\r\n    2: { id: 2, name: \"Enabling proper digestion\", category: 1 },\r\n    3: { id: 3, name: \"Rationalizing the ratio protein/price\", category: 2 }\r\n  },\r\n  alternatives: {\r\n    1: { id: 1, name: \"Plant-based diet\" },\r\n    2: { id: 2, name: \"Animal-based diet\" }\r\n  },\r\n  subOptions: {\r\n    \":)\": { id: \":)\", name: \"\" },\r\n    \":(\": { id: \":(\", name: \"\" }\r\n  }\r\n};\r\n","//@ts-ignore\r\nimport { Data } from \"@/@types/data-renamed\";\r\nimport {\r\n  getRenamedSpreadsheetItems,\r\n  getRenamedSpreadsheetProject,\r\n  SpreadsheetWorksheet,\r\n} from \"@/data-spreadsheet\";\r\nimport router from \"@/router\";\r\n//@ts-ignore\r\nimport xlsxParser from \"xlsx-parse-json\";\r\nimport { loadAll } from \"./fetch\";\r\nimport { setData } from \"./project\";\r\nimport { computed } from \"vue\";\r\nimport { nextcloudIdRouteQuery, state } from \".\";\r\nimport type { RouteLocationNormalized } from \"vue-router\";\r\n\r\nexport const isValidNextcloudUrl = computed(() => {\r\n  return state.fields.nextcloudUrl;\r\n\r\n  // state.fields.nextcloudUrl.startsWith(\r\n  //   process.env.VUE_APP_NEXTCLOUD_URL\r\n  // );\r\n});\r\n\r\nexport const getNextcloudDownloadUrlFromId = (nextcloudId: string) => {\r\n  return `${process.env.VUE_APP_NEXTCLOUD_URL}${nextcloudId}/download`;\r\n};\r\n\r\nexport const getNextcloudFileFromUrl = async (url: string) => {\r\n  const downloadUrl = url;\r\n\r\n  const response = await fetch(downloadUrl);\r\n  const blob = await response.blob();\r\n\r\n  const nextcloudId = getNextcloudIdFromUrl(url);\r\n  const file = new File([blob], nextcloudId);\r\n  return file;\r\n};\r\n\r\nexport const getNextcloudDataFromUrl = async (url: string) => {\r\n  try {\r\n    const file = await getNextcloudFileFromUrl(url);\r\n\r\n    const data = await geXlsxData(file);\r\n    return data;\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const getNextcloudIdFromUrl = (url: string) => {\r\n  const matches = new RegExp(\r\n    `${process.env.VUE_APP_NEXTCLOUD_URL}([a-zA-Z0-9-_]+)`\r\n  ).exec(url);\r\n  if (matches) {\r\n    const nextcloudId = matches![1];\r\n    return nextcloudId;\r\n  } else {\r\n    return url;\r\n  }\r\n};\r\n\r\nexport const setDataFromXlsxFile = async (file: File, clear?: boolean) => {\r\n  try {\r\n    const data = await geXlsxData(file);\r\n    setData(data.items, data.project, clear);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const openXlsxFromFile = async (file: File, clear?: boolean) => {\r\n  await setDataFromXlsxFile(file, clear);\r\n};\r\n\r\nexport const getJsonFromXlsx = async (file: File) => {\r\n  const JSON = await xlsxParser.onFileSelection(file);\r\n  return JSON;\r\n};\r\n\r\nexport const getXlsxWorksheets = async (file: File) => {\r\n  const json = await getJsonFromXlsx(file);\r\n  const worksheets = Object.entries(json).map(([key, value], index) => {\r\n    return { title: key, data: value, index } as SpreadsheetWorksheet;\r\n  });\r\n\r\n  return worksheets;\r\n};\r\n\r\nexport const geXlsxData = async (file: File) => {\r\n  try {\r\n    const worksheets = await getXlsxWorksheets(file);\r\n    const renamedSpreadsheetItems = await getRenamedSpreadsheetItems(\r\n      worksheets\r\n    );\r\n\r\n    const renamedProject = await getRenamedSpreadsheetProject(worksheets);\r\n\r\n    return {\r\n      items: renamedSpreadsheetItems,\r\n      project: renamedProject,\r\n    } as Data;\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport {\r\n  spreadsheetIdRouteQuery,\r\n  projectNameRouteQuery,\r\n  nextcloudIdRouteQuery,\r\n} from \"./routes\";\r\nimport { fetchIcoData, fetchIcoProject, loadAll } from \"./fetch\";\r\nimport router from \"@/router\";\r\nimport type { RouteLocationNormalized } from \"vue-router\";\r\nimport { getSpreadsheetIdFromUrl } from \"./spreadsheet\";\r\n\r\nimport { getIcoRenamedItems, getIcoRenamedProject } from \"@/data-renamed\";\r\nimport {\r\n  getNormalizedData,\r\n  filterDataAsProspective,\r\n  filterDataAsInterplay,\r\n  filterDataAsReliability,\r\n  filterDataAsExpertise,\r\n  filterDataAsMultiStakeholder,\r\n} from \"@/data-parser\";\r\nimport {\r\n  clearAppDialogs,\r\n  state,\r\n  clearAll,\r\n  clearAppDataAndProject,\r\n  clearErrors,\r\n} from \"@/store\";\r\n\r\nimport { Data } from \"@/@types\";\r\n// import Vue from \"vue\";\r\nimport { getNextcloudIdFromUrl } from \"./xlsx\";\r\n\r\nexport const openSpreadsheet = async (spreadsheetUrl: string) => {\r\n  const spreadsheetId = getSpreadsheetIdFromUrl(spreadsheetUrl);\r\n  const routeParams: Pick<RouteLocationNormalized, \"query\" | \"name\" | \"path\"> = {\r\n    query: {\r\n      [spreadsheetIdRouteQuery]: spreadsheetId,\r\n    },\r\n    name: \"project\",\r\n    path: \"/project\",\r\n  };\r\n  // routeParams.query[spreadsheetIdRouteQuery] = spreadsheetId;\r\n  const route = router.resolve(routeParams);\r\n  await router.push(route);\r\n  // try {\r\n  await loadAll(route);\r\n  // } catch (e) {\r\n  //   // if (e.name !== \"NavigationDuplicated\") {\r\n  //   //   state.errors.FAILED_TO_FETCH_SPREADSHEET = true;\r\n  //   // }\r\n  // }\r\n};\r\n\r\nexport const openIco = async (projectName: string) => {\r\n  const routeParams: Pick<RouteLocationNormalized, \"query\" | \"name\"> = {\r\n    query: {\r\n      [projectNameRouteQuery]: projectName,\r\n    },\r\n    name: \"project\",\r\n  };\r\n  // routeParams.query[projectNameRouteQuery] = projectName;\r\n  const route = router.resolve(routeParams);\r\n  await router.push(route);\r\n  // try {\r\n  await loadAll(route);\r\n  // } catch (e) {\r\n  // console.error(e);\r\n  // state.errors.FAILED_TO_FETCH_ICO = true;\r\n  // throw e;\r\n  // }\r\n};\r\n\r\nexport const openNextcloudUrl = async (url: string) => {\r\n  const nextcloudId = getNextcloudIdFromUrl(url);\r\n  const routeParams: Pick<RouteLocationNormalized, \"query\" | \"name\" | \"path\"> = {\r\n    query: {\r\n      [nextcloudIdRouteQuery]: nextcloudId,\r\n    },\r\n    name: \"project\",\r\n    path: \"/project\",\r\n  };\r\n  // routeParams.query[nextcloudIdRouteQuery] = nextcloudId;\r\n  const route = router.resolve(routeParams);\r\n  await router.push(routeParams);\r\n  // try {\r\n  await loadAll(route);\r\n};\r\n\r\n// export const getRecentProjects = () => {\r\n//   // const merge = {\r\n//   //   ...state.recentProjectNames,\r\n//   //   ...state.recentProjectSpreadsheets\r\n//   // };\r\n\r\n//   const merge = getRecentProjectsFromCache();\r\n\r\n//   const recentProjects = Object.keys(merge)\r\n//     .sort((a, b) => {\r\n//       return merge[b].date - merge[a].date;\r\n//     })\r\n//     .reduce((prev: { [key: string]: {} }, curr, i) => {\r\n//       prev[i] = merge[curr];\r\n//       return prev;\r\n//     }, {});\r\n\r\n//   const recentProjectsArray = Object.entries(recentProjects).map(\r\n//     ([key, value]) => {\r\n//       return value;\r\n//     }\r\n//   );\r\n\r\n//   return recentProjectsArray;\r\n// };\r\n\r\nexport const getIcoData = async (icoId: string) => {\r\n  const [project, items] = await Promise.all([\r\n    await getIcoProjectData(icoId),\r\n    await getIcoItemsData(icoId),\r\n  ]);\r\n  const data = { project, items };\r\n  return data;\r\n};\r\n\r\nexport const getIcoProjectData = async (icoId: string) => {\r\n  try {\r\n    let project = null;\r\n    // if (localStorage.project) {\r\n    //   project = JSON.parse(localStorage.project);\r\n    // } else {\r\n\r\n    const projectSource = await fetchIcoProject(icoId);\r\n    project = getIcoRenamedProject(projectSource);\r\n    //localStorage.project = JSON.stringify(project);\r\n    //}\r\n    //state.project = project;\r\n    return Promise.resolve(project);\r\n    //console.info(state.project, \"Project source\");\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const getIcoItemsData = async (icoId: string) => {\r\n  try {\r\n    let data = null;\r\n    // if (localStorage.data) {\r\n    //   data = JSON.parse(localStorage.data);\r\n    // } else {\r\n    const dataSource = await fetchIcoData(icoId);\r\n\r\n    data = getIcoRenamedItems(dataSource);\r\n    //localStorage.data = JSON.stringify(data);\r\n    //}\r\n    return Promise.resolve(data);\r\n    //const project = renamedProject(projectSource);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const setData = (\r\n  rawItems: Data[\"items\"],\r\n  rawProject: Data[\"project\"],\r\n  clear?: boolean\r\n) => {\r\n  // console.log(clear, \"CLEAR ?\");\r\n  if (clear !== false) {\r\n    clearAll();\r\n  } else {\r\n    clearAppDialogs();\r\n    clearAppDataAndProject();\r\n  }\r\n  clearErrors();\r\n\r\n  try {\r\n    let parsedData;\r\n\r\n    if (state.mode === \"interplay\") {\r\n      //const normalizedData = getNormalizedData(data);\r\n      //const interplayData = filterNormalizedDataAsInterplay(normalizedData);\r\n      const interplayData = filterDataAsInterplay(rawItems);\r\n      const normalizedInterplayData = getNormalizedData(\r\n        interplayData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedInterplayData);\r\n    } else if (state.mode === \"prospective\") {\r\n      const prospectiveData = filterDataAsProspective(rawItems);\r\n      const normalizedProspectiveData = getNormalizedData(\r\n        prospectiveData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedProspectiveData);\r\n    } else if (state.mode === \"data-reliability\") {\r\n      const reliabilityData = filterDataAsReliability(\r\n        rawProject.sourceTypeEntities,\r\n        rawItems\r\n      );\r\n      const normalizedReliabilityData = getNormalizedData(\r\n        reliabilityData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedReliabilityData);\r\n    } else if (state.mode === \"expertise\") {\r\n      const expertiseData = filterDataAsExpertise(\r\n        rawProject.expertiseEntities,\r\n        rawItems\r\n      );\r\n      const normalizedExpertiseData = getNormalizedData(\r\n        expertiseData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedExpertiseData);\r\n    } else if (state.mode === \"multi-stakeholder\") {\r\n      const multiStakeholderData = filterDataAsMultiStakeholder(rawItems);\r\n      const normalizedMultiStakeholderData = getNormalizedData(\r\n        multiStakeholderData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedMultiStakeholderData);\r\n    } else {\r\n      const normalizedData = getNormalizedData(rawItems, rawProject);\r\n      parsedData = Object.freeze(normalizedData);\r\n    }\r\n    // state.data = parsedData;\r\n    // state.project = rawProject;\r\n    state.data = parsedData;\r\n    state.project = rawProject;\r\n    // console.log(state, \"STATE\");\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n  //state.filteredItems = parsedData.items;\r\n \r\n};\r\n","import { Data } from \"@/@types\";\r\n\r\nimport { computed } from \"vue\";\r\n\r\nimport { merge, omit } from \"lodash\";\r\nimport type { RouteLocationNormalized } from \"vue-router\";\r\nimport { getRouteTypeValue, PROJECT_TYPE_ROUTES, state } from \".\";\r\n\r\nexport enum ProjectGroupNames {\r\n  ICO = \"ico\",\r\n  GOOGLE_SPREADSHEET = \"googlespreadsheet\",\r\n  NEXTCLOUD = \"nextcloud\",\r\n  XLSX = \"xlsx\",\r\n}\r\n\r\nexport type LocalStorageCacheProjectItem = {\r\n  name?: string;\r\n  id: string;\r\n  date: number;\r\n  data: Data;\r\n  type?: keyof LocalStorageCache[\"projects\"];\r\n};\r\n\r\nexport type LocalStorageCacheProjectGroup = {\r\n  [id: string]: LocalStorageCacheProjectItem;\r\n};\r\n\r\nexport type LocalStorageCache = {\r\n  projects: {\r\n    [ProjectGroupNames.ICO]: LocalStorageCacheProjectGroup;\r\n    [ProjectGroupNames.GOOGLE_SPREADSHEET]: LocalStorageCacheProjectGroup;\r\n    [ProjectGroupNames.NEXTCLOUD]: LocalStorageCacheProjectGroup;\r\n    [ProjectGroupNames.XLSX]: LocalStorageCacheProjectGroup;\r\n  };\r\n};\r\n\r\nexport const initialCacheState: LocalStorageCache = {\r\n  projects: {\r\n    [ProjectGroupNames.ICO]: {},\r\n    [ProjectGroupNames.GOOGLE_SPREADSHEET]: {},\r\n    [ProjectGroupNames.NEXTCLOUD]: {},\r\n    [ProjectGroupNames.XLSX]: {},\r\n  },\r\n};\r\n\r\nexport const LOCAL_STORAGE_CACHE_KEY = \"MYCHOICE_CACHE\";\r\n\r\nexport const getLocalStorageCache = () => {\r\n  return (JSON.parse(localStorage.getItem(LOCAL_STORAGE_CACHE_KEY)) ||\r\n    initialCacheState) as LocalStorageCache;\r\n};\r\nexport const getProjectsCache = () => getLocalStorageCache()[\"projects\"];\r\n\r\nexport const getProjectFromCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  id: string\r\n) => {\r\n  return Object.values(getProjectsCache()[type]).find((project) => {\r\n    return project.id === id;\r\n  });\r\n};\r\n\r\nexport const setLocalStorageCache = (data: LocalStorageCache) => {\r\n  localStorage.setItem(LOCAL_STORAGE_CACHE_KEY, JSON.stringify(data));\r\n};\r\n\r\nexport const updateLocalStorageCache = (toMerge: any) => {\r\n  const currentCache = getLocalStorageCache();\r\n\r\n  //   const updatedCache = { ...currentCache, ...toMerge };\r\n  const mergedCache = merge(currentCache, toMerge);\r\n  setLocalStorageCache(mergedCache);\r\n};\r\nexport const removeFromLocalStorageCache = (path: string) => {\r\n  const cache = getLocalStorageCache();\r\n\r\n  const updatedCache = omit(cache, path);\r\n\r\n  setLocalStorageCache(updatedCache as LocalStorageCache);\r\n};\r\nexport const updateProjectCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  projectItem: Partial<LocalStorageCacheProjectItem> &\r\n    Pick<LocalStorageCacheProjectItem, \"id\">\r\n) => {\r\n  updateLocalStorageCache({\r\n    projects: { [type]: { [projectItem.id]: projectItem } },\r\n  });\r\n};\r\n\r\nexport const saveProjectToCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  projectItem: Partial<LocalStorageCacheProjectItem> &\r\n    Pick<LocalStorageCacheProjectItem, \"id\" | \"data\">\r\n) => {\r\n  updateProjectCache(type, projectItem);\r\n};\r\n\r\nexport const getRecentProjectsByTypeFromCache = (\r\n  type: keyof LocalStorageCache[\"projects\"]\r\n) => {\r\n  return getProjectsCache()[type];\r\n};\r\n\r\nexport const getAsFlattenProjects = (\r\n  projects: LocalStorageCache[\"projects\"]\r\n) => {\r\n  const recentProjects = {} as LocalStorageCacheProjectGroup;\r\n  Object.entries(projects)\r\n    // Limited for RESTRICTED version\r\n    .filter(\r\n      ([typeId]) =>\r\n        typeId !== ProjectGroupNames.GOOGLE_SPREADSHEET &&\r\n        typeId !== ProjectGroupNames.NEXTCLOUD\r\n    )\r\n    .forEach(([typeId, items]) => {\r\n      Object.entries(items).forEach(([itemId, itemValue]) => {\r\n        const itemFullId = getProjectFullId(\r\n          typeId as keyof LocalStorageCache[\"projects\"],\r\n          itemId\r\n        );\r\n        recentProjects[itemFullId] = {\r\n          ...itemValue,\r\n          type: typeId as keyof LocalStorageCache[\"projects\"],\r\n        };\r\n      });\r\n    });\r\n  return recentProjects;\r\n};\r\n\r\nexport const recentProjects = computed(() => state.recentProjects);\r\nexport const hasRecentProjects = computed(() =>\r\n  Object.keys(recentProjects.value).length ? true : false\r\n);\r\n\r\nexport const setRecentProjectsState = () => {\r\n  state.recentProjects = getProjectsSortedByDate(getProjectsCache());\r\n};\r\n\r\nexport const getProjectsSortedByDate = (\r\n  projects: LocalStorageCache[\"projects\"]\r\n) => {\r\n  const merge = getAsFlattenProjects(projects);\r\n  const recentProjects = Object.keys(merge)\r\n    .sort((a, b) => {\r\n      return merge[b].date - merge[a].date;\r\n    })\r\n    .reduce((prev: LocalStorageCacheProjectGroup, value, i) => {\r\n      prev[i] = merge[value];\r\n      return prev;\r\n    }, {});\r\n\r\n  const recentProjectsArray = Object.entries(recentProjects).map(\r\n    ([key, value]) => {\r\n      return value;\r\n    }\r\n  );\r\n\r\n  return recentProjectsArray;\r\n};\r\n\r\nexport const saveToRecentProjects = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  { name, id }: Partial<LocalStorageCacheProjectItem>\r\n) => {\r\n  if (id === undefined) {\r\n    return;\r\n  }\r\n  const isProjectInCache = Object.keys(\r\n    getRecentProjectsByTypeFromCache(type)\r\n  ).includes(id);\r\n  if (!isProjectInCache) {\r\n    updateProjectCache(type, {\r\n      name,\r\n      id,\r\n      date: Date.now(),\r\n      type,\r\n    });\r\n  } else {\r\n    if (name) {\r\n      updateProjectCache(type, { name, id });\r\n    }\r\n    updateProjectCache(type, { date: Date.now(), id, type });\r\n  }\r\n  setRecentProjectsState();\r\n};\r\n\r\nexport const getProjectFullId = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  id: LocalStorageCacheProjectItem[\"id\"]\r\n) => `${type}-${id}`;\r\n\r\nexport const removeFromRecentProjects = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  { id }: Pick<LocalStorageCacheProjectItem, \"id\">\r\n) => {\r\n  // const fullId = getProjectFullId(type, id);\r\n  const isProjectExist = state.recentProjects.some(\r\n    (project: LocalStorageCacheProjectItem) =>\r\n      project.type === type && project.id === id\r\n  );\r\n  \r\n\r\n  if (isProjectExist) {\r\n    removeProjectFromCache(type, id);\r\n    setRecentProjectsState();\r\n  }\r\n};\r\n\r\nexport const removeProjectFromCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  id: string\r\n) => {\r\n  removeFromLocalStorageCache(`projects.${type}.${id}`);\r\n};\r\nexport const removeProjectDataFromCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  id: string\r\n) => {\r\n  removeFromLocalStorageCache(`projects.${type}.${id}.data`);\r\n};\r\n\r\nexport const clearProjectDataCacheFromRoute = (route: RouteLocationNormalized) => {\r\n  if (route.query[PROJECT_TYPE_ROUTES.ICO]) {\r\n    // clearIcoItemFromCache(\r\n    //   router.currentRoute.query[projectNameRouteQuery] as string\r\n    // );\r\n    removeProjectDataFromCache(\r\n      ProjectGroupNames.ICO,\r\n      route.query[PROJECT_TYPE_ROUTES.ICO] as string\r\n    );\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET]) {\r\n    // clearSpreadsheetItemFromCache(\r\n    //   router.currentRoute.query[spreadsheetIdRouteQuery] as string\r\n    // );\r\n\r\n    removeProjectDataFromCache(\r\n      ProjectGroupNames.GOOGLE_SPREADSHEET,\r\n      route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET] as string\r\n    );\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD]) {\r\n    removeProjectDataFromCache(\r\n      ProjectGroupNames.NEXTCLOUD,\r\n      route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD] as string\r\n    );\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.XLSX]) {\r\n    removeProjectDataFromCache(\r\n      ProjectGroupNames.XLSX,\r\n      route.query[PROJECT_TYPE_ROUTES.XLSX] as string\r\n    );\r\n  }\r\n};\r\n\r\nexport const isProjectCached = (route: RouteLocationNormalized) => {\r\n  return getProjectDataCacheFromRoute(route) ? true : false;\r\n};\r\n\r\nexport const getProjectCacheFromRoute = (route: RouteLocationNormalized) => {\r\n  const id = getRouteTypeValue(route);\r\n  if (route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET]) {\r\n    return getProjectFromCache(ProjectGroupNames.GOOGLE_SPREADSHEET, id);\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.ICO]) {\r\n    return getProjectFromCache(ProjectGroupNames.ICO, id);\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD]) {\r\n    return getProjectFromCache(ProjectGroupNames.NEXTCLOUD, id);\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.XLSX]) {\r\n    return getProjectFromCache(ProjectGroupNames.XLSX, id);\r\n  }\r\n};\r\n\r\nexport const setProjectCache = (route: RouteLocationNormalized, data: Data) => {\r\n  const id = getRouteTypeValue(route);\r\n  if (route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET]) {\r\n    saveProjectToCache(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n      id,\r\n      data,\r\n    });\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.ICO]) {\r\n    saveProjectToCache(ProjectGroupNames.ICO, {\r\n      id,\r\n      data,\r\n    });\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD]) {\r\n    saveProjectToCache(ProjectGroupNames.NEXTCLOUD, {\r\n      id,\r\n      data,\r\n    });\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.XLSX]) {\r\n    saveProjectToCache(ProjectGroupNames.XLSX, {\r\n      id,\r\n      data,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProjectDataCacheFromRoute = (route: RouteLocationNormalized) => {\r\n  const { data } = getProjectCacheFromRoute(route);\r\n  return data;\r\n};\r\n\r\n// export const isSpreadsheetCached = (spreadsheetId: string) => {\r\n//   return getSpreadsheetProjectDataFromCache(spreadsheetId) ? true : false;\r\n//   // return localStorage.getItem(\"spreadsheet-\" + spreadsheetId) !== null\r\n//   //   ? true\r\n//   //   : false;\r\n// };\r\n// export const isIcoProjectCached = (projectName: string) => {\r\n//   return getIcoProjectDataFromCache(projectName) ? true : false;\r\n// };\r\n\r\n// export const getIcoProjectFromCache = (projectName: string) => {\r\n//   return getProjectFromCache(ProjectGroupNames.ICO, projectName);\r\n//   // return JSON.parse(localStorage.getItem(\"ico-\" + projectName));\r\n// };\r\n// export const getIcoProjectDataFromCache = (projectName: string) => {\r\n//   const { data } = getIcoProjectFromCache(projectName);\r\n//   return data;\r\n// };\r\n// export const getSpreadsheetProjectFromCache = (spreadsheetId: string) => {\r\n//   return getProjectFromCache(\r\n//     ProjectGroupNames.GOOGLE_SPREADSHEET,\r\n//     spreadsheetId\r\n//   );\r\n//   // return JSON.parse(localStorage.getItem(\"spreadsheet-\" + spreadsheetId));\r\n// };\r\n// export const getSpreadsheetProjectDataFromCache = (spreadsheetId: string) => {\r\n//   const { data } = getSpreadsheetProjectFromCache(spreadsheetId);\r\n//   return data;\r\n// };\r\n\r\n// export const setIcoProjectToCache = (projectName: string, data: Data) => {\r\n//   saveProjectToCache(ProjectGroupNames.ICO, {\r\n//     id: projectName,\r\n//     data,\r\n//   });\r\n//   // localStorage.setItem(\"ico-\" + projectName, JSON.stringify(data));\r\n// };\r\n// export const setSpreadsheetProjectToCache = (\r\n//   spreadsheetId: string,\r\n//   data: Data\r\n// ) => {\r\n//   // localStorage.setItem(\"spreadsheet-\" + spreadsheetId, JSON.stringify(data));\r\n//   saveProjectToCache(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n//     id: spreadsheetId,\r\n//     data,\r\n//   });\r\n// };\r\n\r\nexport const removeFromRecentProjectNames = (name: string) => {\r\n  // if (localStorage.recentProjectNames) {\r\n  //   state.recentProjectNames = JSON.parse(localStorage.recentProjectNames);\r\n  // }\r\n  if (state.recentProjectNames[name]) {\r\n    delete state.recentProjectNames[name];\r\n    localStorage.recentProjectNames = JSON.stringify(state.recentProjectNames);\r\n  }\r\n};\r\n\r\nexport const removeFromRecentProjectSpreadsheets = (spreadsheetId: string) => {\r\n  // if (localStorage.recentProjectSpreadsheets) {\r\n  //   state.recentProjectSpreadsheets = JSON.parse(\r\n  //     localStorage.recentProjectSpreadsheets\r\n  //   );\r\n  // }\r\n  // if (state.recentProjectSpreadsheets[spreadsheetId]) {\r\n  //   delete state.recentProjectSpreadsheets[spreadsheetId];\r\n  //   localStorage.recentProjectSpreadsheets = JSON.stringify(\r\n  //     state.recentProjectSpreadsheets\r\n  //   );\r\n  // }\r\n\r\n  removeFromRecentProjects(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n    id: spreadsheetId,\r\n  });\r\n};\r\n\r\nexport const clearLocalStorage = function () {\r\n  return localStorage.clear();\r\n};\r\n\r\n// export type RecentProjectNamesArray = []{}\r\n\r\n// export const recentProjectsNames = computed(() => {\r\n//   const cache = getLocalStorageCache();\r\n//   return Object.entries(cache).reduce((acc, [key, items]) => {\r\n//     const [itemId, itemValue] = Object.entries(items);\r\n//     acc.push({ [`${key}-${itemId}`]: itemValue });\r\n//   }, []);\r\n// });\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport {\r\n  getSpreadsheetData,\r\n  setError,\r\n  MyChoiceError,\r\n  getNextcloudDownloadUrlFromId,\r\n  getNextcloudDataFromUrl,\r\n  openXlsxFromFile,\r\n  dropFileInputRef\r\n} from \"@/store\";\r\nimport { PROJECT_TYPE_ROUTES } from \"./routes\";\r\nimport {\r\n  setData,\r\n  getIcoItemsData,\r\n  getIcoProjectData,\r\n  getIcoData,\r\n} from \"./project\";\r\nimport { state, getProjectName, showOverlay, hideOverlay } from \"./state\";\r\nimport dataJson from \"../../public/data.json\";\r\nimport projectJson from \"../../public/project.json\";\r\n\r\nimport {\r\n  getProjectDataCacheFromRoute,\r\n  isProjectCached,\r\n  ProjectGroupNames,\r\n  saveToRecentProjects,\r\n  setProjectCache,\r\n} from \"./cache\";\r\nimport { RouteLocationNormalized, RouteLocationAsPathGeneric } from 'vue-router';\r\nimport router from \"@/router\";\r\n\r\nexport const getIcoApiUrl = () => {\r\n  const proxyUrl = process.env.BASE_URL + \"api/\";\r\n  return process.env.NODE_ENV === \"development\"\r\n    ? proxyUrl\r\n    : process.env.VUE_APP_API_URL;\r\n};\r\n\r\nexport const fetchIcoData = async (projectId: string) => {\r\n  let json = null;\r\n  const url = getIcoApiUrl() + \"arguments?project=\" + projectId;\r\n  try {\r\n    if (!projectId) {\r\n      throw Error();\r\n    }\r\n    const response = await fetch(url);\r\n\r\n    json = await response.json();\r\n  } catch (e) {\r\n    console.warn(\"Fetch error, unable to fetch arguments: \" + url);\r\n    throw e;\r\n    // const response = await fetch(process.env.BASE_URL + \"data.json\");\r\n    // json = await response.json();\r\n  }\r\n  return json;\r\n};\r\n\r\nexport const fetchIcoProject = async (projectId: string) => {\r\n  let json = null;\r\n  const url = getIcoApiUrl() + \"project?name=\" + projectId;\r\n  try {\r\n    if (!projectId) {\r\n      throw Error();\r\n    }\r\n    const response = await fetch(url);\r\n\r\n    json = await response.json();\r\n  } catch (e) {\r\n    console.warn(\"Fetch error, unable to fetch project:\" + url);\r\n    throw e;\r\n    // const response = await fetch(process.env.BASE_URL + \"project.json\");\r\n    // json = await response.json();\r\n  }\r\n\r\n  return json;\r\n};\r\n\r\n\r\n\r\nexport const loadProject = () => {};\r\n\r\n\r\nexport const getProjectTypeFromRoute = (route: RouteLocationNormalized) => {\r\n  if (\r\n    Object.prototype.hasOwnProperty.call(\r\n      route.query,\r\n      PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET\r\n    )\r\n  ) {\r\n    return ProjectGroupNames.GOOGLE_SPREADSHEET;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(route.query, PROJECT_TYPE_ROUTES.ICO)\r\n  ) {\r\n    return ProjectGroupNames.ICO;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(route.query, PROJECT_TYPE_ROUTES.XLSX)\r\n  ) {\r\n    return ProjectGroupNames.XLSX;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(\r\n      route.query,\r\n      PROJECT_TYPE_ROUTES.NEXTCLOUD\r\n    )\r\n  ) {\r\n    return ProjectGroupNames.NEXTCLOUD;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nexport const getRouteTypeFromProjectType = (type: ProjectGroupNames) => {\r\n  if (type === ProjectGroupNames.GOOGLE_SPREADSHEET) {\r\n    return PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET;\r\n  } else if (type === ProjectGroupNames.ICO) {\r\n    return PROJECT_TYPE_ROUTES.ICO;\r\n  } else if (type === ProjectGroupNames.XLSX) {\r\n    return PROJECT_TYPE_ROUTES.XLSX;\r\n  } else if (type === ProjectGroupNames.NEXTCLOUD) {\r\n    return PROJECT_TYPE_ROUTES.NEXTCLOUD;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const getRouteTypeValue = (route: RouteLocationNormalized) => {\r\n  if (\r\n    Object.prototype.hasOwnProperty.call(\r\n      route.query,\r\n      PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET\r\n    )\r\n  ) {\r\n    return route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET] as string;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(route.query, PROJECT_TYPE_ROUTES.ICO)\r\n  ) {\r\n    return route.query[PROJECT_TYPE_ROUTES.ICO] as string;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(route.query, PROJECT_TYPE_ROUTES.XLSX)\r\n  ) {\r\n    return route.query[PROJECT_TYPE_ROUTES.XLSX] as string;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(\r\n      route.query,\r\n      PROJECT_TYPE_ROUTES.NEXTCLOUD\r\n    )\r\n  ) {\r\n    return route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD] as string;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const loadSpreadsheetFromRoute = async (\r\n  route: RouteLocationNormalized,\r\n  clear?: boolean\r\n) => {\r\n  const spreadsheetId = getRouteTypeValue(route);\r\n  //setSpreadsheet(spreadsheetId);\r\n  // saveToRecentProjectSpreadsheets({\r\n  //   id: spreadsheetId\r\n  // });\r\n  saveToRecentProjects(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n    id: spreadsheetId,\r\n  });\r\n  let data = null;\r\n  // console.log(isProjectCached(route), \"cached?\");\r\n  if (isProjectCached(route)) {\r\n    data = getProjectDataCacheFromRoute(route);\r\n    state.notifications.push({\r\n      message: \"Spreadsheet loaded from cache\",\r\n    });\r\n  } else {\r\n    data = await getSpreadsheetData(spreadsheetId);\r\n  }\r\n  // saveToRecentProjectSpreadsheets({\r\n  //   name: data.project.name ? data.project.name : undefined,\r\n  //   id: spreadsheetId\r\n  // });\r\n  saveToRecentProjects(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n    name: data.project && data.project.name ? data.project.name : undefined,\r\n    id: spreadsheetId,\r\n  });\r\n  try {\r\n    setData(data.items, data.project, clear);\r\n    setProjectCache(route, data);\r\n    state.spreadsheet = spreadsheetId;\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const loadIcoFromRoute = async (route: RouteLocationNormalized, clear?: boolean) => {\r\n  const icoId = getRouteTypeValue(route);\r\n\r\n  saveToRecentProjects(ProjectGroupNames.ICO, {\r\n    id: icoId,\r\n  });\r\n\r\n  let data = null;\r\n  if (isProjectCached(route)) {\r\n    data = getProjectDataCacheFromRoute(route);\r\n    state.notifications.push({\r\n      message: \"Ico project loaded from cache\",\r\n    });\r\n  } else {\r\n    data = await getIcoData(icoId);\r\n  }\r\n\r\n  if (data.project && data.project.name) {\r\n    saveToRecentProjects(ProjectGroupNames.ICO, {\r\n      name: data.project.name ? data.project.name : undefined,\r\n      id: data.project.name,\r\n    });\r\n    // saveToRecentProjectNames(data.project.name);\r\n  }\r\n\r\n  try {\r\n    setData(data.items, data.project, clear);\r\n    setProjectCache(route, data);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const loadNextcloudFromRoute = async (route: RouteLocationNormalized, clear?: boolean) => {\r\n  // console.log(\"Nextcloud!\");\r\n  const nextcloudId = getRouteTypeValue(route);\r\n\r\n  saveToRecentProjects(ProjectGroupNames.NEXTCLOUD, {\r\n    id: nextcloudId,\r\n  });\r\n\r\n  let data = null;\r\n  if (isProjectCached(route)) {\r\n    data = getProjectDataCacheFromRoute(route);\r\n    state.notifications.push({\r\n      message: \"Nextcloud project loaded from cache\",\r\n    });\r\n  } else {\r\n    //https://icotest.iate.inra.fr/nextcloud/s/iiw6WomRsepyx78/download\r\n    const nextcloudUrl = getNextcloudDownloadUrlFromId(nextcloudId);\r\n    data = await getNextcloudDataFromUrl(nextcloudUrl);\r\n  }\r\n\r\n  saveToRecentProjects(ProjectGroupNames.NEXTCLOUD, {\r\n    name: data.project && data.project.name ? data.project.name : undefined,\r\n    id: nextcloudId,\r\n  });\r\n  try {\r\n    setData(data.items, data.project, clear);\r\n    setProjectCache(route, data);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const getHrefFromTypeId = ({\r\n  type,\r\n  id,\r\n}: {\r\n  type: ProjectGroupNames;\r\n  id: string;\r\n}) => {\r\n  const routeType = getRouteTypeFromProjectType(type);\r\n\r\n  if (!routeType) {\r\n    throw new Error(\"Route type is undefined for this project type.\");\r\n  }\r\n\r\n  // Construction des paramtres de route avec path ou name\r\n  const routeParams: RouteLocationNormalized = {\r\n    query: {\r\n      [routeType]: id,\r\n    },\r\n    name: \"project\", // Assure-toi que \"project\" est bien un nom de route dfini dans tes routes\r\n    path: \"/project\", // Assure-toi que cette route \"/project\" existe dans tes routes\r\n    params: {}, // Si tu n'as pas de paramtres, mets un objet vide\r\n    matched: [], // Tableau vide si aucune correspondance n'est requise\r\n    fullPath: \"/project\", // Remplacer par le chemin complet si ncessaire\r\n    hash: \"\",\r\n    redirectedFrom: undefined,\r\n    meta: undefined\r\n  };\r\n\r\n  // Appel de router.resolve avec un objet contenant path ou name\r\n  const href = router.resolve(routeParams).href;\r\n  return href;\r\n};\r\n\r\n\r\nexport const loadAll = async (route: RouteLocationNormalized, clear?: boolean) => {\r\n  showOverlay();\r\n\r\n  // console.log(route.query, \"query\");\r\n  try {\r\n    /**\r\n     * GOOGLE SPREADSHEET\r\n     */\r\n    if (\r\n      getProjectTypeFromRoute(route) === ProjectGroupNames.GOOGLE_SPREADSHEET\r\n    ) {\r\n      await loadSpreadsheetFromRoute(route, clear);\r\n    }\r\n\r\n    /**\r\n     * ICO\r\n     */\r\n    if (getProjectTypeFromRoute(route) === ProjectGroupNames.ICO) {\r\n      await loadIcoFromRoute(route, clear);\r\n    }\r\n\r\n    /**\r\n     * NEXTCLOUD\r\n     */\r\n    if (getProjectTypeFromRoute(route) === ProjectGroupNames.NEXTCLOUD) {\r\n      await loadNextcloudFromRoute(route, clear);\r\n    }\r\n\r\n    /**\r\n     * XLSX\r\n     */\r\n    if (getProjectTypeFromRoute(route) === ProjectGroupNames.XLSX) {\r\n      const fileInput = dropFileInputRef.value;\r\n      if (fileInput && fileInput.files && fileInput.files[0]) {\r\n        const file = fileInput.files[0];\r\n        await openXlsxFromFile(file, clear);\r\n      } else {\r\n        console.error(\"No file selected or file input is not valid.\");\r\n      }\r\n    }\r\n\r\n    hideOverlay();\r\n  } catch (e) {\r\n    hideOverlay();\r\n    if (e instanceof MyChoiceError) {\r\n      console.warn(e.name, \"MYCHOICE ERROR\");\r\n      setError(e.name, e.message);\r\n      throw Error(e.stack);\r\n    } else {\r\n      // console.warn(\"ClassicError\");\r\n      //@ts-ignore\r\n      setError(e.name, e.message);\r\n      //@ts-ignore\r\n      console.warn(e.stack, \"stack\");\r\n      throw e;\r\n    }\r\n  }\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"@/store\";\r\nimport { computed } from \"vue\";\r\n\r\nexport const getAlternatives = function() {\r\n  return state.data!.alternatives;\r\n};\r\nexport const getAlternativesAsArray = function() {\r\n  const alternatives = Object.keys(getAlternatives());\r\n\r\n  return alternatives.map(alternative => Number(alternative));\r\n};\r\nexport const alternativesIds = function() {\r\n  return Object.keys(getAlternatives()).map(id => Number(id));\r\n};\r\nexport const c_alternativesIds = computed(() => {\r\n  return Object.keys(getAlternatives()).map(id => Number(id));\r\n});\r\n\r\nexport const getAlternativeById = function(alternativeId: number) {\r\n  return getAlternatives()[alternativeId];\r\n};\r\nexport const getAlternativeName = function(alternativeId: number) {\r\n  return getAlternativeById(alternativeId).name;\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"@/store\";\r\nimport { getFilteredItems } from \"@/store/items\";\r\nimport { NormalizedAims, NormalizedArgument } from \"@/@types\";\r\nimport { uniqBy } from \"lodash\";\r\n\r\nexport const getAims = function() {\r\n  const aims = state.data!.aims;\r\n  // if (state.mode !== \"consensus\") {\r\n  //   return filterNormalizedObjectByItemProp(aims, \"aim\");\r\n  // }\r\n  return aims;\r\n};\r\n\r\nexport const aimsIds = function() {\r\n  return Object.keys(getAims()).map(id => Number(id));\r\n};\r\n\r\nexport const getAimsAsArray = function() {\r\n  const aims = Object.keys(getAims());\r\n\r\n  return aims.map(aim => Number(aim));\r\n};\r\nexport const getAimById = function(aimId: number) {\r\n  return getAims()[aimId];\r\n};\r\n\r\nexport const getAimsBy = <\r\n  T extends keyof NormalizedAims[keyof NormalizedAims],\r\n  V\r\n>(\r\n  property: T,\r\n  value: V\r\n) => {\r\n  const aims = Object.values(getAims()).filter(item => {\r\n    return Number(item[property]) === Number(value);\r\n  });\r\n\r\n  return aims;\r\n};\r\n\r\nexport const getAimName = function(aimId: number) {\r\n  return getAims()[aimId] && getAims()[aimId].name;\r\n};\r\n\r\nexport const getFilteredAims = () => {\r\n  return aimsIds().filter(aimId => {\r\n    return getFilteredItems().some(item => {\r\n      return item.aim === aimId;\r\n    });\r\n  });\r\n};\r\n\r\nexport const getFilteredAimsBy = <\r\n  T extends keyof NormalizedAims[keyof NormalizedAims],\r\n  V\r\n>(\r\n  property: T,\r\n  value: V\r\n) => {\r\n  const filteredAims = getAimsBy(property, value).filter(aim => {\r\n    return getFilteredItems().some(item => {\r\n      return item.aim === aim.id;\r\n    });\r\n  });\r\n  return filteredAims;\r\n};\r\n\r\nexport const getAimsFromItems = (items: NormalizedArgument[]) => {\r\n  return uniqBy(items, \"aim\").map(item => item.aim);\r\n};\r\n\r\nexport const getAimsCountFromAimsAndCriterion = (\r\n  aims: number[],\r\n  criterionId: number\r\n) => {\r\n  return aims.filter(aimId => getAimById(aimId).criterion === criterionId)\r\n    .length;\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state, getFilteredItems } from \"@/store\";\r\nimport { NormalizedArgument, NormalizedObject } from \"@/@types\";\r\nimport { computed } from \"vue\";\r\n\r\nexport const getCriterions = function() {\r\n  const criterions = state.data!.criterions;\r\n  // if (state.mode !== \"consensus\") {\r\n  //   return filterNormalizedObjectByItemProp(criterions, \"criterion\");\r\n  // }\r\n  return criterions;\r\n};\r\nexport const c_criterions = computed(() => state.data!.criterions);\r\n\r\nexport const getCriterionsAsArray = function() {\r\n  const criterions = Object.keys(getCriterions());\r\n\r\n  return criterions.map(criterion => Number(criterion));\r\n};\r\nexport const criterionsIds = function() {\r\n  return Object.keys(getCriterions()).map(id => Number(id));\r\n};\r\nexport const c_criterionsIds = computed(() => {\r\n  return Object.keys(c_criterions.value).map(id => Number(id));\r\n});\r\nexport const getCriterionById = function(criterionId: number) {\r\n  return getCriterions()[criterionId];\r\n};\r\n\r\nexport const getCriterionName = function(criterionId: number | string) {\r\n  return getCriterions()[Number(criterionId)].name;\r\n};\r\n\r\nexport const getFilteredCriterions = () => {\r\n  return criterionsIds().filter(criterionId => {\r\n    return getFilteredItems().some(item => {\r\n      return item.criterion === criterionId;\r\n    });\r\n  });\r\n};\r\nexport const c_filteredCriterions = computed(() => {\r\n  return c_criterionsIds.value.filter(criterionId => {\r\n    return getFilteredItems().some(item => {\r\n      return item.criterion === criterionId;\r\n    });\r\n  });\r\n});\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\n\r\nimport { state, sortObject } from \"@/store\";\r\nimport { uniqBy, sortBy, isEqual, property } from \"lodash\";\r\nimport { NormalizedArgument, SubType, NormalizedObject } from \"@/@types\";\r\nimport { getAlternativesAsArray } from \"@/store/alternatives\";\r\nimport { getAims, getAimsAsArray } from \"@/store/aims\";\r\nimport { getCriterionsAsArray } from \"@/store/criterions\";\r\n\r\nimport { filter, groupBy, flatten } from \"lodash\";\r\n\r\nexport const getAllItems = function () {\r\n  const items = state!.data!.items;\r\n  // if (state.mode === \"interplay\") {\r\n  //   return getInterplayItems(items);\r\n  // }\r\n  return items;\r\n};\r\n\r\n// export const getInterplayItems = function(items: NormalizedArgument[]) {\r\n//   const propertyGroups = groupBy(items, \"property\");\r\n\r\n//   const propertyGroupsWithMultipleAims = Object.values(propertyGroups).filter(\r\n//     groupItems => {\r\n//       const aimGroups = groupBy(groupItems, \"aim\");\r\n\r\n//       if (Object.keys(aimGroups).length > 1) {\r\n//         return groupItems;\r\n//       }\r\n//     }\r\n//   );\r\n\r\n//   const interplayItems = flatten(propertyGroupsWithMultipleAims);\r\n\r\n//   return interplayItems;\r\n// };\r\n\r\nexport const getFilteredItems = function () {\r\n  let items = filterItemsByValue(getAllItems(), state.searchInput);\r\n\r\n  if (state.selectedAims.length) {\r\n    items = items.filter((item) => {\r\n      //@ts-ignore\r\n      return state.selectedAims.includes(item[\"aim\"]);\r\n    });\r\n  }\r\n  if (state.selectedStakeholders.length) {\r\n    items = items.filter((item) => {\r\n      //@ts-ignore\r\n      return state.selectedStakeholders.includes(item[\"stakeholder\"]);\r\n    });\r\n  }\r\n\r\n  if (state.selectedCriterions.length) {\r\n    items = items.filter((item) => {\r\n      //@ts-ignore\r\n      return state.selectedCriterions.includes(\r\n        Number(getAims()[item[\"aim\"]].criterion)\r\n      );\r\n    });\r\n  }\r\n\r\n  return items;\r\n};\r\n\r\nexport const filterItemsBy = <\r\n  T extends Partial<NormalizedArgument>,\r\n  P extends keyof NormalizedArgument,\r\n  V extends NormalizedArgument[P]\r\n>(\r\n  items: NormalizedArgument[],\r\n  payload: T\r\n) => {\r\n  const entries = Object.entries(payload) as [P, V][];\r\n  return items.filter((item) => {\r\n    return entries.every(([property, value]) => {\r\n      return item[property] === value;\r\n    });\r\n  });\r\n};\r\n\r\nexport const getItemsBy = function <T extends Partial<NormalizedArgument>>(\r\n  payload: T\r\n) {\r\n  return payload ? filterItemsBy(getAllItems(), payload) : [];\r\n};\r\n\r\n//export const get _.uniqWith(objects, _.isEqual);\r\n\r\nexport const getLabel = function (payload: Partial<NormalizedArgument>) {\r\n  return `${payload.property}:${payload.value}`;\r\n};\r\n\r\nexport const getDuplicatesGroups = function <\r\n  T extends Partial<NormalizedArgument>\r\n>(payload: T[]) {\r\n  return Object.values(\r\n    groupBy(\r\n      payload,\r\n      ({ property, value, assertion, explanation, stakeholder }) =>\r\n        JSON.stringify({ property, value, assertion, explanation, stakeholder })\r\n    )\r\n  );\r\n};\r\n\r\nexport const getFilteredItemsBy = function <\r\n  T extends Partial<NormalizedArgument>\r\n>(payload: T) {\r\n  return filterItemsBy(getFilteredItems(), payload);\r\n};\r\n\r\nexport const filterByPropValue = function <\r\n  P extends keyof NormalizedArgument,\r\n  V extends NormalizedArgument[P]\r\n>(items: NormalizedArgument[], prop: P, value: V) {\r\n  return items.filter((item) => {\r\n    return item[prop] === value;\r\n  });\r\n};\r\n\r\nexport const getItemsByPropValue = function <\r\n  P extends keyof NormalizedArgument,\r\n  V extends NormalizedArgument[P]\r\n>(prop: P, value: V) {\r\n  return filterByPropValue(getAllItems(), prop, value);\r\n};\r\n\r\nexport const getFilteredItemsByPropValue = function <\r\n  P extends keyof NormalizedArgument,\r\n  V extends NormalizedArgument[P]\r\n>(prop: P, value: V) {\r\n  return filterByPropValue(getFilteredItems(), prop, value);\r\n};\r\n\r\nexport const getUniqueItemsBy = <\r\n  T extends Partial<NormalizedArgument>,\r\n  P extends keyof NormalizedArgument\r\n>(\r\n  payload: T,\r\n  uniqProp: P\r\n) => {\r\n  return uniqBy(getItemsBy(payload), uniqProp);\r\n};\r\n\r\nexport const getItemsFromUniqueProperty = ({\r\n  criterion,\r\n  aim,\r\n  property,\r\n  value,\r\n}: {\r\n  criterion: number;\r\n  aim: number;\r\n  property: string;\r\n  value: string;\r\n}) => {\r\n  return getAllItems().filter(\r\n    (item) =>\r\n      item.criterion === criterion &&\r\n      item.aim === aim &&\r\n      item.property === property &&\r\n      item.value === value\r\n  );\r\n};\r\n\r\nexport const filterItemsByValue = function <T>(\r\n  items: NormalizedArgument[],\r\n  input: string\r\n) {\r\n  return items.filter((o) =>\r\n    Object.keys(o).some((k) => {\r\n      if ([\"property\", \"value\"].includes(k)) {\r\n        //@ts-ignore\r\n        const value = o[k];\r\n        // console.log(k, \"value\");\r\n\r\n        // try {\r\n\r\n        return value\r\n          .toString()\r\n          .toLowerCase()\r\n          .includes(input.toString().toLowerCase());\r\n        // } catch (e) {\r\n        //   console.log(o, \"prop\");\r\n        //   console.log(k, \"val\");\r\n        //   console.log(value, \"VALUE\");\r\n        //   throw e;\r\n        // }\r\n      }\r\n    })\r\n  );\r\n};\r\n\r\n/* -------- ^ we keep it */\r\n\r\n// export const getItemsByAimId = function(aimId: number) {\r\n//   return getAllItems().filter(item => {\r\n//     return item.aim === aimId;\r\n//   });\r\n// };\r\n// export const getUniqueItemsByAimId = function(aimId: number) {\r\n//   return uniqBy(getItemsByPropValue(\"aim\", aimId), \"property\");\r\n// };\r\n\r\n// export const getFilteredItemsMatchingObject = function<\r\n//   T extends Partial<NormalizedArgument>\r\n// >(payload: T) {\r\n//   const entries = Object.entries(payload);\r\n//   const items = getFilteredItems().filter(item => {\r\n//     return entries.every(([property, value]) => {\r\n//       //@ts-ignore\r\n//       return item[property] === value;\r\n//     });\r\n//   });\r\n\r\n//   return items;\r\n// };\r\n\r\nexport const getItemById = function (itemId: number) {\r\n  return getAllItems().find((item) => item.id === itemId);\r\n};\r\n\r\n// export const getItemsBy = function<K extends keyof NormalizedArgument>(\r\n//   prop: K,\r\n//   id: number\r\n// ) {\r\n//   id = Number(id);\r\n//   return getAllItems().filter(item => {\r\n//     // @ts-ignore\r\n//     return item[prop] === id;\r\n//   });\r\n// };\r\n\r\n// export const getItemsByCriterionId = function(criterionId: number) {\r\n//   return getAllItems().filter(item => {\r\n//     return item.criterion === criterionId;\r\n//   });\r\n// };\r\n\r\n// export const getUniqueItemsBy = function<K extends keyof NormalizedArgument>(\r\n//   prop: K,\r\n//   id: number,\r\n//   uniqProp: K\r\n// ) {\r\n//   const items = getItemsBy({\r\n//     [prop]: id\r\n//   });\r\n//   return uniqBy(items, uniqProp);\r\n// };\r\n\r\n// export const getItemsByProperty = function(value: string) {\r\n//   return getAllItems().filter(argument => {\r\n//     return argument.property === value;\r\n//   });\r\n// };\r\n\r\n// export const filterByAimAndCriterion = ({\r\n//   items,\r\n//   aimId,\r\n//   criterionId\r\n// }: {\r\n//   items: NormalizedArgument[];\r\n//   aimId: number;\r\n//   criterionId: number;\r\n// }) => {\r\n//   return items.filter(\r\n//     item => item.criterion === criterionId && item.aim === aimId\r\n//   );\r\n// };\r\n\r\n// export const filterByAimAndAlternative = ({\r\n//   items,\r\n//   aimId,\r\n//   alternativeId\r\n// }: {\r\n//   items: NormalizedArgument[];\r\n//   aimId: number;\r\n//   alternativeId: number;\r\n// }) => {\r\n//   return items.filter(\r\n//     item => item.alternative === alternativeId && item.aim === aimId\r\n//   );\r\n// };\r\n\r\n// export const getFilteredItemsByAimAndAlternative = ({\r\n//   aimId,\r\n//   alternativeId\r\n// }: {\r\n//   aimId: number;\r\n//   alternativeId: number;\r\n// }) => {\r\n//   return filterByAimAndAlternative({\r\n//     items: getFilteredItems(),\r\n//     aimId,\r\n//     alternativeId\r\n//   });\r\n// };\r\n\r\nexport const normalizeByAlternative = (items: NormalizedArgument[]) => {\r\n  const obj: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n  const alternatives = getAlternativesAsArray();\r\n\r\n  alternatives.forEach((alternativeId) => {\r\n    const filteredItems = items.filter(\r\n      (argument) => argument.alternative === alternativeId\r\n    );\r\n    obj[alternativeId] = filteredItems;\r\n  });\r\n\r\n  return obj;\r\n};\r\n\r\nexport const normalizeByAim = (items: NormalizedArgument[]) => {\r\n  const obj: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n  const aims = getAimsAsArray();\r\n\r\n  aims.forEach((aimId) => {\r\n    const filteredItems = items.filter((argument) => argument.aim === aimId);\r\n    obj[aimId] = filteredItems;\r\n  });\r\n\r\n  return obj;\r\n};\r\n\r\nexport const normalizeByCriterion = (items: NormalizedArgument[]) => {\r\n  const obj: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n  const criterions = getCriterionsAsArray();\r\n\r\n  criterions.forEach((criterionId) => {\r\n    const filteredItems = items.filter(\r\n      (argument) => argument.criterion === criterionId\r\n    );\r\n    obj[criterionId] = filteredItems;\r\n  });\r\n\r\n  return obj;\r\n};\r\n\r\n// DEPRECATED\r\nexport const getNormalizedItemsByUniqueProperties = function (filtered = true) {\r\n  const normalizedObject: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n\r\n  const items = filtered ? getFilteredItems() : getAllItems();\r\n\r\n  items.forEach((item) => {\r\n    if (normalizedObject[item.property]) {\r\n      normalizedObject[item.property].push(item);\r\n    } else {\r\n      normalizedObject[item.property] = [item];\r\n    }\r\n  });\r\n\r\n  return sortObject(normalizedObject);\r\n};\r\n\r\nexport const getNormalizedItemsByUniqueItemProp = function (\r\n  itemProp: keyof SubType<NormalizedArgument, string | number>,\r\n  filtered = true\r\n) {\r\n  const normalizedObject: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n\r\n  const items = filtered ? getFilteredItems() : getAllItems();\r\n\r\n  items.forEach((item) => {\r\n    const itemPropValue = item[itemProp];\r\n    if (normalizedObject[itemPropValue]) {\r\n      normalizedObject[itemPropValue].push(item);\r\n    } else {\r\n      normalizedObject[itemPropValue] = [item];\r\n    }\r\n  });\r\n\r\n  return sortObject(normalizedObject);\r\n};\r\n\r\nexport const filterNormalizedObjectByItemProp = (\r\n  normalizedObject: NormalizedObject,\r\n  itemProp: keyof NormalizedArgument\r\n) => {\r\n  return Object.keys(normalizedObject)\r\n    .map((key) => Number(key))\r\n    .filter((id) => {\r\n      return getAllItems().some((item) => {\r\n        return item[itemProp] === id;\r\n      });\r\n    })\r\n    .reduce((filteredNormalizedObject: NormalizedObject, id: number) => {\r\n      filteredNormalizedObject[id] = normalizedObject[id];\r\n      return filteredNormalizedObject;\r\n    }, {});\r\n};\r\n\r\nexport const getFilteredItemsGroupByProp = (\r\n  payload: Partial<NormalizedArgument>,\r\n  prop: keyof NormalizedArgument\r\n) => {\r\n  return groupBy(getFilteredItemsBy(payload), prop);\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"@/store\";\r\n\r\nexport const getSubOptions = function() {\r\n  return state.data!.subOptions;\r\n};\r\n\r\nexport const subOptionsIds = function() {\r\n  return Object.keys(getSubOptions()).map(id => Number(id));\r\n};\r\n\r\nexport const getSubOptionById = function(subOptionId: number) {\r\n  return getSubOptions()[subOptionId];\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state, getFilteredItems } from \"@/store\";\r\n\r\nexport const getStakeholders = function() {\r\n  const stakeholders = state.data!.stakeholders;\r\n\r\n  // if (state.mode !== \"consensus\") {\r\n  //   return filterNormalizedObjectByItemProp(stakeholders, \"stakeholder\");\r\n  // }\r\n  return stakeholders;\r\n};\r\nexport const stakeholdersIds = function() {\r\n  return Object.keys(getStakeholders()).map(id => Number(id));\r\n};\r\nexport const getStakeholderName = function(stakeholderId: number) {\r\n  return (\r\n    getStakeholders()[stakeholderId] && getStakeholders()[stakeholderId].name\r\n  );\r\n};\r\n\r\nexport const getStakeholderById = function(stakeholderId: number) {\r\n  return getStakeholders()[stakeholderId];\r\n};\r\nexport const getFilteredStakeholders = () => {\r\n  return stakeholdersIds().filter(stakeholderId => {\r\n    return getFilteredItems().some(item => {\r\n      return item.stakeholder === stakeholderId;\r\n    });\r\n  });\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"@/store\";\r\n\r\nimport { getAllItems } from \"@/store/items\";\r\nimport { Superset } from \"@/@types\";\r\n\r\nexport const getSupersetsBy = <T extends Superset>(payload: T): T[] => {\r\n  const arr: string[] = [];\r\n  const entries = Object.entries(payload);\r\n\r\n  const result = getAllItems()\r\n    .filter(item => {\r\n      const hash = getPayloadHash(payload);\r\n      if (arr.indexOf(hash) === -1) {\r\n        arr.push(hash);\r\n        return entries.every(([property, value]) => {\r\n          //@ts-ignore\r\n          return item[property] === value;\r\n        });\r\n      }\r\n      return false;\r\n    })\r\n    .map(item => {\r\n      const superset = <T>{};\r\n      superset[\"alternative\"] = item[\"alternative\"];\r\n      superset[\"subOption\"] = item[\"subOption\"];\r\n      Object.keys(payload).forEach(key => {\r\n        //@ts-ignore\r\n        superset[key] = item[key];\r\n      });\r\n      return superset;\r\n    });\r\n  return result;\r\n};\r\n\r\nexport const getPayloadHash = (payload: Superset) => {\r\n  //return `${payload.criterion}:${payload.aim}:${payload.property}:${payload.value}`;\r\n  // return Object.keys(payload)\r\n  //   .sort()\r\n  //   .map(key => {\r\n  //     return `${key}-${payload[key]}`;\r\n  //   })\r\n  //   .join(\":\");\r\n  const ordered = {};\r\n  Object.keys(payload)\r\n    .sort()\r\n    .forEach(function(key) {\r\n      //@ts-ignore\r\n      ordered[key] = payload[key];\r\n    });\r\n  return JSON.stringify(ordered);\r\n};\r\n\r\nexport const getSelectedSupersets = () => state.selectedSupersets;\r\n\r\nexport const selectSuperset = function(payload: Superset) {\r\n  state.selectedSuperset = getPayloadHash(payload);\r\n};\r\nexport const unselectSuperset = function(payload: Superset) {\r\n  state.selectedSuperset = \"\";\r\n};\r\nexport const toggleSuperset = function(payload: Superset) {\r\n  if (state.selectedSuperset === getPayloadHash(payload)) {\r\n    unselectSuperset(payload);\r\n  } else {\r\n    selectSuperset(payload);\r\n  }\r\n};\r\nexport const addSupersetInSelection = function(payload: Superset) {\r\n  if (!findSuperset(payload)) {\r\n    state.selectedSupersets.push(getPayloadHash(payload));\r\n  }\r\n};\r\nexport const removeSupersetInSelection = function(payload: Superset) {\r\n  const string = getPayloadHash(payload);\r\n  const index = getSelectedSupersets().indexOf(string);\r\n  if (index > -1) {\r\n    state.selectedSupersets.splice(index, 1);\r\n  }\r\n};\r\nexport const toggleSupersetInSelection = function(payload: Superset) {\r\n  if (findSuperset(payload)) {\r\n    removeSupersetInSelection(payload);\r\n  } else {\r\n    addSupersetInSelection(payload);\r\n  }\r\n};\r\n\r\nexport const findSuperset = function(payload: Superset) {\r\n  return getSelectedSupersets().find(\r\n    stringifiedObject => stringifiedObject === getPayloadHash(payload)\r\n  );\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { NormalizedArgument, NormalizedObject } from \"@/@types\";\r\nimport {\r\n  normalizeByAlternative,\r\n  getFilteredItems,\r\n  getFilteredItemsBy,\r\n  normalizeByAim,\r\n  filterItemsBy\r\n} from \"@/store\";\r\n\r\nimport { getRange } from \"@/store/utils\";\r\nimport { alternativesIds } from \"./alternatives\";\r\n\r\nexport const roundNumber = (number: number) => {\r\n  return Math.round(number * 100) / 100;\r\n};\r\n\r\nexport const getWeightedAcceptability = (\r\n  items: NormalizedArgument[],\r\n  rounded = true\r\n) => {\r\n  const normalizedAims = normalizeByAim(items);\r\n\r\n  const alternativeSums: {\r\n    [id: number]: number[];\r\n  } = {};\r\n\r\n  const alternativeAcceptability: {\r\n    [id: number]: number | null;\r\n  } = {};\r\n\r\n  Object.entries(normalizedAims).map(([j, aimsItems]) => {\r\n    const aimId = Number(j);\r\n\r\n    const alternativeWeigths = getWeightByAlternativeV2(aimsItems);\r\n    Object.entries(alternativeWeigths).forEach(([k, alternativeWeight]) => {\r\n      const alternativeId = Number(k);\r\n      (\r\n        alternativeSums[alternativeId] || (alternativeSums[alternativeId] = [])\r\n      ).push(alternativeWeight);\r\n    });\r\n  });\r\n\r\n  Object.entries(alternativeSums).forEach(([l, sums]) => {\r\n    const acceptability = sumArray(sums) / items.length;\r\n    // alternativeAcceptability[Number(l)] = acceptability\r\n    //   ? roundNumber(acceptability)\r\n    //   : null;\r\n    const numberOrNull = !Number.isNaN(acceptability)\r\n      ? rounded\r\n        ? roundNumber(acceptability)\r\n        : acceptability\r\n      : null;\r\n    alternativeAcceptability[Number(l)] = numberOrNull;\r\n  });\r\n\r\n  return alternativeAcceptability;\r\n};\r\n\r\n// export const getWeightByAlternativeV1 = (items: NormalizedArgument[]) => {\r\n//   const normalizedAlternatives = normalizeByAlternative(items);\r\n//   const obj: {\r\n//     [id: number]: number;\r\n//   } = {};\r\n//   Object.entries(normalizedAlternatives).forEach(([key, alternativeItems]) => {\r\n//     const alternativeId = Number(key);\r\n\r\n//     const pro = alternativeItems.filter(argument => argument.subOption === 1);\r\n//     const con = alternativeItems.filter(argument => argument.subOption === 2);\r\n\r\n//     let score;\r\n//     if (pro.length === 0 && items.length === 0) {\r\n//       score = 0;\r\n//     } else if (pro.length === 0 && con.length === 0 && items.length > 0) {\r\n//       score = 0.5;\r\n//     } else {\r\n//       score = pro.length / alternativeItems.length;\r\n//     }\r\n\r\n//     const weight = score * items.length;\r\n\r\n//     obj[alternativeId] = weight;\r\n//   });\r\n//   return obj;\r\n// };\r\n\r\nexport const getWeightByAlternativeV2 = (items: NormalizedArgument[]) => {\r\n  const normalizedAlternatives = normalizeByAlternative(items);\r\n  const obj: {\r\n    [id: number]: number;\r\n  } = {};\r\n  Object.entries(normalizedAlternatives).forEach(([key, alternativeItems]) => {\r\n    const alternativeId = Number(key);\r\n\r\n    const pro = alternativeItems.filter(argument => argument.subOption === 1);\r\n    const con = alternativeItems.filter(argument => argument.subOption === 2);\r\n\r\n    const proCount = pro.length + 1; // on initialise avec 1 argument positif et 1 argument ngatif\r\n    const conCount = con.length + 1; // on initialise avec 1 argument positif et 1 argument ngatif\r\n    const totalCount = alternativeItems.length + 2;\r\n\r\n    //const noItemsAtAll = pro.length === 0 && items.length === 0\r\n    const noItemsAtAll = items.length === 0;\r\n    const noItemsForThisAlternative =\r\n      pro.length === 0 && con.length === 0 && items.length > 0;\r\n\r\n    let score;\r\n    if (noItemsAtAll) {\r\n      score = 0;\r\n    } else if (noItemsForThisAlternative) {\r\n      score = 0.5;\r\n    } else {\r\n      score = proCount / totalCount;\r\n    }\r\n\r\n    const weight = score * items.length;\r\n\r\n    obj[alternativeId] = weight;\r\n  });\r\n  return obj;\r\n};\r\n\r\nexport const sumArray = (arrayToSum: number[]) => {\r\n  return arrayToSum.reduce((acc, value) => acc + value);\r\n};\r\n\r\nexport const getAcceptabilityFromProCon = (\r\n  items: NormalizedArgument[],\r\n  rounded = true\r\n) => {\r\n  if (items.length === 0) {\r\n    return null;\r\n  }\r\n  const pro = items.filter(argument => argument.subOption === 1);\r\n  const con = items.filter(argument => argument.subOption === 2);\r\n  const value = items.length - con.length;\r\n\r\n  const acceptability = getRange(value, 0, items.length);\r\n  // const round = Math.round(acceptability * 100) / 100; //\r\n  return rounded ? roundNumber(acceptability) : acceptability;\r\n};\r\n\r\nexport const getAcceptabilityName = (acceptability: number | null) => {\r\n  if (acceptability === null) {\r\n    return \"\";\r\n  } else if (acceptability === 1) {\r\n    return \"pro\";\r\n  } else if (acceptability === 0) {\r\n    return \"con\";\r\n  } else {\r\n    return \"mix\";\r\n  }\r\n};\r\n\r\nexport const getAcceptabilityFromAlternativeId = (\r\n  alternativeId: number,\r\n  rounded = true\r\n) => {\r\n  const filteredItems = getFilteredItems();\r\n  const alternatives = normalizeByAlternative(filteredItems);\r\n  const alternativeItems = alternatives[alternativeId];\r\n  return getAcceptabilityFromProCon(alternativeItems);\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { Superset, NormalizedArgument } from \"@/@types\";\r\nimport { state } from \"./state\";\r\nimport { getFilteredItems, filterItemsBy, getAllItems } from \"./items\";\r\nimport { uniq, uniqWith, isEqual, uniqBy } from \"lodash\";\r\n\r\nexport const getLabels = () => state.data!.labels;\r\n\r\nexport const filterLabelsBy = <T extends Partial<NormalizedArgument>>(\r\n  items: NormalizedArgument[],\r\n  payload: T\r\n) => {\r\n  const labels = filterItemsBy(items, payload).map(({ property, value }) => ({\r\n    property,\r\n    value\r\n  }));\r\n  return uniqBy(labels, item => {\r\n    return [item.property, item.value].join(\":\");\r\n  });\r\n};\r\n\r\nexport const getUniqueLabelsBy = <T extends Partial<NormalizedArgument>>(\r\n  payload: T\r\n) => filterLabelsBy(getAllItems(), payload);\r\n\r\nexport const getUniqueFilteredLabelsBy = <\r\n  T extends Partial<NormalizedArgument>\r\n>(\r\n  payload: T\r\n) => filterLabelsBy(getFilteredItems(), payload);\r\n\r\n// export const getFilteredLabelsBy = <\r\n//   T extends Partial<NormalizedArgument>,\r\n//   P extends keyof NormalizedArgument,\r\n//   V extends NormalizedArgument[P]\r\n// >(\r\n//   payload: Superset\r\n// ) => {\r\n//   const entries = Object.entries(payload) as [P, V][];\r\n//   const filteredLabels = getLabels().filter(([labelProperty, labelValue]) => {\r\n//     return getFilteredItems().some(item => {\r\n//       return entries.every(([property, value]) => {\r\n//         return (\r\n//           item[property] === value &&\r\n//           item[\"property\"] === labelProperty &&\r\n//           item[\"value\"] === labelValue\r\n//         );\r\n//       });\r\n//       //return item.property === property && item.value === value;\r\n//     });\r\n//   });\r\n\r\n//   return uniqBy(filteredLabels, ([property, value]) => {\r\n//     return [property, value].join(\":\");\r\n//   });\r\n//   //return filteredLabels;\r\n// };\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport {\r\n  stakeholdersIds,\r\n  aimsIds,\r\n  criterionsIds,\r\n  getStakeholderName,\r\n  getAimName,\r\n  getCriterionName,\r\n  state\r\n} from \"@/store\";\r\n\r\nexport type VSelectItems = {\r\n  text: string;\r\n  value: unknown;\r\n}[];\r\n\r\nexport const getSelectStakeholders = function(): VSelectItems {\r\n  return stakeholdersIds().map(id => ({\r\n    text: getStakeholderName(id),\r\n    value: id\r\n  }));\r\n};\r\nexport const getSelectAims = function(): VSelectItems {\r\n  return aimsIds().map(id => ({\r\n    text: getAimName(id),\r\n    value: id\r\n  }));\r\n};\r\nexport const getSelectCriterions = function(): VSelectItems {\r\n  return criterionsIds().map(id => ({\r\n    text: getCriterionName(id),\r\n    value: id\r\n  }));\r\n};\r\nexport const getSelectModes = function(): VSelectItems {\r\n  return Object.entries(state.modes).map(([key, object]) => ({\r\n    text: object!.name,\r\n    value: key\r\n  }));\r\n};\r\n","import router from \"@/router\";\r\nimport { openXlsxFromFile, state, dropFileInputRef } from \"@/store\";\r\nimport { computed } from \"vue\";\r\nimport { loadAll } from \"./fetch\";\r\n\r\nexport const handleLoadFile = () => {\r\n  dropFileInputRef.value?.click();\r\n};\r\n\r\nexport const preventDefaults = (e: any) => {\r\n  e.preventDefault();\r\n  e.stopPropagation();\r\n};\r\n\r\nexport const onFileDragEnter = (e: { target: HTMLElement }) => {\r\n  preventDefaults(e);\r\n  highlightDrop(e);\r\n};\r\nexport const onFileDragLeave = (e: { target: HTMLElement }) => {\r\n  preventDefaults(e);\r\n  unhighlightDrop(e);\r\n};\r\nexport const onFileDragOver = (e: { target: HTMLElement }) => {\r\n  preventDefaults(e);\r\n  highlightDrop(e);\r\n};\r\nexport const onFileDrop = (e: {\r\n  target: HTMLElement;\r\n  dataTransfer: DataTransfer;\r\n}) => {\r\n  preventDefaults(e);\r\n  unhighlightDrop(e);\r\n  const files = e.dataTransfer.files;\r\n  dropFileInputRef.value!.files = files;\r\n  onFileChange();\r\n};\r\nexport const onFileChange = async () => {\r\n  const file = dropFileInputRef.value?.files?.[0];\r\n  const route = router.resolve(`/project?xlsx=${file.name}`);\r\n  await loadAll(route);\r\n  router.push(route);\r\n};\r\nexport const getDropFileInputRef = computed(() => dropFileInputRef.value);\r\n\r\nexport const getInputFile = computed(\r\n  () => dropFileInputRef.value?.files?.[0]\r\n);\r\n\r\nexport const isXlsxType = (type: string) =>\r\n  type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\r\n\r\nexport const highlightDrop = (e: any) => {\r\n  e.currentTarget.classList.add(\"fileDropHighlight\");\r\n  if (!isXlsxType(e.dataTransfer.items[0].type)) {\r\n    e.currentTarget.classList.add(\"fileDropHighlight--invalid\");\r\n  }\r\n};\r\nexport const unhighlightDrop = (e: any) => {\r\n  e.currentTarget.classList.remove(\r\n    \"fileDropHighlight\",\r\n    \"fileDropHighlight--invalid\"\r\n  );\r\n};\r\n\r\nexport const initDropArea = (e: any) => {\r\n  const dropArea = document.querySelector(\"body\");\r\n  //@ts-ignore\r\n  dropArea.addEventListener(\"dragenter\", onFileDragEnter, false);\r\n  //@ts-ignore\r\n  dropArea.addEventListener(\"dragleave\", onFileDragLeave, false);\r\n  //@ts-ignore\r\n  dropArea.addEventListener(\"dragover\", onFileDragOver, false);\r\n  //@ts-ignore\r\n  dropArea.addEventListener(\"drop\", onFileDrop, false);\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nconst { Parser } = require(\"json2csv\");\r\n\r\nexport const getCSVFromJSON = (json: unknown): string => {\r\n  // const fields = [\"field1\", \"field2\", \"field3\"];\r\n  const opts = {\r\n    excelStrings: false,\r\n    delimiter: \";\",\r\n    quote: '\"',\r\n    includeEmptyRows: true,\r\n    defaultValue: \"\"\r\n  };\r\n  try {\r\n    const parser = new Parser(opts);\r\n    const csv = parser.parse(json);\r\n\r\n    return csv;\r\n  } catch (e) {\r\n    // console.error(e);\r\n    throw e;\r\n  }\r\n};\r\n","import { getCSVFromJSON } from \"@/data-csv\";\r\nimport { getRenamedItemsFromSpreadsheetToCSV } from \"@/data-renamed\";\r\nimport {\r\n  fetchSpreadsheetWorksheets,\r\n  SpreadsheetArgument,\r\n  SpreadsheetWorksheet,\r\n} from \"@/data-spreadsheet\";\r\nimport router from \"@/router\";\r\nimport {\r\n  getNextcloudDownloadUrlFromId,\r\n  getNextcloudFileFromUrl,\r\n  getProjectTypeFromRoute,\r\n  getRouteTypeValue,\r\n  getXlsxWorksheets,\r\n  state,\r\n  dropFileInputRef\r\n} from \"@/store\";\r\nimport { saveAs } from \"file-saver\";\r\nimport type { RouteLocationNormalized } from \"vue-router\";\r\nimport { ProjectGroupNames } from \"./cache\";\r\n\r\nexport const isExportableToCSV = () => {\r\n  const type = getProjectTypeFromRoute(router.currentRoute.value);\r\n  return (\r\n    type === ProjectGroupNames.GOOGLE_SPREADSHEET ||\r\n    type === ProjectGroupNames.XLSX ||\r\n    type === ProjectGroupNames.NEXTCLOUD\r\n  );\r\n};\r\n\r\nexport const exportToCSV = async (route: RouteLocationNormalized) => {\r\n  const id = getRouteTypeValue(route);\r\n  const projectType = getProjectTypeFromRoute(route);\r\n\r\n  if (projectType === ProjectGroupNames.GOOGLE_SPREADSHEET) {\r\n    const worksheets = await fetchSpreadsheetWorksheets(id);\r\n    await exportWorksheetsToCSV(worksheets);\r\n  }\r\n\r\n  if (projectType === ProjectGroupNames.NEXTCLOUD) {\r\n    const url = getNextcloudDownloadUrlFromId(id);\r\n    const file = await getNextcloudFileFromUrl(url);\r\n    const worksheets = await getXlsxWorksheets(file);\r\n    await exportWorksheetsToCSV(worksheets);\r\n  }\r\n\r\n  if (projectType === ProjectGroupNames.XLSX) {\r\n    const inputElement = dropFileInputRef.value;\r\n\r\n    if (inputElement?.files?.length) {\r\n      const file = inputElement.files[0];\r\n      const worksheets = await getXlsxWorksheets(file);\r\n      await exportWorksheetsToCSV(worksheets);\r\n    }\r\n    else {\r\n      console.error(\"Aucun fichier XLSX slectionn.\");\r\n    }\r\n  }\r\n  \r\n};\r\n\r\nexport const exportWorksheetsToCSV = async (\r\n  worksheets: SpreadsheetWorksheet[]\r\n) => {\r\n  const headersLengths: number[] = [];\r\n  const multiCSV: { [key: string]: string } = {};\r\n\r\n  const headerOrder = [\r\n    \"project\",\r\n    \"alternative\",\r\n    \"typesource\",\r\n    \"argument\",\r\n    \"hasexpertise\",\r\n  ];\r\n\r\n  worksheets.forEach((worksheet) => {\r\n    let data = worksheet.data;\r\n    const firstItem = data[0];\r\n    if (worksheet.title === \"parameters\" || !firstItem) {\r\n      return;\r\n    }\r\n\r\n    const headerLength = Object.keys(firstItem).length - 1;\r\n    headersLengths.push(headerLength);\r\n\r\n    if (worksheet.title === \"argument\") {\r\n      data = getRenamedItemsFromSpreadsheetToCSV(data as SpreadsheetArgument[]);\r\n    }\r\n\r\n    const CSV = getCSVFromJSON(data);\r\n    multiCSV[worksheet.title] = CSV;\r\n  });\r\n\r\n  const maxHeaderLength = Math.max(...headersLengths);\r\n  const lineSeparator = \";\".repeat(maxHeaderLength);\r\n\r\n  const sortedMultiCSV = Object.entries(multiCSV)\r\n    .sort(([a], [b]) => headerOrder.indexOf(a) - headerOrder.indexOf(b))\r\n    .reduce((r, [k, v]) => ({ ...r, [k]: v }), {});\r\n\r\n  const mergedCSV = Object.entries(sortedMultiCSV)\r\n    .map(([key, value]) => `\"${key}\"${lineSeparator}\\n${value}\\n${lineSeparator}`)\r\n    .join(\"\\n\");\r\n\r\n  const blob = getAsCSVBlob(mergedCSV);\r\n  saveAs(blob, state.project.name + \".csv\");\r\n};\r\n\r\nexport const getAsFile = (data: any, filename: string) => {\r\n  const blob = getAsCSVBlob(data);\r\n  return new File([blob], filename);\r\n};\r\n\r\nexport const getAsCSVBlob = (data: any) => {\r\n  return new Blob([data], { type: \"text/csv;charset=utf-8;\" });\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nexport * from \"./state\";\r\nexport * from \"./routes\";\r\nexport * from \"./notifications\";\r\nexport * from \"./fetch\";\r\nexport * from \"./items\";\r\nexport * from \"./aims\";\r\nexport * from \"./criterions\";\r\nexport * from \"./alternatives\";\r\nexport * from \"./suboptions\";\r\nexport * from \"./stakeholders\";\r\nexport * from \"./supersets\";\r\nexport * from \"./acceptability\";\r\nexport * from \"./utils\";\r\nexport * from \"./labels\";\r\nexport * from \"./select\";\r\nexport * from \"./spreadsheet\";\r\nexport * from \"./project\";\r\nexport * from \"./filedrop\";\r\nexport * from \"./xlsx\";\r\nexport * from \"./cache\";\r\nexport * from \"./csv\";\r\n\r\nimport { state } from \"./state\";\r\n\r\nimport { NormalizedData, NormalizedArgument } from \"@/@types\";\r\nimport router from \"@/router\";\r\nimport { loadAll } from \"./fetch\";\r\nimport { clearProjectDataCacheFromRoute } from \"./cache\";\r\n\r\nexport const getSearchInput = () => {\r\n  return state.searchInput;\r\n};\r\n\r\nexport const getPropById = function <K extends keyof NormalizedData>(\r\n  prop: K,\r\n  id: number\r\n) {\r\n  return state.data![prop][id];\r\n};\r\n\r\nexport const getUniqueOrBlank = (\r\n  items: NormalizedArgument[],\r\n  prop: keyof NormalizedArgument\r\n) => {\r\n  const arr: NormalizedArgument[] & null[] = [];\r\n  items.forEach((item) => {\r\n    //@ts-ignore\r\n    if (arr.indexOf(item[prop]) === -1) {\r\n      arr.push(item);\r\n    } else {\r\n      arr.push(null);\r\n    }\r\n  });\r\n  return arr;\r\n};\r\n\r\n// Clear all cache except\r\n// export const clearLocalStorageExcept = (excludedKeys: string[]) => {\r\n//   const toRestore: any = {};\r\n//   excludedKeys.forEach(key => {\r\n//     toRestore[key] = localStorage.getItem(key);\r\n//   });\r\n\r\n//   localStorage.clear();\r\n\r\n//   Object.keys(toRestore).forEach(key => {\r\n//     localStorage.setItem(key, toRestore[key]);\r\n//   });\r\n// };\r\n\r\nexport const refreshProject = async () => {\r\n  clearProjectDataCacheFromRoute(router.currentRoute.value);\r\n  await loadAll(router.currentRoute.value);\r\n};\r\n\r\n// DEPRECATED\r\n// export const clearSpreadsheetItemFromCache = (spreadsheetId: string) => {\r\n//   localStorage.removeItem(\"spreadsheet-\" + spreadsheetId);\r\n// };\r\n// export const clearIcoItemFromCache = (projectName: string) => {\r\n//   localStorage.removeItem(\"ico-\" + projectName);\r\n// };\r\n// export const clearApplicationCache = () => {\r\n//   const excludedKeys = [\"recentProjectNames\", \"recentProjectSpreadsheets\"];\r\n//   clearLocalStorageExcept(excludedKeys);\r\n// };\r\n","<template>\r\n  <v-app-bar elevation=\"0\" color=\"secondary\" dark app>\r\n    <!-- Menu burger -->\r\n    <v-app-bar-nav-icon @click.stop=\"state.drawer = !state.drawer\" />\r\n\r\n    <!-- Titre projet + bouton Google Sheet -->\r\n    <v-toolbar-title v-if=\"state.project && isProjectRoute\" class=\"d-flex align-center\">\r\n      <a\r\n        class=\"white--text text-truncate\"\r\n        style=\"max-width: 200px; display: block;\"\r\n        :title=\"state.project.name\"\r\n        @click=\"switchToView('project')\"\r\n      >\r\n        {{ state.project.name }}\r\n      </a>\r\n\r\n      <v-tooltip v-if=\"state.spreadsheet\" location=\"bottom\">\r\n        <template #activator=\"{ props }\">\r\n          <v-btn\r\n            icon\r\n            target=\"_blank\"\r\n            :href=\"getSpreadsheetLink(state.spreadsheet)\"\r\n            v-bind=\"props\"\r\n          >\r\n            <v-icon>mdi-google-spreadsheet</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <span>Open Spreadsheet</span>\r\n      </v-tooltip>\r\n    </v-toolbar-title>\r\n\r\n    <!-- Spacer -->\r\n    <v-spacer />\r\n\r\n    <!-- Logo MyChoice centr absolument -->\r\n    <div class=\"mychoice-logo-container\">\r\n      <router-link to=\"/\" class=\"logo-mychoice\">\r\n        <img\r\n          :src=\"state.baseUrl + 'logo-mychoice.svg'\"\r\n          alt=\"MyChoice Logo\"\r\n        />\r\n      </router-link>\r\n    </div>\r\n\r\n    <!-- Logo INRAE  droite -->\r\n    <div class=\"d-flex align-center mr-4\">\r\n      <img\r\n        :src=\"state.baseUrl + 'logo-inrae-white-transparent.png'\"\r\n        alt=\"INRAE Logo\"\r\n        class=\"logo-inrae\"\r\n      />\r\n    </div>\r\n  </v-app-bar>\r\n</template>\r\n\r\n\r\n\r\n\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { state, switchToView, getSpreadsheetLink } from '@/store'\r\n\r\nconst route = useRoute()\r\n\r\nconst isProjectRoute = computed(() => route.path.includes('/project'))\r\n</script>\r\n\r\n<style scoped>\r\n.mychoice-logo-container {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, calc(-50% + 14px)); /* <- ajout du dcalage */\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  pointer-events: none; /* Pour ne pas bloquer les clics */\r\n}\r\n\r\n.logo-mychoice img {\r\n  height: 40px;\r\n  pointer-events: auto; /* Pour rendre le lien actif malgr pointer-events: none sur le conteneur */\r\n}\r\n\r\n/* Logo INRAE taille adaptable */\r\n.logo-inrae {\r\n  height: 32px;\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 600px) {\r\n  .logo-mychoice img {\r\n    height: 30px;\r\n  }\r\n\r\n  .logo-inrae {\r\n    height: 24px;\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\r\n","import script from \"./AppBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AppBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AppBar.vue?vue&type=style&index=0&id=73702eaa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-73702eaa\"]])\n\nexport default __exports__","<template>\r\n  <v-navigation-drawer\r\n    app\r\n    v-model=\"state.drawer\"\r\n    fixed\r\n    temporary\r\n    hide-overlay\r\n  >    <v-list-item>\r\n      <!-- <v-list-item-content> -->\r\n        <v-list-item-title class=\"title\">\r\n          <router-link to=\"/\">\r\n            <img\r\n              style=\"padding: 2rem 0; width:100%; margin:auto;\"\r\n              :src=\"state.baseUrl + 'logo-mychoice-color.svg'\"\r\n            />\r\n          </router-link>\r\n        </v-list-item-title>\r\n      <!-- </v-list-item-content> -->\r\n    </v-list-item>\r\n\r\n    <v-divider />\r\n\r\n    <v-list nav dense>\r\n      <!-- <v-list-item-group> -->\r\n      <v-item-group>  \r\n        <v-list-item @click=\"handleLoadFile\">\r\n          <!-- <v-list-item-icon> -->\r\n            <v-icon>mdi-upload</v-icon>\r\n          <!-- </v-list-item-icon> -->\r\n          <v-list-item-title>Open local project <small>(.xlsx)</small></v-list-item-title>\r\n        </v-list-item>\r\n\r\n        <v-list-item @click=\"state.openDialog = true\">\r\n          <!-- <v-list-item-icon> -->\r\n            <v-icon>mdi-cloud-upload</v-icon>\r\n          <!-- </v-list-item-icon> -->\r\n          <v-list-item-title>Open online project</v-list-item-title>\r\n        </v-list-item>\r\n      </v-item-group>     \r\n      <!-- </v-list-item-group> -->\r\n\r\n      <v-list-item\r\n        href=\"https://docs.google.com/spreadsheets/d/1Cj5tC6JyLQxCHdtZJ8d9_-FSV9UbHT7AGE3wrLEMlig/copy\"\r\n        target=\"_blank\"\r\n      >\r\n        <!-- <v-list-item-icon> -->\r\n          <v-icon>mdi-plus-circle-outline</v-icon>\r\n        <!-- </v-list-item-icon> -->\r\n        <!-- <v-list-item-content> -->\r\n          <v-list-item-title>Create new project</v-list-item-title>\r\n          <v-list-item-subtitle>from spreadsheet template</v-list-item-subtitle>\r\n        <!-- </v-list-item-content> -->\r\n      </v-list-item>\r\n    </v-list>\r\n\r\n    <v-divider />\r\n\r\n    <!-- <v-subheader>Recent projects</v-subheader> -->\r\n    <v-list-subheader>Recent projects</v-list-subheader>\r\n\r\n    <v-card v-if=\"!hasRecentProjects\" disabled flat tile>\r\n      <v-card-subtitle>No recent projects</v-card-subtitle>\r\n    </v-card>\r\n\r\n    <v-list v-else subheader nav dense>\r\n      <v-list-item\r\n        v-for=\"(value, id) in recentProjects\"\r\n        :key=\"id\"\r\n        :to=\"getHrefFromTypeId({ type: value.type, id: value.id })\"\r\n      >\r\n        <v-list-item-title>{{ value.name || value.id }}</v-list-item-title>\r\n        <!-- <v-list-item-icon v-if=\"value.type === 'googlespreadsheet'\"> -->\r\n          <v-icon v-if=\"value.type === 'googlespreadsheet'\">mdi-google-spreadsheet</v-icon>\r\n        <!-- </v-list-item-icon> -->\r\n      </v-list-item>\r\n    </v-list>\r\n\r\n    <template v-slot:append>\r\n      <div class=\"pa-2\">\r\n        <v-btn\r\n          block\r\n          color=\"red\"\r\n          class=\"white--text\"\r\n          @click=\"refreshProject\"\r\n          :disabled=\"!route.path.includes('project')\"\r\n        >\r\n          <v-icon small class=\"mr-3\">mdi-autorenew</v-icon>\r\n          Refresh project\r\n        </v-btn>\r\n      </div>\r\n\r\n      <v-list nav dense>\r\n        <!-- <v-list-item-group> -->\r\n        <v-item-group>  \r\n          <v-list-item @click=\"state.aboutDialog = true\">\r\n            <v-list-item-title>About</v-list-item-title>\r\n          </v-list-item>\r\n        <!-- </v-list-item-group> -->\r\n        </v-item-group> \r\n      </v-list>\r\n\r\n      <v-divider />\r\n\r\n      <v-footer class=\"flex-grow-1\">\r\n        <Version />\r\n      </v-footer>\r\n    </template>\r\n  </v-navigation-drawer>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport Version from \"@/components/Version.vue\";\r\nimport {\r\n  state,\r\n  exportToCSV,\r\n  getImagePath,\r\n  openIco,\r\n  openSpreadsheet,\r\n  hasRecentProjects,\r\n  refreshProject,\r\n  recentProjects,\r\n  getHrefFromTypeId,\r\n  handleLoadFile,\r\n  isExportableToCSV,\r\n} from \"@/store\";\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    Version,\r\n  },\r\n  setup() {\r\n    const route = useRoute();\r\n\r\n    return {\r\n      state,\r\n      route,\r\n      recentProjects,\r\n      hasRecentProjects,\r\n      getHrefFromTypeId,\r\n      handleLoadFile,\r\n      isExportableToCSV,\r\n      openIco,\r\n      openSpreadsheet,\r\n      getImagePath,\r\n      exportToCSV,\r\n      refreshProject,\r\n    };\r\n  },\r\n});\r\n</script>\r\n","import { render } from \"./Drawer.vue?vue&type=template&id=d08f767e\"\nimport script from \"./Drawer.vue?vue&type=script&lang=js\"\nexport * from \"./Drawer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_list_item_action = _resolveComponent(\"v-list-item-action\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_combobox = _resolveComponent(\"v-combobox\")!\n  const _component_v_form = _resolveComponent(\"v-form\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n\n  return (_openBlock(), _createBlock(_component_v_row, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_col, null, {\n        default: _withCtx(() => [\n          _cache[4] || (_cache[4] = _createElementVNode(\"h3\", null, \"From INRAE's server\", -1)),\n          _createVNode(_component_v_row, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_col, {\n                cols: \"12\",\n                class: \"\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_form, {\n                    onSubmit: _cache[1] || (_cache[1] = _withModifiers(($event: any) => {\r\n              _ctx.handleOpenIco(_ctx.state.fields.projectName);\r\n              _ctx.state.openDialog = false;\r\n            }, [\"prevent\"]))\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_combobox, {\n                        items: \r\n                _ctx.recentIcoProjects.map(([key, value]) => ({\r\n                text: value.name,\r\n                value: value}))\r\n              ,\n                        \"item-text\": \"text\",\n                        \"item-value\": \"value\",\n                        label: \"Project name\",\n                        id: \"comboprojectname\",\n                        autocomplete: \"off\",\n                        \"search-input\": _ctx.state.fields.projectName,\n                        outlined: \"\"\n                      }, {\n                        item: _withCtx(({ index, item }) => [\n                          _createVNode(_component_v_list_item, {\n                            to: _ctx.getHrefFromTypeId({type: item.value.type, id: item.value.id})\n                          }, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_v_list_item_title, null, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(_toDisplayString(item.text), 1)\n                                ]),\n                                _: 2\n                              }, 1024),\n                              _createVNode(_component_v_spacer),\n                              _createVNode(_component_v_list_item_action, {\n                                onClick: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n                              }, {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_v_btn, {\n                                    icon: \"\",\n                                    onClick: _withModifiers(($event: any) => (\r\n                        _ctx.removeFromRecentProjects(item.value.type, {id: item.value.id})\r\n                      ), [\"stop\",\"prevent\"])\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createVNode(_component_v_icon, null, {\n                                        default: _withCtx(() => _cache[2] || (_cache[2] = [\n                                          _createTextVNode(\"mdi-close\")\n                                        ])),\n                                        _: 1\n                                      })\n                                    ]),\n                                    _: 2\n                                  }, 1032, [\"onClick\"])\n                                ]),\n                                _: 2\n                              }, 1024)\n                            ]),\n                            _: 2\n                          }, 1032, [\"to\"])\n                        ]),\n                        _: 1\n                      }, 8, [\"items\", \"search-input\"]),\n                      _createVNode(_component_v_btn, {\n                        class: \"ml-auto d-flex\",\n                        color: \"secondary\",\n                        disabled: !_ctx.state.fields.projectName,\n                        type: \"submit\"\n                      }, {\n                        default: _withCtx(() => _cache[3] || (_cache[3] = [\n                          _createTextVNode(\"Open from Ico\")\n                        ])),\n                        _: 1\n                      }, 8, [\"disabled\"])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","<template>\r\n  <v-row>\r\n    <v-col>\r\n      <h3>From INRAE's server</h3>\r\n      <v-row>\r\n        <v-col cols=\"12\" class>\r\n          <v-form\r\n            @submit.prevent=\"\r\n              handleOpenIco(state.fields.projectName);\r\n              state.openDialog = false;\r\n            \"\r\n          >\r\n            <v-combobox\r\n              :items=\"\r\n                recentIcoProjects.map(([key, value]) => ({\r\n                text: value.name,\r\n                value: value}))\r\n              \"\r\n              item-text=\"text\"\r\n              item-value=\"value\"\r\n              label=\"Project name\"\r\n              id=\"comboprojectname\"\r\n              autocomplete=\"off\"\r\n              :search-input.sync=\"state.fields.projectName\"\r\n              outlined\r\n            >\r\n              <template v-slot:item=\"{ index, item }\">\r\n                <v-list-item :to=\"getHrefFromTypeId({type: item.value.type, id: item.value.id})\">\r\n                  <v-list-item-title>{{ item.text }}</v-list-item-title>\r\n                  <v-spacer></v-spacer>\r\n                  <v-list-item-action @click.stop>\r\n                    <v-btn\r\n                      icon\r\n                      @click.stop.prevent=\"\r\n                        removeFromRecentProjects(item.value.type, {id: item.value.id})\r\n                      \"\r\n                    >\r\n                      <v-icon>mdi-close</v-icon>\r\n                    </v-btn>\r\n                  </v-list-item-action>\r\n                </v-list-item>\r\n              </template>\r\n            </v-combobox>\r\n            <v-btn\r\n              class=\"ml-auto d-flex\"\r\n              color=\"secondary\"\r\n              :disabled=\"!state.fields.projectName\"\r\n              type=\"submit\"\r\n              >Open from Ico</v-btn\r\n            >\r\n          </v-form>\r\n        </v-col>\r\n      </v-row>\r\n\r\n\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  \r\n  state,\r\n  getSpreadsheetIdFromUrl,\r\n  \r\n  removeFromRecentProjectNames,\r\n  removeFromRecentProjectSpreadsheets,\r\n  openIco,\r\n  openSpreadsheet,\r\n  isValidNextcloudUrl,\r\n  openNextcloudUrl,\r\n  recentSpreadsheetProjects,recentIcoProjects, recentNextcloudProjects,\r\n  removeFromRecentProjects, getHrefFromTypeId\r\n} from \"@/store\";\r\nimport { computed, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  \r\n\r\n  setup() {\r\n\r\n    const handleOpenIco = async function(value: string) {\r\n      await openIco(value);\r\n      state.fields.projectName = \"\";\r\n    }\r\n    const handleOpenSpreadsheet = async function(value: string) {\r\n      await openSpreadsheet(value);\r\n      state.fields.spreadsheetUrl = \"\";\r\n    }\r\n    const handleOpenNextcloudUrl = async function(value: string) {\r\n      await openNextcloudUrl(value);\r\n      state.fields.nextcloudUrl = \"\";\r\n    }\r\n    const spreadsheetId = computed(() => state.fields.spreadsheetUrl ? getSpreadsheetIdFromUrl(state.fields.spreadsheetUrl): \"\")\r\n\r\n    return  {\r\n      state,\r\n      isValidNextcloudUrl,\r\n      spreadsheetId,\r\n      openNextcloudUrl,\r\n      removeFromRecentProjectSpreadsheets,\r\n      removeFromRecentProjectNames,\r\n      handleOpenIco,\r\n      handleOpenSpreadsheet,\r\n      handleOpenNextcloudUrl, \r\n      recentSpreadsheetProjects,\r\n      recentNextcloudProjects,\r\n      recentIcoProjects,removeFromRecentProjects, getHrefFromTypeId\r\n    }\r\n\r\n  }\r\n});\r\n</script>\r\n","import { render } from \"./OpenDialog.vue?vue&type=template&id=62743f52&ts=true\"\nimport script from \"./OpenDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./OpenDialog.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-card class=\"text-center\">\r\n    <v-card-title class=\"justify-center\">About MyChoice</v-card-title>\r\n    <v-card-text>\r\n      <b>MyChoice</b> is a web application supporting collective decision,\r\n      designed by INRAE.\r\n    </v-card-text>\r\n\r\n    <!-- <v-card-subtitle class=\"subtitle-1\">Credits</v-card-subtitle> -->\r\n    <v-card-text>\r\n      <div>\r\n        <v-divider class=\"my-2\" />\r\n\r\n        <v-card-subtitle class=\"p-0\">Scientific contacts</v-card-subtitle>\r\n\r\n        <!-- <v-row>\r\n      <v-subheader>Credits</v-subheader>\r\n    </v-row>-->\r\n\r\n        <v-row>\r\n          <v-col>\r\n            <b>\r\n              <a href=\"mailto:rallou.thomopoulos@inrae.fr\"\r\n                >Rallou Thomopoulos</a\r\n              >\r\n            </b>\r\n            <br />\r\n            <small>INRAE (IATE lab) / INRIA (GraphIK lab)</small>\r\n          </v-col>\r\n          <v-col>\r\n            <b>\r\n              <a href=\"mailto:julien.cufi@inrae.fr\">Julien Cufi</a>\r\n            </b>\r\n            <br />\r\n            <small>INRAE (IATE lab)</small>\r\n          </v-col>\r\n        </v-row>\r\n        <v-divider class=\"my-2\" />\r\n        <v-card-subtitle>UX &amp; front-end development</v-card-subtitle>\r\n\r\n        <v-row>\r\n          <v-col>\r\n            <b>\r\n              <a href=\"https://maximelebreton.com\" target=\"_blank\"\r\n                >Maxime Le Breton</a\r\n              >\r\n            </b>\r\n            <br />\r\n            <small\r\n              >Independent designer &amp;&nbsp;front-end&nbsp;developer</small\r\n            >\r\n          </v-col>\r\n        </v-row>\r\n\r\n        <v-divider class=\"my-2\" />\r\n        <v-card-subtitle>Other contributors</v-card-subtitle>\r\n\r\n        <v-row>\r\n          <v-col>\r\n            <b>\r\n              Thomas Bosch\r\n            </b>\r\n            <br />\r\n            <small>Former student at IATE lab</small>\r\n          </v-col>\r\n        </v-row>\r\n\r\n        <v-divider class=\"my-2\" />\r\n        <v-row>\r\n          <v-col>\r\n            <a :href=\"state.baseUrl + 'licenses.txt'\" target=\"_blank\"\r\n              >Open source licenses</a\r\n            >\r\n          </v-col>\r\n          <v-col>\r\n            <a :href=\"state.baseUrl + 'Open_source_license_terms.pdf'\" target=\"_blank\"\r\n              >Open source licenses terms</a\r\n            >\r\n          </v-col>\r\n        </v-row>\r\n      </div>\r\n    </v-card-text>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { state } from \"@/store\";\r\nexport default {\r\n  data: () => ({\r\n    state\r\n  })\r\n};\r\n</script>\r\n","import { render } from \"./About.vue?vue&type=template&id=50aedd42\"\nimport script from \"./About.vue?vue&type=script&lang=js\"\nexport * from \"./About.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=0f565a0c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=0f565a0c&lang=scss\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport 'vuetify/styles'\r\nimport { createVuetify } from 'vuetify'\r\nimport {\r\n  VApp,\r\n  VAppBar,\r\n  VNavigationDrawer,\r\n  VList,\r\n  VListItem,\r\n  VListItemTitle,\r\n  VListItemSubtitle,\r\n  VDivider,\r\n  VBtn,\r\n  VIcon,\r\n  VCard,\r\n  VCardTitle,\r\n  VCardText,\r\n  VDialog,\r\n  VMain,\r\n  VItemGroup,       // pour remplacer VListItemGroup\r\n  VListSubheader,   // pour remplacer VSubheader\r\n  VOverlay,\r\n  VProgressCircular,\r\n  VSnackbar,\r\n  VFooter,\r\n  VContainer,\r\n  VListItemAction,\r\n  VSpacer,\r\n  VCardSubtitle,\r\n  VRow,\r\n  VCol,\r\n  VToolbarTitle,\r\n  VTooltip,\r\n  VAppBarNavIcon,\r\n  VForm,\r\n  VCombobox,\r\n  VImg,\r\n  VAvatar,\r\n  VChip,\r\n  VBadge,\r\n  VExpandTransition,\r\n  VMenu,\r\n  VBtnToggle,\r\n  VToolbar,\r\n  VAutocomplete,\r\n  VTextField,\r\n  VSelect,\r\n  VTable\r\n} from 'vuetify/components'\r\nimport * as directives from 'vuetify/directives'\r\nimport { aliases, mdi } from 'vuetify/iconsets/mdi'\r\n\r\nconst vuetify = createVuetify({\r\n  components: {\r\n    VApp,\r\n    VAppBar,\r\n    VNavigationDrawer,\r\n    VList,\r\n    VListItem,\r\n    VListItemTitle,\r\n    VListItemSubtitle,\r\n    VDivider,\r\n    VBtn,\r\n    VIcon,\r\n    VCard,\r\n    VCardTitle,\r\n    VCardText,\r\n    VDialog,\r\n    VMain,\r\n    VItemGroup,       // pour remplacer VListItemGroup\r\n    VListSubheader,   // pour remplacer VSubheader\r\n    VOverlay,\r\n    VProgressCircular,\r\n    VSnackbar,\r\n    VFooter,\r\n    VContainer,\r\n    VListItemAction,\r\n    VSpacer,\r\n    VCardSubtitle,\r\n    VRow,\r\n    VCol,\r\n    VToolbarTitle,\r\n    VTooltip,\r\n    VAppBarNavIcon,\r\n    VForm,\r\n    VCombobox,\r\n    VImg,\r\n    VAvatar,\r\n    VChip,\r\n    VBadge,\r\n    VExpandTransition,\r\n    VMenu,\r\n    VBtnToggle,\r\n    VToolbar,\r\n    VAutocomplete,\r\n    VTextField,\r\n    VSelect,\r\n    VTable\r\n  },\r\n  directives,\r\n  icons: {\r\n    defaultSet: 'mdi',\r\n    aliases,\r\n    sets: { mdi },\r\n  },\r\n  theme: {\r\n    defaultTheme: 'light',\r\n    themes: {\r\n      light: {\r\n        colors: {\r\n          primary: '#4F4F4F',\r\n          secondary: '#00A3F6',\r\n          accent: '#8c9eff',\r\n          error: '#b71c1c',\r\n        },\r\n      },\r\n      dark: {\r\n        colors: {\r\n          primary: '#4F4F4F',\r\n          secondary: '#00A3A6',\r\n          accent: '#8c9eff',\r\n          error: '#b71c1c',\r\n        },\r\n      },\r\n    },\r\n  },\r\n})\r\n\r\nexport default vuetify\r\n// Vue.use(Vuetify);\r\n\r\n// export default new Vuetify({\r\n//   theme: {\r\n//     themes: {\r\n//       light: {\r\n//         primary: \"#4F4F4F\",\r\n//         secondary: \"#00A3A6\"\r\n//         // secondary: \"#b0bec5\",\r\n//         // accent: \"#8c9eff\",\r\n//         // error: \"#b71c1c\"\r\n//       }\r\n//     }\r\n//   }\r\n// });\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { App } from 'vue';\r\nimport Highlighter from 'vue-highlight-words';\r\n\r\n  export default {\r\n    install(app: App) {\r\n      app.component('Highlighter', Highlighter);\r\n    },\r\n  };","import { setRecentProjectsState } from \".\";\r\n\r\nexport const onAppInit = async () => {\r\n  setRecentProjectsState();\r\n};\r\n\r\nexport const onProjectLoad = () => {};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { createApp } from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport vuetify from './plugins/vuetify';\r\nimport Highlighter from './plugins/text-highlight';\r\nimport 'roboto-fontface/css/roboto/roboto-fontface.css';\r\nimport '@mdi/font/css/materialdesignicons.css';\r\n\r\nimport { onAppInit } from './store/events';\r\n\r\n(async () => {\r\n  await onAppInit();\r\n\r\n  const app = createApp(App);\r\n  app.use(router);\r\n  app.use(vuetify);\r\n  app.use(Highlighter); //  Enregistre TextHighlight globalement\r\n  app.mount('#app');\r\n})();\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmy_choice\"] = self[\"webpackChunkmy_choice\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(4133); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_v_app","class","default","_withCtx","_createVNode","_component_AppBar","_component_Drawer","_createElementVNode","type","ref","accept","style","onChange","_cache","args","_ctx","onFileChange","_component_v_main","_component_router_view","_","_component_v_dialog","modelValue","state","openDialog","$event","_component_v_card","_component_v_card_title","_component_v_icon","_createTextVNode","_component_v_card_text","_component_OpenDialog","aboutDialog","_component_About","_component_v_overlay","overlay","_component_v_progress_circular","indeterminate","size","color","_component_v_snackbar","isNotification","location","_createElementBlock","_Fragment","_renderList","notifications","notification","index","key","_toDisplayString","message","actions","_component_v_btn","variant","onClick","refreshProject","isError","timeout","getErrors","innerHTML","getErrorMessage","_hoisted_1","clearErrors","DEFAULTS","mode","globalCardType","searchInput","selectedSuperset","selectedSupersets","selectedAims","selectedCriterions","selectedStakeholders","compareDialog","dialog","spreadsheet","selectedView","data","project","creditsDialog","dropFileInputRef","reactive","vm","baseUrl","process","modes","consensus","name","interplay","prospective","expertise","icons","subOption","compare","drawer","errors","FAILED_TO_FETCH_SPREADSHEET","FAILED_TO_FETCH_ICO","snackbar","fields","projectName","spreadsheetUrl","nextcloudUrl","errorMessages","recentProjects","recentProjectNames","localStorage","JSON","parse","recentProjectSpreadsheets","clearAppDataAndProject","clearAppMode","clearAll","clearAppFilters","clearAppDialogs","splice","getImagePath","url","regex","RegExp","isAbsoluteUrl","test","isSpreadsheet","computed","$route","query","isLoading","isEmptyProject","getSpreadsheetLink","spreadsheetId","is1stLevelStakeholdersMode","showOverlay","hideOverlay","watch","newValue","oldValue","recentSpreadsheetProjects","Object","entries","filter","recentIcoProjects","recentNextcloudProjects","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","render","$props","$setup","$data","$options","_resolveComponent","_component_v_img","_component_v_avatar","_component_v_list_item","_component_v_col","_component_v_row","_component_v_container","_component_Empty","_openBlock","width","src","image","cover","alternativesIds","alternativeId","_createCommentVNode","getAlternatives","icon","switchToView","description","href","target","elevation","getRouteProjectId","small","defineComponent","setup","__exports__","components","Empty","getFilteredItemsBy","justify","cols","md","_component_v_sheet","alt","_component_v_responsive","controls","handleLoadFile","_component_v_list_subheader","flat","length","_component_v_list","density","value","to","getHrefFromTypeId","id","append","_withModifiers","removeFromRecentProjects","_component_v_list_item_title","_component_Version","version","Version","_component_Header","fluid","rounded","_component_TableList","disabled","_component_v_badge","content","floating","_component_SupersetCard","superset","_component_v_expand_transition","_defineComponent","__name","__props","router","useRouter","isActiveRoute","currentRoute","clearSearch","debounceInput","debounce","getSelectModesComputed","getSelectModes","orderedStakeholders","orderByPropName","getSelectStakeholders","orderedCriterions","getSelectCriterions","orderedAims","getSelectAims","async","loadAll","_component_v_menu","_component_v_tooltip","_component_v_select","_component_v_toolbar","_component_v_autocomplete","_component_v_text_field","text","activator","props","tooltipProps","menuProps","_mergeProps","_unref","items","label","clearable","multiple","hint","autocomplete","_component_TableListHead","_component_TableListCriterion","_component_TableListAim","_component_TableListAlternative","_component_TableListFoot","c_criterionsIds","criterionId","getAimsBy","aim","_withDirectives","_vShow","getFilteredCriterions","includes","getFilteredAims","subOptionsIds","subOptionId","getFilteredItems","colspan","alternatives","tablelistfoot","getAllItems","alternative","title","pluralize","totalAcceptability","_component_ScoreIcon","score","_component_v_chip","getColorName","getAcceptabilityName","Number","getAcceptabilityFromAlternativeId","getWeightedAcceptability","getSubOptions","ScoreIcon","_component_Acceptability","_component_ItemsCount","c_alternativesIds","aimsItems","count","totalItems","Boolean","acceptability","getAcceptabilityFromProCon","scoreTitle","toRefs","obj","forEach","values","reduce","acc","Acceptability","ItemsCount","rowspan","c_criterions","criterion","criterionItems","required","result","_normalizeClass","getLabels","getCardsByStakeholder","_component_TableListCard","property","toggleSuperset","_component_Highlighter","searchWords","textToHighlight","getStakeholderName","stakeholder","findSuperset","addSupersetInSelection","removeSupersetInSelection","condition","getItemsBy","this","item","TableListCard","methods","sortBy","getUniqueFilteredLabelsBy","getItems","getFilteredItemsGroupByProp","TableListCriterion","TableListHead","TableListFoot","TableListAlternative","TableListAim","filteredCriterions","filteredItems","filteredAims","subOptions","criterions","criterionsIds","aims","aimsIds","unselectSuperset","_normalizeStyle","getAlternativeName","getCriterionName","getAimName","_component_v_divider","textContent","supersetItems","duplicateGroups","_component_SupersetCardItem","duplicatesCount","ripple","outlined","openMe","open","source","assertion","explanation","date","formatDate","getCriterionById","mounted","map","SupersetCardItem","getDuplicatesGroups","Header","TableList","SupersetCard","_component_PropertyListRow","_component_v_table","getAlternativeById","getNormalizedItemsByUniqueItemProp","_component_PropertiesListCriterion","hasMany","showDetails","aimItems","row","getAimsCountFromAimsAndCriterion","getAimsFromItems","argument","getAimById","filterItemsBy","Array","String","uniqBy","countBy","getSubOptionById","normalizeByAlternative","PropertiesListCriterion","height","setHeight","tableFilters","document","querySelector","tableFiltersRect","getBoundingClientRect","window","innerHeight","bottom","PropertyListRow","$nextTick","updated","created","addEventListener","destroyed","removeEventListener","_component_StakeholderListRow","aimItem","aimIndex","stakeholderItem","stakeholderIndex","alternativeIndex","stakeholderItems","console","log","onMounted","onUpdated","onBeforeUnmount","StakeholderListRow","routes","path","component","Home","Main","Project","Properties","Stakeholders","createRouter","history","createWebHistory","beforeEach","from","next","afterEach","startsWith","toProjectType","getProjectTypeFromRoute","fromProjectType","toProjectId","getRouteTypeValue","fromProjectId","isSameProject","loadProject","meta","setDocumentTitle","route","PROJECT_TYPE_ROUTES","ICO","GOOGLE_SPREADSHEET","NEXTCLOUD","e","info","clearProjectDataCacheFromRoute","routeName","push","projectNameRouteQuery","spreadsheetIdRouteQuery","nextcloudIdRouteQuery","XLSX","errorName","keys","error","dayjs","customParseFormat","MyChoiceError","Error","constructor","super","captureStackTrace","stack","setError","errorValue","format","getRange","min","max","range","isFinite","list","propName","sort","a","b","sortObject","o","r","k","str","object","suffix","formatted","match","exec","lastIndex","undefined","replace","wordToPluralize","linkedVar","plural","gsheets","require","getSpreadsheet","response","fetch","json","fetchSpreadsheetWorksheets","worksheets","sheets","promises","refs","worksheet","properties","getWorksheet","Promise","all","hasExpectedProperties","resolve","reject","lastTestedProp","hasAll","every","prop","prototype","hasOwnProperty","call","isValidWorkSheet","worksheetsExpectedProps","firstWorksheetItem","then","checkEmptyArguments","line","checkUniqueAimsHasUniqueCriterions","nameCriterion","join","getRenamedSpreadsheetItems","argumentWorksheet","find","rawSpreadsheetItems","spreadsheetItems","typeProCon","renamedItem","idArgument","favorable","sourceType","toString","getRenamedSpreadsheetProject","projectWorksheet","spreadsheetProject","alternativeWorksheet","iconAlternative","spreadsheetAlternatives","renamedAlternatives","nameAlternative","imageAlternative","expertiseWorksheet","spreadsheetExpertises","renamedExpertiseEntities","nameStakeHolder","sourceTypeWorksheet","spreadsheetSourceType","renamedSourceTypeEntities","fiability","nameTypeSource","renamedProject","nameProject","expertiseEntities","sourceTypeEntities","getSpreadsheetData","renamedSpreadsheetItems","getSpreadsheetIdFromUrl","matches","getIcoRenamedProject","sourceProject","stakeholders","nameStakeholder","renamedAlternative","typeSource","hasExpertise","getIcoRenamedItems","sourceArguments","nameProperty","nameSource","getEquivalentTable","equivalentTable","csv","server","isProspective","getEquivalentAppPropFromSource","findKey","getEquivalentSourcePropFromApp","equivalent","getRenamedItemPropFromTo","appProperty","toProperty","getRenamedItemsFromSpreadsheetToCSV","v","renamedProp","getPropertyUniqueValues","allValues","uniq","getCriterions","getAimsWithParentCriterion","allAimsTuples","aimsTuples","joinTuple","tuple","aimId","getIdFrom","getStakeholders","getProperties","array","getPropertyValueTuples","allPropertyValueTuples","propertyValueTuples","normalizeArray","normalizeAlternatives","split","pop","parseItems","toLowerCase","getNormalizedSubsets","normalizedCriterions","normalizedAlternatives","normalizedStakeholders","normalizedAims","normalizedItems","getNormalizedData","normalizedData","labels","getInterplayItems","propertyGroups","groupBy","propertyGroupsWithMultipleAims","groupItems","aimGroups","interplayItems","flatten","getMultiStakholderItems","aimGroupsWithMultipleStakeholders","stakeholderGroups","multiStakeholderItems","filterDataAsExpertise","expertiseArguments","some","entity","filterDataAsReliability","prospectiveArguments","filterDataAsProspective","filterDataAsInterplay","filterDataAsMultiStakeholder","isValidNextcloudUrl","getNextcloudDownloadUrlFromId","nextcloudId","getNextcloudFileFromUrl","downloadUrl","blob","getNextcloudIdFromUrl","file","File","getNextcloudDataFromUrl","geXlsxData","setDataFromXlsxFile","clear","setData","openXlsxFromFile","getJsonFromXlsx","xlsxParser","getXlsxWorksheets","openSpreadsheet","routeParams","openIco","openNextcloudUrl","getIcoData","getIcoProjectData","icoId","getIcoItemsData","projectSource","fetchIcoProject","dataSource","fetchIcoData","rawItems","rawProject","parsedData","interplayData","normalizedInterplayData","freeze","prospectiveData","normalizedProspectiveData","reliabilityData","normalizedReliabilityData","expertiseData","normalizedExpertiseData","multiStakeholderData","normalizedMultiStakeholderData","ProjectGroupNames","initialCacheState","projects","LOCAL_STORAGE_CACHE_KEY","getLocalStorageCache","getItem","getProjectsCache","getProjectFromCache","setLocalStorageCache","setItem","stringify","updateLocalStorageCache","toMerge","currentCache","mergedCache","merge","removeFromLocalStorageCache","cache","updatedCache","omit","updateProjectCache","projectItem","saveProjectToCache","getRecentProjectsByTypeFromCache","getAsFlattenProjects","typeId","itemId","itemValue","itemFullId","getProjectFullId","hasRecentProjects","setRecentProjectsState","getProjectsSortedByDate","prev","i","recentProjectsArray","saveToRecentProjects","isProjectInCache","Date","now","isProjectExist","removeProjectFromCache","removeProjectDataFromCache","isProjectCached","getProjectDataCacheFromRoute","getProjectCacheFromRoute","setProjectCache","removeFromRecentProjectNames","removeFromRecentProjectSpreadsheets","getIcoApiUrl","projectId","warn","getRouteTypeFromProjectType","loadSpreadsheetFromRoute","loadIcoFromRoute","loadNextcloudFromRoute","routeType","params","matched","fullPath","hash","redirectedFrom","fileInput","files","getAlternativesAsArray","getAims","getAimsAsArray","filterItemsByValue","payload","input","normalizeByAim","itemProp","filtered","normalizedObject","itemPropValue","stakeholdersIds","stakeholderId","getPayloadHash","ordered","getSelectedSupersets","selectSuperset","string","indexOf","stringifiedObject","roundNumber","number","Math","round","alternativeSums","alternativeAcceptability","j","alternativeWeigths","getWeightByAlternativeV2","alternativeWeight","l","sums","sumArray","numberOrNull","isNaN","alternativeItems","pro","con","proCount","totalCount","noItemsAtAll","noItemsForThisAlternative","weight","arrayToSum","filterLabelsBy","click","preventDefaults","preventDefault","stopPropagation","onFileDragEnter","highlightDrop","onFileDragLeave","unhighlightDrop","onFileDragOver","onFileDrop","dataTransfer","isXlsxType","currentTarget","classList","add","remove","initDropArea","dropArea","Parser","getCSVFromJSON","opts","excelStrings","delimiter","quote","includeEmptyRows","defaultValue","parser","isExportableToCSV","exportToCSV","projectType","exportWorksheetsToCSV","inputElement","headersLengths","multiCSV","headerOrder","firstItem","headerLength","CSV","maxHeaderLength","lineSeparator","repeat","sortedMultiCSV","mergedCSV","getAsCSVBlob","saveAs","Blob","useRoute","isProjectRoute","_component_v_navigation_drawer","app","fixed","temporary","block","nav","dense","_component_v_item_group","_component_v_footer","_component_router_link","_component_v_list_item_subtitle","subheader","tile","_component_v_card_subtitle","_component_v_spacer","_component_v_list_item_action","_component_v_combobox","_component_v_form","onSubmit","handleOpenIco","handleOpenSpreadsheet","handleOpenNextcloudUrl","AppBar","Drawer","OpenDialog","About","get","set","val","vuetify","createVuetify","VApp","VAppBar","VNavigationDrawer","VList","VListItem","VListItemTitle","VListItemSubtitle","VDivider","VBtn","VIcon","VCard","VCardTitle","VCardText","VDialog","VMain","VItemGroup","VListSubheader","VOverlay","VProgressCircular","VSnackbar","VFooter","VContainer","VListItemAction","VSpacer","VCardSubtitle","VRow","VCol","VToolbarTitle","VTooltip","VAppBarNavIcon","VForm","VCombobox","VImg","VAvatar","VChip","VBadge","VExpandTransition","VMenu","VBtnToggle","VToolbar","VAutocomplete","VTextField","VSelect","VTable","directives","defaultSet","aliases","sets","mdi","theme","defaultTheme","themes","light","colors","primary","secondary","accent","dark","install","Highlighter","onAppInit","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","n","getter","__esModule","d","definition","defineProperty","enumerable","g","globalThis","Function","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}