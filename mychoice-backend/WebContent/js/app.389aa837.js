(function(){var e={4133:function(e,t,r){"use strict";var a=r(3751),n=r(641),s=r(33);const l=["innerHTML"];function o(e,t,r,a,o,i){const c=(0,n.g2)("AppBar"),u=(0,n.g2)("Drawer"),d=(0,n.g2)("router-view"),p=(0,n.g2)("v-main"),m=(0,n.g2)("v-icon"),v=(0,n.g2)("v-card-title"),h=(0,n.g2)("OpenDialog"),g=(0,n.g2)("v-card-text"),f=(0,n.g2)("v-card"),b=(0,n.g2)("v-dialog"),y=(0,n.g2)("About"),k=(0,n.g2)("v-progress-circular"),E=(0,n.g2)("v-overlay"),_=(0,n.g2)("v-btn"),C=(0,n.g2)("v-snackbar"),x=(0,n.g2)("v-app");return(0,n.uX)(),(0,n.Wv)(x,{class:"bg-grey-lighten-4"},{default:(0,n.k6)((()=>[(0,n.bF)(c),(0,n.bF)(u),(0,n.Lk)("input",{type:"file",ref:"dropFileInputRef",accept:".xlsx",style:{display:"none"},onChange:t[0]||(t[0]=(...t)=>e.onFileChange&&e.onFileChange(...t))},null,544),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(d)])),_:1}),(0,n.bF)(b,{modelValue:e.state.openDialog,"onUpdate:modelValue":t[1]||(t[1]=t=>e.state.openDialog=t),"max-width":"600"},{default:(0,n.k6)((()=>[(0,n.bF)(f,null,{default:(0,n.k6)((()=>[(0,n.bF)(v,{class:"d-flex align-center"},{default:(0,n.k6)((()=>[(0,n.bF)(m,{class:"mr-2"},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("mdi-cloud-upload")]))),_:1}),t[6]||(t[6]=(0,n.Lk)("span",null,"Open online project",-1))])),_:1}),(0,n.bF)(g,null,{default:(0,n.k6)((()=>[(0,n.bF)(h)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.bF)(b,{modelValue:e.state.aboutDialog,"onUpdate:modelValue":t[2]||(t[2]=t=>e.state.aboutDialog=t),"max-width":"600"},{default:(0,n.k6)((()=>[(0,n.bF)(y)])),_:1},8,["modelValue"]),(0,n.bF)(E,{"model-value":e.state.overlay,class:"d-flex justify-center align-center","z-index":"3"},{default:(0,n.k6)((()=>[(0,n.bF)(k,{indeterminate:"",size:"64",color:"primary"})])),_:1},8,["model-value"]),(0,n.bF)(C,{modelValue:e.isNotification,"onUpdate:modelValue":t[3]||(t[3]=t=>e.isNotification=t),color:"info",location:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(m,{class:"mr-2"},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("mdi-information")]))),_:1}),(0,n.Lk)("div",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.notifications,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t},(0,s.v_)(e.message),1)))),128))])])),actions:(0,n.k6)((()=>[(0,n.bF)(_,{variant:"outlined",size:"small",onClick:e.refreshProject},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("Refresh")]))),_:1},8,["onClick"])])),_:1},8,["modelValue"]),(0,n.bF)(C,{modelValue:e.isError,"onUpdate:modelValue":t[4]||(t[4]=t=>e.isError=t),color:"error",timeout:"0","multi-line":""},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.getErrors,((t,r)=>((0,n.uX)(),(0,n.CE)("div",{key:r},[(0,n.Lk)("span",{innerHTML:e.getErrorMessage(t)},null,8,l)])))),128))])),actions:(0,n.k6)((()=>[(0,n.bF)(_,{variant:"text",onClick:e.clearErrors},{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("Close")]))),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1})}r(8111),r(3579);var i=r(953),c=r(5220);r(4114),r(7588),r(2489);const u={mode:"consensus",globalCardType:"label",searchInput:"",selectedSuperset:"",selectedSupersets:[],selectedAims:[],selectedCriterions:[],selectedStakeholders:[],compareDialog:!1,dialog:!1,openDialog:!1,spreadsheet:null,selectedView:"table-view",data:null,project:null,aboutDialog:!1,creditsDialog:!1},d=(0,i.KR)(null),p=(0,i.Kh)({vm:null,notifications:[],baseUrl:"/",selectedView:u.selectedView,spreadsheet:u.spreadsheet,data:u.data,project:u.project,searchInput:u.searchInput,selectedSuperset:u.selectedSuperset,selectedSupersets:u.selectedSupersets,selectedAims:u.selectedAims,selectedCriterions:u.selectedCriterions,selectedStakeholders:u.selectedStakeholders,mode:u.mode,modes:{consensus:{name:"Consensus"},interplay:{name:"Interplay"},prospective:{name:"Prospective"},expertise:{name:"Expertise"},"data-reliability":{name:"Data reliability"},"multi-stakeholder":{name:"Multi Stakeholder"}},globalCardType:"label",dialog:u.dialog,compareDialog:u.compareDialog,openDialog:u.openDialog,aboutDialog:u.aboutDialog,creditsDialog:u.creditsDialog,icons:{subOption:{1:"mdi-emoticon-happy-outline",2:"mdi-emoticon-sad-outline"},compare:"mdi"},overlay:!1,drawer:!1,errors:{FAILED_TO_FETCH_SPREADSHEET:!1,FAILED_TO_FETCH_ICO:!1},snackbar:!1,fields:{projectName:"",spreadsheetUrl:"",nextcloudUrl:""},errorMessages:{FAILED_TO_FETCH_SPREADSHEET:"The Spreadsheet isn't published or doesn't exist",FAILED_TO_FETCH_ICO:"This project name doesn't exist (note: name is case-sensitive)"},recentProjects:[],recentProjectNames:localStorage.recentProjectNames&&null!==JSON.parse(localStorage.recentProjectNames)?JSON.parse(localStorage.recentProjectNames):{},recentProjectSpreadsheets:localStorage.recentProjectSpreadsheets&&null!==JSON.parse(localStorage.recentProjectSpreadsheets)?JSON.parse(localStorage.recentProjectSpreadsheets):{}}),m=()=>{p.data=u.data,p.project=u.project,p.spreadsheet=u.spreadsheet},v=()=>{p.mode=u.mode},h=()=>{m(),f(),v(),g()},g=()=>{p.selectedSuperset=u.selectedSuperset,p.selectedSupersets.splice(0),p.compareDialog=u.compareDialog,p.dialog=u.dialog,p.openDialog=u.openDialog},f=()=>{p.searchInput=u.searchInput,p.selectedAims=u.selectedAims,p.selectedCriterions=u.selectedCriterions,p.selectedStakeholders=u.selectedStakeholders},b=e=>{const t=new RegExp("^(?:[a-z]+:)?//","i"),r=t.test(e);return r?e:"hhttp://localhost:8080/img/"+p.project.name+"/"+e},y=(0,n.EW)((()=>!!(p.vm&&p.vm.$route&&p.vm.$route.query&&p.vm.$route.query.spreadsheet))),k=((0,n.EW)((()=>p.vm&&p.vm.$route?p.vm.$route:null)),(0,n.EW)((()=>p.overlay))),E=(0,n.EW)((()=>null===p.project)),_=e=>`https://docs.google.com/spreadsheets/d/${e}`,C=((0,n.EW)((()=>p.project&&p.project.name?p.project.name:null)),(0,n.EW)((()=>"stakeholder"===p.globalCardType))),x=(0,n.EW)((()=>p.selectedSupersets)),F=()=>{p.overlay=!0},I=()=>{p.overlay=!1};(0,n.wB)((()=>p.globalCardType),((e,t)=>{e!==t&&g()}));const L=(0,n.EW)((()=>Object.entries(p.recentProjects).filter((([e,{type:t}])=>"googlespreadsheet"===t)))),S=(0,n.EW)((()=>Object.entries(p.recentProjects).filter((([e,{type:t}])=>"ico"===t)))),w=(0,n.EW)((()=>Object.entries(p.recentProjects).filter((([e,{type:t}])=>"nextcloud"===t)))),O={class:"d-flex flex-column align-center justify-center h-100 text-white text-center px-4"},j={class:"text-h3 mb-2"},A={class:"d-flex flex-wrap justify-center"},W={key:0,class:"mx-2 text-caption font-weight-light my-span-vs"},X={class:"d-flex align-center mx-2"},T={class:"text-center my-4 mt-n6"},P={class:"text-body-1"},R={class:"d-flex flex-wrap justify-center"},D={key:0,class:"d-flex align-center mx-4"},N={class:"text-h6 font-weight-bold mb-1"},H=["src"];function B(e,t,r,a,l,o){const i=(0,n.g2)("v-icon"),c=(0,n.g2)("v-img"),u=(0,n.g2)("v-btn"),d=(0,n.g2)("v-card-text"),p=(0,n.g2)("v-avatar"),m=(0,n.g2)("v-list-item"),v=(0,n.g2)("v-card"),h=(0,n.g2)("v-col"),g=(0,n.g2)("v-row"),f=(0,n.g2)("v-container"),b=(0,n.g2)("Empty");return(0,n.uX)(),(0,n.Wv)(v,{class:"flex-grow-1 bg-grey-lighten-4"},{default:(0,n.k6)((()=>[e.state.project?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.bF)(c,{class:"align-center my-v-img","max-height":"300",width:"100%",src:e.getImagePath(e.state.project.image),cover:""},{default:(0,n.k6)((()=>[(0,n.Lk)("div",O,[(0,n.Lk)("h1",j,(0,s.v_)(e.state.project.name),1),t[1]||(t[1]=(0,n.Lk)("div",{class:"text-h6 font-weight-light mb-2"}," The alternatives discussed in the project are: ",-1)),(0,n.Lk)("div",A,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.alternativesIds,((t,r)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[0!==r?((0,n.uX)(),(0,n.CE)("span",W,"VS")):(0,n.Q3)("",!0),(0,n.Lk)("div",X,[(0,n.bF)(i,{class:"me-1"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.getAlternatives[t].icon),1)])),_:2},1024),(0,n.Lk)("span",null,(0,s.v_)(e.getAlternatives[t].name),1)])],64)))),128))])])])),_:1},8,["src"]),(0,n.Lk)("div",T,[(0,n.bF)(u,{onClick:t[0]||(t[0]=t=>e.switchToView("global-view")),size:"x-large",color:"primary"},{default:(0,n.k6)((()=>[(0,n.eW)(" Open "+(0,s.v_)(e.state.project.name)+" project ",1)])),_:1})]),(0,n.bF)(f,{style:{"max-width":"1200px"}},{default:(0,n.k6)((()=>[(0,n.bF)(d,{class:"text-primary text-center"},{default:(0,n.k6)((()=>[(0,n.Lk)("p",P,(0,s.v_)(e.state.project.description),1)])),_:1}),(0,n.bF)(g,null,{default:(0,n.k6)((()=>[(0,n.bF)(h,{style:{"overflow-x":"auto","text-align":"center"}},{default:(0,n.k6)((()=>[(0,n.Lk)("div",R,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.alternativesIds,((r,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:"card-"+r+a},[0!==a?((0,n.uX)(),(0,n.CE)("div",D,t[2]||(t[2]=[(0,n.Lk)("small",{class:"text-grey-darken-1 font-weight-bold text-h6"},"VS",-1)]))):(0,n.Q3)("",!0),(0,n.bF)(v,{"min-width":"280","max-width":"320",class:"mx-2 mb-4",variant:"outlined"},{default:(0,n.k6)((()=>[(0,n.bF)(m,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",N,[(0,n.bF)(i,{class:"text-primary me-2"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.getAlternatives[r].icon),1)])),_:2},1024),(0,n.eW)(" "+(0,s.v_)(e.getAlternatives[r].name),1)]),(0,n.bF)(p,{size:"56",color:"grey"},{default:(0,n.k6)((()=>[(0,n.Lk)("img",{src:e.getImagePath(e.getAlternatives[r].image)},null,8,H)])),_:2},1024)])),_:2},1024),(0,n.bF)(d,null,{default:(0,n.k6)((()=>[(0,n.Lk)("p",null,(0,s.v_)(e.getAlternatives[r].description),1)])),_:2},1024)])),_:2},1024)],64)))),128))])])),_:1})])),_:1}),(0,n.bF)(g,null,{default:(0,n.k6)((()=>[(0,n.bF)(h,null,{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.Lk)("div",{class:"mt-6"},[(0,n.Lk)("h2",{class:"text-h6 font-weight-bold"},"Disclaimer"),(0,n.Lk)("ul",{class:"text-caption ps-4"},[(0,n.Lk)("li",null," The authors and publisher of the software cannot be held liable in any way for the consequences that may result from the use or interpretation of the information processed by the MyChoice software... "),(0,n.Lk)("li",null,[(0,n.eW)(" By using the MyChoice software, users agree to explicitly cite the tool (home page "),(0,n.Lk)("a",{href:"https://ico.iate.inra.fr/MyChoice/",target:"_blank"},"https://ico.iate.inra.fr/MyChoice/"),(0,n.eW)(")... ")])])],-1)]))),_:1})])),_:1})])),_:1})],64)):((0,n.uX)(),(0,n.Wv)(b,{key:1}))])),_:1})}const V={key:0,class:"d-flex flex-column align-center justify-center flex-grow-1",style:{"min-height":"100%"}},$={class:"mb-5"},q={key:0},M=["href"];function U(e,t,r,a,l,o){const i=(0,n.g2)("v-icon"),c=(0,n.g2)("v-btn"),u=(0,n.g2)("v-container"),d=(0,n.g2)("v-card");return e.isEmptyProject&&!e.isLoading?((0,n.uX)(),(0,n.CE)("div",V,[(0,n.bF)(d,{color:"transparent",class:"text-center",elevation:"0"},{default:(0,n.k6)((()=>[(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.Lk)("h4",$,[e.isSpreadsheet?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",q,(0,s.v_)(e.getRouteProjectId),1)),e.isSpreadsheet?((0,n.uX)(),(0,n.CE)("a",{key:1,target:"_blank",href:e.getSpreadsheetLink(e.getRouteProjectId)},(0,s.v_)(e.getRouteProjectId),9,M)):(0,n.Q3)("",!0),e.isSpreadsheet?((0,n.uX)(),(0,n.Wv)(i,{key:2,class:"ml-2"},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("mdi-google-spreadsheet")]))),_:1})):(0,n.Q3)("",!0)]),(0,n.bF)(c,{onClick:e.refreshProject},{default:(0,n.k6)((()=>[(0,n.bF)(i,{small:"",class:"mr-3"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("mdi-autorenew")]))),_:1}),t[2]||(t[2]=(0,n.eW)("Refresh project "))])),_:1},8,["onClick"])])),_:1})])),_:1})])):(0,n.Q3)("",!0)}var G=(0,n.pM)({setup(){return{getSpreadsheetLink:_,isSpreadsheet:y,getRouteProjectId:Gr,state:p,refreshProject:Cl,isLoading:k,isEmptyProject:E}}}),Q=r(6262);const K=(0,Q.A)(G,[["render",U]]);var z=K,J=(0,n.pM)({components:{Empty:z},setup(){return{state:p,getImagePath:b,getFilteredItemsBy:Is,switchToView:Vr,alternativesIds:(0,n.EW)((()=>ts())),getAlternatives:(0,n.EW)((()=>Zn()))}}});const Y=(0,Q.A)(J,[["render",B],["__scopeId","data-v-19fbed7c"]]);var Z=Y;const ee={class:"text-left mb-6"},te=["src"],re={class:"my-6 d-flex justify-center"};function ae(e,t,r,l,o,i){const c=(0,n.g2)("v-responsive"),u=(0,n.g2)("v-sheet"),d=(0,n.g2)("v-col"),p=(0,n.g2)("v-btn"),m=(0,n.g2)("v-list-subheader"),v=(0,n.g2)("v-card-text"),h=(0,n.g2)("v-list-item-title"),g=(0,n.g2)("v-icon"),f=(0,n.g2)("v-list-item"),b=(0,n.g2)("v-list"),y=(0,n.g2)("v-card"),k=(0,n.g2)("v-row"),E=(0,n.g2)("Version"),_=(0,n.g2)("v-container");return(0,n.uX)(),(0,n.Wv)(_,{class:"pa-4 pa-sm-6",style:{"max-width":"1200px"}},{default:(0,n.k6)((()=>[(0,n.bF)(k,{class:"bg-grey-lighten-4 py-6",justify:"center"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{cols:"12",md:"8"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{elevation:"0",class:"pa-0","max-width":"100%"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",ee,[(0,n.Lk)("img",{src:e.state.baseUrl+"logo-mychoice-color.svg",style:{"max-width":"240px",width:"100%"},alt:"MyChoice Logo"},null,8,te)]),t[2]||(t[2]=(0,n.Lk)("p",null,[(0,n.Lk)("b",null,"MyChoice"),(0,n.eW)(" is a web application supporting collective decision, designed by INRAE. The software enables project participants to: ")],-1)),t[3]||(t[3]=(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,"Analyze, compare and assess stakeholders' attitudes towards different alternatives."),(0,n.Lk)("li",null,"Review explanatory arguments stemming from various sources and reflecting different concerns."),(0,n.Lk)("li",null,"Explain the criteria, aims and features pursued."),(0,n.Lk)("li",null,"Highlight potential synergies or competing concerns."),(0,n.Lk)("li",null,"Propose different modes of decision support (expert, consensual, prospective, etc.).")],-1)),(0,n.Lk)("div",re,[(0,n.bF)(c,{class:"my-6","aspect-ratio":"16/9",style:{"max-width":"600px",width:"100%"}},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.Lk)("video",{controls:"",style:{width:"100%",height:"100%"}},[(0,n.Lk)("source",{src:"presentation_mychoice.mp4"}),(0,n.eW)(" Your browser does not support the "),(0,n.Lk)("code",null,"video"),(0,n.eW)(" element. ")],-1)]))),_:1})]),t[4]||(t[4]=(0,n.Lk)("h6",{class:"text-overline mb-2"},"References",-1)),t[5]||(t[5]=(0,n.Lk)("ul",{class:"text-caption"},[(0,n.Lk)("li",null,[(0,n.eW)(" Rallou Thomopoulos, Julien Cufi, Maxime Le Breton. A Generic Software to Support Collective Decision in Food Chains and in Multi-Stakeholder Situations. "),(0,n.Lk)("em",null,"FoodSim 2020"),(0,n.eW)(", Sep 2020, Ghent, Belgium. ("),(0,n.Lk)("a",{href:"https://hal.archives-ouvertes.fr/hal-02484363",target:"_blank"},"hal-02484363"),(0,n.eW)(") ")]),(0,n.Lk)("li",null,[(0,n.eW)(" Rallou Thomopoulos. A practical application approach to argumentation for multicriteria analysis and decision support. "),(0,n.Lk)("em",null,"EURO journal on decision processes"),(0,n.eW)(", Springer, 2018, 6 (3-4), pp.237-255. ("),(0,n.Lk)("a",{href:"https://dx.doi.org/10.1007/s40070-018-0087-2",target:"_blank"},"10.1007/s40070-018-0087-2"),(0,n.eW)(") ("),(0,n.Lk)("a",{href:"https://hal.archives-ouvertes.fr/hal-01918020",target:"_blank"},"hal-01918020"),(0,n.eW)(") ")])],-1)),t[6]||(t[6]=(0,n.Lk)("h6",{class:"text-overline mt-6 mb-2"},"Disclaimer",-1)),t[7]||(t[7]=(0,n.Lk)("div",{class:"text-caption"},[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null," The authors and publisher of the software cannot be held liable for the consequences resulting from the use of MyChoice. Information entered is the user's responsibility and affects the final result. "),(0,n.Lk)("li",null," Users agree to cite the tool in any communication and not use contributor branding without explicit consent. ")])],-1))])),_:1})])),_:1}),(0,n.bF)(d,{cols:"12",md:"4"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{elevation:"0"},{default:(0,n.k6)((()=>[(0,n.bF)(k,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{cols:"12",class:"d-flex justify-center mb-4"},{default:(0,n.k6)((()=>[(0,n.bF)(p,{onClick:e.handleLoadFile,"prepend-icon":"mdi-upload"},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)(" Open local project ")]))),_:1},8,["onClick"])])),_:1}),(0,n.bF)(d,{cols:"12",class:"d-flex justify-center mb-4"},{default:(0,n.k6)((()=>[(0,n.bF)(p,{onClick:t[0]||(t[0]=t=>e.state.openDialog=!0),"prepend-icon":"mdi-cloud-upload"},{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)(" Open online project ")]))),_:1})])),_:1}),(0,n.bF)(d,{cols:"12"},{default:(0,n.k6)((()=>[(0,n.bF)(m,null,{default:(0,n.k6)((()=>t[10]||(t[10]=[(0,n.eW)("Recent projects")]))),_:1}),(0,n.bF)(y,{flat:""},{default:(0,n.k6)((()=>[e.recentProjects.length?((0,n.uX)(),(0,n.Wv)(b,{key:1,density:"compact"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.recentProjects,((r,l)=>((0,n.uX)(),(0,n.Wv)(f,{key:"home-recent-"+l,to:e.getHrefFromTypeId({type:r.type,id:r.id})},{append:(0,n.k6)((()=>["googlespreadsheet"===r.type?((0,n.uX)(),(0,n.Wv)(g,{key:0},{default:(0,n.k6)((()=>t[12]||(t[12]=[(0,n.eW)("mdi-google-spreadsheet")]))),_:1})):(0,n.Q3)("",!0),(0,n.bF)(p,{icon:"mdi-close",variant:"text",size:"small",onClick:(0,a.D$)((t=>e.removeFromRecentProjects(r.type,{id:r.id})),["stop","prevent"])},null,8,["onClick"])])),default:(0,n.k6)((()=>[(0,n.bF)(h,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(r.name||r.id),1)])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:1})):((0,n.uX)(),(0,n.Wv)(v,{key:0,class:"text-grey"},{default:(0,n.k6)((()=>t[11]||(t[11]=[(0,n.eW)("No recent projects")]))),_:1}))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.bF)(k,{class:"left mt-6"},{default:(0,n.k6)((()=>[(0,n.bF)(E)])),_:1})])),_:1})}const ne={class:"text--small grey--text"};function se(e,t,r,a,l,o){return(0,n.uX)(),(0,n.CE)("small",ne,"v"+(0,s.v_)(e.version),1)}var le={data:()=>({version:"0.0.1-natclinn"})};const oe=(0,Q.A)(le,[["render",se]]);var ie=oe,ce=(0,n.pM)({components:{Version:ie},setup(){return{state:p,recentProjects:In,getHrefFromTypeId:Jn,removeFromRecentProjects:An,handleLoadFile:sl}}});const ue=(0,Q.A)(ce,[["render",ae]]);var de=ue;const pe={key:0,class:"view-container"},me={class:"header-section"},ve={class:"tablelist-section"},he={class:"compare-container elevation-3"},ge={class:"close-btn-container"};function fe(e,t,r,s,l,o){const i=(0,n.g2)("Header"),c=(0,n.g2)("v-container"),u=(0,n.g2)("TableList"),d=(0,n.g2)("v-card"),p=(0,n.g2)("v-icon"),m=(0,n.g2)("v-badge"),v=(0,n.g2)("v-btn"),h=(0,n.g2)("SupersetCard"),g=(0,n.g2)("v-dialog"),f=(0,n.g2)("v-expand-transition");return e.state.project&&e.state.data?((0,n.uX)(),(0,n.CE)("div",pe,[(0,n.Lk)("div",me,[(0,n.bF)(c,{style:{"max-width":"1400px"}},{default:(0,n.k6)((()=>[(0,n.bF)(i)])),_:1})]),(0,n.Lk)("div",ve,[(0,n.bF)(c,{class:"tablelist-container",fluid:"",style:{"max-width":"1600px"}},{default:(0,n.k6)((()=>[(0,n.bF)(d,{elevation:"0",rounded:"lg"},{default:(0,n.k6)((()=>[t[3]||(t[3]=(0,n.Lk)("div",{class:"tablelist-x-shadow"},null,-1)),t[4]||(t[4]=(0,n.Lk)("div",{class:"tablelist-y-shadow"},null,-1)),((0,n.uX)(),(0,n.Wv)(u,{key:e.state.project?.name}))])),_:1})])),_:1})]),t[5]||(t[5]=(0,n.Lk)("div",{class:"bottom-padding"},null,-1)),(0,n.bF)(v,{onClick:t[0]||(t[0]=t=>e.state.compareDialog=!e.state.compareDialog),color:"secondary",disabled:0===e.selectedSupersets.length,class:"floating-button",variant:"flat",elevation:"8"},{default:(0,n.k6)((()=>[(0,n.bF)(p,{icon:"mdi-select-compare"}),e.selectedSupersets.length>0?((0,n.uX)(),(0,n.Wv)(m,{key:0,content:e.selectedSupersets.length,color:"black","text-color":"white",floating:"","offset-x":"-12","offset-y":"-12"},null,8,["content"])):(0,n.Q3)("",!0)])),_:1},8,["disabled"]),(0,n.bF)(g,{"onClick:outside":t[1]||(t[1]=t=>e.state.selectedSuperset=""),"model-value":e.state.selectedSuperset.length>0,"max-width":"480px"},{default:(0,n.k6)((()=>[e.state.selectedSuperset.length?((0,n.uX)(),(0,n.Wv)(h,{key:0,superset:JSON.parse(e.state.selectedSuperset)},null,8,["superset"])):(0,n.Q3)("",!0)])),_:1},8,["model-value"]),(0,n.bF)(f,null,{default:(0,n.k6)((()=>[(0,n.bo)((0,n.Lk)("div",he,[(0,n.bF)(d,{color:"grey-lighten-4",flat:""},{default:(0,n.k6)((()=>[(0,n.Lk)("div",ge,[(0,n.bF)(v,{onClick:t[2]||(t[2]=t=>e.state.compareDialog=!1),size:"x-small",icon:"",color:"secondary"},{default:(0,n.k6)((()=>[(0,n.bF)(p,{icon:"mdi-close"})])),_:1})]),(0,n.bF)(c,{class:"supersets-container",fluid:""},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.selectedSupersets,(t=>((0,n.uX)(),(0,n.CE)("div",{class:"card-compare",key:t+e.state.mode},[(0,n.bF)(h,{compare:!0,cols:4,superset:JSON.parse(t)},null,8,["superset"])])))),128))])),_:1})])),_:1})],512),[[a.aG,e.state.compareDialog&&e.selectedSupersets.length]])])),_:1})])):(0,n.Q3)("",!0)}var be=r(2543);const ye={class:"me-2 d-flex align-center"};var ke=(0,n.pM)({__name:"Header",setup(e){const t=(0,c.rd)(),r=e=>t.currentRoute.value.name===e,a=()=>{p.searchInput=""},s=(0,be.debounce)((e=>{p.searchInput=e}),200),l=(0,n.EW)((()=>nl())),o=(0,n.EW)((()=>la(tl(),"text"))),u=(0,n.EW)((()=>la(al(),"text"))),d=(0,n.EW)((()=>la(rl(),"text")));return(0,n.wB)((()=>p.mode),(async()=>{await Yn(t.currentRoute.value,!1)})),(e,t)=>{const c=(0,n.g2)("v-icon"),m=(0,n.g2)("v-btn"),v=(0,n.g2)("v-list-item-title"),h=(0,n.g2)("v-list-item"),g=(0,n.g2)("v-list"),f=(0,n.g2)("v-menu"),b=(0,n.g2)("v-tooltip"),y=(0,n.g2)("v-select"),k=(0,n.g2)("v-toolbar"),E=(0,n.g2)("v-col"),_=(0,n.g2)("v-autocomplete"),x=(0,n.g2)("v-row"),F=(0,n.g2)("v-text-field");return(0,n.uX)(),(0,n.Wv)(x,{class:"table-filters"},{default:(0,n.k6)((()=>[(0,n.bF)(E,{class:"flex-grow-0",style:{"align-self":"center"}},{default:(0,n.k6)((()=>[(0,n.bF)(k,{color:"transparent",density:"comfortable",class:"pr-2"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",ye,[(0,n.bF)(b,{text:"Global view",location:"top"},{activator:(0,n.k6)((({props:e})=>[(0,n.bF)(f,{location:"bottom"},{activator:(0,n.k6)((({props:a})=>[(0,n.bF)(m,(0,n.v6)({icon:""},{...e,...a},{variant:r("global-view")?"flat":"text",onClick:t[0]||(t[0]=e=>(0,i.R1)(Vr)("global-view"))}),{default:(0,n.k6)((()=>[(0,n.bF)(c,{icon:"mdi-table",color:r("global-view")?"primary":"grey"},null,8,["color"]),(0,n.bF)(c,{icon:"mdi-chevron-down",color:r("global-view")?"primary":"grey"},null,8,["color"])])),_:2},1040,["variant"])])),default:(0,n.k6)((()=>[(0,n.bF)(g,null,{default:(0,n.k6)((()=>[(0,i.R1)(C)?((0,n.uX)(),(0,n.Wv)(h,{key:1,onClick:t[2]||(t[2]=e=>(0,i.R1)(p).globalCardType="label")},{default:(0,n.k6)((()=>[(0,n.bF)(v,null,{default:(0,n.k6)((()=>t[10]||(t[10]=[(0,n.eW)("By Label")]))),_:1})])),_:1})):((0,n.uX)(),(0,n.Wv)(h,{key:0,onClick:t[1]||(t[1]=e=>(0,i.R1)(p).globalCardType="stakeholder")},{default:(0,n.k6)((()=>[(0,n.bF)(v,null,{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("By Stakeholder")]))),_:1})])),_:1}))])),_:1})])),_:2},1024)])),_:1}),(0,n.bF)(b,{text:"Stakeholder view",location:"top"},{activator:(0,n.k6)((({props:e})=>[(0,n.bF)(m,(0,n.v6)({icon:""},e,{variant:r("stakeholder-view")?"flat":"text",onClick:t[3]||(t[3]=e=>(0,i.R1)(Vr)("stakeholder-view"))}),{default:(0,n.k6)((()=>[(0,n.bF)(c,{icon:"mdi-account-multiple",color:r("stakeholder-view")?"primary":"grey"},null,8,["color"])])),_:2},1040,["variant"])])),_:1}),(0,n.bF)(b,{text:"Property view",location:"top"},{activator:(0,n.k6)((({props:e})=>[(0,n.bF)(m,(0,n.v6)({icon:""},e,{variant:r("property-view")?"flat":"text",onClick:t[4]||(t[4]=e=>(0,i.R1)(Vr)("property-view"))}),{default:(0,n.k6)((()=>[(0,n.bF)(c,{icon:"mdi-format-list-bulleted",color:r("property-view")?"primary":"grey"},null,8,["color"])])),_:2},1040,["variant"])])),_:1})]),(0,n.bF)(y,{items:l.value,"item-title":"text","item-value":"value",modelValue:(0,i.R1)(p).mode,"onUpdate:modelValue":t[5]||(t[5]=e=>(0,i.R1)(p).mode=e),label:"Select mode","hide-details":"",class:"ml-6 flex-grow-1",density:"comfortable",style:{"min-width":"200px"}},null,8,["items","modelValue"])])),_:1})])),_:1}),(0,n.bF)(E,{class:"px-6"},{default:(0,n.k6)((()=>[(0,n.bF)(x,null,{default:(0,n.k6)((()=>[(0,n.bF)(E,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,{clearable:"","item-color":"secondary",color:"secondary",label:"Stakeholders",modelValue:(0,i.R1)(p).selectedStakeholders,"onUpdate:modelValue":t[6]||(t[6]=e=>(0,i.R1)(p).selectedStakeholders=e),items:o.value,"item-title":"text",multiple:"",hint:`${(0,i.R1)(p).selectedStakeholders.length}/${(0,i.R1)(tl).length}`,"persistent-hint":"",autocomplete:"off",id:"selected-stakeholders",density:"comfortable"},null,8,["modelValue","items","hint"])])),_:1}),(0,n.bF)(E,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,{clearable:"","item-color":"secondary",color:"secondary",label:"Criteria",modelValue:(0,i.R1)(p).selectedCriterions,"onUpdate:modelValue":t[7]||(t[7]=e=>(0,i.R1)(p).selectedCriterions=e),items:u.value,"item-title":"text",multiple:"",hint:`${(0,i.R1)(p).selectedCriterions.length}/${(0,i.R1)(al).length}`,"persistent-hint":"",autocomplete:"off",id:"selected-criteria",density:"comfortable"},null,8,["modelValue","items","hint"])])),_:1}),(0,n.bF)(E,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,{clearable:"","item-color":"secondary",color:"secondary",label:"Aims",modelValue:(0,i.R1)(p).selectedAims,"onUpdate:modelValue":t[8]||(t[8]=e=>(0,i.R1)(p).selectedAims=e),items:d.value,"item-title":"text",multiple:"",hint:`${(0,i.R1)(p).selectedAims.length}/${(0,i.R1)(rl).length}`,"persistent-hint":"",autocomplete:"off",id:"selected-aims",density:"comfortable"},null,8,["modelValue","items","hint"])])),_:1})])),_:1})])),_:1}),(0,n.bF)(E,{class:"flex-grow-0",style:{"min-width":"200px"}},{default:(0,n.k6)((()=>[(0,n.bF)(F,{color:"secondary",label:"Search","model-value":(0,i.R1)(p).searchInput,"onUpdate:modelValue":(0,i.R1)(s),clearable:"",density:"comfortable"},{"append-inner":(0,n.k6)((()=>[(0,n.bF)(c,{icon:"mdi-magnify",class:"cursor-pointer",onClick:a})])),_:1},8,["model-value","onUpdate:modelValue"])])),_:1})])),_:1})}}});const Ee=ke;var _e=Ee;const Ce={class:"table-wrapper"},xe={class:"custom-table"},Fe={key:0,style:{height:"100%"},class:"text-center"},Ie=["colspan"],Le={class:"grey--text"};function Se(e,t,r,s,l,o){const i=(0,n.g2)("TableListHead"),c=(0,n.g2)("TableListCriterion"),u=(0,n.g2)("TableListAim"),d=(0,n.g2)("TableListAlternative"),p=(0,n.g2)("v-btn"),m=(0,n.g2)("TableListFoot"),v=(0,n.g2)("v-container");return(0,n.uX)(),(0,n.Wv)(v,{fluid:"",class:"pa-0 fill-height d-flex flex-column"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",Ce,[(0,n.Lk)("table",xe,[(0,n.Lk)("thead",null,[(0,n.bF)(i)]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.c_criterionsIds,(t=>((0,n.uX)(),(0,n.CE)(n.FK,{key:`criterion-block-${t}`},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.getAimsBy("criterion",t),((r,s)=>((0,n.uX)(),(0,n.CE)("tr",{key:`aim-${t}-${r.id}`},[0===s?(0,n.bo)(((0,n.uX)(),(0,n.Wv)(c,{key:0,aim:r,criterionId:t},null,8,["aim","criterionId"])),[[a.aG,e.getFilteredCriterions.includes(t)]]):(0,n.Q3)("",!0),(0,n.bo)((0,n.bF)(u,{aim:r},null,8,["aim"]),[[a.aG,e.getFilteredAims.includes(r.id)]]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.alternativesIds,(s=>((0,n.uX)(),(0,n.CE)(n.FK,{key:`alternative-block-${s}`},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.subOptionsIds,(l=>(0,n.bo)(((0,n.uX)(),(0,n.Wv)(d,{key:`alternative-${s}-${l}`,aim:r,criterionId:t,alternativeId:s,subOptionId:l,alternativesIds:e.alternativesIds,subOptionsIds:e.subOptionsIds},null,8,["aim","criterionId","alternativeId","subOptionId","alternativesIds","subOptionsIds"])),[[a.aG,e.getFilteredAims.includes(r.id)]]))),128))],64)))),128))])))),128))],64)))),128)),e.getFilteredItems.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("tr",Fe,[(0,n.Lk)("td",{class:"pt-10",colspan:5+e.alternativesIds.length},[(0,n.Lk)("b",Le,[t[1]||(t[1]=(0,n.eW)(" No results. ")),t[2]||(t[2]=(0,n.Lk)("br",null,null,-1)),t[3]||(t[3]=(0,n.Lk)("br",null,null,-1)),(0,n.bF)(p,{small:"",color:"secondary",onClick:e.clearAppFilters},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("clear filters")]))),_:1},8,["onClick"])])],8,Ie)]))]),(0,n.Lk)("tfoot",null,[(0,n.bF)(m)])])])])),_:1})}const we={class:"text-uppercase"},Oe=["colspan"];function je(e,t,r,a,l,o){const i=(0,n.g2)("v-icon");return(0,n.uX)(),(0,n.CE)("tr",we,[t[0]||(t[0]=(0,n.Lk)("th",{class:"criterion"},"Criterion",-1)),t[1]||(t[1]=(0,n.Lk)("th",{class:"aim"},"Aim",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.alternativesIds,(t=>((0,n.uX)(),(0,n.CE)("th",{key:`alternative-${t}`,colspan:e.subOptionsIds.length,class:"alternative"},[e.state.data?.alternatives?.[t]?.icon?((0,n.uX)(),(0,n.Wv)(i,{key:0},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.state.data.alternatives[t].icon),1)])),_:2},1024)):(0,n.Q3)("",!0),(0,n.eW)(" "+(0,s.v_)(e.getAlternatives[t]?.name||"Unnamed"),1)],8,Oe)))),128))])}var Ae=(0,n.pM)({name:"TableListHead",setup(){return{state:p,alternativesIds:(0,n.EW)((()=>ts())),subOptionsIds:(0,n.EW)((()=>Ws())),getAlternatives:(0,n.EW)((()=>Zn()))}}});const We=(0,Q.A)(Ae,[["render",je],["__scopeId","data-v-6544bdca"]]);var Xe=We;const Te={tablelistfoot:""},Pe={"criterion-aim":"",class:"text-right",colspan:"2"},Re={class:"grey--text",style:{"font-weight":"normal"}},De={style:{width:"90%"}},Ne={class:"text-left"},He={class:"text-right"};function Be(e,t,r,a,l,o){const i=(0,n.g2)("v-container"),c=(0,n.g2)("v-icon"),u=(0,n.g2)("ScoreIcon");return(0,n.uX)(),(0,n.CE)("tr",Te,[(0,n.Lk)("th",Pe,[(0,n.bF)(i,null,{default:(0,n.k6)((()=>[(0,n.Lk)("small",Re,[t[0]||(t[0]=(0,n.eW)(" Arguments: ")),(0,n.Lk)("b",null,(0,s.v_)(e.getFilteredItems.length)+"/"+(0,s.v_)(e.getAllItems.length),1)])])),_:1})]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.alternativesIds,(r=>((0,n.uX)(),(0,n.CE)("th",{key:`subOption-${r}`,alternative:"",colspan:2},[(0,n.Lk)("table",De,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",Ne,[(0,n.bF)(c,{color:"green",title:e.pluralize("{count} {argument:count}",{count:e.getFilteredItemsBy({alternative:r,favorable:!0}).length})},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)(" mdi-emoticon-happy-outline ")]))),_:2},1032,["title"])]),(0,n.Lk)("td",null,[(0,n.eW)(" Attitude: "+(0,s.v_)(e.totalAcceptability[r])+" ",1),(0,n.bF)(u,{alternative:r,score:e.totalAcceptability[r]},null,8,["alternative","score"])]),(0,n.Lk)("td",He,[(0,n.bF)(c,{color:"red",title:e.pluralize("{count} {argument:count}",{count:e.getFilteredItemsBy({alternative:r,favorable:!1}).length})},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)(" mdi-emoticon-sad-outline ")]))),_:2},1032,["title"])])])])])))),128))])}function Ve(e,t,r,a,l,o){const i=(0,n.g2)("v-icon"),c=(0,n.g2)("v-avatar"),u=(0,n.g2)("v-chip");return(0,n.uX)(),(0,n.CE)("span",null,[e.icon?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(i,{key:0,title:e.title,"x-small":"",color:e.getColorName(e.getAcceptabilityName(e.score))},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("mdi-circle")]))),_:1},8,["title","color"])),e.icon?((0,n.uX)(),(0,n.Wv)(u,{key:1,variant:"outlined",size:"x-small",title:"title",style:{padding:"0"},color:"getColorName(getAcceptabilityName(score))"},{default:(0,n.k6)((()=>[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[e.state.data&&e.state.data.alternatives[e.alternative]?((0,n.uX)(),(0,n.Wv)(i,{key:0,small:""},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.state.data.alternatives[e.alternative].icon),1)])),_:1})):(0,n.Q3)("",!0)])),_:1})])),_:1})):(0,n.Q3)("",!0)])}var $e=(0,n.pM)({props:{score:{type:Number||null},title:{},alternative:{type:Number},icon:{}},setup(e){return{state:p,getColorName:e=>"pro"===e?"green":"con"===e?"red":"mix"===e?"orange":"rgba(0,0,0,1)",getAcceptabilityName:Js}}});const qe=(0,Q.A)($e,[["render",Ve]]);var Me=qe,Ue=(0,n.pM)({setup(){return{state:p,getAcceptabilityFromAlternativeId:Ys,getFilteredItemsBy:Is,getWeightedAcceptability:Gs,pluralize:ia,totalAcceptability:(0,n.EW)((()=>Gs(_s()))),alternativesIds:(0,n.EW)((()=>ts())),subOptionsIds:(0,n.EW)((()=>Ws())),getSubOptions:(0,n.EW)((()=>As())),getFilteredItems:(0,n.EW)((()=>_s())),getAllItems:(0,n.EW)((()=>Es()))}},components:{ScoreIcon:Me}});const Ge=(0,Q.A)(Ue,[["render",Be]]);var Qe=Ge;const Ke={aim:""},ze={class:"d-flex flex-column justify-space-between text-break"},Je={class:"d-flex"},Ye={class:"mt-1 d-flex flex-wrap flex-grow-1"};function Ze(e,t,r,a,l,o){const i=(0,n.g2)("Acceptability"),c=(0,n.g2)("ItemsCount");return(0,n.uX)(),(0,n.CE)("td",Ke,[(0,n.Lk)("div",ze,[(0,n.Lk)("div",Je,(0,s.v_)(e.aim.name),1),(0,n.Lk)("div",Ye,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.c_alternativesIds,((t,r)=>((0,n.uX)(),(0,n.Wv)(i,{key:"aim-alternative-"+r+e.aimsItems[t],class:"mb-1 mr-1",icon:!0,alternative:t,items:e.aimsItems[t]},null,8,["alternative","items"])))),128))])]),(0,n.bF)(c,{count:e.totalItems},null,8,["count"])])}r(8237);function et(e,t,r,a,l,o){const i=(0,n.g2)("v-chip");return(0,n.uX)(),(0,n.Wv)(i,{variant:"outlined",size:"x-small",color:"default",title:"title"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.count),1)])),_:1})}var tt=(0,n.pM)({props:["count"],setup(e){return{title:(0,n.EW)((()=>ia("{count} {argument:count}",{count:e.count})))}}});const rt=(0,Q.A)(tt,[["render",et]]);var at=rt,nt=(0,n.pM)({__name:"Acceptability",props:{items:{},alternative:{},icon:{type:Boolean}},setup(e){const t=e,r=(0,n.EW)((()=>zs(t.items))),a=(0,n.EW)((()=>null!==r.value?`${ia("{count} {argument:count}",{count:t.items.length})} - ${100*r.value}% pro`:""));return(e,t)=>((0,n.uX)(),(0,n.Wv)(Me,{title:a.value,alternative:e.alternative,icon:e.icon,score:r.value},null,8,["title","alternative","icon","score"]))}});const st=nt;var lt=st,ot=(0,n.pM)({props:{aim:{type:Object}},setup(e){const{aim:t}=(0,i.QW)(e),r=(0,n.EW)((()=>{let e={};return rs.value.forEach((r=>{const a=Is({alternative:r,aim:t.value.id});e[r]=a})),e})),a=(0,n.EW)((()=>Object.values(r.value).reduce(((e,t)=>e+t.length),0)));return{c_alternativesIds:rs,aimsItems:r,totalItems:a,getFilteredItemsBy:Is}},components:{Acceptability:lt,ItemsCount:at}});const it=(0,Q.A)(ot,[["render",Ze]]);var ct=it;const ut=["rowspan"],dt={class:"d-flex flex-column justify-space-between text-break"},pt={class:"mt-1 flex-grow-1 flex-wrap d-flex"};function mt(e,t,r,a,l,o){const i=(0,n.g2)("Acceptability"),c=(0,n.g2)("ItemsCount");return(0,n.uX)(),(0,n.CE)("td",{class:"criterion",rowspan:e.getAimsBy("criterion",e.criterionId).length},[(0,n.Lk)("div",dt,[(0,n.Lk)("div",null,(0,s.v_)(e.c_criterions[e.aim.criterion].name),1),(0,n.Lk)("div",pt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.c_alternativesIds,((t,r)=>((0,n.uX)(),(0,n.Wv)(i,{key:`criterion-alternative-${r}-${e.criterionItems[t]}`,class:"mb-1 mr-1",icon:!0,alternative:t,items:e.criterionItems[t]},null,8,["alternative","items"])))),128))])]),(0,n.bF)(c,{count:e.totalItems},null,8,["count"])],8,ut)}var vt=(0,n.pM)({name:"TableListCriterion",components:{Acceptability:lt,ItemsCount:at},props:{aim:{type:Object,required:!0},criterionId:{type:Number,required:!0}},setup(e){const{criterionId:t}=(0,i.QW)(e),r=(0,n.EW)((()=>{const e={};return rs.value.forEach((r=>{e[r]=Is({alternative:r,criterion:t.value})})),e})),a=(0,n.EW)((()=>Object.values(r.value).reduce(((e,t)=>e+t.length),0)));return{c_criterions:hs,c_alternativesIds:rs,getAimsBy:cs,criterionItems:r,totalItems:a}}});const ht=(0,Q.A)(vt,[["render",mt],["__scopeId","data-v-d4a07c98"]]);var gt=ht;function ft(e,t,r,a,l,o){const i=(0,n.g2)("TableListCard");return(0,n.uX)(),(0,n.CE)("td",{class:(0,s.C4)(e.getLabels().length?"":"is-empty"),key:`${e.alternativeId}-${e.subOptionId}`},[e.is1stLevelStakeholdersMode?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(e.getCardsByStakeholder(),((t,r)=>((0,n.uX)(),(0,n.Wv)(i,{key:`superset-${e.aim.id}-stakeholder-${r}`,superset:{criterion:e.criterionId,aim:e.aim.id,alternative:e.alternativeId,subOption:e.subOptionId,stakeholder:Number(r)}},null,8,["superset"])))),128)):((0,n.uX)(!0),(0,n.CE)(n.FK,{key:1},(0,n.pI)(e.getLabels(),((t,r)=>((0,n.uX)(),(0,n.Wv)(i,{key:`superset-${t.property}-${t.value}-${r}`,superset:{criterion:e.criterionId,aim:e.aim.id,alternative:e.alternativeId,subOption:e.subOptionId,property:t.property,value:t.value}},null,8,["superset"])))),128))],2)}const bt={key:0},yt={key:1},kt={class:"d-flex"},Et={class:"card-compare-btn"},_t={key:0,class:"ml-auto mr-2 mb-1 text-right",style:{"text-overflow":"ellipsis",display:"block",overflow:"hidden",width:"calc(100% - 4em)","white-space":"nowrap"}};function Ct(e,t,r,l,o,i){const c=(0,n.g2)("Highlighter"),u=(0,n.g2)("v-chip"),d=(0,n.g2)("v-container"),p=(0,n.g2)("v-icon"),m=(0,n.g2)("v-btn"),v=(0,n.g2)("v-card");return(0,n.uX)(),(0,n.Wv)(v,{elevation:"1",onClick:t[2]||(t[2]=t=>e.toggleSuperset(e.superset)),class:"text-center mb-3","max-width":"344"},{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",null,[e.is1stLevelStakeholdersMode?((0,n.uX)(),(0,n.CE)("b",bt,[(0,n.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:e.getStakeholderName(e.superset.stakeholder)??""},null,8,["searchWords","textToHighlight"])])):((0,n.uX)(),(0,n.CE)("b",yt,[(0,n.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:e.superset.property??""},null,8,["searchWords","textToHighlight"])]))]),(0,n.Lk)("div",{class:(0,s.C4)([1===e.superset.subOption?"text-success":"text-error"])},[(0,n.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:e.superset.value??""},null,8,["searchWords","textToHighlight"])],2),(0,n.bF)(u,{variant:"outlined",size:"x-small",color:"default"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.items.length),1)])),_:1})])),_:1}),(0,n.Lk)("div",kt,[(0,n.Lk)("div",Et,[e.findSuperset(e.superset)?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(m,{key:0,onClick:t[0]||(t[0]=(0,a.D$)((t=>e.addSupersetInSelection(e.superset)),["stop"])),text:"",icon:"",small:""},{default:(0,n.k6)((()=>[(0,n.bF)(p,{"x-small":""},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("mdi-plus-circle-outline")]))),_:1})])),_:1})),e.findSuperset(e.superset)?((0,n.uX)(),(0,n.Wv)(m,{key:1,onClick:t[1]||(t[1]=(0,a.D$)((t=>e.removeSupersetInSelection(e.superset)),["stop"])),text:"",icon:"",small:"",color:"secondary"},{default:(0,n.k6)((()=>[(0,n.bF)(p,{"x-small":""},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("mdi-plus-circle")]))),_:1})])),_:1})):(0,n.Q3)("",!0)]),e.condition?((0,n.uX)(),(0,n.CE)("small",_t,(0,s.v_)(e.condition),1)):(0,n.Q3)("",!0)])])),_:1})}var xt=(0,n.pM)({setup(){return{state:p,addSupersetInSelection:$s,removeSupersetInSelection:qs,getItemsBy:xs,toggleSuperset:Vs,findSuperset:Ms,getStakeholderName:Rs,is1stLevelStakeholdersMode:C}},computed:{items:function(){return C.value?xs({stakeholder:this.superset.stakeholder,alternative:this.superset.alternative,subOption:this.superset.subOption,aim:this.superset.aim,criterion:this.superset.criterion}):xs({property:this.superset.property,value:this.superset.value,alternative:this.superset.alternative,subOption:this.superset.subOption,aim:this.superset.aim,criterion:this.superset.criterion})},condition:function(){return this.items.reduce(((e,t)=>t.condition?e.length?e+", "+t.condition:e+t.condition:e),"")}},props:["superset","label"]});const Ft=(0,Q.A)(xt,[["render",Ct]]);var It=Ft,Lt=(0,n.pM)({setup(){return{is1stLevelStakeholdersMode:C}},components:{TableListCard:It},methods:{getLabels:function(){return(0,be.sortBy)(el({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId}),"property")},getItems:function(){return Is({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId})},getCardsByStakeholder:function(){return js({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId},"stakeholder")}},props:["alternativeId","subOptionId","aim","criterionId"]});const St=(0,Q.A)(Lt,[["render",ft]]);var wt=St,Ot=(0,n.pM)({name:"TableList",components:{TableListCriterion:gt,TableListHead:Xe,TableListFoot:Qe,TableListAlternative:wt,TableListAim:ct},setup(){const e=(0,n.EW)((()=>ks())),t=(0,n.EW)((()=>_s())),r=(0,n.EW)((()=>ds())),a=(0,n.EW)((()=>ts())),s=(0,n.EW)((()=>Ws())),l=(0,n.EW)((()=>gs())),o=(0,n.EW)((()=>ls()));return{state:p,sortBy:be.sortBy,getAimsBy:cs,clearAppFilters:f,c_criterionsIds:fs,getFilteredCriterions:e,getFilteredItems:t,getFilteredAims:r,alternativesIds:a,subOptionsIds:s,criterionsIds:l,aimsIds:o,getAlternatives:(0,n.EW)((()=>Zn())),getSubOptions:(0,n.EW)((()=>As()))}}});const jt=(0,Q.A)(Ot,[["render",Se],["__scopeId","data-v-2727879f"]]);var At=jt;const Wt={class:"d-flex",style:{background:"rgba(0,0,0,.7)",position:"relative"}},Xt={class:"mr-auto zi-front"},Tt={class:"subtitle-2 white--text text-uppercase"},Pt={class:"font-weight-light white--text text-caption"},Rt={class:"mx-4 my-4 zi-front"},Dt={class:"mt-0 mb-3 d-flex"},Nt={class:"mr-auto"},Ht={style:{"margin-bottom":"-.33em"},class:"title d-flex text--primary"},Bt={key:0};function Vt(e,t,r,a,l,o){const i=(0,n.g2)("v-icon"),c=(0,n.g2)("v-card-text"),u=(0,n.g2)("v-divider"),d=(0,n.g2)("v-list-subheader"),p=(0,n.g2)("SupersetCardItem"),m=(0,n.g2)("v-btn"),v=(0,n.g2)("v-card");return(0,n.uX)(),(0,n.Wv)(v,{class:"superset-card"},{actions:(0,n.k6)((()=>[e.findSuperset(e.superset)||e.compare?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(m,{key:0,onClick:t[0]||(t[0]=t=>e.addSupersetInSelection(e.superset)),class:"mr-auto",variant:"text",icon:"mdi-plus-circle-outline"})),e.findSuperset(e.superset)?((0,n.uX)(),(0,n.Wv)(m,{key:1,class:(0,s.C4)(e.compare?"mx-auto":"mr-auto"),color:"secondary",onClick:t[1]||(t[1]=t=>e.removeSupersetInSelection(e.superset)),variant:"text"},{default:(0,n.k6)((()=>[(0,n.bF)(i,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.compare?"mdi-close":"mdi-plus-circle"),1)])),_:1})])),_:1},8,["class"])):(0,n.Q3)("",!0),e.compare?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(m,{key:2,onClick:t[2]||(t[2]=t=>e.unselectSuperset(e.superset)),variant:"text",icon:"mdi-close"}))])),default:(0,n.k6)((()=>[(0,n.Lk)("div",Wt,[(0,n.Lk)("div",{class:"card-background",style:(0,s.Tr)(`background-image: url(${e.getImagePath(e.state.data.alternatives[e.superset.alternative].image)}); background-size: cover;`)},null,4),(0,n.Lk)("div",Xt,[(0,n.Lk)("div",Tt,(0,s.v_)(e.getAlternativeName(e.superset.alternative)),1),(0,n.Lk)("div",Pt,(0,s.v_)(e.getCriterionName(e.superset.criterion)),1)]),(0,n.Lk)("div",Rt,[e.state.data?((0,n.uX)(),(0,n.Wv)(i,{key:0,style:{color:"white"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.state.data.alternatives[e.superset.alternative].icon),1)])),_:1})):(0,n.Q3)("",!0)])]),(0,n.bF)(c,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",Dt,[(0,n.Lk)("span",Nt,(0,s.v_)(e.getAimName(e.superset.aim)),1),(0,n.bF)(i,{class:"ml-2",size:"small"},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("mdi-bullseye-arrow")]))),_:1})]),(0,n.Lk)("div",null,[(0,n.Lk)("div",Ht,[e.is1stLevelStakeholdersMode?((0,n.uX)(),(0,n.CE)("b",Bt,(0,s.v_)(e.getStakeholderName(e.superset.stakeholder)),1)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("b",null,(0,s.v_)(e.superset.property),1),(0,n.bF)(i,{class:(0,s.C4)(["ml-auto",1===e.superset.subOption?"text-success":"text-error"])},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.state.icons.subOption[e.superset.subOption]),1)])),_:1},8,["class"])],64))]),e.is1stLevelStakeholdersMode?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,s.C4)(["title font-weight-regular",1===e.superset.subOption?"text-success":"text-error"])},(0,s.v_)(e.superset.value),3))])])),_:1}),(0,n.bF)(u,{class:"my-1"}),(0,n.bF)(c,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{class:"px-0",textContent:(0,s.v_)(`Arguments (${e.supersetItems.length})`)},null,8,["textContent"]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.duplicateGroups,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"mb-5 no-mb-last"},[(0,n.bF)(p,{item:e[0],index:t,duplicatesCount:e.length},null,8,["item","index","duplicatesCount"])])))),128))])),_:1}),(0,n.bF)(u)])),_:1})}const $t={class:"d-flex"},qt={class:"mb-5 overflow-hidden"},Mt={key:0},Ut={key:1},Gt={key:1},Qt={class:"ml-auto flex-shrink-0"},Kt={key:0,class:"text--secondary body-1"},zt={class:"mb-5 body-1"},Jt={class:"body-1 text--secondary"},Yt={key:0,class:"text-right text--secondary caption"};function Zt(e,t,r,l,o,i){const c=(0,n.g2)("v-chip"),u=(0,n.g2)("v-icon"),d=(0,n.g2)("v-btn"),p=(0,n.g2)("v-expand-transition"),m=(0,n.g2)("v-container"),v=(0,n.g2)("v-card");return(0,n.uX)(),(0,n.Wv)(v,{ripple:!1,outlined:"",onClick:t[0]||(t[0]=t=>e.openMe(e.index))},{default:(0,n.k6)((()=>[(0,n.bF)(m,{fluid:""},{default:(0,n.k6)((()=>[(0,n.Lk)("div",$t,[(0,n.Lk)("div",qt,[(0,n.Lk)("div",{class:(0,s.C4)("caption "+(e.open[e.index]?"":"text-truncate"))},[e.is1stLevelStakeholdersMode?((0,n.uX)(),(0,n.CE)("b",Mt,(0,s.v_)(e.item.property),1)):((0,n.uX)(),(0,n.CE)("b",Ut,"by "+(0,s.v_)(e.getStakeholderName(e.item.stakeholder)),1))],2),(0,n.Lk)("div",{class:(0,s.C4)("caption "+(e.open[e.index]?"":"text-truncate"))},[e.is1stLevelStakeholdersMode?((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,s.C4)("font-weight-regular\t  "+(1===e.item.subOption?"green--text":"red--text"))},(0,s.v_)(e.item.value),3)):((0,n.uX)(),(0,n.CE)("em",Gt,"in "+(0,s.v_)(e.item.source),1))],2)]),(0,n.Lk)("div",Qt,[(0,n.bF)(c,{variant:"outlined",size:"x-small"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.duplicatesCount),1)])),_:1}),(0,n.bF)(d,{icon:""},{default:(0,n.k6)((()=>[(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.open[e.index]?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1})])]),e.open[e.index]?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",Kt,(0,s.v_)(e.item.assertion),1)),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bo)((0,n.Lk)("div",null,[t[1]||(t[1]=(0,n.Lk)("div",{class:"overline"},"Explanation",-1)),(0,n.Lk)("p",zt,(0,s.v_)(e.item.explanation),1),t[2]||(t[2]=(0,n.Lk)("div",{class:"overline"},"Assertion",-1)),(0,n.Lk)("p",Jt,(0,s.v_)(e.item.assertion),1),e.item.date?((0,n.uX)(),(0,n.CE)("div",Yt,[(0,n.Lk)("small",null,(0,s.v_)(e.formatDate(e.item.date)),1)])):(0,n.Q3)("",!0)],512),[[a.aG,e.open[e.index]]])])),_:1})])),_:1})])),_:1})}r(1701);var er=(0,n.pM)({setup(){return{state:p,getImagePath:b,openMe(e){this.open[e]=!this.open[e]},addSupersetInSelection:$s,removeSupersetInSelection:qs,unselectSuperset:Bs,findSuperset:Ms,getItemsBy:xs,getCriterionById:bs,getAlternativeName:ns,getCriterionName:ys,getStakeholderName:Rs,getAimName:us,formatDate:na,is1stLevelStakeholdersMode:C}},props:["item","index","duplicatesCount"],data:()=>({open:[!1]}),computed:{supersetItems:function(){return xs(this.superset)}},mounted(){this.open=this.supersetItems.map((()=>!1))}});const tr=(0,Q.A)(er,[["render",Zt]]);var rr=tr,ar=(0,n.pM)({components:{SupersetCardItem:rr},props:["superset","compare"],setup(){return{state:p,getImagePath:b,addSupersetInSelection:$s,removeSupersetInSelection:qs,unselectSuperset:Bs,findSuperset:Ms,getItemsBy:xs,getCriterionById:bs,getAlternativeName:ns,getCriterionName:ys,getStakeholderName:Rs,getAimName:us,formatDate:na,is1stLevelStakeholdersMode:C}},computed:{supersetItems(){return xs(this.superset)},duplicateGroups(){return Fs(this.supersetItems)}}});const nr=(0,Q.A)(ar,[["render",Vt]]);var sr=nr,lr=(0,n.pM)({components:{Header:_e,TableList:At,SupersetCard:sr},setup(){return{state:p,selectedSupersets:x,getFilteredItems:(0,n.EW)((()=>_s())),getAllItems:(0,n.EW)((()=>Es())),removeSupersetInSelection:qs}}});const or=(0,Q.A)(lr,[["render",fe],["__scopeId","data-v-82ecae66"]]);var ir=or;function cr(e,t,r,a,l,o){const i=(0,n.g2)("Header"),c=(0,n.g2)("PropertyListRow"),u=(0,n.g2)("v-table"),d=(0,n.g2)("v-card"),p=(0,n.g2)("v-container");return e.state.project&&e.state.data?((0,n.uX)(),(0,n.Wv)(p,{key:0,style:{"max-width":"1400px"}},{default:(0,n.k6)((()=>[(0,n.bF)(i),(0,n.bF)(d,{class:"mt-2"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{class:"properties-table",style:{"min-width":"1000px"}},{default:(0,n.k6)((()=>[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[t[0]||(t[0]=(0,n.Lk)("th",{class:"text-start"},"Property",-1)),t[1]||(t[1]=(0,n.Lk)("th",{class:"text-start"},"Criterion",-1)),t[2]||(t[2]=(0,n.Lk)("th",{class:"text-start"},"Aim",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.c_alternativesIds,((t,r)=>((0,n.uX)(),(0,n.CE)("th",{key:r,class:"text-center"},(0,s.v_)(e.getAlternativeById(t).name),1)))),128))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.getNormalizedItemsByUniqueItemProp("property"),((e,t)=>((0,n.uX)(),(0,n.Wv)(c,{key:t,items:e,property:t},null,8,["items","property"])))),128))])])),_:1})])),_:1})])),_:1})):(0,n.Q3)("",!0)}const ur=["name","id"],dr={key:0,class:"grey--text"},pr={key:0,class:"grey--text"},mr={key:0,class:"text-center"};function vr(e,t,r,a,l,o){const i=(0,n.g2)("Highlighter"),c=(0,n.g2)("v-icon"),u=(0,n.g2)("PropertiesListCriterion"),d=(0,n.g2)("Acceptability");return(0,n.uX)(),(0,n.CE)("tr",{onClick:t[0]||(t[0]=t=>e.hasMany?e.showDetails=!e.showDetails:""),key:`${e.property}-${e.criterionItems.length}-${e.aimItems.length}`},[(0,n.Lk)("td",null,[(0,n.Lk)("a",{name:`${e.property}`,id:e.property},null,8,ur),(0,n.Lk)("b",null,[(0,n.bF)(i,{searchWords:[e.state.searchInput],textToHighlight:e.property??""},null,8,["searchWords","textToHighlight"])]),e.criterionItems.length>1||e.aimItems.length>1?((0,n.uX)(),(0,n.Wv)(c,{key:0},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})):(0,n.Q3)("",!0)]),(0,n.Lk)("td",null,[e.criterionItems.length>1&&!e.showDetails?((0,n.uX)(),(0,n.CE)("div",dr,(0,s.v_)(e.criterionItems.length)+" criteria ",1)):(0,n.Q3)("",!0),e.criterionItems.length<=1||e.criterionItems.length>1&&e.showDetails?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:1},(0,n.pI)(e.criterionItems,((t,r)=>((0,n.uX)(),(0,n.Wv)(u,{key:r,item:t,row:e.getAimsCountFromAimsAndCriterion(e.getAimsFromItems(e.items),t.criterion)},null,8,["item","row"])))),128)):(0,n.Q3)("",!0)]),(0,n.Lk)("td",null,[e.aimItems.length>1&&!e.showDetails?((0,n.uX)(),(0,n.CE)("div",pr,(0,s.v_)(e.aimItems.length)+" aims",1)):(0,n.Q3)("",!0),e.aimItems.length<=1||e.aimItems.length>1&&e.showDetails?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:1},(0,n.pI)(e.aimItems,((t,r)=>((0,n.uX)(),(0,n.CE)("div",{key:r},(0,s.v_)(e.getAimById(t.aim).name),1)))),128)):(0,n.Q3)("",!0)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.c_alternativesIds,((t,r)=>((0,n.uX)(),(0,n.CE)("td",{key:r},[e.showDetails?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",mr,[(0,n.bF)(d,{items:e.filterItemsBy(e.items,{alternative:t}),alternative:t,icon:!1},null,8,["items","alternative"])])),e.showDetails?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:1},(0,n.pI)(e.aimItems,((r,a)=>((0,n.uX)(),(0,n.CE)("div",{class:"text-center",key:a},[(0,n.bF)(d,{items:e.filterItemsBy(e.items,{alternative:t,aim:r.aim}),alternative:t,icon:!1},null,8,["items","alternative"])])))),128)):(0,n.Q3)("",!0)])))),128))])}function hr(e,t,r,a,l,o){return(0,n.uX)(),(0,n.CE)("div",null,(0,s.v_)(e.getCriterionById(e.item.criterion).name),1)}var gr=(0,n.pM)({props:{item:{},row:{}},setup(){return{getCriterionById:bs}}});const fr=(0,Q.A)(gr,[["render",hr]]);var br=fr,yr=(0,n.pM)({props:{items:Array,property:{type:String,required:!0}},setup(e){const{items:t,property:r}=(0,i.QW)(e),a=(0,i.KR)(!1),s=(0,n.EW)((()=>(0,be.uniqBy)(t.value,"criterion"))),l=(0,n.EW)((()=>(0,be.uniqBy)(t.value,"aim"))),o=(0,n.EW)((()=>s.value.length>1||l.value.length>1));return{state:p,c_alternativesIds:rs,showDetails:a,criterionItems:s,aimItems:l,hasMany:o,getAimsCountFromAimsAndCriterion:ms,getAimsFromItems:ps,countBy:be.countBy,sortBy:be.sortBy,getSubOptionById:Xs,getCriterionById:bs,getAimById:is,getAcceptabilityFromProCon:zs,normalizeByAlternative:Ss,filterItemsBy:Cs,uniqBy:be.uniqBy}},components:{Acceptability:lt,PropertiesListCriterion:br}});const kr=(0,Q.A)(yr,[["render",vr]]);var Er=kr,_r=(0,n.pM)({setup(e){const t=(0,i.KR)(null);return{state:p,height:t,c_alternativesIds:rs,setHeight:()=>{const e=document.querySelector("[table-filters]");if(e){const r=e.getBoundingClientRect();t.value=window.innerHeight-r.bottom-24}},getNormalizedItemsByUniqueItemProp:Os,getAlternativeById:as}},components:{Header:_e,PropertyListRow:Er},mounted(){this.$nextTick(this.setHeight)},updated(){this.$nextTick(this.setHeight)},created(){window.addEventListener("resize",this.setHeight)},destroyed(){window.removeEventListener("resize",this.setHeight)}});const Cr=(0,Q.A)(_r,[["render",cr]]);var xr=Cr;const Fr={style:{"overflow-x":"auto"}};function Ir(e,t,r,a,l,o){const i=(0,n.g2)("Header"),c=(0,n.g2)("StakeholderListRow"),u=(0,n.g2)("v-table"),d=(0,n.g2)("v-card"),p=(0,n.g2)("v-container");return e.state.project&&e.state.data?((0,n.uX)(),(0,n.Wv)(p,{key:0,style:{"max-width":"1400px"}},{default:(0,n.k6)((()=>[(0,n.bF)(i),(0,n.bF)(d,{class:"mt-2"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",Fr,[(0,n.bF)(u,{class:"properties-table",style:{"min-width":"1000px"}},{default:(0,n.k6)((()=>[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[t[0]||(t[0]=(0,n.Lk)("th",{class:"text-start"},"Criterion",-1)),t[1]||(t[1]=(0,n.Lk)("th",{class:"text-start"},"Aim",-1)),t[2]||(t[2]=(0,n.Lk)("th",{class:"text-start"},"Stakeholder",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.c_alternativesIds,((t,r)=>((0,n.uX)(),(0,n.CE)("th",{key:`alt-${r}`,class:"text-center"},(0,s.v_)(e.getAlternativeById(t).name),1)))),128))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.getNormalizedItemsByUniqueItemProp("criterion"),((t,r)=>((0,n.uX)(),(0,n.Wv)(c,{key:`crit-${r}`,items:t,property:e.getCriterionName(r)},null,8,["items","property"])))),128))])])),_:1})])])),_:1})])),_:1})):(0,n.Q3)("",!0)}const Lr=["rowspan"],Sr=["name","id"],wr=["rowspan"],Or={stakeholder:""};function jr(e,t,r,a,l,o){const i=(0,n.g2)("Highlighter"),c=(0,n.g2)("Acceptability");return(0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.aimItems,((t,r)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.uniqBy(e.filterItemsBy(e.items,{aim:t.aim}),"stakeholder"),((a,l)=>((0,n.uX)(),(0,n.CE)("tr",{key:`stakeholder-${l}-${r}`},[0===r&&0===l?((0,n.uX)(),(0,n.CE)("td",{key:0,criterion:"",rowspan:e.uniqBy(e.filterItemsBy(e.items,{criterion:t.criterion}),"stakeholder").length*e.aimItems.length},[(0,n.Lk)("a",{name:`${e.property}`,id:e.property},null,8,Sr),(0,n.bF)(i,{class:"inline-block",searchWords:[e.state.searchInput],"text-to-highlight":e.property},null,8,["searchWords","text-to-highlight"])],8,Lr)):(0,n.Q3)("",!0),0===l?((0,n.uX)(),(0,n.CE)("td",{key:1,aim:"",rowspan:e.uniqBy(e.filterItemsBy(e.items,{aim:t.aim}),"stakeholder").length},[(0,n.Lk)("span",null,(0,s.v_)(e.getAimById(t.aim).name),1)],8,wr)):(0,n.Q3)("",!0),(0,n.Lk)("td",Or,[(0,n.Lk)("b",null,(0,s.v_)(e.getStakeholderName(a.stakeholder)),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.c_alternativesIds,((r,s)=>((0,n.uX)(),(0,n.CE)("td",{class:"text-center",alternative:"",key:s},[(0,n.bF)(c,{items:e.filterItemsBy(e.items,{alternative:r,aim:t.aim,stakeholder:a.stakeholder}),alternative:r,icon:!1},null,8,["items","alternative"])])))),128))])))),128))],64)))),256)}var Ar=(0,n.pM)({props:{items:Array,property:{type:String,required:!0}},setup(e){const{items:t,property:r}=(0,i.QW)(e),a=(0,n.EW)((()=>(0,be.uniqBy)(t.value,"stakeholder"))),s=(0,n.EW)((()=>(0,be.uniqBy)(t.value,"criterion"))),l=(0,n.EW)((()=>(0,be.uniqBy)(t.value,"aim")));return console.log("aimItems"),console.log(l.value),{state:p,c_alternativesIds:rs,stakeholderItems:a,criterionItems:s,aimItems:l,hasMany:(0,n.EW)((()=>s.value.length>1||l.value.length>1)),getStakeholderName:Rs,getAimsCountFromAimsAndCriterion:ms,getAimsFromItems:ps,countBy:be.countBy,sortBy:be.sortBy,getSubOptionById:Xs,getCriterionById:bs,getAimById:is,getAcceptabilityFromProCon:zs,normalizeByAlternative:Ss,filterItemsBy:Cs,uniqBy:be.uniqBy}},components:{Acceptability:lt}});const Wr=(0,Q.A)(Ar,[["render",jr]]);var Xr=Wr,Tr=(0,n.pM)({props:{id:Number},setup(){const e=(0,i.KR)(null),t=()=>{const t=document.querySelector("[table-filters]");if(t){const r=t.getBoundingClientRect();e.value=window.innerHeight-r.bottom-24}};return(0,n.sV)((()=>{t(),window.addEventListener("resize",t)})),(0,n.$u)(t),(0,n.xo)((()=>{window.removeEventListener("resize",t)})),{state:p,height:e,c_alternativesIds:rs,getCriterionName:ys,getNormalizedItemsByUniqueItemProp:Os,getAlternativeById:as,setHeight:t}},components:{Header:_e,StakeholderListRow:Xr}});const Pr=(0,Q.A)(Tr,[["render",Ir],["__scopeId","data-v-4259a901"]]);var Rr=Pr;const Dr=[{name:"home",path:"/",component:de},{name:"global-view",path:"/project/global-view",component:ir},{name:"project",path:"/project/",component:Z},{name:"property-view",path:"/project/property-view",component:xr,props:!0},{name:"stakeholder-view",path:"/project/stakeholder-view",component:Rr,props:!0}],Nr=(0,c.aE)({history:(0,c.LA)("/"),routes:Dr});Nr.beforeEach((async(e,t,r)=>{F(),r()})),Nr.afterEach((async(e,t)=>{if(e.path.startsWith("/project")){const r=Mn(e),a=Mn(t),n=Gn(e),s=Gn(t),l=r===a&&n===s;l||await Hr()}else"string"===typeof e.meta?.title?ca(e.meta.title):ca("My Choice");I()}));const Hr=async()=>{const e=Nr.currentRoute.value;if(e.query[$r.ICO]||e.query[$r.GOOGLE_SPREADSHEET]||e.query[$r.NEXTCLOUD]||e.query["demo"])try{await Yn(e)}catch(t){console.info("LOAD FAIL, RETRY WITHOUT CACHE!"),Tn(e),await Yn(e)}};var Br=Nr;const Vr=e=>{const t={name:e};Br.push(t)};var $r;(function(e){e["ICO"]="name",e["GOOGLE_SPREADSHEET"]="spreadsheet",e["XLSX"]="xlsx",e["NEXTCLOUD"]="nextcloud"})($r||($r={}));const qr=$r.ICO,Mr=$r.GOOGLE_SPREADSHEET,Ur=($r.XLSX,$r.NEXTCLOUD),Gr=(0,n.EW)((()=>p.vm&&p.vm.$route&&p.vm.$route.query&&(p.vm.$route.query.name||p.vm.$route.query.spreadsheet)?p.vm.$route.query.name||p.vm.$route.query.spreadsheet:null)),Qr=(0,n.EW)((()=>(0,be.uniqBy)(p.notifications,"message"))),Kr=()=>{const e=[];return Object.entries(p.errors).forEach((([t,r])=>{if(!1!==r)return e.push(t)})),e},zr=e=>p.errorMessages[e]||p.errors[e],Jr=()=>{Object.keys(p.errors).forEach((e=>{p.errors[e]=!1}))};r(1148),r(116);var Yr=r(4353),Zr=r.n(Yr),ea=r(445),ta=r.n(ea);Zr().extend(ta());class ra extends Error{constructor(e,...t){super(...t),this.name=e,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack}}const aa=(e,t)=>{p.errors[e]=t},na=e=>Zr()(e,"DD/MM/YY").format("MMMM YYYY"),sa=function(e,t,r){let a=(e-t)/(r-t);return isFinite(a)||(a=e),a},la=(e,t)=>e.sort(((e,r)=>e[t]>r[t]?1:-1)),oa=e=>Object.keys(e).sort().reduce(((t,r)=>(t[r]=e[r],t)),{}),ia=function(e,t,r="s"){let a=e;const n=/{([^:}]+)(?:(?::)([^}]+))?}/g;let s;while(null!==(s=n.exec(e))){if(s.index===n.lastIndex&&n.lastIndex++,void 0===s[2]){const e=new RegExp("\\{"+s[1]+"\\}","g");a=a.replace(e,`${t[s[1]]}`)}if(void 0!==s[2]){const e=s[1],n=s[2],l=t[n],o=new RegExp("\\{"+e+":"+n+"\\}","g");a=Number(l)>1&&t.plural?a.replace(o,`${t.plural}`):a.replace(o,`${e}${Number(l)>1?r:""}`)}}return a},ca=e=>{document.title=e},ua=r(5811),da=async e=>{const t=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${e}?key=AIzaSyDEksLxmlJt3Ru6Uv8qakqnCZ05ViwHZyA`),r=await t.json();return r},pa=async e=>{try{const t=await da(e),r=t.sheets,a=[],n={};r.forEach((t=>{n[t.properties.index]=t.properties.title,a.push(ua.getWorksheet(e,t.properties.title,"AIzaSyDEksLxmlJt3Ru6Uv8qakqnCZ05ViwHZyA"))}));const s=await Promise.all(a);return s.map((({data:e},t)=>({data:e,title:n[t],index:t})))}catch(t){throw t}},ma=(e,t)=>new Promise(((r,a)=>{let n=null;const s=t.every((t=>(n=t,!!Object.prototype.hasOwnProperty.call(e,t))));s?r(!0):a(n)})),va=async e=>{const t={argument:["idArgument","assertion","explanation","date","nameStakeHolder","nameProperty","value","typeProCon","nameAlternative","nameCriterion","nameSource","aim","nameTypeSource","isProspective"],project:["nameProject"],alternative:["nameAlternative","iconAlternative"]},r=t[e.title],a=e.data[0];if(a)return await ma(a,r).then((e=>e),(t=>{throw new ra("SPREADSHEET_ERROR",`On <b>${e.title}</b> sheet, the <b>${t}</b> column is missing or misspelled`)}));aa("SPREADSHEET_ERROR",`No data found in the <b>${e.title}</b> sheet`)},ha=({spreadsheetId:e,item:t,worksheet:r,line:a,keys:n})=>{n.forEach(((e,n)=>{if(null===t[e])throw new ra("SPREADSHEET_ERROR",`On <b>${r.title}</b> sheet, the <b>${String(e)}</b> on line <b>${a}</b> is empty and must be filled`)}))},ga=e=>{const t={};e.forEach((e=>{t[e.aim]?t[e.aim].includes(e.nameCriterion)||t[e.aim].push(e.nameCriterion):t[e.aim]=[e.nameCriterion]})),Object.entries(t).forEach((([e,t])=>{t.length>1&&aa("SPREADSHEET_ERROR_"+e,`The <b>${e}</b> aim should be associated with only one criterion, but has been found in ${t.length} criteria : <b>${t.join("</b>, <b>")}</b>`)}))},fa=async(e,t)=>{const r=e.find((e=>"argument"===e.title)),a=e[r.index].data,n=a.map((e=>Object.keys(e).reduce((function(t,r){try{t[r]=JSON.parse(e[r])}catch(a){t[r]=e[r]}return t}),{})));try{await va(r),ga(n)}catch(s){throw s}return n.map(((e,a)=>{const n=a+2;if("-"!==e.typeProCon&&"+"!==e.typeProCon)throw new ra("SPREADSHEET_ERROR",`On <b>${r.title}</b> sheet, the <b>typeProCon</b> on line <b>${n}</b> is <b>${e.typeProCon}</b> and should be <b>-</b> or <b>+</b> `);ha({spreadsheetId:t,item:e,worksheet:r,line:n,keys:["nameSource","idArgument","nameProperty","value","nameStakeHolder","nameAlternative","nameCriterion","aim","nameTypeSource"]});const s={id:e.idArgument,stakeholder:e["nameStakeHolder"],property:e["nameProperty"],favorable:"+"===e.typeProCon,alternative:e["nameAlternative"],criterion:e["nameCriterion"],source:e["nameSource"],sourceType:e["nameTypeSource"],value:e["value"],aim:e["aim"],date:e["date"]?e["date"].toString():null};return delete e.idArgument,delete e["nameStakeHolder"],delete e["nameProperty"],delete e.typeProCon,delete e["nameAlternative"],delete e["nameCriterion"],delete e["nameSource"],delete e["nameTypeSource"],delete e["value"],delete e["aim"],{...e,...s}}))},ba=async e=>{const t=e.find((e=>"project"===e.title));try{await va(t)}catch(m){throw m}const r=t.data[0],a=e.find((e=>"alternative"===e.title));try{await va(a),a.data.forEach(((e,t)=>{const r=t+2;if(null===e.iconAlternative)throw new ra("SPREADSHEET_ERROR",`On <b>${a.title}</b> sheet, the <b>iconAlternative</b> on line <b>${r}</b> is <b>empty</b> and should be a valid icon name`)}))}catch(m){throw m}const n=a.data,s=n.map((e=>({name:e.nameAlternative,description:e.description,image:e.imageAlternative,icon:e.iconAlternative}))),l=e.find((e=>"hasexpertise"===e.title)),o=l.data,i=o.map((e=>({nameStakeHolder:e["nameStakeHolder"],nameCriterion:e["nameCriterion"]}))),c=e.find((e=>"typesource"===e.title)),u=c.data,d=u.map((e=>({fiability:e.fiability.toString(),nameTypeSource:e.nameTypeSource}))),p={name:r.nameProject,image:r.image,description:r.description,alternatives:s,expertiseEntities:i,sourceTypeEntities:d};return p},ya=async e=>{try{const t=await pa(e),r=await fa(t,e),a=await ba(t);return{items:r,project:a}}catch(t){throw t}},ka=e=>{const t=new RegExp("/spreadsheets/d/([a-zA-Z0-9-_]+)").exec(e);if(t){const e=t[1];return e}return e},Ea=e=>{const t=e,r={stakeholders:t.nameStakeholder,name:t.nameProject,aims:t.aim,criterions:t.nameCriterion,alternatives:t.alternatives.map((e=>{const t={name:e.nameAlternative,image:e.imageAlternative,icon:e.iconAlternative};return delete e.nameAlternative,{...e,...t}})),sourceTypeEntities:t.typeSource,expertiseEntities:t.hasExpertise};return delete t.typeSource,delete t.hasExpertise,delete t.nameStakeholder,delete t.aim,delete t.nameProject,delete t.nameCriterion,{...t,...r}},_a=e=>e.map((e=>{const t={id:e.idArgument,stakeholder:e.nameStakeHolder,property:e.nameProperty,favorable:e.typeProCon,alternative:e.nameAlternative,criterion:e.nameCriterion,source:e.nameSource,sourceType:e.nameTypeSource};return delete e.idArgument,delete e.nameStakeHolder,delete e.nameProperty,delete e.typeProCon,delete e.nameAlternative,delete e.nameCriterion,delete e.nameSource,delete e.nameTypeSource,{...e,...t}})),Ca=()=>{const e={id:{csv:"idArgument",server:"idArgument",spreadsheet:"idArgument"},aim:{csv:"aim.description",server:"aim",spreadsheet:"aim"},alternative:{csv:"alternative.nameAlternative",server:"nameAlternative",spreadsheet:"nameAlternative"},assertion:{csv:"assertion",server:"assertion",spreadsheet:"assertion"},criterion:{csv:"criterion.nameCriterion",server:"nameCriterion",spreadsheet:"nameCriterion"},date:{csv:"date",server:"date",spreadsheet:"date"},explanation:{csv:"explanation",server:"explanation",spreadsheet:"explanation"},favorable:{csv:"typeProCon",server:"typeProCon",spreadsheet:"typeProCon"},isProspective:{csv:"isProspective",server:"isProspective",spreadsheet:"isProspective"},property:{csv:"property.nameProperty",server:"nameProperty",spreadsheet:"nameProperty"},source:{csv:"source.nameSource",server:"nameSource",spreadsheet:"nameSource"},sourceType:{csv:"typesource.nameTypeSource",server:"nameTypeSource",spreadsheet:"nameTypeSource"},stakeholder:{csv:"stakeholder.nameStakeholder",server:"nameStakeHolder",spreadsheet:"nameStakeHolder"},value:{csv:"qualvalue.qualValue",server:"value",spreadsheet:"value"},condition:{csv:"condition",server:"condition",spreadsheet:"condition"}};return e},xa=(e,t)=>(0,be.findKey)(Ca(),(function(r){return r[e]===t})),Fa=(e,t)=>{const r=Ca()[t]&&Ca()[t][e];return r||null},Ia=(e,t,r)=>{const a=xa(e,r),n=Fa(t,a);return n||null},La=e=>e.map((e=>{const t={};return Object.entries(e).forEach((([e,r])=>{const a=Ia("spreadsheet","csv",e);a&&(t[a]=r)})),t})),Sa=(e,t)=>{const r=e.map((e=>e[t])),a=(0,be.uniq)(r);return a},wa=e=>{const t=Sa(e,"criterion");return t},Oa=(e,t)=>{const r=e.map((e=>[e["aim"],e["criterion"]])),a=(0,be.sortBy)((0,be.uniqBy)(r,Wa),(([e,t])=>e)),n={};return a.forEach(((e,r)=>{const a=e[0],s=Ra(t,e[1],"nameCriterion");r++,n[r]={id:r,name:a,criterion:s}})),n},ja=e=>{const t=Sa(e,"stakeholder");return t},Aa=e=>{const t=Sa(e,"property");return t},Wa=e=>e.join(":"),Xa=e=>{const t=e.map((e=>[e["property"],e["value"]])),r=(0,be.uniqBy)(t,Wa);return r},Ta=e=>{const t={};return e.forEach(((e,r)=>{r++,t[r]={id:r,name:e}})),t},Pa=e=>{const t={};return e.forEach(((e,r)=>{r++,t[r]={id:r,...e,icon:"mdi-"+e.icon.replace(/\.[^/.]+$/,"").split(/(\\|\/)/g).pop()||0}})),t},Ra=(e,t,r)=>{const a=Object.values(e).find((e=>e.name===t));try{return a.id}catch(n){throw new ra("SPREADSHEET_ERROR",`Cannot find <b>${t}</b> in ${"nameAlternative"===r?"alternatives":`<b>${r}</b>`}`)}},Da=(e,{criterions:t,aims:r,alternatives:a,stakeholders:n})=>e.map((e=>({...e,subOption:!0===JSON.parse(e.favorable.toString().toLowerCase())?1:2,criterion:Ra(t,e.criterion,"nameCriterion"),stakeholder:Ra(n,e.stakeholder,"nameStakeHolder"),aim:Ra(r,e.aim,"aim"),alternative:Ra(a,e.alternative,"nameAlternative"),isProspective:1===Number(e.isProspective)}))),Na=(e,t)=>{const r=wa(e),a=ja(e),n=t.alternatives,s=Ta(r.sort()),l=Pa(n),o=Ta(a.sort()),i=Oa(e,s),c=Da(e,{criterions:s,aims:i,alternatives:l,stakeholders:o});return{criterions:s,alternatives:l,stakeholders:o,aims:i,items:c}},Ha=(e,t)=>{const r=Xa(e),a=Aa(e),{criterions:n,alternatives:s,stakeholders:l,aims:o,items:i}=Na(e,t),c={criterions:n,alternatives:s,stakeholders:l,labels:r,properties:a,aims:o,items:i,subOptions:{1:{id:1,name:""},2:{id:2,name:""}}};return c},Ba=function(e){const t=(0,be.groupBy)(e,"property"),r=Object.values(t).filter((e=>{const t=(0,be.groupBy)(e,"aim");if(Object.keys(t).length>1)return e})),a=(0,be.flatten)(r);return a},Va=function(e){const t=(0,be.groupBy)(e,"aim"),r=Object.values(t).filter((e=>{const t=(0,be.groupBy)(e,"stakeholder");if(Object.keys(t).length>1)return e})),a=(0,be.flatten)(r);return a},$a=(e,t)=>{const r=t.filter((t=>e.some((e=>e.nameCriterion===t.criterion&&e.nameStakeHolder===t.stakeholder))));return r},qa=(e,t)=>{const r=t.filter((t=>e.some((e=>e.nameTypeSource===t.sourceType&&1===Number(e.fiability)))));return r},Ma=e=>{const t=e.filter((e=>1===Number(e.isProspective)));return t},Ua=e=>{const t=Ba(e);return t},Ga=e=>{const t=Va(e);return t};var Qa=r(7065);const Ka=(0,n.EW)((()=>p.fields.nextcloudUrl)),za=e=>`https://icotest.iate.inra.fr/nextcloud/s/${e}/download`,Ja=async e=>{const t=e,r=await fetch(t),a=await r.blob(),n=Za(e),s=new File([a],n);return s},Ya=async e=>{try{const t=await Ja(e),r=await nn(t);return r}catch(t){throw t}},Za=e=>{const t=new RegExp("https://icotest.iate.inra.fr/nextcloud/s/([a-zA-Z0-9-_]+)").exec(e);if(t){const e=t[1];return e}return e},en=async(e,t)=>{try{const r=await nn(e);pn(r.items,r.project,t)}catch(r){throw r}},tn=async(e,t)=>{await en(e,t)},rn=async e=>{const t=await Qa.onFileSelection(e);return t},an=async e=>{const t=await rn(e),r=Object.entries(t).map((([e,t],r)=>({title:e,data:t,index:r})));return r},nn=async e=>{try{const t=await an(e),r=await fa(t),a=await ba(t);return{items:r,project:a}}catch(t){throw t}},sn=async e=>{const t=ka(e),r={query:{[Mr]:t},name:"project",path:"/project"},a=Br.resolve(r);await Br.push(a),await Yn(a)},ln=async e=>{const t={query:{[qr]:e},name:"project"},r=Br.resolve(t);await Br.push(r),await Yn(r)},on=async e=>{const t=Za(e),r={query:{[Ur]:t},name:"project",path:"/project"},a=Br.resolve(r);await Br.push(r),await Yn(a)},cn=async e=>{const[t,r]=await Promise.all([await un(e),await dn(e)]),a={project:t,items:r};return a},un=async e=>{try{let t=null;const r=await qn(e);return t=Ea(r),Promise.resolve(t)}catch(t){throw t}},dn=async e=>{try{let t=null;const r=await $n(e);return t=_a(r),Promise.resolve(t)}catch(t){throw t}},pn=(e,t,r)=>{!1!==r?h():(g(),m()),Jr();try{let r;if("interplay"===p.mode){const a=Ua(e),n=Ha(a,t);r=Object.freeze(n)}else if("prospective"===p.mode){const a=Ma(e),n=Ha(a,t);r=Object.freeze(n)}else if("data-reliability"===p.mode){const a=qa(t.sourceTypeEntities,e),n=Ha(a,t);r=Object.freeze(n)}else if("expertise"===p.mode){const a=$a(t.expertiseEntities,e),n=Ha(a,t);r=Object.freeze(n)}else if("multi-stakeholder"===p.mode){const a=Ga(e),n=Ha(a,t);r=Object.freeze(n)}else{const a=Ha(e,t);r=Object.freeze(a)}p.data=r,p.project=t}catch(a){throw a}};var mn;(function(e){e["ICO"]="ico",e["GOOGLE_SPREADSHEET"]="googlespreadsheet",e["NEXTCLOUD"]="nextcloud",e["XLSX"]="xlsx"})(mn||(mn={}));const vn={projects:{[mn.ICO]:{},[mn.GOOGLE_SPREADSHEET]:{},[mn.NEXTCLOUD]:{},[mn.XLSX]:{}}},hn="MYCHOICE_CACHE",gn=()=>JSON.parse(localStorage.getItem(hn))||vn,fn=()=>gn()["projects"],bn=(e,t)=>Object.values(fn()[e]).find((e=>e.id===t)),yn=e=>{localStorage.setItem(hn,JSON.stringify(e))},kn=e=>{const t=gn(),r=(0,be.merge)(t,e);yn(r)},En=e=>{const t=gn(),r=(0,be.omit)(t,e);yn(r)},_n=(e,t)=>{kn({projects:{[e]:{[t.id]:t}}})},Cn=(e,t)=>{_n(e,t)},xn=e=>fn()[e],Fn=e=>{const t={};return Object.entries(e).filter((([e])=>e!==mn.GOOGLE_SPREADSHEET&&e!==mn.NEXTCLOUD)).forEach((([e,r])=>{Object.entries(r).forEach((([r,a])=>{const n=jn(e,r);t[n]={...a,type:e}}))})),t},In=(0,n.EW)((()=>p.recentProjects)),Ln=(0,n.EW)((()=>!!Object.keys(In.value).length)),Sn=()=>{p.recentProjects=wn(fn())},wn=e=>{const t=Fn(e),r=Object.keys(t).sort(((e,r)=>t[r].date-t[e].date)).reduce(((e,r,a)=>(e[a]=t[r],e)),{}),a=Object.entries(r).map((([e,t])=>t));return a},On=(e,{name:t,id:r})=>{if(void 0===r)return;const a=Object.keys(xn(e)).includes(r);a?(t&&_n(e,{name:t,id:r}),_n(e,{date:Date.now(),id:r,type:e})):_n(e,{name:t,id:r,date:Date.now(),type:e}),Sn()},jn=(e,t)=>`${e}-${t}`,An=(e,{id:t})=>{const r=p.recentProjects.some((r=>r.type===e&&r.id===t));r&&(Wn(e,t),Sn())},Wn=(e,t)=>{En(`projects.${e}.${t}`)},Xn=(e,t)=>{En(`projects.${e}.${t}.data`)},Tn=e=>{e.query[$r.ICO]&&Xn(mn.ICO,e.query[$r.ICO]),e.query[$r.GOOGLE_SPREADSHEET]&&Xn(mn.GOOGLE_SPREADSHEET,e.query[$r.GOOGLE_SPREADSHEET]),e.query[$r.NEXTCLOUD]&&Xn(mn.NEXTCLOUD,e.query[$r.NEXTCLOUD]),e.query[$r.XLSX]&&Xn(mn.XLSX,e.query[$r.XLSX])},Pn=e=>!!Nn(e),Rn=e=>{const t=Gn(e);return e.query[$r.GOOGLE_SPREADSHEET]?bn(mn.GOOGLE_SPREADSHEET,t):e.query[$r.ICO]?bn(mn.ICO,t):e.query[$r.NEXTCLOUD]?bn(mn.NEXTCLOUD,t):e.query[$r.XLSX]?bn(mn.XLSX,t):void 0},Dn=(e,t)=>{const r=Gn(e);e.query[$r.GOOGLE_SPREADSHEET]&&Cn(mn.GOOGLE_SPREADSHEET,{id:r,data:t}),e.query[$r.ICO]&&Cn(mn.ICO,{id:r,data:t}),e.query[$r.NEXTCLOUD]&&Cn(mn.NEXTCLOUD,{id:r,data:t}),e.query[$r.XLSX]&&Cn(mn.XLSX,{id:r,data:t})},Nn=e=>{const{data:t}=Rn(e);return t},Hn=e=>{p.recentProjectNames[e]&&(delete p.recentProjectNames[e],localStorage.recentProjectNames=JSON.stringify(p.recentProjectNames))},Bn=e=>{An(mn.GOOGLE_SPREADSHEET,{id:e})},Vn=()=>"http://localhost:8080/api/",$n=async e=>{let t=null;const r=Vn()+"arguments?project="+e;try{if(!e)throw Error();const a=await fetch(r);t=await a.json()}catch(a){throw console.warn("Fetch error, unable to fetch arguments: "+r),a}return t},qn=async e=>{let t=null;const r=Vn()+"project?name="+e;try{if(!e)throw Error();const a=await fetch(r);t=await a.json()}catch(a){throw console.warn("Fetch error, unable to fetch project:"+r),a}return t},Mn=e=>Object.prototype.hasOwnProperty.call(e.query,$r.GOOGLE_SPREADSHEET)?mn.GOOGLE_SPREADSHEET:Object.prototype.hasOwnProperty.call(e.query,$r.ICO)?mn.ICO:Object.prototype.hasOwnProperty.call(e.query,$r.XLSX)?mn.XLSX:Object.prototype.hasOwnProperty.call(e.query,$r.NEXTCLOUD)?mn.NEXTCLOUD:null,Un=e=>e===mn.GOOGLE_SPREADSHEET?$r.GOOGLE_SPREADSHEET:e===mn.ICO?$r.ICO:e===mn.XLSX?$r.XLSX:e===mn.NEXTCLOUD?$r.NEXTCLOUD:null,Gn=e=>Object.prototype.hasOwnProperty.call(e.query,$r.GOOGLE_SPREADSHEET)?e.query[$r.GOOGLE_SPREADSHEET]:Object.prototype.hasOwnProperty.call(e.query,$r.ICO)?e.query[$r.ICO]:Object.prototype.hasOwnProperty.call(e.query,$r.XLSX)?e.query[$r.XLSX]:Object.prototype.hasOwnProperty.call(e.query,$r.NEXTCLOUD)?e.query[$r.NEXTCLOUD]:null,Qn=async(e,t)=>{const r=Gn(e);On(mn.GOOGLE_SPREADSHEET,{id:r});let a=null;Pn(e)?(a=Nn(e),p.notifications.push({message:"Spreadsheet loaded from cache"})):a=await ya(r),On(mn.GOOGLE_SPREADSHEET,{name:a.project&&a.project.name?a.project.name:void 0,id:r});try{pn(a.items,a.project,t),Dn(e,a),p.spreadsheet=r}catch(n){throw n}},Kn=async(e,t)=>{const r=Gn(e);On(mn.ICO,{id:r});let a=null;Pn(e)?(a=Nn(e),p.notifications.push({message:"Ico project loaded from cache"})):a=await cn(r),a.project&&a.project.name&&On(mn.ICO,{name:a.project.name?a.project.name:void 0,id:a.project.name});try{pn(a.items,a.project,t),Dn(e,a)}catch(n){throw n}},zn=async(e,t)=>{const r=Gn(e);On(mn.NEXTCLOUD,{id:r});let a=null;if(Pn(e))a=Nn(e),p.notifications.push({message:"Nextcloud project loaded from cache"});else{const e=za(r);a=await Ya(e)}On(mn.NEXTCLOUD,{name:a.project&&a.project.name?a.project.name:void 0,id:r});try{pn(a.items,a.project,t),Dn(e,a)}catch(n){throw n}},Jn=({type:e,id:t})=>{const r=Un(e);if(!r)throw new Error("Route type is undefined for this project type.");const a={query:{[r]:t},name:"project",path:"/project",params:{},matched:[],fullPath:"/project",hash:"",redirectedFrom:void 0,meta:void 0},n=Br.resolve(a).href;return n},Yn=async(e,t)=>{F();try{if(Mn(e)===mn.GOOGLE_SPREADSHEET&&await Qn(e,t),Mn(e)===mn.ICO&&await Kn(e,t),Mn(e)===mn.NEXTCLOUD&&await zn(e,t),Mn(e)===mn.XLSX){const e=d.value;if(e&&e.files&&e.files[0]){const r=e.files[0];await tn(r,t)}else console.error("No file selected or file input is not valid.")}I()}catch(r){throw I(),r instanceof ra?(console.warn(r.name,"MYCHOICE ERROR"),aa(r.name,r.message),Error(r.stack)):(aa(r.name,r.message),console.warn(r.stack,"stack"),r)}},Zn=function(){return p.data.alternatives},es=function(){const e=Object.keys(Zn());return e.map((e=>Number(e)))},ts=function(){return Object.keys(Zn()).map((e=>Number(e)))},rs=(0,n.EW)((()=>Object.keys(Zn()).map((e=>Number(e))))),as=function(e){return Zn()[e]},ns=function(e){return as(e).name},ss=function(){const e=p.data.aims;return e},ls=function(){return Object.keys(ss()).map((e=>Number(e)))},os=function(){const e=Object.keys(ss());return e.map((e=>Number(e)))},is=function(e){return ss()[e]},cs=(e,t)=>{const r=Object.values(ss()).filter((r=>Number(r[e])===Number(t)));return r},us=function(e){return ss()[e]&&ss()[e].name},ds=()=>ls().filter((e=>_s().some((t=>t.aim===e)))),ps=e=>(0,be.uniqBy)(e,"aim").map((e=>e.aim)),ms=(e,t)=>e.filter((e=>is(e).criterion===t)).length,vs=function(){const e=p.data.criterions;return e},hs=(0,n.EW)((()=>p.data.criterions)),gs=function(){return Object.keys(vs()).map((e=>Number(e)))},fs=(0,n.EW)((()=>Object.keys(hs.value).map((e=>Number(e))))),bs=function(e){return vs()[e]},ys=function(e){return vs()[Number(e)].name},ks=()=>gs().filter((e=>_s().some((t=>t.criterion===e)))),Es=((0,n.EW)((()=>fs.value.filter((e=>_s().some((t=>t.criterion===e)))))),function(){const e=p.data.items;return e}),_s=function(){let e=Ls(Es(),p.searchInput);return p.selectedAims.length&&(e=e.filter((e=>p.selectedAims.includes(e["aim"])))),p.selectedStakeholders.length&&(e=e.filter((e=>p.selectedStakeholders.includes(e["stakeholder"])))),p.selectedCriterions.length&&(e=e.filter((e=>p.selectedCriterions.includes(Number(ss()[e["aim"]].criterion))))),e},Cs=(e,t)=>{const r=Object.entries(t);return e.filter((e=>r.every((([t,r])=>e[t]===r))))},xs=function(e){return e?Cs(Es(),e):[]},Fs=function(e){return Object.values((0,be.groupBy)(e,(({property:e,value:t,assertion:r,explanation:a,stakeholder:n})=>JSON.stringify({property:e,value:t,assertion:r,explanation:a,stakeholder:n}))))},Is=function(e){return Cs(_s(),e)},Ls=function(e,t){return e.filter((e=>Object.keys(e).some((r=>{if(["property","value"].includes(r)){const a=e[r];return a.toString().toLowerCase().includes(t.toString().toLowerCase())}}))))},Ss=e=>{const t={},r=es();return r.forEach((r=>{const a=e.filter((e=>e.alternative===r));t[r]=a})),t},ws=e=>{const t={},r=os();return r.forEach((r=>{const a=e.filter((e=>e.aim===r));t[r]=a})),t},Os=function(e,t=!0){const r={},a=t?_s():Es();return a.forEach((t=>{const a=t[e];r[a]?r[a].push(t):r[a]=[t]})),oa(r)},js=(e,t)=>(0,be.groupBy)(Is(e),t),As=function(){return p.data.subOptions},Ws=function(){return Object.keys(As()).map((e=>Number(e)))},Xs=function(e){return As()[e]},Ts=function(){const e=p.data.stakeholders;return e},Ps=function(){return Object.keys(Ts()).map((e=>Number(e)))},Rs=function(e){return Ts()[e]&&Ts()[e].name},Ds=e=>{const t={};return Object.keys(e).sort().forEach((function(r){t[r]=e[r]})),JSON.stringify(t)},Ns=()=>p.selectedSupersets,Hs=function(e){p.selectedSuperset=Ds(e)},Bs=function(e){p.selectedSuperset=""},Vs=function(e){p.selectedSuperset===Ds(e)?Bs(e):Hs(e)},$s=function(e){Ms(e)||p.selectedSupersets.push(Ds(e))},qs=function(e){const t=Ds(e),r=Ns().indexOf(t);r>-1&&p.selectedSupersets.splice(r,1)},Ms=function(e){return Ns().find((t=>t===Ds(e)))},Us=e=>Math.round(100*e)/100,Gs=(e,t=!0)=>{const r=ws(e),a={},n={};return Object.entries(r).map((([e,t])=>{Number(e);const r=Qs(t);Object.entries(r).forEach((([e,t])=>{const r=Number(e);(a[r]||(a[r]=[])).push(t)}))})),Object.entries(a).forEach((([r,a])=>{const s=Ks(a)/e.length,l=Number.isNaN(s)?null:t?Us(s):s;n[Number(r)]=l})),n},Qs=e=>{const t=Ss(e),r={};return Object.entries(t).forEach((([t,a])=>{const n=Number(t),s=a.filter((e=>1===e.subOption)),l=a.filter((e=>2===e.subOption)),o=s.length+1,i=(l.length,a.length+2),c=0===e.length,u=0===s.length&&0===l.length&&e.length>0;let d;d=c?0:u?.5:o/i;const p=d*e.length;r[n]=p})),r},Ks=e=>e.reduce(((e,t)=>e+t)),zs=(e,t=!0)=>{if(0===e.length)return null;e.filter((e=>1===e.subOption));const r=e.filter((e=>2===e.subOption)),a=e.length-r.length,n=sa(a,0,e.length);return t?Us(n):n},Js=e=>null===e?"":1===e?"pro":0===e?"con":"mix",Ys=(e,t=!0)=>{const r=_s(),a=Ss(r),n=a[e];return zs(n)},Zs=(e,t)=>{const r=Cs(e,t).map((({property:e,value:t})=>({property:e,value:t})));return(0,be.uniqBy)(r,(e=>[e.property,e.value].join(":")))},el=e=>Zs(_s(),e),tl=function(){return Ps().map((e=>({text:Rs(e),value:e})))},rl=function(){return ls().map((e=>({text:us(e),value:e})))},al=function(){return gs().map((e=>({text:ys(e),value:e})))},nl=function(){return Object.entries(p.modes).map((([e,t])=>({text:t.name,value:e})))},sl=()=>{d.value?.click()},ll=e=>{e.preventDefault(),e.stopPropagation()},ol=e=>{ll(e),ml(e)},il=e=>{ll(e),vl(e)},cl=e=>{ll(e),ml(e)},ul=e=>{ll(e),vl(e);const t=e.dataTransfer.files;d.value.files=t,dl()},dl=async()=>{const e=d.value?.files?.[0],t=Br.resolve(`/project?xlsx=${e.name}`);await Yn(t),Br.push(t)},pl=((0,n.EW)((()=>d.value)),(0,n.EW)((()=>d.value?.files?.[0])),e=>"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e),ml=e=>{e.currentTarget.classList.add("fileDropHighlight"),pl(e.dataTransfer.items[0].type)||e.currentTarget.classList.add("fileDropHighlight--invalid")},vl=e=>{e.currentTarget.classList.remove("fileDropHighlight","fileDropHighlight--invalid")},hl=e=>{const t=document.querySelector("body");t.addEventListener("dragenter",ol,!1),t.addEventListener("dragleave",il,!1),t.addEventListener("dragover",cl,!1),t.addEventListener("drop",ul,!1)},{Parser:gl}=r(8992),fl=e=>{const t={excelStrings:!1,delimiter:";",quote:'"',includeEmptyRows:!0,defaultValue:""};try{const r=new gl(t),a=r.parse(e);return a}catch(r){throw r}};var bl=r(4213);const yl=()=>{const e=Mn(Br.currentRoute.value);return e===mn.GOOGLE_SPREADSHEET||e===mn.XLSX||e===mn.NEXTCLOUD},kl=async e=>{const t=Gn(e),r=Mn(e);if(r===mn.GOOGLE_SPREADSHEET){const e=await pa(t);await El(e)}if(r===mn.NEXTCLOUD){const e=za(t),r=await Ja(e),a=await an(r);await El(a)}if(r===mn.XLSX){const e=d.value;if(e?.files?.length){const t=e.files[0],r=await an(t);await El(r)}else console.error("Aucun fichier XLSX slectionn.")}},El=async e=>{const t=[],r={},a=["project","alternative","typesource","argument","hasexpertise"];e.forEach((e=>{let a=e.data;const n=a[0];if("parameters"===e.title||!n)return;const s=Object.keys(n).length-1;t.push(s),"argument"===e.title&&(a=La(a));const l=fl(a);r[e.title]=l}));const n=Math.max(...t),s=";".repeat(n),l=Object.entries(r).sort((([e],[t])=>a.indexOf(e)-a.indexOf(t))).reduce(((e,[t,r])=>({...e,[t]:r})),{}),o=Object.entries(l).map((([e,t])=>`"${e}"${s}\n${t}\n${s}`)).join("\n"),i=_l(o);(0,bl.saveAs)(i,p.project.name+".csv")},_l=e=>new Blob([e],{type:"text/csv;charset=utf-8;"}),Cl=async()=>{Tn(Br.currentRoute.value),await Yn(Br.currentRoute.value)},xl=["title"],Fl={class:"mychoice-logo-container"},Il=["src"],Ll={class:"d-flex align-center mr-4"},Sl=["src"];var wl={__name:"AppBar",setup(e){const t=(0,c.lq)(),r=(0,n.EW)((()=>t.path.includes("/project")));return(e,t)=>{const l=(0,n.g2)("v-app-bar-nav-icon"),o=(0,n.g2)("v-icon"),c=(0,n.g2)("v-btn"),u=(0,n.g2)("v-tooltip"),d=(0,n.g2)("v-toolbar-title"),m=(0,n.g2)("v-spacer"),v=(0,n.g2)("router-link"),h=(0,n.g2)("v-app-bar");return(0,n.uX)(),(0,n.Wv)(h,{elevation:"0",color:"secondary",dark:"",app:""},{default:(0,n.k6)((()=>[(0,n.bF)(l,{onClick:t[0]||(t[0]=(0,a.D$)((e=>(0,i.R1)(p).drawer=!(0,i.R1)(p).drawer),["stop"]))}),(0,i.R1)(p).project&&r.value?((0,n.uX)(),(0,n.Wv)(d,{key:0,class:"d-flex align-center"},{default:(0,n.k6)((()=>[(0,n.Lk)("a",{class:"white--text text-truncate",style:{"max-width":"200px",display:"block"},title:(0,i.R1)(p).project.name,onClick:t[1]||(t[1]=e=>(0,i.R1)(Vr)("project"))},(0,s.v_)((0,i.R1)(p).project.name),9,xl),(0,i.R1)(p).spreadsheet?((0,n.uX)(),(0,n.Wv)(u,{key:0,location:"bottom"},{activator:(0,n.k6)((({props:e})=>[(0,n.bF)(c,(0,n.v6)({icon:"",target:"_blank",href:(0,i.R1)(_)((0,i.R1)(p).spreadsheet)},e),{default:(0,n.k6)((()=>[(0,n.bF)(o,null,{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("mdi-google-spreadsheet")]))),_:1})])),_:2},1040,["href"])])),default:(0,n.k6)((()=>[t[3]||(t[3]=(0,n.Lk)("span",null,"Open Spreadsheet",-1))])),_:1})):(0,n.Q3)("",!0)])),_:1})):(0,n.Q3)("",!0),(0,n.bF)(m),(0,n.Lk)("div",Fl,[(0,n.bF)(v,{to:"/",class:"logo-mychoice"},{default:(0,n.k6)((()=>[(0,n.Lk)("img",{src:(0,i.R1)(p).baseUrl+"logo-mychoice.svg",alt:"MyChoice Logo"},null,8,Il)])),_:1})]),(0,n.Lk)("div",Ll,[(0,n.Lk)("img",{src:(0,i.R1)(p).baseUrl+"logo-inrae-white-transparent.png",alt:"INRAE Logo",class:"logo-inrae"},null,8,Sl)])])),_:1})}}};const Ol=(0,Q.A)(wl,[["__scopeId","data-v-73702eaa"]]);var jl=Ol;const Al=["src"],Wl={class:"pa-2"};function Xl(e,t,r,a,l,o){const i=(0,n.g2)("router-link"),c=(0,n.g2)("v-list-item-title"),u=(0,n.g2)("v-list-item"),d=(0,n.g2)("v-divider"),p=(0,n.g2)("v-icon"),m=(0,n.g2)("v-item-group"),v=(0,n.g2)("v-list-item-subtitle"),h=(0,n.g2)("v-list"),g=(0,n.g2)("v-list-subheader"),f=(0,n.g2)("v-card-subtitle"),b=(0,n.g2)("v-card"),y=(0,n.g2)("v-btn"),k=(0,n.g2)("Version"),E=(0,n.g2)("v-footer"),_=(0,n.g2)("v-navigation-drawer");return(0,n.uX)(),(0,n.Wv)(_,{app:"",modelValue:e.state.drawer,"onUpdate:modelValue":t[2]||(t[2]=t=>e.state.drawer=t),fixed:"",temporary:"","hide-overlay":""},{append:(0,n.k6)((()=>[(0,n.Lk)("div",Wl,[(0,n.bF)(y,{block:"",color:"red",class:"white--text",onClick:e.refreshProject,disabled:!e.route.path.includes("project")},{default:(0,n.k6)((()=>[(0,n.bF)(p,{small:"",class:"mr-3"},{default:(0,n.k6)((()=>t[13]||(t[13]=[(0,n.eW)("mdi-autorenew")]))),_:1}),t[14]||(t[14]=(0,n.eW)(" Refresh project "))])),_:1},8,["onClick","disabled"])]),(0,n.bF)(h,{nav:"",dense:""},{default:(0,n.k6)((()=>[(0,n.bF)(m,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,{onClick:t[1]||(t[1]=t=>e.state.aboutDialog=!0)},{default:(0,n.k6)((()=>[(0,n.bF)(c,null,{default:(0,n.k6)((()=>t[15]||(t[15]=[(0,n.eW)("About")]))),_:1})])),_:1})])),_:1})])),_:1}),(0,n.bF)(d),(0,n.bF)(E,{class:"flex-grow-1"},{default:(0,n.k6)((()=>[(0,n.bF)(k)])),_:1})])),default:(0,n.k6)((()=>[(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.bF)(c,{class:"title"},{default:(0,n.k6)((()=>[(0,n.bF)(i,{to:"/"},{default:(0,n.k6)((()=>[(0,n.Lk)("img",{style:{padding:"2rem 0",width:"100%",margin:"auto"},src:e.state.baseUrl+"logo-mychoice-color.svg"},null,8,Al)])),_:1})])),_:1})])),_:1}),(0,n.bF)(d),(0,n.bF)(h,{nav:"",dense:""},{default:(0,n.k6)((()=>[(0,n.bF)(m,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,{onClick:e.handleLoadFile},{default:(0,n.k6)((()=>[(0,n.bF)(p,null,{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("mdi-upload")]))),_:1}),(0,n.bF)(c,null,{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("Open local project "),(0,n.Lk)("small",null,"(.xlsx)",-1)]))),_:1})])),_:1},8,["onClick"]),(0,n.bF)(u,{onClick:t[0]||(t[0]=t=>e.state.openDialog=!0)},{default:(0,n.k6)((()=>[(0,n.bF)(p,null,{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("mdi-cloud-upload")]))),_:1}),(0,n.bF)(c,null,{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("Open online project")]))),_:1})])),_:1})])),_:1}),(0,n.bF)(u,{href:"https://docs.google.com/spreadsheets/d/1Cj5tC6JyLQxCHdtZJ8d9_-FSV9UbHT7AGE3wrLEMlig/copy",target:"_blank"},{default:(0,n.k6)((()=>[(0,n.bF)(p,null,{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("mdi-plus-circle-outline")]))),_:1}),(0,n.bF)(c,null,{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("Create new project")]))),_:1}),(0,n.bF)(v,null,{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("from spreadsheet template")]))),_:1})])),_:1})])),_:1}),(0,n.bF)(d),(0,n.bF)(g,null,{default:(0,n.k6)((()=>t[10]||(t[10]=[(0,n.eW)("Recent projects")]))),_:1}),e.hasRecentProjects?((0,n.uX)(),(0,n.Wv)(h,{key:1,subheader:"",nav:"",dense:""},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.recentProjects,((r,a)=>((0,n.uX)(),(0,n.Wv)(u,{key:a,to:e.getHrefFromTypeId({type:r.type,id:r.id})},{default:(0,n.k6)((()=>[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(r.name||r.id),1)])),_:2},1024),"googlespreadsheet"===r.type?((0,n.uX)(),(0,n.Wv)(p,{key:0},{default:(0,n.k6)((()=>t[12]||(t[12]=[(0,n.eW)("mdi-google-spreadsheet")]))),_:1})):(0,n.Q3)("",!0)])),_:2},1032,["to"])))),128))])),_:1})):((0,n.uX)(),(0,n.Wv)(b,{key:0,disabled:"",flat:"",tile:""},{default:(0,n.k6)((()=>[(0,n.bF)(f,null,{default:(0,n.k6)((()=>t[11]||(t[11]=[(0,n.eW)("No recent projects")]))),_:1})])),_:1}))])),_:1},8,["modelValue"])}var Tl=(0,n.pM)({components:{Version:ie},setup(){const e=(0,c.lq)();return{state:p,route:e,recentProjects:In,hasRecentProjects:Ln,getHrefFromTypeId:Jn,handleLoadFile:sl,isExportableToCSV:yl,openIco:ln,openSpreadsheet:sn,getImagePath:b,exportToCSV:kl,refreshProject:Cl}}});const Pl=(0,Q.A)(Tl,[["render",Xl]]);var Rl=Pl;function Dl(e,t,r,l,o,i){const c=(0,n.g2)("v-list-item-title"),u=(0,n.g2)("v-spacer"),d=(0,n.g2)("v-icon"),p=(0,n.g2)("v-btn"),m=(0,n.g2)("v-list-item-action"),v=(0,n.g2)("v-list-item"),h=(0,n.g2)("v-combobox"),g=(0,n.g2)("v-form"),f=(0,n.g2)("v-col"),b=(0,n.g2)("v-row");return(0,n.uX)(),(0,n.Wv)(b,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,null,{default:(0,n.k6)((()=>[t[4]||(t[4]=(0,n.Lk)("h3",null,"From INRAE's server",-1)),(0,n.bF)(b,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{cols:"12",class:""},{default:(0,n.k6)((()=>[(0,n.bF)(g,{onSubmit:t[1]||(t[1]=(0,a.D$)((t=>{e.handleOpenIco(e.state.fields.projectName),e.state.openDialog=!1}),["prevent"]))},{default:(0,n.k6)((()=>[(0,n.bF)(h,{items:e.recentIcoProjects.map((([e,t])=>({text:t.name,value:t}))),"item-text":"text","item-value":"value",label:"Project name",id:"comboprojectname",autocomplete:"off","search-input":e.state.fields.projectName,outlined:""},{item:(0,n.k6)((({index:r,item:l})=>[(0,n.bF)(v,{to:e.getHrefFromTypeId({type:l.value.type,id:l.value.id})},{default:(0,n.k6)((()=>[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(l.text),1)])),_:2},1024),(0,n.bF)(u),(0,n.bF)(m,{onClick:t[0]||(t[0]=(0,a.D$)((()=>{}),["stop"]))},{default:(0,n.k6)((()=>[(0,n.bF)(p,{icon:"",onClick:(0,a.D$)((t=>e.removeFromRecentProjects(l.value.type,{id:l.value.id})),["stop","prevent"])},{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("mdi-close")]))),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["to"])])),_:1},8,["items","search-input"]),(0,n.bF)(p,{class:"ml-auto d-flex",color:"secondary",disabled:!e.state.fields.projectName,type:"submit"},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("Open from Ico")]))),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var Nl=(0,n.pM)({setup(){const e=async function(e){await ln(e),p.fields.projectName=""},t=async function(e){await sn(e),p.fields.spreadsheetUrl=""},r=async function(e){await on(e),p.fields.nextcloudUrl=""},a=(0,n.EW)((()=>p.fields.spreadsheetUrl?ka(p.fields.spreadsheetUrl):""));return{state:p,isValidNextcloudUrl:Ka,spreadsheetId:a,openNextcloudUrl:on,removeFromRecentProjectSpreadsheets:Bn,removeFromRecentProjectNames:Hn,handleOpenIco:e,handleOpenSpreadsheet:t,handleOpenNextcloudUrl:r,recentSpreadsheetProjects:L,recentNextcloudProjects:w,recentIcoProjects:S,removeFromRecentProjects:An,getHrefFromTypeId:Jn}}});const Hl=(0,Q.A)(Nl,[["render",Dl]]);var Bl=Hl;const Vl=["href"],$l=["href"];function ql(e,t,r,a,s,l){const o=(0,n.g2)("v-card-title"),i=(0,n.g2)("v-card-text"),c=(0,n.g2)("v-divider"),u=(0,n.g2)("v-card-subtitle"),d=(0,n.g2)("v-col"),p=(0,n.g2)("v-row"),m=(0,n.g2)("v-card");return(0,n.uX)(),(0,n.Wv)(m,{class:"text-center"},{default:(0,n.k6)((()=>[(0,n.bF)(o,{class:"justify-center"},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("About MyChoice")]))),_:1}),(0,n.bF)(i,null,{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.Lk)("b",null,"MyChoice",-1),(0,n.eW)(" is a web application supporting collective decision, designed by INRAE. ")]))),_:1}),(0,n.bF)(i,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",null,[(0,n.bF)(c,{class:"my-2"}),(0,n.bF)(u,{class:"p-0"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("Scientific contacts")]))),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.Lk)("b",null,[(0,n.Lk)("a",{href:"mailto:rallou.thomopoulos@inrae.fr"},"Rallou Thomopoulos")],-1),(0,n.Lk)("br",null,null,-1),(0,n.Lk)("small",null,"INRAE (IATE lab) / INRIA (GraphIK lab)",-1)]))),_:1}),(0,n.bF)(d,null,{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.Lk)("b",null,[(0,n.Lk)("a",{href:"mailto:julien.cufi@inrae.fr"},"Julien Cufi")],-1),(0,n.Lk)("br",null,null,-1),(0,n.Lk)("small",null,"INRAE (IATE lab)",-1)]))),_:1})])),_:1}),(0,n.bF)(c,{class:"my-2"}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("UX & front-end development")]))),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.Lk)("b",null,[(0,n.Lk)("a",{href:"https://maximelebreton.com",target:"_blank"},"Maxime Le Breton")],-1),(0,n.Lk)("br",null,null,-1),(0,n.Lk)("small",null,"Independent designer &front-enddeveloper",-1)]))),_:1})])),_:1}),(0,n.bF)(c,{class:"my-2"}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("Other contributors")]))),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.Lk)("b",null," Thomas Bosch ",-1),(0,n.Lk)("br",null,null,-1),(0,n.Lk)("small",null,"Former student at IATE lab",-1)]))),_:1})])),_:1}),(0,n.bF)(c,{class:"my-2"}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>[(0,n.Lk)("a",{href:e.state.baseUrl+"licenses.txt",target:"_blank"},"Open source licenses",8,Vl)])),_:1}),(0,n.bF)(d,null,{default:(0,n.k6)((()=>[(0,n.Lk)("a",{href:e.state.baseUrl+"Open_source_license_terms.pdf",target:"_blank"},"Open source licenses terms",8,$l)])),_:1})])),_:1})])])),_:1})])),_:1})}var Ml={data:()=>({state:p})};const Ul=(0,Q.A)(Ml,[["render",ql]]);var Gl=Ul,Ql=(0,n.pM)({name:"App",components:{AppBar:jl,Drawer:Rl,OpenDialog:Bl,About:Gl},setup(){(0,n.sV)((()=>{hl()}));const e=(0,n.EW)({get:()=>p.notifications.length>0,set:e=>{e||(p.notifications=[])}}),t=(0,n.EW)({get:()=>Object.values(p.errors).some((e=>!1!==e)),set:e=>{e||Jr()}});return{dropFileInputRef:d,onFileChange:dl,onFileDrop:ul,onFileDragEnter:ol,onFileDragLeave:il,onFileDragOver:cl,clearErrors:Jr,getErrorMessage:zr,refreshProject:Cl,state:p,getErrors:Kr,notifications:Qr,isNotification:e,isError:t}}});const Kl=(0,Q.A)(Ql,[["render",o]]);var zl=Kl,Jl=(r(5524),r(3925)),Yl=r(9547),Zl=r(9693),eo=r(3051),to=r(9293),ro=r(8741),ao=r(8210),no=r(2034),so=r(5526),lo=r(4789),oo=r(365),io=r(8400),co=r(5939),uo=r(4810),po=r(6832),mo=r(1541),vo=r(3679),ho=r(4146),go=r(9321),fo=r(5286),bo=r(9416),yo=r(6843),ko=r(6838),Eo=r(2940),_o=r(2281),Co=r(857),xo=r(4629),Fo=r(1539),Io=r(8591),Lo=r(9283),So=r(7789),wo=r(1529),Oo=r(9468),jo=r(6731),Ao=r(6992),Wo=r(3495),Xo=r(3548),To=r(3714),Po=r(9271),Ro=r(5634),Do=r(802),No=r(7609),Ho=r(7163),Bo=r(2049),Vo=r(193),$o=r(9064),qo=r(6526);const Mo=(0,Jl.$N)({components:{VApp:Yl.E,VAppBar:Zl.z,VNavigationDrawer:eo.e,VList:to.x8,VListItem:ro.g,VListItemTitle:ao.U,VListItemSubtitle:no.w,VDivider:so.G,VBtn:lo.D,VIcon:oo.w,VCard:io.J,VCardTitle:co.r,VCardText:uo.O,VDialog:po.p,VMain:mo.Y,VItemGroup:vo.$V,VListSubheader:ho.w,VOverlay:go.L,VProgressCircular:fo.x,VSnackbar:bo.K,VFooter:yo.O,VContainer:ko.I,VListItemAction:Eo.k,VSpacer:_o.h,VCardSubtitle:Co.Z,VRow:xo.L,VCol:Fo.B,VToolbarTitle:Io.s,VTooltip:Lo.y,VAppBarNavIcon:So.Z,VForm:wo.n,VCombobox:Oo.A,VImg:jo.y,VAvatar:Ao.y,VChip:Wo.x,VBadge:Xo.Q,VExpandTransition:To.Qo,VMenu:Po.q,VBtnToggle:Ro.H_,VToolbar:Do.u,VAutocomplete:No.V,VTextField:Ho.W,VSelect:Bo.d4,VTable:Vo.Z},directives:$o,icons:{defaultSet:"mdi",aliases:qo.z,sets:{mdi:qo.r}},theme:{defaultTheme:"light",themes:{light:{colors:{primary:"#4F4F4F",secondary:"#00A3F6",accent:"#8c9eff",error:"#b71c1c"}},dark:{colors:{primary:"#4F4F4F",secondary:"#00A3A6",accent:"#8c9eff",error:"#b71c1c"}}}}});var Uo=Mo,Go=r(5727),Qo={install(e){e.component("Highlighter",Go.Ay)}};const Ko=async()=>{Sn()};(async()=>{await Ko();const e=(0,a.Ef)(zl);e.use(Br),e.use(Uo),e.use(Qo),e.mount("#app")})()},6251:function(){},7233:function(){},9800:function(){}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=e,function(){var e=[];r.O=function(t,a,n,s){if(!a){var l=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],s=e[u][2];for(var o=!0,i=0;i<a.length;i++)(!1&s||l>=s)&&Object.keys(r.O).every((function(e){return r.O[e](a[i])}))?a.splice(i--,1):(o=!1,s<l&&(l=s));if(o){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,n,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,s,l=a[0],o=a[1],i=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(i)var u=i(r)}for(t&&t(a);c<l.length;c++)s=l[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},a=self["webpackChunkmy_choice"]=self["webpackChunkmy_choice"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[504],(function(){return r(4133)}));a=r.O(a)})();
//# sourceMappingURL=app.389aa837.js.map