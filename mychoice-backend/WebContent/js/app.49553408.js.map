{"version":3,"file":"js/app.49553408.js","mappings":"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ACtC,OAAoB,IAAhB4D,EAA0B,UAC1BA,EAAc,IAAa,UAC3BA,EAAc,GAAa,UAC3BA,EAAc,GAAa,UACxB,SAAS,EAGlB,MAAO,CACLlH,WACA3Y,QACAuU,SACAiI,eACAV,mBACAC,YACA1D,sBACAK,YACAmB,cACA6B,wBACAM,eAEJ,ICrhBF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCPA,MAAMzd,GAAa,CCDZ9I,MAAM,gBDEP+I,GAAa,CCAV/I,MAAM,4BDCTgJ,GAAa,CCJnBjG,IAAA,EAOW/C,MAAM,mBDCXiJ,GCRN,mBDSMC,GAAa,CCCNlJ,MAAM,QDAbmJ,GCVN,YDWMC,GCXN,sBDYMC,GCZN,sBDaMC,GCbN,sBDcMC,GCdN,iBDeMC,GCfN,iBDgBMmK,GAAc,CCgBP3T,MAAM,WDfb4T,GCjBN,UDkBMC,GClBN,UDmBM8N,GCnBN,UDoBMC,GCpBN,UDqBMC,GCrBN,UDsBMC,GCtBN,sBDuBMC,GCvBN,gBDwBMC,GCxBN,gBDyBMC,GCzBN,UD0BMC,GC1BN,UD2BMC,GC3BN,UD4BMC,GAAc,CC6IPpiB,MAAM,oBD5IbqiB,GAAc,CC7BpBtf,IAAA,EA6LW/C,MAAM,8BD5JXsiB,GAAc,CCkKNtiB,MAAM,qBDjKdqqB,GAAc,CCkKLrqB,MAAM,mBDjKfsqB,GCnCN,mBDoCMC,GAAc,CCmKHvqB,MAAM,QDlKjBwqB,GCrCN,YDsCMC,GCtCN,sBDuCMC,GCvCN,sBDwCMC,GCxCN,sBDyCMC,GCzCN,iBD0CMC,GC1CN,iBD2CMC,GAAc,CCkLH9qB,MAAM,WDjLjB+qB,GC5CN,UD6CMC,GC7CN,UD8CMC,GC9CN,UD+CMC,GC/CN,UDgDMC,GChDN,UDiDMC,GCjDN,sBDkDMC,GClDN,gBDmDMC,GCnDN,gBDoDMC,GCpDN,UDqDMC,GCrDN,UDsDMC,GCtDN,UDuDMC,GAAc,CC+SH1rB,MAAM,oBD7SjB,SAAUyJ,GAAO3I,EAAUF,EAAY8I,EAAYC,EAAYC,EAAWC,GAC9E,OAAQS,EAAAA,EAAAA,OCzDR7H,EAAAA,EAAAA,IAwXM,MAxXNqG,GAwXM,EAtXJxI,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","sources":["webpack://my-choice/./src/App.vue","webpack://my-choice/./src/store/state.ts","webpack://my-choice/./src/views/Project.vue?c832","webpack://my-choice/./src/views/Project.vue","webpack://my-choice/./src/components/Empty.vue","webpack://my-choice/./src/components/Empty.vue?43be","webpack://my-choice/./src/views/Project.vue?c46e","webpack://my-choice/./src/views/Home.vue","webpack://my-choice/./src/components/Version.vue","webpack://my-choice/./src/components/Version.vue?9114","webpack://my-choice/./src/views/Home.vue?9051","webpack://my-choice/./src/views/Main.vue","webpack://my-choice/./src/components/Header.vue?60f3","webpack://my-choice/./src/components/Header.vue","webpack://my-choice/./src/components/Header.vue?801b","webpack://my-choice/./src/components/TableList/TableList.vue?3621","webpack://my-choice/./src/components/TableList/TableList.vue","webpack://my-choice/./src/components/TableList/TableListHead.vue?38c4","webpack://my-choice/./src/components/TableList/TableListHead.vue","webpack://my-choice/./src/components/ProductDetailsDialog.vue?6f1c","webpack://my-choice/./src/components/ProductDetailsDialog.vue","webpack://my-choice/./src/components/CompositionTree.vue?fa10","webpack://my-choice/./src/components/CompositionTree.vue","webpack://my-choice/./src/components/CompositionTree.vue?141d","webpack://my-choice/./src/components/ProductDetailsDialog.vue?3ed5","webpack://my-choice/./src/components/TableList/TableListHead.vue?9196","webpack://my-choice/./src/components/TableList/TableListFoot.vue","webpack://my-choice/./src/components/ScoreIcon.vue?9391","webpack://my-choice/./src/components/ScoreIcon.vue","webpack://my-choice/./src/components/ScoreIcon.vue?c879","webpack://my-choice/./src/components/TableList/TableListFoot.vue?e57e","webpack://my-choice/./src/components/TableList/TableListAim.vue?f16d","webpack://my-choice/./src/components/TableList/TableListAim.vue","webpack://my-choice/./src/components/ItemsCount.vue?97ed","webpack://my-choice/./src/components/ItemsCount.vue","webpack://my-choice/./src/components/ItemsCount.vue?1e1a","webpack://my-choice/./src/components/Acceptability.vue?d3b2","webpack://my-choice/./src/components/Acceptability.vue","webpack://my-choice/./src/components/Acceptability.vue?b4af","webpack://my-choice/./src/components/TableList/TableListAim.vue?ebbb","webpack://my-choice/./src/components/TableList/TableListCriterion.vue?86e1","webpack://my-choice/./src/components/TableList/TableListCriterion.vue","webpack://my-choice/./src/components/TableList/TableListCriterion.vue?09b4","webpack://my-choice/./src/components/TableList/TableListAlternative.vue","webpack://my-choice/./src/components/TableList/TableListCard.vue","webpack://my-choice/./src/components/TableList/TableListCard.vue?f3c0","webpack://my-choice/./src/components/TableList/TableListAlternative.vue?d28a","webpack://my-choice/./src/components/TableList/TableList.vue?8723","webpack://my-choice/./src/components/SupersetCard.vue","webpack://my-choice/./src/components/SupersetCardItem.vue","webpack://my-choice/./src/components/SupersetCardItem.vue?483e","webpack://my-choice/./src/components/SupersetCard.vue?5507","webpack://my-choice/./src/views/Main.vue?0dcf","webpack://my-choice/./src/views/Properties.vue?6012","webpack://my-choice/./src/views/Properties.vue","webpack://my-choice/./src/components/PropertiesList/PropertyListRow.vue?051e","webpack://my-choice/./src/components/PropertiesList/PropertyListRow.vue","webpack://my-choice/./src/components/PropertiesList/PropertiesListCriterion.vue?f030","webpack://my-choice/./src/components/PropertiesList/PropertiesListCriterion.vue","webpack://my-choice/./src/components/PropertiesList/PropertiesListCriterion.vue?4525","webpack://my-choice/./src/components/PropertiesList/PropertyListRow.vue?9157","webpack://my-choice/./src/views/Properties.vue?bf79","webpack://my-choice/./src/views/Stakeholders.vue?141b","webpack://my-choice/./src/views/Stakeholders.vue","webpack://my-choice/./src/components/StakeholderList/StakeholderListRow.vue?8657","webpack://my-choice/./src/components/StakeholderList/StakeholderListRow.vue","webpack://my-choice/./src/components/StakeholderList/StakeholderListRow.vue?1475","webpack://my-choice/./src/views/Stakeholders.vue?a536","webpack://my-choice/./src/views/ChartView.vue?73df","webpack://my-choice/./src/views/ChartView.vue","webpack://my-choice/./src/components/Charts/ArgumentCount.vue?08a8","webpack://my-choice/./src/components/Charts/ArgumentCount.vue","webpack://my-choice/./src/components/Charts/ArgumentCount.vue?2a2c","webpack://my-choice/./src/components/Charts/BarChart.vue?6c5b","webpack://my-choice/./src/components/Charts/BarChart.vue","webpack://my-choice/./src/components/Charts/BarChart.vue?6a7b","webpack://my-choice/./src/components/Charts/CircleChart.vue?1778","webpack://my-choice/./src/components/Charts/CircleChart.vue","webpack://my-choice/./src/components/Charts/CircleChart.vue?db5c","webpack://my-choice/./src/components/Charts/AlternativesComparison.vue?17f7","webpack://my-choice/./src/components/Charts/AlternativesComparison.vue","webpack://my-choice/./src/components/Charts/AlternativesComparison.vue?1d67","webpack://my-choice/./src/components/Charts/CrosstabChart.vue?f8bf","webpack://my-choice/./src/components/Charts/CrosstabChart.vue","webpack://my-choice/./src/components/Charts/CrosstabChart.vue?d713","webpack://my-choice/./src/views/ChartView.vue?7bbb","webpack://my-choice/./src/router/index.ts","webpack://my-choice/./src/store/routes.ts","webpack://my-choice/./src/store/notifications.ts","webpack://my-choice/./src/store/utils.ts","webpack://my-choice/./src/data-spreadsheet.ts","webpack://my-choice/./src/store/spreadsheet.ts","webpack://my-choice/./src/data-renamed.ts","webpack://my-choice/./src/data-parser.ts","webpack://my-choice/./src/store/xlsx.ts","webpack://my-choice/./src/store/project.ts","webpack://my-choice/./src/store/cache.ts","webpack://my-choice/./src/store/fetch.ts","webpack://my-choice/./src/store/alternatives.ts","webpack://my-choice/./src/store/aims.ts","webpack://my-choice/./src/store/criterions.ts","webpack://my-choice/./src/store/items.ts","webpack://my-choice/./src/store/suboptions.ts","webpack://my-choice/./src/store/stakeholders.ts","webpack://my-choice/./src/store/supersets.ts","webpack://my-choice/./src/store/acceptability.ts","webpack://my-choice/./src/store/labels.ts","webpack://my-choice/./src/store/select.ts","webpack://my-choice/./src/store/filedrop.ts","webpack://my-choice/./src/data-csv.ts","webpack://my-choice/./src/store/csv.ts","webpack://my-choice/./src/store/index.ts","webpack://my-choice/./src/components/AppBar.vue","webpack://my-choice/./src/components/AppBar.vue?7e47","webpack://my-choice/./src/components/Drawer.vue","webpack://my-choice/./src/components/Drawer.vue?b302","webpack://my-choice/./src/components/OpenDialog.vue?d5e7","webpack://my-choice/./src/components/OpenDialog.vue","webpack://my-choice/./src/components/OpenDialog.vue?26ba","webpack://my-choice/./src/views/About.vue","webpack://my-choice/./src/views/About.vue?1393","webpack://my-choice/./src/App.vue?7ccd","webpack://my-choice/./src/plugins/vuetify.ts","webpack://my-choice/./src/plugins/text-highlight.ts","webpack://my-choice/./src/store/events.ts","webpack://my-choice/./src/main.ts","webpack://my-choice/webpack/bootstrap","webpack://my-choice/webpack/runtime/chunk loaded","webpack://my-choice/webpack/runtime/compat get default export","webpack://my-choice/webpack/runtime/define property getters","webpack://my-choice/webpack/runtime/global","webpack://my-choice/webpack/runtime/hasOwnProperty shorthand","webpack://my-choice/webpack/runtime/make namespace object","webpack://my-choice/webpack/runtime/node module decorator","webpack://my-choice/webpack/runtime/jsonp chunk loading","webpack://my-choice/webpack/startup"],"sourcesContent":["<template>\r\n  <v-app class=\"bg-grey-lighten-4\">\r\n    <AppBar />\r\n    <Drawer />\r\n\r\n    <!-- Input pour import local -->\r\n    <input\r\n      type=\"file\"\r\n      ref=\"dropFileInputRef\"\r\n      accept=\".xlsx\"\r\n      style=\"display: none\"\r\n      @change=\"onFileChange\"\r\n    />\r\n    <v-main> \r\n      <router-view />\r\n    </v-main>\r\n\r\n\r\n    <!-- Dialogue ouverture projet en ligne -->\r\n    <v-dialog v-model=\"state.openDialog\" max-width=\"600\">\r\n      <v-card>\r\n        <v-card-title class=\"d-flex align-center\">\r\n          <v-icon class=\"mr-2\">mdi-cloud-upload</v-icon>\r\n          <span>Open online project</span>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <OpenDialog />\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <!-- Dialogue \"About\" -->\r\n    <v-dialog v-model=\"state.aboutDialog\" max-width=\"600\">\r\n      <About />\r\n    </v-dialog>\r\n\r\n    <!-- Overlay de chargement -->\r\n    <v-overlay :model-value=\"state.overlay\" class=\"d-flex justify-center align-center\" z-index=\"3\">\r\n      <v-progress-circular indeterminate size=\"64\" color=\"primary\" />\r\n    </v-overlay>\r\n\r\n    <!-- Snackbar notifications -->\r\n    <v-snackbar v-model=\"isNotification\" color=\"info\" location=\"top\">\r\n      <template #default>\r\n        <v-icon class=\"mr-2\">mdi-information</v-icon>\r\n        <div>\r\n          <div v-for=\"(notification, index) in notifications\" :key=\"index\">\r\n            {{ notification.message }}\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template #actions>\r\n        <v-btn variant=\"outlined\" size=\"small\" @click=\"refreshProject\">Refresh</v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n\r\n    <!-- Snackbar erreurs -->\r\n    <v-snackbar v-model=\"isError\" color=\"error\" timeout=\"0\" multi-line>\r\n      <template #default>\r\n        <div v-for=\"(key, index) in getErrors\" :key=\"index\">\r\n          {{ getErrorMessage(key) }}\r\n        </div>\r\n      </template>\r\n      <template #actions>\r\n        <v-btn variant=\"text\" @click=\"clearErrors\">Close</v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, computed, defineComponent } from \"vue\";\r\nimport AppBar from \"@/components/AppBar.vue\";\r\nimport Drawer from \"@/components/Drawer.vue\";\r\nimport OpenDialog from \"@/components/OpenDialog.vue\";\r\nimport About from \"@/views/About.vue\";\r\n\r\nimport {\r\n  state,\r\n  clearErrors,\r\n  getErrors,\r\n  getErrorMessage,\r\n  refreshProject,\r\n  onFileChange,\r\n  onFileDrop,\r\n  onFileDragEnter,\r\n  onFileDragLeave,\r\n  onFileDragOver,\r\n  initDropArea,\r\n  notifications,\r\n  dropFileInputRef\r\n} from \"@/store\";\r\n\r\nexport default defineComponent({\r\n  name: \"App\",\r\n  components: {\r\n    AppBar,\r\n    Drawer,\r\n    OpenDialog,\r\n    About\r\n  },\r\n  setup() {\r\n    onMounted(() => {\r\n      initDropArea();\r\n    });\r\n\r\n    const isNotification = computed({\r\n      get: () => state.notifications.length > 0,\r\n      set: (val) => {\r\n        if (!val) state.notifications = [];\r\n      }\r\n    });\r\n\r\n    const isError = computed({\r\n      get: () => Object.values(state.errors).some(error => error !== false),\r\n      set: (val) => {\r\n        if (!val) clearErrors();\r\n      }\r\n    });\r\n\r\n    return {\r\n      dropFileInputRef,\r\n      onFileChange,\r\n      onFileDrop,\r\n      onFileDragEnter,\r\n      onFileDragLeave,\r\n      onFileDragOver,\r\n      clearErrors,\r\n      getErrorMessage,\r\n      refreshProject,\r\n      state,\r\n      getErrors,\r\n      notifications,\r\n      isNotification,\r\n      isError\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@/styles/main.scss\";\r\n</style>\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\n//import { data } from \"../data\";\r\n\r\nimport { computed, Ref, reactive, watch, ref } from \"vue\";\r\nimport { NormalizedData, Project } from \"@/@types\";\r\nimport { LocalStorageCache, LocalStorageCacheProjectItem } from \".\";\r\n\r\nexport interface State {\r\n  vm: any;  // Utiliser `any` ou `ComponentPublicInstance` pour Vue 3\r\n  notifications: {\r\n    type?: string;\r\n    message: string;\r\n  }[];\r\n  readonly baseUrl: string;\r\n  spreadsheet: string | null;\r\n  data: NormalizedData | null;\r\n  project: Project | null;\r\n  searchInput: string;\r\n  selectedSuperset: string;\r\n  selectedSupersets: string[];\r\n  selectedAims: number[];\r\n  selectedCriterions: number[];\r\n  selectedStakeholders: number[];\r\n  mode:\r\n    | \"consensus\"\r\n    | \"interplay\"\r\n    | \"data-reliability\"\r\n    | \"expertise\"\r\n    | \"prospective\"\r\n    | \"multi-stakeholder\";\r\n  readonly modes: {\r\n    [key in State[\"mode\"]]?: {\r\n      name: string;\r\n    };\r\n  };\r\n  globalCardType: \"label\" | \"stakeholder\";\r\n  chartFilters?: {\r\n    selectedAlternative: string;\r\n    analysisPer: string;\r\n    selectedCriterion: string;\r\n  };\r\n  dialog: boolean;\r\n  compareDialog: boolean;\r\n  openDialog: boolean;\r\n  readonly icons: {\r\n    [id: string]: any;\r\n  };\r\n  aboutDialog: boolean;\r\n  creditsDialog: boolean;\r\n  // dropFileInputRef: null | Ref<HTMLInputElement>;\r\n  overlay: boolean;\r\n  drawer: boolean;\r\n  selectedView: string;\r\n  errors: {\r\n    [key: string]: boolean | string | null;\r\n  };\r\n  snackbar: boolean;\r\n  readonly errorMessages: {\r\n    [key: string]: string;\r\n  };\r\n  recentProjects: LocalStorageCacheProjectItem[];\r\n  recentProjectNames: {\r\n    [key: string]: {\r\n      name: string;\r\n      date: number;\r\n    };\r\n  };\r\n  recentProjectSpreadsheets: {\r\n    [key: string]: {\r\n      name: string;\r\n      id: string;\r\n      date: number;\r\n    };\r\n  };\r\n  fields: {\r\n    projectName: string;\r\n    spreadsheetUrl: string;\r\n    nextcloudUrl: string;\r\n  };\r\n}\r\n\r\nexport const DEFAULTS: Pick<\r\n  State,\r\n  | \"mode\"\r\n  | \"searchInput\"\r\n  | \"selectedSuperset\"\r\n  | \"selectedSupersets\"\r\n  | \"selectedAims\"\r\n  | \"selectedCriterions\"\r\n  | \"selectedStakeholders\"\r\n  | \"compareDialog\"\r\n  | \"dialog\"\r\n  | \"openDialog\"\r\n  | \"spreadsheet\"\r\n  | \"selectedView\"\r\n  | \"data\"\r\n  | \"project\"\r\n  | \"aboutDialog\"\r\n  | \"creditsDialog\"\r\n  | \"globalCardType\"\r\n  // | \"dropFileInputRef\"\r\n> = {\r\n  mode: \"consensus\",\r\n  globalCardType: \"label\",\r\n  searchInput: \"\",\r\n  selectedSuperset: \"\",\r\n  selectedSupersets: [],\r\n  selectedAims: [],\r\n  selectedCriterions: [],\r\n  selectedStakeholders: [],\r\n  compareDialog: false,\r\n  dialog: false,\r\n  openDialog: false,\r\n  spreadsheet: null,\r\n  selectedView: \"table-view\",\r\n  data: null,\r\n  project: null,\r\n  aboutDialog: false,\r\n  creditsDialog: false,\r\n  // dropFileInputRef: null,\r\n};\r\n\r\nexport const dropFileInputRef = ref<HTMLInputElement | null>(null);\r\n\r\nexport const state = reactive<State>({\r\n  vm: null,\r\n  notifications: [],\r\n  baseUrl: process.env.BASE_URL,\r\n  selectedView: DEFAULTS.selectedView,\r\n  spreadsheet: DEFAULTS.spreadsheet,\r\n  data: DEFAULTS.data,\r\n  project: DEFAULTS.project,\r\n  searchInput: DEFAULTS.searchInput,\r\n  selectedSuperset: DEFAULTS.selectedSuperset,\r\n  selectedSupersets: DEFAULTS.selectedSupersets,\r\n  selectedAims: DEFAULTS.selectedAims,\r\n  selectedCriterions: DEFAULTS.selectedCriterions,\r\n  selectedStakeholders: DEFAULTS.selectedStakeholders,\r\n  mode: DEFAULTS.mode,\r\n  modes: {\r\n    consensus: {\r\n      name: \"Consensus\",\r\n    },\r\n    interplay: {\r\n      name: \"Interplay\",\r\n    },\r\n    prospective: {\r\n      name: \"Prospective\",\r\n    },\r\n    expertise: {\r\n      name: \"Expertise\",\r\n    },\r\n    \"data-reliability\": {\r\n      name: \"Data reliability\",\r\n    },\r\n    \"multi-stakeholder\": {\r\n      name: \"Multi Stakeholder\",\r\n    },\r\n  },\r\n  globalCardType: \"label\",\r\n  chartFilters: {\r\n    selectedAlternative: \"all-merged\",\r\n    analysisPer: \"criteria\",\r\n    selectedCriterion: \"\",\r\n  },\r\n  dialog: DEFAULTS.dialog,\r\n  compareDialog: DEFAULTS.compareDialog,\r\n  openDialog: DEFAULTS.openDialog,\r\n  aboutDialog: DEFAULTS.aboutDialog,\r\n  creditsDialog: DEFAULTS.creditsDialog,\r\n  // dropFileInputRef: ref<HTMLInputElement | null>(null),\r\n  icons: {\r\n    subOption: {\r\n      1: \"mdi-emoticon-happy-outline\",\r\n      2: \"mdi-emoticon-sad-outline\",\r\n    },\r\n    compare: \"mdi\",\r\n  },\r\n  overlay: false,\r\n  drawer: false,\r\n  errors: {\r\n    FAILED_TO_FETCH_SPREADSHEET: false,\r\n    FAILED_TO_FETCH_ICO: false,\r\n  },\r\n  snackbar: false,\r\n  fields: {\r\n    projectName: \"\",\r\n    spreadsheetUrl: \"\",\r\n    nextcloudUrl: \"\",\r\n  },\r\n  errorMessages: {\r\n    FAILED_TO_FETCH_SPREADSHEET:\r\n      \"The Spreadsheet isn't published or doesn't exist\",\r\n    FAILED_TO_FETCH_ICO:\r\n      \"This project name doesn't exist (note: name is case-sensitive)\",\r\n  },\r\n  recentProjects: [],\r\n  recentProjectNames:\r\n    localStorage.recentProjectNames &&\r\n    JSON.parse(localStorage.recentProjectNames) !== null\r\n      ? JSON.parse(localStorage.recentProjectNames)\r\n      : {},\r\n  recentProjectSpreadsheets:\r\n    localStorage.recentProjectSpreadsheets &&\r\n    JSON.parse(localStorage.recentProjectSpreadsheets) !== null\r\n      ? JSON.parse(localStorage.recentProjectSpreadsheets)\r\n      : {},\r\n});\r\n\r\nexport const clearAppDataAndProject = () => {\r\n  state.data = DEFAULTS.data;\r\n  state.project = DEFAULTS.project;\r\n  state.spreadsheet = DEFAULTS.spreadsheet;\r\n};\r\n\r\nexport const clearAppMode = () => {\r\n  state.mode = DEFAULTS.mode;\r\n};\r\n\r\nexport const clearAll = () => {\r\n  clearAppDataAndProject();\r\n  clearAppFilters();\r\n  clearAppMode();\r\n  clearAppDialogs();\r\n};\r\n\r\nexport const clearAppDialogs = () => {\r\n  state.selectedSuperset = DEFAULTS.selectedSuperset;\r\n  state.selectedSupersets.splice(0); // Clear the array\r\n  state.compareDialog = DEFAULTS.compareDialog;\r\n  state.dialog = DEFAULTS.dialog;\r\n  state.openDialog = DEFAULTS.openDialog;\r\n};\r\n\r\nexport const clearAppFilters = () => {\r\n  state.searchInput = DEFAULTS.searchInput;\r\n  state.selectedAims = DEFAULTS.selectedAims;\r\n  state.selectedCriterions = DEFAULTS.selectedCriterions;\r\n  state.selectedStakeholders = DEFAULTS.selectedStakeholders;\r\n};\r\n\r\nexport const getImagePath = (url: string) => {\r\n  const regex = new RegExp(\"^(?:[a-z]+:)?//\", \"i\");\r\n  const isAbsoluteUrl = regex.test(url);\r\n  return isAbsoluteUrl\r\n    ? url\r\n    : process.env.VUE_APP_ROOT_URL + \"img/\" + state.project!.name + \"/\" + url;\r\n};\r\n\r\nexport const isSpreadsheet = computed(() =>\r\n  state.vm &&\r\n  state.vm.$route &&\r\n  state.vm.$route.query &&\r\n  state.vm.$route.query.spreadsheet\r\n    ? true\r\n    : false\r\n);\r\n\r\nexport const getCurrentRoute = computed(() =>\r\n  state.vm && state.vm.$route ? state.vm.$route : null\r\n);\r\n\r\nexport const isLoading = computed(() => state.overlay);\r\nexport const isEmptyProject = computed(() => state.project === null);\r\n\r\nexport const getSpreadsheetLink = (spreadsheetId: string) =>\r\n  `https://docs.google.com/spreadsheets/d/${spreadsheetId}`;\r\n\r\nexport const getProjectName = computed(() =>\r\n  state.project && state.project.name ? state.project.name : null\r\n);\r\n\r\nexport const is1stLevelStakeholdersMode = computed(() =>\r\n  state.globalCardType === \"stakeholder\" ? true : false\r\n);\r\n\r\nexport const selectedSupersets = computed(() => state.selectedSupersets);\r\n\r\nexport const showOverlay = () => {\r\n  state.overlay = true;\r\n};\r\n\r\nexport const hideOverlay = () => {\r\n  state.overlay = false;\r\n};\r\n\r\nwatch(\r\n  () => state.globalCardType,\r\n  (newValue, oldValue) => {\r\n    if (newValue !== oldValue) {\r\n      clearAppDialogs();\r\n    }\r\n  }\r\n);\r\n\r\nexport const recentSpreadsheetProjects = computed(() => {\r\n  return Object.entries(state.recentProjects).filter(\r\n    ([key, { type }]) => type === \"googlespreadsheet\"\r\n  );\r\n});\r\n\r\nexport const recentIcoProjects = computed(() => {\r\n  return Object.entries(state.recentProjects).filter(\r\n    ([key, { type }]) => type === \"ico\"\r\n  );\r\n});\r\n\r\nexport const recentNextcloudProjects = computed(() => {\r\n  return Object.entries(state.recentProjects).filter(\r\n    ([key, { type }]) => type === \"nextcloud\"\r\n  );\r\n});\r\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"d-flex flex-column align-center justify-center h-100 text-white text-center px-4\" }\nconst _hoisted_2 = { class: \"text-h3 mb-2\" }\nconst _hoisted_3 = { class: \"d-flex flex-wrap justify-center\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"mx-2 text-caption font-weight-light my-span-vs\"\n}\nconst _hoisted_5 = { class: \"d-flex align-center mx-2\" }\nconst _hoisted_6 = { class: \"text-center my-4 mt-n6\" }\nconst _hoisted_7 = { class: \"text-body-1\" }\nconst _hoisted_8 = { class: \"d-flex flex-wrap justify-center\" }\nconst _hoisted_9 = {\n  key: 0,\n  class: \"d-flex align-center mx-4\"\n}\nconst _hoisted_10 = { class: \"text-h6 font-weight-bold mb-1\" }\nconst _hoisted_11 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_img = _resolveComponent(\"v-img\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_avatar = _resolveComponent(\"v-avatar\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_Empty = _resolveComponent(\"Empty\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, { class: \"flex-grow-1 bg-grey-lighten-4\" }, {\n    default: _withCtx(() => [\n      (_ctx.state.project)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n            _createVNode(_component_v_img, {\n              class: \"align-center my-v-img\",\n              \"max-height\": \"300\",\n              width: \"100%\",\n              src: _ctx.getImagePath(_ctx.state.project.image),\n              cover: \"\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_1, [\n                  _createElementVNode(\"h1\", _hoisted_2, _toDisplayString(_ctx.state.project.name), 1),\n                  _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"text-h6 font-weight-light mb-2\" }, \" The alternatives discussed in the project are: \", -1)),\n                  _createElementVNode(\"div\", _hoisted_3, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternativesIds, (alternativeId, index) => {\n                      return (_openBlock(), _createElementBlock(_Fragment, { key: alternativeId }, [\n                        (index !== 0)\n                          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"VS\"))\n                          : _createCommentVNode(\"\", true),\n                        _createElementVNode(\"div\", _hoisted_5, [\n                          _createVNode(_component_v_icon, { class: \"me-1\" }, {\n                            default: _withCtx(() => [\n                              _createTextVNode(_toDisplayString(_ctx.getAlternatives[alternativeId].icon), 1)\n                            ]),\n                            _: 2\n                          }, 1024),\n                          _createElementVNode(\"span\", null, _toDisplayString(_ctx.getAlternatives[alternativeId].name), 1)\n                        ])\n                      ], 64))\n                    }), 128))\n                  ])\n                ])\n              ]),\n              _: 1\n            }, 8, [\"src\"]),\n            _createElementVNode(\"div\", _hoisted_6, [\n              _createVNode(_component_v_btn, {\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.switchToView('global-view'))),\n                size: \"x-large\",\n                color: \"primary\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Open \" + _toDisplayString(_ctx.state.project.name) + \" project \", 1)\n                ]),\n                _: 1\n              })\n            ]),\n            _createVNode(_component_v_container, { style: {\"max-width\":\"1200px\"} }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_card_text, { class: \"text-primary text-center\" }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"p\", _hoisted_7, _toDisplayString(_ctx.state.project.description), 1)\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_row, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_col, { style: {\"overflow-x\":\"auto\",\"text-align\":\"center\"} }, {\n                      default: _withCtx(() => [\n                        _createElementVNode(\"div\", _hoisted_8, [\n                          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternativesIds, (alternativeId, index) => {\n                            return (_openBlock(), _createElementBlock(_Fragment, {\n                              key: 'card-' + alternativeId + index\n                            }, [\n                              (index !== 0)\n                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _cache[2] || (_cache[2] = [\n                                    _createElementVNode(\"small\", { class: \"text-grey-darken-1 font-weight-bold text-h6\" }, \"VS\", -1)\n                                  ])))\n                                : _createCommentVNode(\"\", true),\n                              _createVNode(_component_v_card, {\n                                \"min-width\": \"280\",\n                                \"max-width\": \"320\",\n                                class: \"mx-2 mb-4\",\n                                variant: \"outlined\"\n                              }, {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_v_list_item, null, {\n                                    default: _withCtx(() => [\n                                      _createElementVNode(\"div\", _hoisted_10, [\n                                        _createVNode(_component_v_icon, { class: \"text-primary me-2\" }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(_toDisplayString(_ctx.getAlternatives[alternativeId].icon), 1)\n                                          ]),\n                                          _: 2\n                                        }, 1024),\n                                        _createTextVNode(\" \" + _toDisplayString(_ctx.getAlternatives[alternativeId].name), 1)\n                                      ]),\n                                      _createVNode(_component_v_avatar, {\n                                        size: \"56\",\n                                        color: \"grey\"\n                                      }, {\n                                        default: _withCtx(() => [\n                                          _createElementVNode(\"img\", {\n                                            src: _ctx.getImagePath(_ctx.getAlternatives[alternativeId].image)\n                                          }, null, 8, _hoisted_11)\n                                        ]),\n                                        _: 2\n                                      }, 1024)\n                                    ]),\n                                    _: 2\n                                  }, 1024),\n                                  _createVNode(_component_v_card_text, null, {\n                                    default: _withCtx(() => [\n                                      _createElementVNode(\"p\", null, _toDisplayString(_ctx.getAlternatives[alternativeId].description), 1)\n                                    ]),\n                                    _: 2\n                                  }, 1024)\n                                ]),\n                                _: 2\n                              }, 1024)\n                            ], 64))\n                          }), 128))\n                        ])\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_row, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_col, null, {\n                      default: _withCtx(() => _cache[3] || (_cache[3] = [\n                        _createElementVNode(\"div\", { class: \"mt-6\" }, [\n                          _createElementVNode(\"h2\", { class: \"text-h6 font-weight-bold\" }, \"Disclaimer\"),\n                          _createElementVNode(\"ul\", { class: \"text-caption ps-4\" }, [\n                            _createElementVNode(\"li\", null, \" The authors and publisher of the software cannot be held liable in any way for the consequences that may result from the use or interpretation of the information processed by the MyChoice software... \"),\n                            _createElementVNode(\"li\", null, [\n                              _createTextVNode(\" By using the MyChoice software, users agree to explicitly cite the tool (home page \"),\n                              _createElementVNode(\"a\", {\n                                href: \"https://ico.iate.inra.fr/MyChoice/\",\n                                target: \"_blank\"\n                              }, \"https://ico.iate.inra.fr/MyChoice/\"),\n                              _createTextVNode(\")... \")\n                            ])\n                          ])\n                        ], -1)\n                      ])),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ], 64))\n        : (_openBlock(), _createBlock(_component_Empty, { key: 1 }))\n    ]),\n    _: 1\n  }))\n}","<template>\r\n  <v-card class=\"flex-grow-1 bg-grey-lighten-4\">\r\n    <template v-if=\"state.project\">\r\n      <v-img\r\n        class=\"align-center my-v-img\"\r\n        max-height=\"300\"\r\n        width=\"100%\"\r\n        :src=\"getImagePath(state.project.image)\"\r\n        cover\r\n      >\r\n        <div class=\"d-flex flex-column align-center justify-center h-100 text-white text-center px-4\">\r\n          <h1 class=\"text-h3 mb-2\">{{ state.project.name }}</h1>\r\n          <div class=\"text-h6 font-weight-light mb-2\">\r\n            The alternatives discussed in the project are:\r\n          </div>\r\n          <div class=\"d-flex flex-wrap justify-center\">\r\n            <template v-for=\"(alternativeId, index) in alternativesIds\" :key=\"alternativeId\">\r\n              <span v-if=\"index !== 0\" class=\"mx-2 text-caption font-weight-light my-span-vs\">VS</span>\r\n              <div class=\"d-flex align-center mx-2\">\r\n                <v-icon class=\"me-1\">{{ getAlternatives[alternativeId].icon }}</v-icon>\r\n                <span>{{ getAlternatives[alternativeId].name }}</span>\r\n              </div>\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </v-img>\r\n\r\n      <div class=\"text-center my-4 mt-n6\">\r\n        <v-btn @click=\"switchToView('global-view')\" size=\"x-large\" color=\"primary\">\r\n          Open {{ state.project.name }} project\r\n        </v-btn>\r\n      </div>\r\n\r\n      <v-container style=\"max-width: 1200px;\">\r\n        <v-card-text class=\"text-primary text-center\">\r\n          <p class=\"text-body-1\">\r\n            {{ state.project.description }}\r\n          </p>\r\n        </v-card-text>\r\n\r\n        <v-row>\r\n          <v-col style=\"overflow-x: auto; text-align: center;\">\r\n            <div class=\"d-flex flex-wrap justify-center\">\r\n              <template v-for=\"(alternativeId, index) in alternativesIds\" :key=\"'card-' + alternativeId + index\">\r\n                <div v-if=\"index !== 0\" class=\"d-flex align-center mx-4\">\r\n                  <small class=\"text-grey-darken-1 font-weight-bold text-h6\">VS</small>\r\n                </div>\r\n\r\n                <v-card min-width=\"280\" max-width=\"320\" class=\"mx-2 mb-4\" variant=\"outlined\">\r\n                  <v-list-item>\r\n                    <div class=\"text-h6 font-weight-bold mb-1\">\r\n                      <v-icon class=\"text-primary me-2\">{{ getAlternatives[alternativeId].icon }}</v-icon>\r\n                      {{ getAlternatives[alternativeId].name }}\r\n                    </div>\r\n                    <v-avatar size=\"56\" color=\"grey\">\r\n                      <img :src=\"getImagePath(getAlternatives[alternativeId].image)\" />\r\n                    </v-avatar>\r\n                  </v-list-item>\r\n                  <v-card-text>\r\n                    <p>{{ getAlternatives[alternativeId].description }}</p>\r\n                  </v-card-text>\r\n                </v-card>\r\n              </template>\r\n            </div>\r\n          </v-col>\r\n        </v-row>\r\n\r\n        <v-row>\r\n          <v-col>\r\n            <div class=\"mt-6\">\r\n              <h2 class=\"text-h6 font-weight-bold\">Disclaimer</h2>\r\n              <ul class=\"text-caption ps-4\">\r\n                <li>\r\n                  The authors and publisher of the software cannot be held liable in any way for the consequences that may result from the use or interpretation of the information processed by the MyChoice software...\r\n                </li>\r\n                <li>\r\n                  By using the MyChoice software, users agree to explicitly cite the tool (home page\r\n                  <a href=\"https://ico.iate.inra.fr/MyChoice/\" target=\"_blank\">https://ico.iate.inra.fr/MyChoice/</a>)...\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </template>\r\n\r\n    <template v-else>\r\n      <Empty />\r\n    </template>\r\n  </v-card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Empty from '@/components/Empty.vue';\r\nimport {\r\n  state,\r\n  alternativesIds,\r\n  getAlternatives,\r\n  getImagePath,\r\n  getFilteredItemsBy,\r\n  switchToView\r\n} from '@/store';\r\nimport { defineComponent, computed } from 'vue';\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    Empty,\r\n  },\r\n  setup() {\r\n    return {\r\n      state,\r\n      getImagePath,\r\n      getFilteredItemsBy,\r\n      switchToView,\r\n      alternativesIds: computed(() => alternativesIds()),\r\n      getAlternatives: computed(() => getAlternatives()),\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\nimg {\r\n  object-fit: cover;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"d-flex flex-column align-center justify-center flex-grow-1\" style=\"min-height: 100%;\" v-if=\"isEmptyProject && !isLoading\">\r\n            <v-card color=\"transparent\" class=\"text-center\" elevation=\"0\">\r\n                <v-container>\r\n                    <!-- <Menu />\r\n                    <v-divider />\r\n                    <RecentProjects /> -->\r\n                    <h4 class=\"mb-5\">\r\n                        \r\n                        <span v-if=\"!isSpreadsheet\">{{getRouteProjectId}}</span>\r\n                        \r\n                        <a target=\"_blank\" :href=\"getSpreadsheetLink(getRouteProjectId)\" v-if=\"isSpreadsheet\">{{getRouteProjectId}}</a>\r\n                        <v-icon class=\"ml-2\" v-if=\"isSpreadsheet\">mdi-google-spreadsheet</v-icon>\r\n                    </h4>\r\n\r\n                    <v-btn @click=\"refreshProject\">\r\n                        <v-icon size=\"small\" class=\"mr-3\">mdi-autorenew</v-icon>Refresh project\r\n                    </v-btn>\r\n\r\n                </v-container>\r\n            </v-card>\r\n\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nimport { state, refreshProject, isLoading, isEmptyProject, getRouteProjectId, isSpreadsheet, getSpreadsheetLink } from \"@/store\";\r\n\r\nimport {defineComponent} from \"vue\"\r\n\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n        getSpreadsheetLink,\r\n        isSpreadsheet,\r\n        getRouteProjectId,\r\n      state,\r\n      refreshProject,\r\n      isLoading,\r\n      isEmptyProject\r\n    }\r\n  }\r\n});\r\n</script>\r\n","import { render } from \"./Empty.vue?vue&type=template&id=c40146f0\"\nimport script from \"./Empty.vue?vue&type=script&lang=js\"\nexport * from \"./Empty.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Project.vue?vue&type=template&id=19fbed7c&scoped=true&ts=true\"\nimport script from \"./Project.vue?vue&type=script&lang=ts\"\nexport * from \"./Project.vue?vue&type=script&lang=ts\"\n\nimport \"./Project.vue?vue&type=style&index=0&id=19fbed7c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-19fbed7c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"page-bg bg-grey-lighten-4\">\r\n    <div class=\"page-container page-container--home\">\r\n      <v-row class=\"page-row py-6\" justify=\"center\">\r\n        <!-- Colonne principale avec texte et vido -->\r\n        <v-col cols=\"12\" sm=\"8\" lg=\"8\">\r\n          <v-sheet elevation=\"0\" class=\"pa-0\" max-width=\"100%\">\r\n            <!-- Logo -->\r\n            <div class=\"text-left mb-6\">\r\n              <img\r\n                :src=\"state.baseUrl + 'logo-mychoice-color.svg'\"\r\n                style=\"max-width: 240px; width: 100%;\"\r\n                alt=\"MyChoice Logo\"\r\n              />\r\n            </div>\r\n\r\n            <!-- Prsentation -->\r\n            <p>\r\n              <b>MyChoice</b> is a web application supporting collective decision,\r\n              designed by INRAE. The software enables project participants to:\r\n            </p>\r\n            <ul>\r\n              <li>Analyze, compare and assess stakeholders' attitudes towards different alternatives.</li>\r\n              <li>Review explanatory arguments stemming from various sources and reflecting different concerns.</li>\r\n              <li>Explain the criteria, aims and features pursued.</li>\r\n              <li>Highlight potential synergies or competing concerns.</li>\r\n              <li>Propose different modes of decision support (expert, consensual, prospective, etc.).</li>\r\n            </ul>\r\n\r\n            <!-- Vido responsive plus petite et centre -->\r\n            <div class=\"my-6 d-flex justify-center\">\r\n              <v-responsive\r\n                aspect-ratio=\"16/9\"\r\n                style=\"max-width: 600px; width: 100%;\"\r\n              >\r\n                <video controls style=\"width: 100%; height: 100%;\">\r\n                  <source src=\"presentation_mychoice.mp4\" />\r\n                  Your browser does not support the <code>video</code> element.\r\n                </video>\r\n              </v-responsive>\r\n            </div>\r\n\r\n\r\n            <!-- Rfrences -->\r\n            <h6 class=\"text-overline mb-2\">References</h6>\r\n            <ul class=\"text-caption\">\r\n              <li>\r\n                Rallou Thomopoulos, Julien Cufi, Maxime Le Breton. A Generic Software to Support Collective Decision in Food Chains and in Multi-Stakeholder Situations.\r\n                <em>FoodSim 2020</em>, Sep 2020, Ghent, Belgium.\r\n                (<a href=\"https://hal.archives-ouvertes.fr/hal-02484363\" target=\"_blank\">hal-02484363</a>)\r\n              </li>\r\n              <li>\r\n                Rallou Thomopoulos. A practical application approach to argumentation for multicriteria analysis and decision support.\r\n                <em>EURO journal on decision processes</em>, Springer, 2018, 6 (3-4), pp.237-255.\r\n                (<a href=\"https://dx.doi.org/10.1007/s40070-018-0087-2\" target=\"_blank\">10.1007/s40070-018-0087-2</a>)\r\n                (<a href=\"https://hal.archives-ouvertes.fr/hal-01918020\" target=\"_blank\">hal-01918020</a>)\r\n              </li>\r\n            </ul>\r\n\r\n            <!-- Disclaimer -->\r\n            <h6 class=\"text-overline mt-6 mb-2\">Disclaimer</h6>\r\n            <div class=\"text-caption\">\r\n              <ul>\r\n                <li>\r\n                  The authors and publisher of the software cannot be held liable for the consequences resulting from the use of MyChoice. Information entered is the user's responsibility and affects the final result.\r\n                </li>\r\n                <li>\r\n                  Users agree to cite the tool in any communication and not use contributor branding without explicit consent.\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </v-sheet>\r\n        </v-col>\r\n\r\n        <!-- Colonne actions (boutons et projets rcents) -->\r\n        <v-col lg=\"4\" py=\"0\" class=\"d-none d-lg-flex\">\r\n          <v-sheet elevation=\"0\">\r\n            <v-row>\r\n              <v-col cols=\"12\" class=\"d-flex justify-center mb-4\">\r\n                <v-btn @click=\"handleLoadFile\" prepend-icon=\"mdi-upload\">\r\n                  Open local project\r\n                </v-btn>\r\n              </v-col>\r\n              <v-col cols=\"12\" class=\"d-flex justify-center mb-4\">\r\n                <v-btn @click=\"state.openDialog = true\" prepend-icon=\"mdi-cloud-upload\">\r\n                  Open online project\r\n                </v-btn>\r\n              </v-col>\r\n              <v-col cols=\"12\">\r\n                <v-list-subheader>Recent projects</v-list-subheader>\r\n                <v-card flat>\r\n                  <v-card-text v-if=\"!recentProjects.length\" class=\"text-grey\">No recent projects</v-card-text>\r\n                  <v-list v-else density=\"compact\">\r\n                    <v-list-item\r\n                      v-for=\"(value, projectName) in recentProjects\"\r\n                      :key=\"'home-recent-' + projectName\"\r\n                      :to=\"getHrefFromTypeId({ type: value.type, id: value.id })\"\r\n                    >\r\n                      <v-list-item-title>\r\n                        {{ value.name || value.id }}\r\n                      </v-list-item-title>\r\n                      <template #append>\r\n                        <v-icon v-if=\"value.type === 'googlespreadsheet'\">mdi-google-spreadsheet</v-icon>\r\n                        <v-btn\r\n                          icon=\"mdi-close\"\r\n                          variant=\"text\"\r\n                          size=\"small\"\r\n                          @click.stop.prevent=\"removeFromRecentProjects(value.type, { id: value.id })\"\r\n                        />\r\n                      </template>\r\n                    </v-list-item>\r\n                  </v-list>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n          </v-sheet>\r\n        </v-col>\r\n      </v-row>\r\n    </div>\r\n\r\n    <!-- Version en bas de page -->\r\n    <!-- <v-row class=\"mt-6\">\r\n      <Version />\r\n    </v-row> -->\r\n    \r\n    <footer class=\"v-footer v-theme--mychoiceTheme\" style=\"height: auto;\">  \r\n      <Version />\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Version from \"@/components/Version.vue\";\r\nimport {\r\n  state,\r\n  getRecentProjects,\r\n  recentProjects,\r\n  getHrefFromTypeId,\r\n  removeFromRecentProjects,\r\n  handleLoadFile\r\n} from \"@/store\";\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    Version\r\n  },\r\n  setup() {\r\n    return {\r\n      state,\r\n      recentProjects,\r\n      getHrefFromTypeId,\r\n      removeFromRecentProjects,\r\n      handleLoadFile\r\n    };\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <small class=\"text-caption text-grey\">v{{ version }}</small>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: () => ({\r\n    version: process.env.VUE_APP_VERSION,\r\n  }),\r\n};\r\n</script>\r\n","import { render } from \"./Version.vue?vue&type=template&id=0ed92f07\"\nimport script from \"./Version.vue?vue&type=script&lang=js\"\nexport * from \"./Version.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Home.vue?vue&type=template&id=2fc69df3\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"view-container\" v-if=\"state.project && state.data\">\r\n    <!-- Header -->\r\n    <div class=\"header-section\">\r\n      <v-container style=\"max-width: 1400px;\">\r\n        <Header />\r\n      </v-container>\r\n    </div>\r\n\r\n    <!-- Table List -->\r\n    <div class=\"tablelist-section\">\r\n      <v-container class=\"tablelist-container\" fluid style=\"max-width: 1600px;\">\r\n        <v-card class=\"tablelist-card\" elevation=\"0\" rounded=\"lg\">\r\n          <div class=\"tablelist-x-shadow\"></div>\r\n          <div class=\"tablelist-y-shadow\"></div>\r\n          <TableList :key=\"state.project?.name\" />\r\n        </v-card>\r\n      </v-container>\r\n    </div>\r\n\r\n    <!-- Bottom Padding (optionnel,  conserver si utile pour l'espacement) -->\r\n    <div class=\"bottom-padding\"></div>\r\n\r\n    <!-- Floating Button -->\r\n    <v-btn\r\n      @click=\"state.compareDialog = !state.compareDialog\"\r\n      color=\"secondary\"\r\n      :disabled=\"selectedSupersets.length === 0\"\r\n      class=\"floating-button\"\r\n      variant=\"flat\"\r\n      elevation=\"8\"\r\n    >\r\n      <v-icon icon=\"mdi-select-compare\" />\r\n      <v-badge\r\n        v-if=\"selectedSupersets.length > 0\"\r\n        :content=\"selectedSupersets.length\"\r\n        color=\"black\"\r\n        text-color=\"white\"\r\n        floating\r\n        offset-x=\"-12\"\r\n        offset-y=\"-12\"\r\n      />\r\n    </v-btn>\r\n\r\n    <!-- Superset Dialog -->\r\n    <v-dialog\r\n      @click:outside=\"state.selectedSuperset = ''\"\r\n      :model-value=\"state.selectedSuperset.length > 0\"\r\n      max-width=\"480px\"\r\n    >\r\n      <template #default>\r\n        <SupersetCard\r\n          v-if=\"state.selectedSuperset.length\"\r\n          :superset=\"JSON.parse(state.selectedSuperset)\"\r\n        />\r\n      </template>\r\n    </v-dialog>\r\n\r\n    <!-- Comparison Section -->\r\n    <v-expand-transition>\r\n      <div\r\n        class=\"compare-container elevation-3\"\r\n        v-show=\"state.compareDialog && selectedSupersets.length\"\r\n      >\r\n        <v-card color=\"grey-lighten-4\" flat>\r\n          <div class=\"close-btn-container\">\r\n            <v-btn @click=\"state.compareDialog = false\" size=\"x-small\" icon color=\"secondary\">\r\n              <v-icon icon=\"mdi-close\" />\r\n            </v-btn>\r\n          </div>\r\n          <v-container class=\"supersets-container\" fluid>\r\n            <div\r\n              class=\"card-compare\"\r\n              v-for=\"superset in selectedSupersets\"\r\n              :key=\"superset + state.mode\"\r\n            >\r\n              <SupersetCard :compare=\"true\" :cols=\"4\" :superset=\"JSON.parse(superset)\" />\r\n            </div>\r\n          </v-container>\r\n        </v-card>\r\n      </div>\r\n    </v-expand-transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from \"@/components/Header.vue\";\r\nimport TableList from \"@/components/TableList/TableList.vue\";\r\nimport SupersetCard from \"@/components/SupersetCard.vue\";\r\nimport {\r\n  state,\r\n  getFilteredItems,\r\n  getAllItems,\r\n  removeSupersetInSelection,\r\n  selectedSupersets\r\n} from \"@/store\";\r\nimport { defineComponent, computed } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    Header,\r\n    TableList,\r\n    SupersetCard\r\n  },\r\n  setup() {\r\n    return {\r\n      state,\r\n      selectedSupersets,\r\n      getFilteredItems: computed(() => getFilteredItems()),\r\n      getAllItems: computed(() => getAllItems()),\r\n      removeSupersetInSelection\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n/* .view-container {\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: auto;\r\n  padding-bottom: 120px; \r\n} */\r\n.view-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: calc(100vh - var(--v-layout-top, 0px));\r\n  overflow: hidden;\r\n  /* padding-bottom: 120px; pour le bouton flottant */\r\n}\r\n\r\n.header-section {\r\n  flex-shrink: 0;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 20;\r\n  background: white;\r\n}\r\n\r\n.tablelist-section {\r\n  flex: 1 1 auto;\r\n  min-height: 0;\r\n  margin: 0 0 0 0;\r\n  overflow: hidden;\r\n  height: 100%;\r\n}\r\n\r\n.tablelist-container {\r\n  height: 100%;\r\n  display: flex;\r\n}\r\n\r\n.tablelist-card {\r\n  flex: 1 1 auto;\r\n  min-height: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.bottom-padding {\r\n  height: 16px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.floating-button {\r\n  position: fixed;\r\n  bottom: 16px;\r\n  left: 16px;\r\n  width: 56px;\r\n  height: 56px;\r\n  border-radius: 50%;\r\n  z-index: 10;\r\n}\r\n\r\n.compare-container {\r\n  position: fixed;\r\n  bottom: 80px;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 12;\r\n}\r\n\r\n.close-btn-container {\r\n  position: fixed;\r\n  left: 0;\r\n  transform: translateY(-50%) translateX(-25%);\r\n  z-index: 15;\r\n}\r\n\r\n.card-compare {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n  .compare-container {\r\n    padding: 8px;\r\n  }\r\n\r\n  .card-compare {\r\n    margin-bottom: 12px;\r\n  }\r\n}\r\n</style>\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, mergeProps as _mergeProps, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"me-2 d-flex align-center\" }\n\nimport { computed, watch, ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { debounce } from 'lodash'\r\n\r\nimport {\r\n  getSelectStakeholders,\r\n  getSelectAims,\r\n  getSelectCriterions,\r\n  state,\r\n  getSelectModes,\r\n  getProjectTypeFromRoute,\r\n  PROJECT_TYPE_ROUTES,\r\n  loadAll,\r\n  switchToView,\r\n  is1stLevelStakeholdersMode,\r\n  orderByPropName,\r\n} from '@/store'\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Header',\n  props: {\n    chartSelectedChart: {}\n  },\n  setup(__props: any) {\n\r\nconst props = __props\r\n\r\nconst router = useRouter()\r\n\r\nconst isActiveRoute = (name: string) => router.currentRoute.value.name === name\r\n\r\n// Chart View filters - expose globally in state\r\nif (!state.chartFilters) {\r\n  const alternativesMap = state.data?.alternatives || {}\r\n  const alternatives = Object.values(alternativesMap)\r\n  const firstAlternative = alternatives[0]?.name || 'all-merged'\r\n  state.chartFilters = {\r\n    selectedAlternative: firstAlternative,\r\n    analysisPer: 'criteria',\r\n    selectedCriterion: '',\r\n  }\r\n}\r\n\r\nconst chartSelectedAlternative = computed({\r\n  get: () => {\r\n    const alternativesMap = state.data?.alternatives || {}\r\n    const alternatives = Object.values(alternativesMap)\r\n    const firstAlternative = alternatives[0]?.name || 'all-merged'\r\n    return state.chartFilters?.selectedAlternative || firstAlternative\r\n  },\r\n  set: (value) => {\r\n    if (state.chartFilters) {\r\n      state.chartFilters.selectedAlternative = value\r\n    }\r\n  }\r\n})\r\n\r\nconst chartAnalysisPer = computed({\r\n  get: () => state.chartFilters?.analysisPer || 'criteria',\r\n  set: (value) => {\r\n    if (state.chartFilters) {\r\n      state.chartFilters.analysisPer = value\r\n    }\r\n  }\r\n})\r\n\r\nconst chartSelectedCriterion = computed({\r\n  get: () => state.chartFilters?.selectedCriterion || '',\r\n  set: (value) => {\r\n    if (state.chartFilters) {\r\n      state.chartFilters.selectedCriterion = value\r\n    }\r\n  }\r\n})\r\n\r\nconst alternativeOptions = computed(() => {\r\n  const alternativesMap = state.data?.alternatives || {};\r\n  const alternatives = Object.values(alternativesMap).map(alt => ({\r\n    title: alt.name,\r\n    value: alt.name,\r\n  }))\r\n  const allOptions = [\r\n    ...alternatives,\r\n    { title: 'All alternatives (merged)', value: 'all-merged' },\r\n    { title: 'All alternatives (separated)', value: 'all-separated' },\r\n  ]\r\n  \r\n  // Filter out \"All alternatives\" options for crosstab chart\r\n  if (isCrosstabChart.value) {\r\n    return alternatives\r\n  }\r\n  \r\n  return allOptions\r\n})\r\n\r\nconst analysisPerOptions = [\r\n  { title: 'Criteria', value: 'criteria' },\r\n  { title: 'Stakeholder', value: 'stakeholder' },\r\n]\r\n\r\nconst clearSearch = () => {\r\n  state.searchInput = ''\r\n}\r\n\r\nconst debounceInput = debounce((value: string) => {\r\n  state.searchInput = value\r\n}, 200)\r\n\r\nconst getSelectModesComputed = computed(() => getSelectModes())\r\n\r\nconst orderedStakeholders = computed(() =>\r\n  orderByPropName(getSelectStakeholders(), 'text')\r\n)\r\nconst orderedCriterions = computed(() =>\r\n  orderByPropName(getSelectCriterions(), 'text')\r\n)\r\nconst orderedAims = computed(() =>\r\n  orderByPropName(getSelectAims(), 'text')\r\n)\r\n\r\nconst isArgumentCountChart = computed(\r\n  () => isActiveRoute('chart-view') && props.chartSelectedChart === 'argument-count'\r\n)\r\n\r\nconst isAlternativesComparisonChart = computed(\r\n  () => isActiveRoute('chart-view') && props.chartSelectedChart === 'alternatives-comparison'\r\n)\r\n\r\nconst isCrosstabChart = computed(\r\n  () => isActiveRoute('chart-view') && props.chartSelectedChart === 'crosstab'\r\n)\r\n\r\n// Initialize selectedAlternative to first alternative when alternatives load\r\nwatch(\r\n  () => state.data?.alternatives,\r\n  (alternativesMap) => {\r\n    if (alternativesMap) {\r\n      const alternatives = Object.values(alternativesMap);\r\n      if (alternatives && alternatives.length > 0) {\r\n        if (!state.chartFilters?.selectedAlternative || state.chartFilters.selectedAlternative === 'all-merged') {\r\n          if (state.chartFilters) {\r\n            state.chartFilters.selectedAlternative = alternatives[0].name\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  { immediate: true }\r\n)\r\n\r\nwatch(\r\n  () => state.mode,\r\n  async () => {\r\n    const currentRoute = router.currentRoute.value\r\n    if (getProjectTypeFromRoute(currentRoute)) {\r\n      await loadAll(currentRoute, false)\r\n      return\r\n    }\r\n\r\n    const query: Record<string, string> = {}\r\n    if (state.spreadsheet) {\r\n      query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET] = state.spreadsheet\r\n    } else if (state.project?.name) {\r\n      query[PROJECT_TYPE_ROUTES.ICO] = state.project.name\r\n    }\r\n\r\n    if (Object.keys(query).length === 0) {\r\n      await loadAll(currentRoute, false)\r\n      return\r\n    }\r\n\r\n    await loadAll(\r\n      {\r\n        ...currentRoute,\r\n        query: {\r\n          ...currentRoute.query,\r\n          ...query,\r\n        },\r\n      },\r\n      false\r\n    )\r\n  }\r\n)\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_list = _resolveComponent(\"v-list\")!\n  const _component_v_menu = _resolveComponent(\"v-menu\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_v_select = _resolveComponent(\"v-select\")!\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_autocomplete = _resolveComponent(\"v-autocomplete\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n\n  return (_openBlock(), _createBlock(_component_v_row, { class: \"table-filters\" }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_col, {\n        class: \"flex-grow-0\",\n        style: {\"align-self\":\"center\"}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_toolbar, {\n            color: \"transparent\",\n            density: \"comfortable\",\n            class: \"pr-2 toolbar-filters\"\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_1, [\n                _createVNode(_component_v_tooltip, {\n                  text: \"Global view\",\n                  location: \"top\"\n                }, {\n                  activator: _withCtx(({ props: tooltipProps }) => [\n                    _createVNode(_component_v_menu, { location: \"bottom\" }, {\n                      activator: _withCtx(({ props: menuProps }) => [\n                        _createVNode(_component_v_btn, _mergeProps({\n                          icon: \"\",\n                          class: \"toolbar-icon-btn\"\n                        }, { ...tooltipProps, ...menuProps }, {\n                          variant: isActiveRoute('global-view') ? 'flat' : 'text',\n                          onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(switchToView)('global-view')))\n                        }), {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_icon, {\n                              icon: 'mdi-table',\n                              color: isActiveRoute('global-view') ? 'primary' : 'grey'\n                            }, null, 8, [\"color\"]),\n                            _createVNode(_component_v_icon, {\n                              icon: 'mdi-chevron-down',\n                              color: isActiveRoute('global-view') ? 'primary' : 'grey'\n                            }, null, 8, [\"color\"])\n                          ]),\n                          _: 2\n                        }, 1040, [\"variant\"])\n                      ]),\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_list, null, {\n                          default: _withCtx(() => [\n                            (!_unref(is1stLevelStakeholdersMode))\n                              ? (_openBlock(), _createBlock(_component_v_list_item, {\n                                  key: 0,\n                                  onClick: _cache[1] || (_cache[1] = ($event: any) => (_unref(state).globalCardType = 'stakeholder'))\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_list_item_title, null, {\n                                      default: _withCtx(() => _cache[13] || (_cache[13] = [\n                                        _createTextVNode(\"By Stakeholder\")\n                                      ])),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                }))\n                              : (_openBlock(), _createBlock(_component_v_list_item, {\n                                  key: 1,\n                                  onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(state).globalCardType = 'label'))\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_list_item_title, null, {\n                                      default: _withCtx(() => _cache[14] || (_cache[14] = [\n                                        _createTextVNode(\"By Label\")\n                                      ])),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                }))\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 2\n                    }, 1024)\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_tooltip, {\n                  text: \"Stakeholder view\",\n                  location: \"top\"\n                }, {\n                  activator: _withCtx(({ props }) => [\n                    _createVNode(_component_v_btn, _mergeProps({\n                      icon: \"\",\n                      class: \"toolbar-icon-btn\"\n                    }, props, {\n                      variant: isActiveRoute('stakeholder-view') ? 'flat' : 'text',\n                      onClick: _cache[3] || (_cache[3] = ($event: any) => (_unref(switchToView)('stakeholder-view')))\n                    }), {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_icon, {\n                          icon: 'mdi-account-multiple',\n                          color: isActiveRoute('stakeholder-view') ? 'primary' : 'grey'\n                        }, null, 8, [\"color\"])\n                      ]),\n                      _: 2\n                    }, 1040, [\"variant\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_tooltip, {\n                  text: \"Property view\",\n                  location: \"top\"\n                }, {\n                  activator: _withCtx(({ props }) => [\n                    _createVNode(_component_v_btn, _mergeProps({\n                      icon: \"\",\n                      class: \"toolbar-icon-btn\"\n                    }, props, {\n                      variant: isActiveRoute('property-view') ? 'flat' : 'text',\n                      onClick: _cache[4] || (_cache[4] = ($event: any) => (_unref(switchToView)('property-view')))\n                    }), {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_icon, {\n                          icon: 'mdi-format-list-bulleted',\n                          color: isActiveRoute('property-view') ? 'primary' : 'grey'\n                        }, null, 8, [\"color\"])\n                      ]),\n                      _: 2\n                    }, 1040, [\"variant\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_tooltip, {\n                  text: \"Chart view\",\n                  location: \"top\"\n                }, {\n                  activator: _withCtx(({ props }) => [\n                    _createVNode(_component_v_btn, _mergeProps({\n                      icon: \"\",\n                      class: \"toolbar-icon-btn\"\n                    }, props, {\n                      variant: isActiveRoute('chart-view') ? 'flat' : 'text',\n                      onClick: _cache[5] || (_cache[5] = ($event: any) => (_unref(switchToView)('chart-view')))\n                    }), {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_icon, {\n                          icon: 'mdi-chart-bar',\n                          color: isActiveRoute('chart-view') ? 'primary' : 'grey'\n                        }, null, 8, [\"color\"])\n                      ]),\n                      _: 2\n                    }, 1040, [\"variant\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _createVNode(_component_v_select, {\n                items: getSelectModesComputed.value,\n                \"item-title\": \"text\",\n                \"item-value\": \"value\",\n                modelValue: _unref(state).mode,\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_unref(state).mode) = $event)),\n                label: \"Select mode\",\n                \"hide-details\": \"\",\n                class: \"ml-6 flex-grow-1 toolbar-select\",\n                color: \"secondary\",\n                variant: \"outlined\",\n                density: \"comfortable\",\n                style: {\"min-width\":\"200px\"}\n              }, null, 8, [\"items\", \"modelValue\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      (!isActiveRoute('chart-view'))\n        ? (_openBlock(), _createBlock(_component_v_col, {\n            key: 0,\n            class: \"px-6\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_row, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_col, null, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_autocomplete, {\n                        clearable: \"\",\n                        \"item-color\": \"secondary\",\n                        color: \"secondary\",\n                        label: \"Stakeholders\",\n                        modelValue: _unref(state).selectedStakeholders,\n                        \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_unref(state).selectedStakeholders) = $event)),\n                        items: orderedStakeholders.value,\n                        \"item-title\": \"text\",\n                        multiple: \"\",\n                        hint: `${_unref(state).selectedStakeholders.length}/${_unref(getSelectStakeholders).length}`,\n                        \"persistent-hint\": \"\",\n                        autocomplete: \"off\",\n                        id: \"selected-stakeholders\",\n                        density: \"comfortable\"\n                      }, null, 8, [\"modelValue\", \"items\", \"hint\"])\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_v_col, null, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_autocomplete, {\n                        clearable: \"\",\n                        \"item-color\": \"secondary\",\n                        color: \"secondary\",\n                        label: \"Criteria\",\n                        modelValue: _unref(state).selectedCriterions,\n                        \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_unref(state).selectedCriterions) = $event)),\n                        items: orderedCriterions.value,\n                        \"item-title\": \"text\",\n                        multiple: \"\",\n                        hint: `${_unref(state).selectedCriterions.length}/${_unref(getSelectCriterions).length}`,\n                        \"persistent-hint\": \"\",\n                        autocomplete: \"off\",\n                        id: \"selected-criteria\",\n                        density: \"comfortable\"\n                      }, null, 8, [\"modelValue\", \"items\", \"hint\"])\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_v_col, null, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_autocomplete, {\n                        clearable: \"\",\n                        \"item-color\": \"secondary\",\n                        color: \"secondary\",\n                        label: \"Aims\",\n                        modelValue: _unref(state).selectedAims,\n                        \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((_unref(state).selectedAims) = $event)),\n                        items: orderedAims.value,\n                        \"item-title\": \"text\",\n                        multiple: \"\",\n                        hint: `${_unref(state).selectedAims.length}/${_unref(getSelectAims).length}`,\n                        \"persistent-hint\": \"\",\n                        autocomplete: \"off\",\n                        id: \"selected-aims\",\n                        density: \"comfortable\"\n                      }, null, 8, [\"modelValue\", \"items\", \"hint\"])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true),\n      (isActiveRoute('chart-view'))\n        ? (_openBlock(), _createBlock(_component_v_col, {\n            key: 1,\n            class: \"px-6\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_row, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_col, {\n                    cols: \"12\",\n                    md: \"4\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_select, {\n                        \"item-color\": \"secondary\",\n                        color: \"secondary\",\n                        label: \"Alternative\",\n                        modelValue: chartSelectedAlternative.value,\n                        \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((chartSelectedAlternative).value = $event)),\n                        items: alternativeOptions.value,\n                        density: \"comfortable\",\n                        variant: \"outlined\",\n                        disabled: isAlternativesComparisonChart.value\n                      }, null, 8, [\"modelValue\", \"items\", \"disabled\"])\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_v_col, {\n                    cols: \"12\",\n                    md: \"4\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_select, {\n                        \"item-color\": \"secondary\",\n                        color: \"secondary\",\n                        label: \"Analysis per\",\n                        modelValue: chartAnalysisPer.value,\n                        \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((chartAnalysisPer).value = $event)),\n                        items: analysisPerOptions,\n                        density: \"comfortable\",\n                        variant: \"outlined\",\n                        disabled: isCrosstabChart.value\n                      }, null, 8, [\"modelValue\", \"disabled\"])\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_v_col, {\n                    cols: \"12\",\n                    md: \"4\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_select, {\n                        \"item-color\": \"secondary\",\n                        color: \"secondary\",\n                        label: \"All criteria\",\n                        modelValue: chartSelectedCriterion.value,\n                        \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event: any) => ((chartSelectedCriterion).value = $event)),\n                        items: orderedCriterions.value,\n                        \"item-title\": \"text\",\n                        \"item-value\": \"value\",\n                        clearable: \"\",\n                        density: \"comfortable\",\n                        variant: \"outlined\",\n                        disabled: isArgumentCountChart.value || isAlternativesComparisonChart.value || isCrosstabChart.value\n                      }, null, 8, [\"modelValue\", \"items\", \"disabled\"])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true),\n      (!isActiveRoute('chart-view'))\n        ? (_openBlock(), _createBlock(_component_v_col, {\n            key: 2,\n            class: \"flex-grow-0\",\n            style: {\"min-width\":\"200px\"}\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_text_field, {\n                color: \"secondary\",\n                label: \"Search\",\n                \"model-value\": _unref(state).searchInput,\n                \"onUpdate:modelValue\": _unref(debounceInput),\n                clearable: \"\",\n                density: \"comfortable\"\n              }, {\n                \"append-inner\": _withCtx(() => [\n                  _createVNode(_component_v_icon, {\n                    icon: \"mdi-magnify\",\n                    class: \"cursor-pointer\",\n                    onClick: clearSearch\n                  })\n                ]),\n                _: 1\n              }, 8, [\"model-value\", \"onUpdate:modelValue\"])\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n  <v-row class=\"table-filters\">\r\n    <v-col class=\"flex-grow-0\" style=\"align-self: center;\">\r\n      <v-toolbar color=\"transparent\" density=\"comfortable\" class=\"pr-2 toolbar-filters\">\r\n        <div class=\"me-2 d-flex align-center\">\r\n\r\n          <!-- Global View Toggle with Menu -->\r\n          <v-tooltip text=\"Global view\" location=\"top\">\r\n            <template #activator=\"{ props: tooltipProps }\">\r\n              <v-menu location=\"bottom\">\r\n                <template #activator=\"{ props: menuProps }\">\r\n                  <v-btn\r\n                    icon\r\n                    class=\"toolbar-icon-btn\"\r\n                    v-bind=\"{ ...tooltipProps, ...menuProps }\"\r\n                    :variant=\"isActiveRoute('global-view') ? 'flat' : 'text'\"\r\n                    @click=\"switchToView('global-view')\"\r\n                  >\r\n                    <v-icon :icon=\"'mdi-table'\" :color=\"isActiveRoute('global-view') ? 'primary' : 'grey'\" />\r\n                    <v-icon :icon=\"'mdi-chevron-down'\" :color=\"isActiveRoute('global-view') ? 'primary' : 'grey'\" />\r\n                  </v-btn>\r\n                </template>\r\n                <v-list>\r\n                  <v-list-item\r\n                    v-if=\"!is1stLevelStakeholdersMode\"\r\n                    @click=\"state.globalCardType = 'stakeholder'\"\r\n                  >\r\n                    <v-list-item-title>By Stakeholder</v-list-item-title>\r\n                  </v-list-item>\r\n                  <v-list-item\r\n                    v-else\r\n                    @click=\"state.globalCardType = 'label'\"\r\n                  >\r\n                    <v-list-item-title>By Label</v-list-item-title>\r\n                  </v-list-item>\r\n                </v-list>\r\n              </v-menu>\r\n            </template>\r\n          </v-tooltip>\r\n\r\n          <!-- Stakeholder View -->\r\n          <v-tooltip text=\"Stakeholder view\" location=\"top\">\r\n            <template #activator=\"{ props }\">\r\n              <v-btn\r\n                icon\r\n                class=\"toolbar-icon-btn\"\r\n                v-bind=\"props\"\r\n                :variant=\"isActiveRoute('stakeholder-view') ? 'flat' : 'text'\"\r\n                @click=\"switchToView('stakeholder-view')\"\r\n              >\r\n                <v-icon :icon=\"'mdi-account-multiple'\" :color=\"isActiveRoute('stakeholder-view') ? 'primary' : 'grey'\" />\r\n              </v-btn>\r\n            </template>\r\n          </v-tooltip>\r\n\r\n          <!-- Property View -->\r\n          <v-tooltip text=\"Property view\" location=\"top\">\r\n            <template #activator=\"{ props }\">\r\n              <v-btn\r\n                icon\r\n                class=\"toolbar-icon-btn\"\r\n                v-bind=\"props\"\r\n                :variant=\"isActiveRoute('property-view') ? 'flat' : 'text'\"\r\n                @click=\"switchToView('property-view')\"\r\n              >\r\n                <v-icon :icon=\"'mdi-format-list-bulleted'\" :color=\"isActiveRoute('property-view') ? 'primary' : 'grey'\" />\r\n              </v-btn>\r\n            </template>\r\n          </v-tooltip>\r\n\r\n          <!-- Chart View -->\r\n          <v-tooltip text=\"Chart view\" location=\"top\">\r\n            <template #activator=\"{ props }\">\r\n              <v-btn\r\n                icon\r\n                class=\"toolbar-icon-btn\"\r\n                v-bind=\"props\"\r\n                :variant=\"isActiveRoute('chart-view') ? 'flat' : 'text'\"\r\n                @click=\"switchToView('chart-view')\"\r\n              >\r\n                <v-icon :icon=\"'mdi-chart-bar'\" :color=\"isActiveRoute('chart-view') ? 'primary' : 'grey'\" />\r\n              </v-btn>\r\n            </template>\r\n          </v-tooltip>\r\n        </div>\r\n\r\n        <!-- Mode Selector -->\r\n        <v-select\r\n          :items=\"getSelectModesComputed\"\r\n          item-title=\"text\"\r\n          item-value=\"value\"\r\n          v-model=\"state.mode\"\r\n          label=\"Select mode\"\r\n          hide-details\r\n          class=\"ml-6 flex-grow-1 toolbar-select\"\r\n          color=\"secondary\"\r\n          variant=\"outlined\"\r\n          density=\"comfortable\"\r\n          style=\"min-width: 200px;\"\r\n        />\r\n      </v-toolbar>\r\n    </v-col>\r\n\r\n    <!-- Autocomplete Filters (Default Views) -->\r\n    <v-col class=\"px-6\" v-if=\"!isActiveRoute('chart-view')\">\r\n      <v-row>\r\n        <v-col>\r\n          <v-autocomplete\r\n            clearable\r\n            item-color=\"secondary\"\r\n            color=\"secondary\"\r\n            label=\"Stakeholders\"\r\n            v-model=\"state.selectedStakeholders\"\r\n            :items=\"orderedStakeholders\"\r\n            item-title=\"text\"\r\n            multiple\r\n            :hint=\"`${state.selectedStakeholders.length}/${getSelectStakeholders.length}`\"\r\n            persistent-hint\r\n            autocomplete=\"off\"\r\n            id=\"selected-stakeholders\"\r\n            density=\"comfortable\"\r\n          />\r\n        </v-col>\r\n        <v-col>\r\n          <v-autocomplete\r\n            clearable\r\n            item-color=\"secondary\"\r\n            color=\"secondary\"\r\n            label=\"Criteria\"\r\n            v-model=\"state.selectedCriterions\"\r\n            :items=\"orderedCriterions\"\r\n            item-title=\"text\"\r\n            multiple\r\n            :hint=\"`${state.selectedCriterions.length}/${getSelectCriterions.length}`\"\r\n            persistent-hint\r\n            autocomplete=\"off\"\r\n            id=\"selected-criteria\"\r\n            density=\"comfortable\"\r\n          />\r\n        </v-col>\r\n        <v-col>\r\n          <v-autocomplete\r\n            clearable\r\n            item-color=\"secondary\"\r\n            color=\"secondary\"\r\n            label=\"Aims\"\r\n            v-model=\"state.selectedAims\"\r\n            :items=\"orderedAims\"\r\n            item-title=\"text\"\r\n            multiple\r\n            :hint=\"`${state.selectedAims.length}/${getSelectAims.length}`\"\r\n            persistent-hint\r\n            autocomplete=\"off\"\r\n            id=\"selected-aims\"\r\n            density=\"comfortable\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n    </v-col>\r\n\r\n    <!-- Chart View Filters -->\r\n    <v-col class=\"px-6\" v-if=\"isActiveRoute('chart-view')\">\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-select\r\n            item-color=\"secondary\"\r\n            color=\"secondary\"\r\n            label=\"Alternative\"\r\n            v-model=\"chartSelectedAlternative\"\r\n            :items=\"alternativeOptions\"\r\n            density=\"comfortable\"\r\n            variant=\"outlined\"\r\n            :disabled=\"isAlternativesComparisonChart\"\r\n          />\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-select\r\n            item-color=\"secondary\"\r\n            color=\"secondary\"\r\n            label=\"Analysis per\"\r\n            v-model=\"chartAnalysisPer\"\r\n            :items=\"analysisPerOptions\"\r\n            density=\"comfortable\"\r\n            variant=\"outlined\"\r\n            :disabled=\"isCrosstabChart\"\r\n          />\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-select\r\n            item-color=\"secondary\"\r\n            color=\"secondary\"\r\n            label=\"All criteria\"\r\n            v-model=\"chartSelectedCriterion\"\r\n            :items=\"orderedCriterions\"\r\n            item-title=\"text\"\r\n            item-value=\"value\"\r\n            clearable\r\n            density=\"comfortable\"\r\n            variant=\"outlined\"\r\n            :disabled=\"isArgumentCountChart || isAlternativesComparisonChart || isCrosstabChart\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n    </v-col>\r\n\r\n      <!-- Search Field (Default Views only) -->\r\n      <v-col class=\"flex-grow-0\" style=\"min-width: 200px;\" v-if=\"!isActiveRoute('chart-view')\">\r\n        <v-text-field\r\n          color=\"secondary\"\r\n          label=\"Search\"\r\n          :model-value=\"state.searchInput\"\r\n          @update:modelValue=\"debounceInput\"\r\n          clearable\r\n          density=\"comfortable\"\r\n        >\r\n          <template #append-inner>\r\n            <v-icon\r\n              icon=\"mdi-magnify\"\r\n              class=\"cursor-pointer\"\r\n              @click=\"clearSearch\"\r\n            />\r\n          </template>\r\n        </v-text-field>\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { computed, watch, ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { debounce } from 'lodash'\r\n\r\nimport {\r\n  getSelectStakeholders,\r\n  getSelectAims,\r\n  getSelectCriterions,\r\n  state,\r\n  getSelectModes,\r\n  getProjectTypeFromRoute,\r\n  PROJECT_TYPE_ROUTES,\r\n  loadAll,\r\n  switchToView,\r\n  is1stLevelStakeholdersMode,\r\n  orderByPropName,\r\n} from '@/store'\r\n\r\nconst props = defineProps<{\r\n  chartSelectedChart?: string\r\n}>()\r\n\r\nconst router = useRouter()\r\n\r\nconst isActiveRoute = (name: string) => router.currentRoute.value.name === name\r\n\r\n// Chart View filters - expose globally in state\r\nif (!state.chartFilters) {\r\n  const alternativesMap = state.data?.alternatives || {}\r\n  const alternatives = Object.values(alternativesMap)\r\n  const firstAlternative = alternatives[0]?.name || 'all-merged'\r\n  state.chartFilters = {\r\n    selectedAlternative: firstAlternative,\r\n    analysisPer: 'criteria',\r\n    selectedCriterion: '',\r\n  }\r\n}\r\n\r\nconst chartSelectedAlternative = computed({\r\n  get: () => {\r\n    const alternativesMap = state.data?.alternatives || {}\r\n    const alternatives = Object.values(alternativesMap)\r\n    const firstAlternative = alternatives[0]?.name || 'all-merged'\r\n    return state.chartFilters?.selectedAlternative || firstAlternative\r\n  },\r\n  set: (value) => {\r\n    if (state.chartFilters) {\r\n      state.chartFilters.selectedAlternative = value\r\n    }\r\n  }\r\n})\r\n\r\nconst chartAnalysisPer = computed({\r\n  get: () => state.chartFilters?.analysisPer || 'criteria',\r\n  set: (value) => {\r\n    if (state.chartFilters) {\r\n      state.chartFilters.analysisPer = value\r\n    }\r\n  }\r\n})\r\n\r\nconst chartSelectedCriterion = computed({\r\n  get: () => state.chartFilters?.selectedCriterion || '',\r\n  set: (value) => {\r\n    if (state.chartFilters) {\r\n      state.chartFilters.selectedCriterion = value\r\n    }\r\n  }\r\n})\r\n\r\nconst alternativeOptions = computed(() => {\r\n  const alternativesMap = state.data?.alternatives || {};\r\n  const alternatives = Object.values(alternativesMap).map(alt => ({\r\n    title: alt.name,\r\n    value: alt.name,\r\n  }))\r\n  const allOptions = [\r\n    ...alternatives,\r\n    { title: 'All alternatives (merged)', value: 'all-merged' },\r\n    { title: 'All alternatives (separated)', value: 'all-separated' },\r\n  ]\r\n  \r\n  // Filter out \"All alternatives\" options for crosstab chart\r\n  if (isCrosstabChart.value) {\r\n    return alternatives\r\n  }\r\n  \r\n  return allOptions\r\n})\r\n\r\nconst analysisPerOptions = [\r\n  { title: 'Criteria', value: 'criteria' },\r\n  { title: 'Stakeholder', value: 'stakeholder' },\r\n]\r\n\r\nconst clearSearch = () => {\r\n  state.searchInput = ''\r\n}\r\n\r\nconst debounceInput = debounce((value: string) => {\r\n  state.searchInput = value\r\n}, 200)\r\n\r\nconst getSelectModesComputed = computed(() => getSelectModes())\r\n\r\nconst orderedStakeholders = computed(() =>\r\n  orderByPropName(getSelectStakeholders(), 'text')\r\n)\r\nconst orderedCriterions = computed(() =>\r\n  orderByPropName(getSelectCriterions(), 'text')\r\n)\r\nconst orderedAims = computed(() =>\r\n  orderByPropName(getSelectAims(), 'text')\r\n)\r\n\r\nconst isArgumentCountChart = computed(\r\n  () => isActiveRoute('chart-view') && props.chartSelectedChart === 'argument-count'\r\n)\r\n\r\nconst isAlternativesComparisonChart = computed(\r\n  () => isActiveRoute('chart-view') && props.chartSelectedChart === 'alternatives-comparison'\r\n)\r\n\r\nconst isCrosstabChart = computed(\r\n  () => isActiveRoute('chart-view') && props.chartSelectedChart === 'crosstab'\r\n)\r\n\r\n// Initialize selectedAlternative to first alternative when alternatives load\r\nwatch(\r\n  () => state.data?.alternatives,\r\n  (alternativesMap) => {\r\n    if (alternativesMap) {\r\n      const alternatives = Object.values(alternativesMap);\r\n      if (alternatives && alternatives.length > 0) {\r\n        if (!state.chartFilters?.selectedAlternative || state.chartFilters.selectedAlternative === 'all-merged') {\r\n          if (state.chartFilters) {\r\n            state.chartFilters.selectedAlternative = alternatives[0].name\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  { immediate: true }\r\n)\r\n\r\nwatch(\r\n  () => state.mode,\r\n  async () => {\r\n    const currentRoute = router.currentRoute.value\r\n    if (getProjectTypeFromRoute(currentRoute)) {\r\n      await loadAll(currentRoute, false)\r\n      return\r\n    }\r\n\r\n    const query: Record<string, string> = {}\r\n    if (state.spreadsheet) {\r\n      query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET] = state.spreadsheet\r\n    } else if (state.project?.name) {\r\n      query[PROJECT_TYPE_ROUTES.ICO] = state.project.name\r\n    }\r\n\r\n    if (Object.keys(query).length === 0) {\r\n      await loadAll(currentRoute, false)\r\n      return\r\n    }\r\n\r\n    await loadAll(\r\n      {\r\n        ...currentRoute,\r\n        query: {\r\n          ...currentRoute.query,\r\n          ...query,\r\n        },\r\n      },\r\n      false\r\n    )\r\n  }\r\n)\r\n</script>\r\n\r\n<style scoped>\r\n.toolbar-filters :deep(.toolbar-icon-btn) {\r\n  border: 1px solid rgba(var(--v-theme-secondary), 0.35);\r\n  border-radius: 6px;\r\n  height: 40px;\r\n  width: 40px;\r\n}\r\n\r\n.toolbar-filters :deep(.toolbar-icon-btn:hover) {\r\n  background-color: rgba(var(--v-theme-secondary), 0.08);\r\n}\r\n\r\n.toolbar-filters :deep(.toolbar-icon-btn.v-btn--variant-flat) {\r\n  background-color: rgba(var(--v-theme-secondary), 0.12);\r\n}\r\n\r\n.toolbar-select {\r\n  max-width: 320px;\r\n}\r\n</style>\r\n","import script from \"./Header.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Header.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=4d18ae2b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4d18ae2b\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = { class: \"table-wrapper\" }\nconst _hoisted_2 = { class: \"custom-table\" }\nconst _hoisted_3 = {\n  key: 0,\n  style: {\"height\":\"100%\"},\n  class: \"text-center\"\n}\nconst _hoisted_4 = [\"colspan\"]\nconst _hoisted_5 = { class: \"text-grey\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_TableListHead = _resolveComponent(\"TableListHead\")!\n  const _component_TableListCriterion = _resolveComponent(\"TableListCriterion\")!\n  const _component_TableListAim = _resolveComponent(\"TableListAim\")!\n  const _component_TableListAlternative = _resolveComponent(\"TableListAlternative\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_TableListFoot = _resolveComponent(\"TableListFoot\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n\n  return (_openBlock(), _createBlock(_component_v_container, {\n    fluid: \"\",\n    class: \"pa-0 fill-height d-flex flex-column\"\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"table\", _hoisted_2, [\n          _createElementVNode(\"thead\", null, [\n            _createVNode(_component_TableListHead)\n          ]),\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_criterionsIds, (criterionId) => {\n              return (_openBlock(), _createElementBlock(_Fragment, {\n                key: `criterion-block-${criterionId}`\n              }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getAimsBy('criterion', criterionId), (aim, index) => {\n                  return (_openBlock(), _createElementBlock(\"tr\", {\n                    key: `aim-${criterionId}-${aim.id}`\n                  }, [\n                    (index === 0)\n                      ? _withDirectives((_openBlock(), _createBlock(_component_TableListCriterion, {\n                          key: 0,\n                          aim: aim,\n                          criterionId: criterionId\n                        }, null, 8, [\"aim\", \"criterionId\"])), [\n                          [_vShow, _ctx.getFilteredCriterions.includes(criterionId)]\n                        ])\n                      : _createCommentVNode(\"\", true),\n                    _withDirectives(_createVNode(_component_TableListAim, { aim: aim }, null, 8, [\"aim\"]), [\n                      [_vShow, _ctx.getFilteredAims.includes(aim.id)]\n                    ]),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternativesIds, (alternativeId) => {\n                      return (_openBlock(), _createElementBlock(_Fragment, {\n                        key: `alternative-block-${alternativeId}`\n                      }, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.subOptionsIds, (subOptionId) => {\n                          return _withDirectives((_openBlock(), _createBlock(_component_TableListAlternative, {\n                            key: `alternative-${alternativeId}-${subOptionId}`,\n                            aim: aim,\n                            criterionId: criterionId,\n                            alternativeId: alternativeId,\n                            subOptionId: subOptionId,\n                            alternativesIds: _ctx.alternativesIds,\n                            subOptionsIds: _ctx.subOptionsIds\n                          }, null, 8, [\"aim\", \"criterionId\", \"alternativeId\", \"subOptionId\", \"alternativesIds\", \"subOptionsIds\"])), [\n                            [_vShow, _ctx.getFilteredAims.includes(aim.id)]\n                          ])\n                        }), 128))\n                      ], 64))\n                    }), 128))\n                  ]))\n                }), 128))\n              ], 64))\n            }), 128)),\n            (!_ctx.getFilteredItems.length)\n              ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_3, [\n                  _createElementVNode(\"td\", {\n                    class: \"pt-10\",\n                    colspan: 5 + _ctx.alternativesIds.length\n                  }, [\n                    _createElementVNode(\"b\", _hoisted_5, [\n                      _cache[1] || (_cache[1] = _createTextVNode(\" No results. \")),\n                      _cache[2] || (_cache[2] = _createElementVNode(\"br\", null, null, -1)),\n                      _cache[3] || (_cache[3] = _createElementVNode(\"br\", null, null, -1)),\n                      _createVNode(_component_v_btn, {\n                        size: \"small\",\n                        color: \"secondary\",\n                        onClick: _ctx.clearAppFilters\n                      }, {\n                        default: _withCtx(() => _cache[0] || (_cache[0] = [\n                          _createTextVNode(\"clear filters\")\n                        ])),\n                        _: 1\n                      }, 8, [\"onClick\"])\n                    ])\n                  ], 8, _hoisted_4)\n                ]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _createElementVNode(\"tfoot\", null, [\n            _createVNode(_component_TableListFoot)\n          ])\n        ])\n      ])\n    ]),\n    _: 1\n  }))\n}","<template>\r\n  <v-container fluid class=\"pa-0 fill-height d-flex flex-column\">\r\n    <div class=\"table-wrapper\">\r\n      <table class=\"custom-table\">\r\n        <thead>\r\n          <TableListHead />\r\n        </thead>\r\n        <tbody>\r\n          <template v-for=\"criterionId in c_criterionsIds\" :key=\"`criterion-block-${criterionId}`\">\r\n            <tr\r\n              v-for=\"(aim, index) in getAimsBy('criterion', criterionId)\"\r\n              :key=\"`aim-${criterionId}-${aim.id}`\"\r\n            >\r\n              <TableListCriterion\r\n                v-if=\"index === 0\"\r\n                v-show=\"getFilteredCriterions.includes(criterionId)\"\r\n                :aim=\"aim\"\r\n                :criterionId=\"criterionId\"\r\n              />\r\n              <TableListAim v-show=\"getFilteredAims.includes(aim.id)\" :aim=\"aim\" />\r\n              <template v-for=\"alternativeId in alternativesIds\" :key=\"`alternative-block-${alternativeId}`\">\r\n                <TableListAlternative\r\n                  v-show=\"getFilteredAims.includes(aim.id)\"\r\n                  v-for=\"subOptionId in subOptionsIds\"\r\n                  :key=\"`alternative-${alternativeId}-${subOptionId}`\"\r\n                  :aim=\"aim\"\r\n                  :criterionId=\"criterionId\"\r\n                  :alternativeId=\"alternativeId\"\r\n                  :subOptionId=\"subOptionId\"\r\n                  :alternativesIds=\"alternativesIds\"\r\n                  :subOptionsIds=\"subOptionsIds\"\r\n                />\r\n              </template>\r\n            </tr>\r\n          </template>\r\n\r\n          <template v-if=\"!getFilteredItems.length\">\r\n            <tr style=\"height:100%;\" class=\"text-center\">\r\n              <td class=\"pt-10\" :colspan=\"5 + alternativesIds.length\">\r\n                <b class=\"text-grey\">\r\n                  No results.\r\n                  <br /><br />\r\n                  <v-btn size=\"small\" color=\"secondary\" @click=\"clearAppFilters\">clear filters</v-btn>\r\n                </b>\r\n              </td>\r\n            </tr>\r\n          </template>\r\n        </tbody>\r\n        <tfoot>\r\n          <TableListFoot />\r\n        </tfoot>\r\n      </table>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed, onMounted, onUnmounted, ref} from \"vue\";\r\nimport { sortBy } from \"lodash\";\r\n\r\nimport TableListHead from \"./TableListHead.vue\";\r\nimport TableListFoot from \"./TableListFoot.vue\";\r\nimport TableListAim from \"./TableListAim.vue\";\r\nimport TableListCriterion from \"./TableListCriterion.vue\";\r\nimport TableListAlternative from \"./TableListAlternative.vue\";\r\n\r\nimport {\r\n  clearAppFilters,\r\n  subOptionsIds,\r\n  alternativesIds,\r\n  criterionsIds,\r\n  c_criterionsIds,\r\n  aimsIds,\r\n  getAimsBy,\r\n  getAlternatives,\r\n  getSubOptions,\r\n  state,\r\n  getFilteredCriterions,\r\n  getFilteredItems,\r\n  getFilteredAims\r\n} from \"@/store\";\r\n\r\nexport default defineComponent({\r\n  name: \"TableList\",\r\n  components: {\r\n    TableListCriterion,\r\n    TableListHead,\r\n    TableListFoot,\r\n    TableListAlternative,\r\n    TableListAim\r\n  },\r\n  setup() {\r\n    \r\n    const filteredCriterions = computed(() => getFilteredCriterions());\r\n    const filteredItems = computed(() => getFilteredItems());\r\n    const filteredAims = computed(() => getFilteredAims());\r\n\r\n    const alternatives = computed(() => alternativesIds());\r\n    const subOptions = computed(() => subOptionsIds());\r\n    const criterions = computed(() => criterionsIds());\r\n    const aims = computed(() => aimsIds());\r\n\r\n    return {\r\n      state,\r\n      sortBy,\r\n      getAimsBy,\r\n      clearAppFilters,\r\n\r\n      c_criterionsIds,\r\n\r\n      getFilteredCriterions: filteredCriterions,\r\n      getFilteredItems: filteredItems,\r\n      getFilteredAims: filteredAims,\r\n\r\n      alternativesIds: alternatives,\r\n      subOptionsIds: subOptions,\r\n      criterionsIds: criterions,\r\n      aimsIds: aims,\r\n\r\n      getAlternatives: computed(() => getAlternatives()),\r\n      getSubOptions: computed(() => getSubOptions())\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.table-wrapper {\r\n  height: 100%;\r\n  overflow: auto;\r\n  border: 1px solid #ccc;\r\n  position: relative;\r\n  flex: 1 1 auto;\r\n}\r\n\r\n/* Table */\r\n.custom-table {\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  width: 100vw;\r\n  min-width: 100%;\r\n}\r\n\r\n/* Header sticky */\r\n:deep(.custom-table thead th) {\r\n  position: sticky;\r\n  top: 0;\r\n  background: white;\r\n  z-index: 3;\r\n  border-bottom: 2px solid #ccc;\r\n  padding: 8px;\r\n  text-align: center;\r\n}\r\n\r\n/* Footer sticky */\r\n.custom-table tfoot td {\r\n  position: sticky;\r\n  bottom: -8px;\r\n  background: white;\r\n  z-index: 2;\r\n  border-top: 2px solid #ccc;\r\n  padding: 8px;\r\n}\r\n\r\n/* Cellules normales */\r\n.custom-table td {\r\n  padding: 8px;\r\n  border-bottom: 1px solid #eee;\r\n  border-right: 1px solid #eee;\r\n}\r\n\r\n.custom-table th {\r\n  border-right: 1px solid #ccc;\r\n}\r\n</style>\r\n\r\n\r\n","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"text-uppercase\" }\nconst _hoisted_2 = [\"colspan\", \"onClick\"]\nconst _hoisted_3 = { class: \"alternative-content\" }\nconst _hoisted_4 = { class: \"alternative-name\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_ProductDetailsDialog = _resolveComponent(\"ProductDetailsDialog\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"tr\", _hoisted_1, [\n      _cache[1] || (_cache[1] = _createElementVNode(\"th\", { class: \"criterion table-head-cell\" }, \"Criterion\", -1)),\n      _cache[2] || (_cache[2] = _createElementVNode(\"th\", { class: \"aim table-head-cell\" }, \"Aim\", -1)),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternativesIds, (alternativeId) => {\n        return (_openBlock(), _createElementBlock(\"th\", {\n          key: `alternative-${alternativeId}`,\n          colspan: _ctx.subOptionsIds.length,\n          class: \"alternative table-head-cell\",\n          onClick: ($event: any) => (_ctx.openProductDialog(alternativeId)),\n          style: {\"cursor\":\"pointer\"}\n        }, [\n          _createElementVNode(\"span\", _hoisted_3, [\n            (_ctx.state.data?.alternatives?.[alternativeId]?.icon)\n              ? (_openBlock(), _createBlock(_component_v_icon, {\n                  key: 0,\n                  class: \"mr-2\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(_ctx.state.data.alternatives[alternativeId].icon), 1)\n                  ]),\n                  _: 2\n                }, 1024))\n              : _createCommentVNode(\"\", true),\n            _createElementVNode(\"span\", _hoisted_4, _toDisplayString(_ctx.getAlternatives[alternativeId]?.name || 'Unnamed'), 1),\n            (_ctx.hasProductInfo(alternativeId))\n              ? (_openBlock(), _createBlock(_component_v_icon, {\n                  key: 1,\n                  size: \"x-small\",\n                  class: \"ml-2 text-info\"\n                }))\n              : _createCommentVNode(\"\", true)\n          ])\n        ], 8, _hoisted_2))\n      }), 128))\n    ]),\n    _createVNode(_component_ProductDetailsDialog, {\n      modelValue: _ctx.showProductDialog,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.showProductDialog) = $event)),\n      alternative: _ctx.selectedAlternative,\n      products: _ctx.state.project?.products || [],\n      compositions: _ctx.state.project?.compositions || []\n    }, null, 8, [\"modelValue\", \"alternative\", \"products\", \"compositions\"])\n  ], 64))\n}","<template>\r\n  <tr class=\"text-uppercase\">\r\n    <th class=\"criterion table-head-cell\">Criterion</th>\r\n    <th class=\"aim table-head-cell\">Aim</th>\r\n    <th\r\n      v-for=\"alternativeId in alternativesIds\"\r\n      :key=\"`alternative-${alternativeId}`\"\r\n      :colspan=\"subOptionsIds.length\"\r\n      class=\"alternative table-head-cell\"\r\n      @click=\"openProductDialog(alternativeId)\"\r\n      style=\"cursor: pointer;\"\r\n    >\r\n      <span class=\"alternative-content\">\r\n        <v-icon v-if=\"state.data?.alternatives?.[alternativeId]?.icon\" class=\"mr-2\">\r\n          {{ state.data.alternatives[alternativeId].icon }}\r\n        </v-icon>\r\n        <span class=\"alternative-name\">{{ getAlternatives[alternativeId]?.name || 'Unnamed' }}</span>\r\n        <v-icon v-if=\"hasProductInfo(alternativeId)\"  size=\"x-small\" class=\"ml-2 text-info\"></v-icon>\r\n      </span>\r\n    </th>\r\n  </tr>\r\n\r\n  <!-- Product Details Dialog -->\r\n  <ProductDetailsDialog\r\n    v-model=\"showProductDialog\"\r\n    :alternative=\"selectedAlternative\"\r\n    :products=\"state.project?.products || []\"\r\n    :compositions=\"state.project?.compositions || []\"\r\n  />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed } from \"vue\";\r\nimport {\r\n  state,\r\n  alternativesIds,\r\n  subOptionsIds,\r\n  getAlternatives\r\n} from \"@/store\";\r\nimport ProductDetailsDialog from \"@/components/ProductDetailsDialog.vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"TableListHead\",\r\n  components: {\r\n    ProductDetailsDialog,\r\n  },\r\n  data() {\r\n    return {\r\n      showProductDialog: false,\r\n      selectedAlternativeId: null as number | null,\r\n    };\r\n  },\r\n  setup() {\r\n    return {\r\n      state,\r\n      alternativesIds: computed(() => alternativesIds()),\r\n      subOptionsIds: computed(() => subOptionsIds()),\r\n      getAlternatives: computed(() => getAlternatives())\r\n    };\r\n  },\r\n  computed: {\r\n    selectedAlternative() {\r\n      if (this.selectedAlternativeId === null) return null;\r\n      return this.getAlternatives[this.selectedAlternativeId] || null;\r\n    },\r\n  },\r\n  methods: {\r\n    openProductDialog(alternativeId: number): void {\r\n      this.selectedAlternativeId = alternativeId;\r\n      this.showProductDialog = true;\r\n    },\r\n    hasProductInfo(alternativeId: number): boolean {\r\n      const alternativeName = this.getAlternatives[alternativeId]?.name;\r\n      if (!alternativeName || !this.state.project?.products) return false;\r\n      return this.state.project.products.some(\r\n        (p) => p.nameAlternative === alternativeName\r\n      );\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n\r\n/* Header sticky */\r\n.table-head-cell {\r\n  position: sticky;\r\n  top: 0;\r\n  background: white;\r\n  z-index: 2;\r\n  border-bottom: 2px solid #ccc;\r\n  padding: 12px 8px;\r\n  text-align: center;\r\n  min-height: 40px;\r\n  vertical-align: middle;\r\n}\r\n\r\n.criterion {\r\n  max-width: 150px;\r\n  width: 150px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n}\r\n\r\n.aim {\r\n  max-width: 200px;\r\n  width: 200px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n}\r\n\r\n.alternative {\r\n  transition: background-color 0.2s ease;\r\n  user-select: none;\r\n  vertical-align: middle;\r\n  white-space: nowrap;\r\n}\r\n\r\n.alternative:hover {\r\n  background-color: #f5f5f5 !important;\r\n}\r\n\r\n.alternative-name {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: inline-block;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n}\r\n\r\n.alternative-content {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 4px;\r\n}\r\n</style>\r\n\r\n\r\n","import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  class: \"d-flex\",\n  style: {\"background\":\"rgba(0,0,0,.7)\",\"position\":\"relative\"}\n}\nconst _hoisted_2 = { class: \"mr-auto zi-front\" }\nconst _hoisted_3 = { class: \"subtitle-2 text-white text-uppercase\" }\nconst _hoisted_4 = { class: \"mx-4 my-4 zi-front\" }\nconst _hoisted_5 = { class: \"d-flex align-start mb-2\" }\nconst _hoisted_6 = { class: \"flex-grow-1\" }\nconst _hoisted_7 = { class: \"title text-primary\" }\nconst _hoisted_8 = { class: \"text-caption text-grey-darken-1\" }\nconst _hoisted_9 = {\n  key: 0,\n  class: \"mt-2\"\n}\nconst _hoisted_10 = { class: \"mb-4 d-flex align-center\" }\nconst _hoisted_11 = {\n  class: \"d-flex\",\n  style: {\"background\":\"rgba(0,0,0,.7)\",\"position\":\"relative\"}\n}\nconst _hoisted_12 = { class: \"mr-auto zi-front\" }\nconst _hoisted_13 = { class: \"subtitle-2 text-white text-uppercase\" }\nconst _hoisted_14 = { class: \"mx-4 my-4 zi-front\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_divider = _resolveComponent(\"v-divider\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_CompositionTree = _resolveComponent(\"CompositionTree\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_alert = _resolveComponent(\"v-alert\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_v_dialog, {\n    modelValue: _ctx.isOpen,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.isOpen) = $event)),\n    \"max-width\": \"600px\"\n  }, {\n    default: _withCtx(() => [\n      (_ctx.alternative && _ctx.relatedProducts.length > 0)\n        ? (_openBlock(), _createBlock(_component_v_card, {\n            key: 0,\n            class: \"superset-card\"\n          }, {\n            actions: _withCtx(() => [\n              _createVNode(_component_v_btn, {\n                class: \"ml-auto\",\n                onClick: _ctx.closeDialog,\n                variant: \"text\",\n                icon: \"mdi-close\"\n              }, null, 8, [\"onClick\"])\n            ]),\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", {\n                  class: \"card-background\",\n                  style: _normalizeStyle(`background-image: url(${_ctx.getImagePath(_ctx.alternative.image)}); background-size: cover;`)\n                }, null, 4),\n                _createElementVNode(\"div\", _hoisted_2, [\n                  _createElementVNode(\"div\", _hoisted_3, _toDisplayString(_ctx.alternative.name), 1),\n                  _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"font-weight-light text-white text-caption\" }, \" Product Details \", -1))\n                ]),\n                _createElementVNode(\"div\", _hoisted_4, [\n                  (_ctx.alternative.icon)\n                    ? (_openBlock(), _createBlock(_component_v_icon, {\n                        key: 0,\n                        style: {\"color\":\"white\"}\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(_ctx.alternative.icon), 1)\n                        ]),\n                        _: 1\n                      }))\n                    : _createCommentVNode(\"\", true)\n                ])\n              ]),\n              _createVNode(_component_v_divider, { class: \"my-1\" }),\n              _createVNode(_component_v_card_text, null, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.relatedProducts, (product) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      key: product.productUri,\n                      class: \"mb-5 no-mb-last\"\n                    }, [\n                      _createElementVNode(\"div\", _hoisted_5, [\n                        _createElementVNode(\"div\", _hoisted_6, [\n                          _createElementVNode(\"div\", _hoisted_7, [\n                            _createElementVNode(\"b\", null, _toDisplayString(product.nameProduct), 1)\n                          ]),\n                          _createElementVNode(\"div\", _hoisted_8, _toDisplayString(_ctx.truncateUri(product.productUri)), 1),\n                          (product.tagProduct && product.tagProduct.length > 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getDisplayedTags(product), (tag) => {\n                                  return (_openBlock(), _createBlock(_component_v_chip, {\n                                    key: tag,\n                                    size: \"x-small\",\n                                    variant: \"outlined\",\n                                    color: \"primary\",\n                                    class: \"mr-1 mb-1\"\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createTextVNode(_toDisplayString(tag), 1)\n                                    ]),\n                                    _: 2\n                                  }, 1024))\n                                }), 128)),\n                                (product.tagProduct.length > 5)\n                                  ? (_openBlock(), _createBlock(_component_v_chip, {\n                                      key: 0,\n                                      size: \"x-small\",\n                                      variant: \"outlined\",\n                                      color: _ctx.expandedProductTags[product.productUri] ? 'grey' : 'secondary',\n                                      class: \"mr-1 mb-1\",\n                                      onClick: ($event: any) => (_ctx.toggleProductTags(product.productUri)),\n                                      style: {\"cursor\":\"pointer\"}\n                                    }, {\n                                      default: _withCtx(() => [\n                                        (_ctx.expandedProductTags[product.productUri])\n                                          ? (_openBlock(), _createBlock(_component_v_icon, {\n                                              key: 0,\n                                              icon: \"mdi-chevron-up\",\n                                              size: \"x-small\",\n                                              class: \"mr-1\"\n                                            }))\n                                          : (_openBlock(), _createBlock(_component_v_icon, {\n                                              key: 1,\n                                              icon: \"mdi-chevron-down\",\n                                              size: \"x-small\",\n                                              class: \"mr-1\"\n                                            })),\n                                        _createTextVNode(\" \" + _toDisplayString(_ctx.expandedProductTags[product.productUri] ? 'Show less' : `+${product.tagProduct.length - 5} more`), 1)\n                                      ]),\n                                      _: 2\n                                    }, 1032, [\"color\", \"onClick\"]))\n                                  : _createCommentVNode(\"\", true)\n                              ]))\n                            : _createCommentVNode(\"\", true)\n                        ])\n                      ]),\n                      _createElementVNode(\"div\", _hoisted_10, [\n                        _createVNode(_component_v_btn, {\n                          size: \"small\",\n                          variant: \"outlined\",\n                          color: \"primary\",\n                          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.showAllComponents = !_ctx.showAllComponents)),\n                          \"prepend-icon\": _ctx.showAllComponents ? 'mdi-eye' : 'mdi-eye-off'\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(_ctx.showAllComponents ? 'All Components' : 'Tagged Only'), 1)\n                          ]),\n                          _: 1\n                        }, 8, [\"prepend-icon\"])\n                      ]),\n                      _createVNode(_component_CompositionTree, {\n                        uri: product.productUri,\n                        compositions: _ctx.compositions,\n                        showAll: _ctx.showAllComponents,\n                        level: 0\n                      }, null, 8, [\"uri\", \"compositions\", \"showAll\"])\n                    ]))\n                  }), 128))\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_v_divider)\n            ]),\n            _: 1\n          }))\n        : (_ctx.alternative)\n          ? (_openBlock(), _createBlock(_component_v_card, {\n              key: 1,\n              class: \"superset-card\"\n            }, {\n              actions: _withCtx(() => [\n                _createVNode(_component_v_btn, {\n                  class: \"ml-auto\",\n                  color: \"secondary\",\n                  onClick: _ctx.closeDialog,\n                  variant: \"text\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_icon, null, {\n                      default: _withCtx(() => _cache[5] || (_cache[5] = [\n                        _createTextVNode(\"mdi-close\")\n                      ])),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\"])\n              ]),\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_11, [\n                  _createElementVNode(\"div\", {\n                    class: \"card-background\",\n                    style: _normalizeStyle(`background-image: url(${_ctx.getImagePath(_ctx.alternative.image)}); background-size: cover;`)\n                  }, null, 4),\n                  _createElementVNode(\"div\", _hoisted_12, [\n                    _createElementVNode(\"div\", _hoisted_13, _toDisplayString(_ctx.alternative.name), 1),\n                    _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"font-weight-light text-white text-caption\" }, \" Product Details \", -1))\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_14, [\n                    (_ctx.alternative.icon)\n                      ? (_openBlock(), _createBlock(_component_v_icon, {\n                          key: 0,\n                          style: {\"color\":\"white\"}\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(_ctx.alternative.icon), 1)\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true)\n                  ])\n                ]),\n                _createVNode(_component_v_divider, { class: \"my-1\" }),\n                _createVNode(_component_v_card_text, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_alert, {\n                      type: \"info\",\n                      variant: \"outlined\"\n                    }, {\n                      default: _withCtx(() => _cache[4] || (_cache[4] = [\n                        _createTextVNode(\" No product information available for this scenario. \")\n                      ])),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_divider)\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}","<!--\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900\r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use,\r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\".\r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability.\r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or\r\ndata to be ensured and,  more generally, to use and operate it in the\r\nsame conditions as regards security.\r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n-->\r\n<template>\r\n  <v-dialog v-model=\"isOpen\" max-width=\"600px\">\r\n    <v-card v-if=\"alternative && relatedProducts.length > 0\" class=\"superset-card\">\r\n      <!-- Header with background image -->\r\n      <div class=\"d-flex\" style=\"background: rgba(0,0,0,.7);position: relative;\">\r\n        <div\r\n          class=\"card-background\"\r\n          :style=\"`background-image: url(${getImagePath(alternative.image)}); background-size: cover;`\"\r\n        ></div>\r\n\r\n        <div class=\"mr-auto zi-front\">\r\n          <div class=\"subtitle-2 text-white text-uppercase\">\r\n            {{ alternative.name }}\r\n          </div>\r\n          <div class=\"font-weight-light text-white text-caption\">\r\n            Product Details\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mx-4 my-4 zi-front\">\r\n          <v-icon style=\"color: white;\" v-if=\"alternative.icon\">\r\n            {{ alternative.icon }}\r\n          </v-icon>\r\n        </div>\r\n      </div>\r\n\r\n      <v-divider class=\"my-1\" />\r\n\r\n      <v-card-text>\r\n\r\n        <!-- Products -->\r\n        <div v-for=\"product in relatedProducts\" :key=\"product.productUri\" class=\"mb-5 no-mb-last\">\r\n          <div class=\"d-flex align-start mb-2\">\r\n            <div class=\"flex-grow-1\">\r\n              <div class=\"title text-primary\">\r\n                <b>{{ product.nameProduct }}</b>\r\n              </div>\r\n              <div class=\"text-caption text-grey-darken-1\">\r\n                {{ truncateUri(product.productUri) }}\r\n              </div>\r\n              <!-- Tags du produit -->\r\n              <div v-if=\"product.tagProduct && product.tagProduct.length > 0\" class=\"mt-2\">\r\n                <v-chip\r\n                  v-for=\"tag in getDisplayedTags(product)\"\r\n                  :key=\"tag\"\r\n                  size=\"x-small\"\r\n                  variant=\"outlined\"\r\n                  color=\"primary\"\r\n                  class=\"mr-1 mb-1\"\r\n                >\r\n                  {{ tag }}\r\n                </v-chip>\r\n                <v-chip\r\n                  v-if=\"product.tagProduct.length > 5\"\r\n                  size=\"x-small\"\r\n                  variant=\"outlined\"\r\n                  :color=\"expandedProductTags[product.productUri] ? 'grey' : 'secondary'\"\r\n                  class=\"mr-1 mb-1\"\r\n                  @click=\"toggleProductTags(product.productUri)\"\r\n                  style=\"cursor: pointer;\"\r\n                >\r\n                  <v-icon v-if=\"expandedProductTags[product.productUri]\" icon=\"mdi-chevron-up\" size=\"x-small\" class=\"mr-1\" />\r\n                  <v-icon v-else icon=\"mdi-chevron-down\" size=\"x-small\" class=\"mr-1\" />\r\n                  {{ expandedProductTags[product.productUri] ? 'Show less' : `+${product.tagProduct.length - 5} more` }}\r\n                </v-chip>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n            <!-- Filter Button -->\r\n            <div class=\"mb-4 d-flex align-center\">\r\n            <v-btn\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                @click=\"showAllComponents = !showAllComponents\"\r\n                :prepend-icon=\"showAllComponents ? 'mdi-eye' : 'mdi-eye-off'\"\r\n            >\r\n                {{ showAllComponents ? 'All Components' : 'Tagged Only' }}\r\n            </v-btn>\r\n            </div>\r\n\r\n          <!-- Composition for this product -->\r\n          <CompositionTree\r\n            :uri=\"product.productUri\"\r\n            :compositions=\"compositions\"\r\n            :showAll=\"showAllComponents\"\r\n            :level=\"0\"\r\n          />\r\n        </div>\r\n      </v-card-text>\r\n\r\n      <v-divider />\r\n\r\n      <template #actions>\r\n        <v-btn\r\n          class=\"ml-auto\"\r\n          @click=\"closeDialog\"\r\n          variant=\"text\"\r\n          icon=\"mdi-close\"\r\n        />\r\n      </template>\r\n    </v-card>\r\n\r\n    <!-- No data card -->\r\n    <v-card v-else-if=\"alternative\" class=\"superset-card\">\r\n      <div class=\"d-flex\" style=\"background: rgba(0,0,0,.7);position: relative;\">\r\n        <div\r\n          class=\"card-background\"\r\n          :style=\"`background-image: url(${getImagePath(alternative.image)}); background-size: cover;`\"\r\n        ></div>\r\n\r\n        <div class=\"mr-auto zi-front\">\r\n          <div class=\"subtitle-2 text-white text-uppercase\">\r\n            {{ alternative.name }}\r\n          </div>\r\n          <div class=\"font-weight-light text-white text-caption\">\r\n            Product Details\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mx-4 my-4 zi-front\">\r\n          <v-icon style=\"color: white;\" v-if=\"alternative.icon\">\r\n            {{ alternative.icon }}\r\n          </v-icon>\r\n        </div>\r\n      </div>\r\n\r\n      <v-divider class=\"my-1\" />\r\n\r\n      <v-card-text>\r\n        <v-alert type=\"info\" variant=\"outlined\">\r\n          No product information available for this scenario.\r\n        </v-alert>\r\n      </v-card-text>\r\n\r\n      <v-divider />\r\n\r\n      <template #actions>\r\n        <v-btn\r\n          class=\"ml-auto\"\r\n          color=\"secondary\"\r\n          @click=\"closeDialog\"\r\n          variant=\"text\"\r\n        >\r\n          <v-icon>mdi-close</v-icon>\r\n        </v-btn>\r\n      </template>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport type { Alternative, Product, Composition } from \"@/@types\";\r\nimport { getImagePath } from \"@/store\";\r\nimport CompositionTree from \"./CompositionTree.vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"ProductDetailsDialog\",\r\n  components: {\r\n    CompositionTree,\r\n  },\r\n  props: {\r\n    modelValue: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    alternative: {\r\n      type: Object as PropType<Alternative | null>,\r\n      default: null,\r\n    },\r\n    products: {\r\n      type: Array as PropType<Product[]>,\r\n      default: () => [],\r\n    },\r\n    compositions: {\r\n      type: Array as PropType<Composition[]>,\r\n      default: () => [],\r\n    },\r\n  },\r\n  emits: [\"update:modelValue\"],\r\n  data() {\r\n    return {\r\n      showAllComponents: true,\r\n      expandedProductTags: {} as Record<string, boolean>,\r\n    };\r\n  },\r\n  setup() {\r\n    return {\r\n      getImagePath,\r\n    };\r\n  },\r\n  computed: {\r\n    isOpen: {\r\n      get(): boolean {\r\n        return this.modelValue;\r\n      },\r\n      set(value: boolean) {\r\n        this.$emit(\"update:modelValue\", value);\r\n      },\r\n    },\r\n    relatedProducts(): Product[] {\r\n      if (!this.alternative) return [];\r\n      const products = this.products.filter(\r\n        (p) => p.nameAlternative === this.alternative?.name\r\n      );\r\n      // Remove duplicates by productUri\r\n      const uniqueProducts = Array.from(\r\n        new Map(products.map((p) => [p.productUri, p])).values()\r\n      ) as Product[];\r\n      return uniqueProducts;\r\n    },\r\n  },\r\n  methods: {\r\n    getDisplayedTags(product: Product): string[] {\r\n      if (this.expandedProductTags[product.productUri]) {\r\n        return product.tagProduct;\r\n      }\r\n      return product.tagProduct.slice(0, 5);\r\n    },\r\n    toggleProductTags(productUri: string): void {\r\n      this.expandedProductTags[productUri] = !this.expandedProductTags[productUri];\r\n      // Force reactivity\r\n      this.expandedProductTags = { ...this.expandedProductTags };\r\n    },\r\n    getCompositions(uri: string): Composition[] {\r\n      return this.compositions\r\n        .filter((c) => c.uriCompose === uri)\r\n        .sort((a, b) => a.rang - b.rang);\r\n    },\r\n    getFilteredCompositions(uri: string): Composition[] {\r\n      const allCompositions = this.getCompositions(uri);\r\n      if (this.showAllComponents) {\r\n        return allCompositions;\r\n      }\r\n      return allCompositions.filter((c) => c.tagComposant && c.tagComposant.length > 0);\r\n    },\r\n    truncateUri(uri: string): string {\r\n      const maxLength = 50;\r\n      if (uri.length > maxLength) {\r\n        return uri.substring(0, maxLength - 3) + \"...\";\r\n      }\r\n      return uri;\r\n    },\r\n    closeDialog(): void {\r\n      this.isOpen = false;\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.card-background {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-size: cover;\r\n  background-position: center center;\r\n  opacity: 0.3;\r\n  z-index: 0;\r\n}\r\n\r\n.zi-front {\r\n  z-index: 1;\r\n  position: relative;\r\n}\r\n\r\n.no-mb-last > :last-child {\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.bg-grey-lighten-4 {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.rounded {\r\n  border-radius: 4px;\r\n}\r\n</style>\r\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"d-flex align-start pl-3 py-2 bg-grey-lighten-4 rounded\" }\nconst _hoisted_2 = { class: \"mr-2 text-caption text-grey\" }\nconst _hoisted_3 = { class: \"flex-grow-1\" }\nconst _hoisted_4 = { class: \"d-flex align-center\" }\nconst _hoisted_5 = { class: \"text-body-2\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"mt-1\"\n}\nconst _hoisted_7 = {\n  key: 0,\n  class: \"ml-4 mt-1\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_CompositionTree = _resolveComponent(\"CompositionTree\", true)!\n\n  return (_ctx.filteredCompositions.length > 0)\n    ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        class: _normalizeClass(['composition-level', `level-${_ctx.level}`])\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.filteredCompositions, (composition) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: composition.uriComposant,\n            class: \"composition-item mb-2\"\n          }, [\n            _createElementVNode(\"div\", _hoisted_1, [\n              _createElementVNode(\"div\", _hoisted_2, _toDisplayString(composition.rang) + \".\", 1),\n              _createElementVNode(\"div\", _hoisted_3, [\n                _createElementVNode(\"div\", _hoisted_4, [\n                  _createVNode(_component_v_icon, {\n                    icon: composition.typeComposant === 'Product' ? 'mdi-package-variant' : 'mdi-food-variant',\n                    size: \"x-small\",\n                    color: composition.typeComposant === 'Product' ? 'orange' : 'green',\n                    class: \"mr-1\"\n                  }, null, 8, [\"icon\", \"color\"]),\n                  _createElementVNode(\"span\", _hoisted_5, _toDisplayString(composition.nameComposant), 1)\n                ]),\n                (composition.tagComposant && composition.tagComposant.length > 0)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(composition.tagComposant.slice(0, 3), (tag) => {\n                        return (_openBlock(), _createBlock(_component_v_chip, {\n                          key: tag,\n                          size: \"x-small\",\n                          variant: \"outlined\",\n                          color: \"primary\",\n                          class: \"mr-1 mb-1\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(tag), 1)\n                          ]),\n                          _: 2\n                        }, 1024))\n                      }), 128)),\n                      (composition.tagComposant.length > 3)\n                        ? (_openBlock(), _createBlock(_component_v_chip, {\n                            key: 0,\n                            size: \"x-small\",\n                            variant: \"outlined\",\n                            color: \"grey\",\n                            class: \"mr-1 mb-1\"\n                          }, {\n                            default: _withCtx(() => [\n                              _createTextVNode(\" +\" + _toDisplayString(composition.tagComposant.length - 3), 1)\n                            ]),\n                            _: 2\n                          }, 1024))\n                        : _createCommentVNode(\"\", true)\n                    ]))\n                  : _createCommentVNode(\"\", true)\n              ])\n            ]),\n            (_ctx.hasSubComponents(composition.uriComposant))\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                  _createVNode(_component_CompositionTree, {\n                    uri: composition.uriComposant,\n                    compositions: _ctx.compositions,\n                    showAll: _ctx.showAll,\n                    level: _ctx.level + 1\n                  }, null, 8, [\"uri\", \"compositions\", \"showAll\", \"level\"])\n                ]))\n              : _createCommentVNode(\"\", true)\n          ]))\n        }), 128))\n      ], 2))\n    : _createCommentVNode(\"\", true)\n}","<!--\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900\r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use,\r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\".\r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability.\r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or\r\ndata to be ensured and,  more generally, to use and operate it in the\r\nsame conditions as regards security.\r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n-->\r\n<template>\r\n  <div v-if=\"filteredCompositions.length > 0\" :class=\"['composition-level', `level-${level}`]\">\r\n    <div\r\n      v-for=\"composition in filteredCompositions\"\r\n      :key=\"composition.uriComposant\"\r\n      class=\"composition-item mb-2\"\r\n    >\r\n      <div class=\"d-flex align-start pl-3 py-2 bg-grey-lighten-4 rounded\">\r\n        <div class=\"mr-2 text-caption text-grey\">{{ composition.rang }}.</div>\r\n        <div class=\"flex-grow-1\">\r\n          <div class=\"d-flex align-center\">\r\n            <v-icon\r\n              :icon=\"composition.typeComposant === 'Product' ? 'mdi-package-variant' : 'mdi-food-variant'\"\r\n              size=\"x-small\"\r\n              :color=\"composition.typeComposant === 'Product' ? 'orange' : 'green'\"\r\n              class=\"mr-1\"\r\n            />\r\n            <span class=\"text-body-2\">{{ composition.nameComposant }}</span>\r\n          </div>\r\n          \r\n          <!-- Tags -->\r\n          <div v-if=\"composition.tagComposant && composition.tagComposant.length > 0\" class=\"mt-1\">\r\n            <v-chip\r\n              v-for=\"tag in composition.tagComposant.slice(0, 3)\"\r\n              :key=\"tag\"\r\n              size=\"x-small\"\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              class=\"mr-1 mb-1\"\r\n            >\r\n              {{ tag }}\r\n            </v-chip>\r\n            <v-chip\r\n              v-if=\"composition.tagComposant.length > 3\"\r\n              size=\"x-small\"\r\n              variant=\"outlined\"\r\n              color=\"grey\"\r\n              class=\"mr-1 mb-1\"\r\n            >\r\n              +{{ composition.tagComposant.length - 3 }}\r\n            </v-chip>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Rcursion pour les sous-composants -->\r\n      <div v-if=\"hasSubComponents(composition.uriComposant)\" class=\"ml-4 mt-1\">\r\n        <CompositionTree\r\n          :uri=\"composition.uriComposant\"\r\n          :compositions=\"compositions\"\r\n          :showAll=\"showAll\"\r\n          :level=\"level + 1\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport type { Composition } from \"@/@types\";\r\n\r\nexport default defineComponent({\r\n  name: \"CompositionTree\",\r\n  props: {\r\n    uri: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    compositions: {\r\n      type: Array as PropType<Composition[]>,\r\n      required: true,\r\n    },\r\n    showAll: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    level: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n  },\r\n  computed: {\r\n    filteredCompositions(): Composition[] {\r\n      const comps = this.compositions\r\n        .filter((c) => c.uriCompose === this.uri)\r\n        .sort((a, b) => a.rang - b.rang);\r\n      \r\n      if (this.showAll) {\r\n        return comps;\r\n      }\r\n      // En mode \"Tagged Only\", afficher les composants qui ont des tags\r\n      // OU qui ont des sous-composants tagus (rcursivement)\r\n      return comps.filter((c) => this.hasTagsInBranch(c.uriComposant) || (c.tagComposant && c.tagComposant.length > 0));\r\n    },\r\n  },\r\n  methods: {\r\n    hasSubComponents(uri: string): boolean {\r\n      return this.compositions.some((c) => c.uriCompose === uri);\r\n    },\r\n    hasTagsInBranch(uri: string): boolean {\r\n      // Vrifie rcursivement si cette branche contient des lments tagus\r\n      const subComps = this.compositions.filter((c) => c.uriCompose === uri);\r\n      \r\n      for (const comp of subComps) {\r\n        // Si ce composant a des tags, retourner true\r\n        if (comp.tagComposant && comp.tagComposant.length > 0) {\r\n          return true;\r\n        }\r\n        // Sinon vrifier rcursivement ses sous-composants\r\n        if (this.hasTagsInBranch(comp.uriComposant)) {\r\n          return true;\r\n        }\r\n      }\r\n      \r\n      return false;\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.composition-level {\r\n  margin-top: 8px;\r\n}\r\n\r\n.level-0 {\r\n  margin-left: 16px;\r\n}\r\n\r\n.composition-item {\r\n  position: relative;\r\n}\r\n\r\n.bg-grey-lighten-4 {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.rounded {\r\n  border-radius: 4px;\r\n}\r\n</style>\r\n","import { render } from \"./CompositionTree.vue?vue&type=template&id=5b1825e0&scoped=true&ts=true\"\nimport script from \"./CompositionTree.vue?vue&type=script&lang=ts\"\nexport * from \"./CompositionTree.vue?vue&type=script&lang=ts\"\n\nimport \"./CompositionTree.vue?vue&type=style&index=0&id=5b1825e0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5b1825e0\"]])\n\nexport default __exports__","import { render } from \"./ProductDetailsDialog.vue?vue&type=template&id=e028bf02&scoped=true&ts=true\"\nimport script from \"./ProductDetailsDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./ProductDetailsDialog.vue?vue&type=script&lang=ts\"\n\nimport \"./ProductDetailsDialog.vue?vue&type=style&index=0&id=e028bf02&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e028bf02\"]])\n\nexport default __exports__","import { render } from \"./TableListHead.vue?vue&type=template&id=de9b3c34&scoped=true&ts=true\"\nimport script from \"./TableListHead.vue?vue&type=script&lang=ts\"\nexport * from \"./TableListHead.vue?vue&type=script&lang=ts\"\n\nimport \"./TableListHead.vue?vue&type=style&index=0&id=de9b3c34&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-de9b3c34\"]])\n\nexport default __exports__","<template>\r\n  <tr tablelistfoot>\r\n    <th criterion-aim class=\"text-right\" colspan=\"2\">\r\n      <v-container>\r\n        <small class=\"text-grey\" style=\"font-weight: normal;\">\r\n          Arguments:\r\n          <b>{{ getFilteredItems.length }}/{{ getAllItems.length }}</b>\r\n        </small>\r\n      </v-container>\r\n    </th>\r\n\r\n    <!-- <template v-for=\"alternativeId in subOptionsIds\" :key=\"`subOption-${alternativeId}`\">\r\n      <th\r\n        alternative\r\n        :colspan=\"subOptionsIds.length\"\r\n      > -->\r\n    <template v-for=\"alternativeId in alternativesIds\" :key=\"`subOption-${alternativeId}`\">\r\n      <th\r\n        alternative\r\n        :colspan=2\r\n      >\r\n        <table style=\"width: 90%;\">\r\n          <tr>\r\n            <td class=\"text-left\">\r\n              <v-icon\r\n                color=\"green\"\r\n                :title=\"\r\n                  pluralize('{count} {argument:count}', {\r\n                    count: getFilteredItemsBy({\r\n                      alternative: alternativeId,\r\n                      favorable: true\r\n                    }).length\r\n                  })\r\n                \"\r\n              >\r\n                mdi-emoticon-happy-outline\r\n              </v-icon>\r\n            </td>\r\n            <td>\r\n              Attitude: {{ totalAcceptability[alternativeId] }}\r\n              <ScoreIcon\r\n                :alternative=\"alternativeId\"\r\n                :score=\"totalAcceptability[alternativeId]\"\r\n              />\r\n            </td>\r\n            <td class=\"text-right\">\r\n              <v-icon\r\n                color=\"red\"\r\n                :title=\"\r\n                  pluralize('{count} {argument:count}', {\r\n                    count: getFilteredItemsBy({\r\n                      alternative: alternativeId,\r\n                      favorable: false\r\n                    }).length\r\n                  })\r\n                \"\r\n              >\r\n                mdi-emoticon-sad-outline\r\n              </v-icon>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </th>\r\n    </template>\r\n  </tr>\r\n</template>\r\n\r\n<script>\r\n// import Acceptability from \"@/components/Acceptability.vue\";\r\nimport ScoreIcon from \"@/components/ScoreIcon.vue\";\r\nimport {\r\n  pluralize,\r\n  alternativesIds,\r\n  subOptionsIds,\r\n  getSubOptions,\r\n  getFilteredItemsBy,\r\n  getWeightedAcceptability,\r\n  getAcceptabilityFromAlternativeId,\r\n  getFilteredItems,\r\n  getAllItems,\r\n  state\r\n} from \"@/store\";\r\nimport { computed, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() {\r\n\r\n    return  {\r\n      state,\r\n\r\n      getAcceptabilityFromAlternativeId,\r\n      getFilteredItemsBy,\r\n      getWeightedAcceptability,\r\n      pluralize,\r\n\r\n      totalAcceptability: computed(() => {\r\n        return getWeightedAcceptability(getFilteredItems());\r\n      }),\r\n      alternativesIds: computed(() => alternativesIds()),\r\n      subOptionsIds: computed(() => subOptionsIds()),\r\n      getSubOptions: computed(() => getSubOptions()),\r\n      getFilteredItems: computed(() => getFilteredItems()),\r\n      getAllItems: computed(() => getAllItems())\r\n    }\r\n  },\r\n  \r\n  components: {\r\n    ScoreIcon\r\n  }\r\n});\r\n</script>\r\n\r\n<style>\r\n/* Footer sticky */\r\n.custom-table tfoot tr {\r\n  display: table-cells; \r\n  position: sticky;\r\n  bottom: 0;\r\n  background: white;\r\n  z-index: 1;\r\n  border-top: 2px solid #ccc;\r\n  padding: 8px;\r\n}\r\n</style>","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createVNode as _createVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_avatar = _resolveComponent(\"v-avatar\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n\n  return (_openBlock(), _createElementBlock(\"span\", null, [\n    (!_ctx.icon)\n      ? (_openBlock(), _createBlock(_component_v_icon, {\n          key: 0,\n          title: _ctx.title,\n          size: \"x-small\",\n          color: _ctx.getColorName(_ctx.getAcceptabilityName(_ctx.score))\n        }, {\n          default: _withCtx(() => _cache[0] || (_cache[0] = [\n            _createTextVNode(\"mdi-circle\")\n          ])),\n          _: 1\n        }, 8, [\"title\", \"color\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.icon)\n      ? (_openBlock(), _createBlock(_component_v_chip, {\n          key: 1,\n          variant: \"outlined\",\n          size: \"small\",\n          title: _ctx.title,\n          style: {\"padding\":\"0\"},\n          color: _ctx.getColorName(_ctx.getAcceptabilityName(_ctx.score))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_avatar, null, {\n              default: _withCtx(() => [\n                (_ctx.state.data && _ctx.state.data.alternatives[_ctx.alternative])\n                  ? (_openBlock(), _createBlock(_component_v_icon, {\n                      key: 0,\n                      size: \"medium\",\n                      color: _ctx.getColorName(_ctx.getAcceptabilityName(_ctx.score))\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(_ctx.state.data.alternatives[_ctx.alternative].icon), 1)\n                      ]),\n                      _: 1\n                    }, 8, [\"color\"]))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"title\", \"color\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","<template>\r\n  <span>\r\n    <v-icon\r\n      :title=\"title\"\r\n      v-if=\"!icon\"\r\n      size=\"x-small\"\r\n      :color=\"getColorName(getAcceptabilityName(score))\"\r\n      >mdi-circle</v-icon\r\n    >\r\n    <v-chip\r\n      variant=\"outlined\"\r\n      size=\"small\"\r\n      :title=\"title\"\r\n      v-if=\"icon\"\r\n      style=\"padding: 0;\"\r\n      :color=\"getColorName(getAcceptabilityName(score))\"\r\n    >\r\n      <v-avatar>\r\n        <v-icon size=\"medium\" v-if=\"state.data && state.data.alternatives[alternative]\" :color=\"getColorName(getAcceptabilityName(score))\">\r\n          {{ state.data.alternatives[alternative].icon }}\r\n        </v-icon>\r\n      </v-avatar>\r\n    </v-chip>\r\n  </span>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { getAcceptabilityName, state } from \"@/store\";\r\nimport { defineComponent, toRefs } from \"vue\";\r\nexport default defineComponent({\r\n\r\n\r\n  props: {\r\n    score: {\r\n      type: Number as () => number | null,\r\n      default: null\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    alternative: {\r\n      type: Number as () => number,\r\n      required: true\r\n    },\r\n    icon: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    \r\n\r\n    return {\r\n      \r\n      state,\r\n\r\n      getColorName: (name: string) => {\r\n        if (name === \"pro\") {\r\n          return \"green\";\r\n        } else if (name === \"con\") {\r\n          return \"red\";\r\n        } else if (name === \"mix\") {\r\n          return \"orange\";\r\n        } else {\r\n          // return \"rgba(0,0,0,.2)\";\r\n          return \"rgba(0,0,0,1)\";  // Opacit pleine\r\n        }\r\n      },\r\n      getAcceptabilityName\r\n    }\r\n  },\r\n  \r\n\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.acceptability {\r\n  &::before {\r\n    content: \"\\200b\";\r\n    width: 1em;\r\n    height: 1em;\r\n    background: #000;\r\n    display: inline-block;\r\n    border-radius: 50%;\r\n    vertical-align: middle;\r\n    clear: both;\r\n  }\r\n  &::after {\r\n    content: \" \"; /* 1 */\r\n    display: table; /* 2 */\r\n    clear: both;\r\n  }\r\n\r\n  margin: auto;\r\n}\r\n.pro::before {\r\n  background-color: green;\r\n}\r\n.con::before {\r\n  background-color: red;\r\n}\r\n.mix::before {\r\n  background-color: orange;\r\n}\r\n</style>\r\n","import { render } from \"./ScoreIcon.vue?vue&type=template&id=1c2616f7&ts=true\"\nimport script from \"./ScoreIcon.vue?vue&type=script&lang=ts\"\nexport * from \"./ScoreIcon.vue?vue&type=script&lang=ts\"\n\nimport \"./ScoreIcon.vue?vue&type=style&index=0&id=1c2616f7&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TableListFoot.vue?vue&type=template&id=415cafef\"\nimport script from \"./TableListFoot.vue?vue&type=script&lang=js\"\nexport * from \"./TableListFoot.vue?vue&type=script&lang=js\"\n\nimport \"./TableListFoot.vue?vue&type=style&index=0&id=415cafef&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { aim: \"\" }\nconst _hoisted_2 = { class: \"d-flex flex-column justify-space-between text-break\" }\nconst _hoisted_3 = { class: \"d-flex\" }\nconst _hoisted_4 = { class: \"mt-1 d-flex flex-wrap flex-grow-1\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Acceptability = _resolveComponent(\"Acceptability\")!\n  const _component_ItemsCount = _resolveComponent(\"ItemsCount\")!\n\n  return (_openBlock(), _createElementBlock(\"td\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, _toDisplayString(_ctx.aim.name), 1),\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n          return (_openBlock(), _createBlock(_component_Acceptability, {\n            key: 'aim-alternative-' + index + _ctx.aimsItems[alternativeId],\n            class: \"mb-1 mr-1\",\n            icon: true,\n            alternative: alternativeId,\n            items: _ctx.aimsItems[alternativeId]\n          }, null, 8, [\"alternative\", \"items\"]))\n        }), 128))\n      ])\n    ]),\n    _createVNode(_component_ItemsCount, { count: _ctx.totalItems }, null, 8, [\"count\"])\n  ]))\n}","<!-- <template>\r\n  <td aim>\r\n    <div class=\"d-flex flex-column justify-space-between text-break\">\r\n      <div class=\"d-flex\">{{aim.name}}</div>\r\n      <div class=\"mt-1 flex-grow-1 flex-wrap d-flex\">\r\n        <Acceptability\r\n          :key=\"'aim-alternative-'+index+aimsItems[alternativeId]\"\r\n          v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n          class=\"mb-1 mr-1\"\r\n          :icon=\"true\"\r\n          :alternative=\"alternativeId\"\r\n          :items=\"aimsItems[alternativeId]\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <ItemsCount :count=\"totalItems\" />\r\n  </td>\r\n</template> -->\r\n<template>\r\n  <td aim>\r\n    <div class=\"d-flex flex-column justify-space-between text-break\">\r\n      <div class=\"d-flex\">{{ aim.name }}</div>\r\n      <div class=\"mt-1 d-flex flex-wrap flex-grow-1\">\r\n        <Acceptability\r\n          v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n          :key=\"'aim-alternative-' + index + aimsItems[alternativeId]\"\r\n          class=\"mb-1 mr-1\"\r\n          :icon=\"true\"\r\n          :alternative=\"alternativeId\"\r\n          :items=\"aimsItems[alternativeId]\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <ItemsCount :count=\"totalItems\" />\r\n  </td>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport ItemsCount from \"@/components/ItemsCount.vue\";\r\nimport Acceptability from \"@/components/Acceptability.vue\";\r\nimport { getFilteredItemsBy, c_alternativesIds } from \"@/store\";\r\nimport { computed, defineComponent, PropType, ref, toRefs  } from \"vue\";\r\nimport { NormalizedAim, NormalizedArgument } from \"@/@types\";\r\nexport default defineComponent({\r\n\r\n\r\n  props: {\r\n    aim: {\r\n      type: Object as PropType<NormalizedAim>\r\n    }\r\n  },\r\n\r\n\r\n  setup(props) {\r\n\r\n    const {aim} = toRefs(props)\r\n\r\n  \r\n    const aimsItems = computed(() => {\r\n      let obj : {[key: string]: NormalizedArgument[]} = {};\r\n      c_alternativesIds.value.forEach(alternativeId => {\r\n        const items = getFilteredItemsBy({\r\n          alternative: alternativeId,\r\n          aim: aim.value.id\r\n        });\r\n\r\n        obj[alternativeId] = items;\r\n      });\r\n      return obj;\r\n    })\r\n\r\n    const totalItems = computed(() => {\r\n      return Object.values(aimsItems.value).reduce((acc, items) => {\r\n        return acc + items.length;\r\n      }, 0)\r\n      })\r\n\r\n    return {\r\n      \r\n\r\n      c_alternativesIds,\r\n      aimsItems,\r\n      totalItems,\r\n\r\n      getFilteredItemsBy\r\n\r\n    }\r\n\r\n  },\r\n  // props: [\"aim\"],\r\n  components: {\r\n    Acceptability,\r\n    ItemsCount\r\n  },\r\n  // computed: {\r\n    \r\n    \r\n    \r\n    // alternativeItems: function() {\r\n    //   return {\r\n    //     1: getFilteredItemsBy({\r\n    //       alternative: 1,\r\n    //       aim: this.aim.id\r\n    //     }),\r\n    //     2: getFilteredItemsBy({\r\n    //       alternative: 2,\r\n    //       aim: this.aim.id\r\n    //     })\r\n    //   };\r\n    // }\r\n  // },\r\n  // methods: {\r\n    \r\n  // }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n[aim] {\r\n  max-width: 200px;\r\n  width: 200px;\r\n}\r\n</style>\r\n\r\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n\n  return (_openBlock(), _createBlock(_component_v_chip, {\n    variant: \"outlined\",\n    size: \"x-small\",\n    color: \"default\",\n    title: \"title\"\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"strong\", null, _toDisplayString(_ctx.count), 1)\n    ]),\n    _: 1\n  }))\n}","<template>\r\n  <!-- <v-chip outlined x-small :title=\"title\">{{count}}</v-chip> -->\r\n  <v-chip\r\n    variant=\"outlined\"\r\n    size=\"x-small\"\r\n    color=\"default\"\r\n    title=\"title\"\r\n  >\r\n    <strong>{{count}}</strong>\r\n  </v-chip>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { pluralize } from \"@/store\";\r\nimport { computed, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  props: [\"count\"],\r\n\r\n  setup(props) {\r\n\r\n    return {\r\n      title: computed(() => {\r\n        return pluralize(\"{count} {argument:count}\", {\r\n          count: props.count\r\n        })\r\n      })\r\n    }\r\n\r\n  }\r\n  \r\n});\r\n</script>","import { render } from \"./ItemsCount.vue?vue&type=template&id=14b6a973&ts=true\"\nimport script from \"./ItemsCount.vue?vue&type=script&lang=ts\"\nexport * from \"./ItemsCount.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { computed } from 'vue'\r\nimport { NormalizedArgument } from '@/@types'\r\nimport { getAcceptabilityFromProCon, pluralize } from '@/store'\r\nimport ScoreIcon from './ScoreIcon.vue'\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Acceptability',\n  props: {\n    items: {},\n    alternative: {},\n    icon: { type: Boolean }\n  },\n  setup(__props: any) {\n\r\nconst props = __props\r\n\r\nconst acceptability = computed(() => getAcceptabilityFromProCon(props.items))\r\n\r\nconst scoreTitle = computed(() => {\r\n  return acceptability.value !== null\r\n    ? `${pluralize('{count} {argument:count}', {\r\n        count: props.items.length\r\n      })} - ${acceptability.value * 100}% pro`\r\n    : ''\r\n})\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(ScoreIcon, {\n    title: scoreTitle.value,\n    alternative: _ctx.alternative,\n    icon: _ctx.icon,\n    score: acceptability.value\n  }, null, 8, [\"title\", \"alternative\", \"icon\", \"score\"]))\n}\n}\n\n})","<!-- <template>\r\n  <ScoreIcon\r\n    :title=\"\r\n      `${\r\n        acceptability !== null\r\n          ? `${pluralize('{count} {argument:count}', {\r\n              count: items.length\r\n            })} - ${acceptability * 100}% pro`\r\n          : ''\r\n      }`\r\n    \"\r\n    :alternative=\"alternative\"\r\n    :icon=\"icon\"\r\n    :score=\"acceptability\"\r\n  />\r\n</template> -->\r\n<!-- <template>\r\n  <ScoreIcon\r\n    :title=\"acceptability !== null\r\n      ? `${pluralize('{count} {argument:count}', { count: items.length })} - ${acceptability * 100}% pro`\r\n      : ''\"\r\n    :alternative=\"alternative\"\r\n    :icon=\"icon\"\r\n    :score=\"acceptability\"\r\n  />\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport { NormalizedArgument } from \"@/@types\";\r\nimport { getAcceptabilityFromProCon, pluralize } from \"@/store\";\r\nimport { computed, defineComponent, PropType, toRefs } from \"vue\";\r\nimport ScoreIcon from \"./ScoreIcon.vue\";\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    items: {\r\n      type: Array as PropType<NormalizedArgument[]>\r\n    },\r\n    alternative: {\r\n      type: Number\r\n    },\r\n    icon: {\r\n      type: Boolean\r\n    }\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    const {items, alternative, icon} = toRefs(props)\r\n\r\n    return {\r\n      \r\n\r\n      acceptability: computed(() => getAcceptabilityFromProCon(items.value)),\r\n\r\n      getAcceptabilityFromProCon,\r\n      pluralize\r\n    \r\n    }\r\n  },\r\n\r\n  components: {\r\n    ScoreIcon\r\n  },\r\n  // props: [\"items\", \"alternative\", \"icon\"],\r\n  computed: {\r\n    \r\n  },\r\n  methods: {\r\n    \r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\"></style> -->\r\n<template>\r\n  <ScoreIcon\r\n    :title=\"scoreTitle\"\r\n    :alternative=\"alternative\"\r\n    :icon=\"icon\"\r\n    :score=\"acceptability\"\r\n  />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport { NormalizedArgument } from '@/@types'\r\nimport { getAcceptabilityFromProCon, pluralize } from '@/store'\r\nimport ScoreIcon from './ScoreIcon.vue'\r\n\r\nconst props = defineProps<{\r\n  items: NormalizedArgument[]\r\n  alternative: number\r\n  icon: boolean\r\n}>()\r\n\r\nconst acceptability = computed(() => getAcceptabilityFromProCon(props.items))\r\n\r\nconst scoreTitle = computed(() => {\r\n  return acceptability.value !== null\r\n    ? `${pluralize('{count} {argument:count}', {\r\n        count: props.items.length\r\n      })} - ${acceptability.value * 100}% pro`\r\n    : ''\r\n})\r\n</script>\r\n\r\n","import script from \"./Acceptability.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Acceptability.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./TableListAim.vue?vue&type=template&id=e9c21f8c&scoped=true&ts=true\"\nimport script from \"./TableListAim.vue?vue&type=script&lang=ts\"\nexport * from \"./TableListAim.vue?vue&type=script&lang=ts\"\n\nimport \"./TableListAim.vue?vue&type=style&index=0&id=e9c21f8c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e9c21f8c\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = [\"rowspan\"]\nconst _hoisted_2 = { class: \"d-flex flex-column justify-space-between text-break\" }\nconst _hoisted_3 = { class: \"mt-1 flex-grow-1 flex-wrap d-flex\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Acceptability = _resolveComponent(\"Acceptability\")!\n  const _component_ItemsCount = _resolveComponent(\"ItemsCount\")!\n\n  return (_openBlock(), _createElementBlock(\"td\", {\n    class: \"criterion\",\n    rowspan: _ctx.getAimsBy('criterion', _ctx.criterionId).length\n  }, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", null, _toDisplayString(_ctx.c_criterions[_ctx.aim.criterion].name), 1),\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n          return (_openBlock(), _createBlock(_component_Acceptability, {\n            key: `criterion-alternative-${index}-${_ctx.criterionItems[alternativeId]}`,\n            class: \"mb-1 mr-1\",\n            icon: true,\n            alternative: alternativeId,\n            items: _ctx.criterionItems[alternativeId]\n          }, null, 8, [\"alternative\", \"items\"]))\n        }), 128))\n      ])\n    ]),\n    _createVNode(_component_ItemsCount, { count: _ctx.totalItems }, null, 8, [\"count\"])\n  ], 8, _hoisted_1))\n}","<template>\r\n  <td class=\"criterion\" :rowspan=\"getAimsBy('criterion', criterionId).length\">\r\n    <div class=\"d-flex flex-column justify-space-between text-break\">\r\n      <div>{{ c_criterions[aim.criterion].name }}</div>\r\n      <div class=\"mt-1 flex-grow-1 flex-wrap d-flex\">\r\n        <Acceptability\r\n          v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n          :key=\"`criterion-alternative-${index}-${criterionItems[alternativeId]}`\"\r\n          class=\"mb-1 mr-1\"\r\n          :icon=\"true\"\r\n          :alternative=\"alternativeId\"\r\n          :items=\"criterionItems[alternativeId]\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <ItemsCount :count=\"totalItems\" />\r\n  </td>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed, PropType, toRefs } from \"vue\";\r\nimport { getFilteredItemsBy, getAimsBy, c_criterions, c_alternativesIds } from \"@/store\";\r\nimport ItemsCount from \"@/components/ItemsCount.vue\";\r\nimport Acceptability from \"@/components/Acceptability.vue\";\r\nimport type { NormalizedAim, NormalizedArgument } from \"@/@types\";\r\n\r\nexport default defineComponent({\r\n  name: \"TableListCriterion\",\r\n\r\n  components: {\r\n    Acceptability,\r\n    ItemsCount\r\n  },\r\n\r\n  props: {\r\n    aim: {\r\n      type: Object as PropType<NormalizedAim>,\r\n      required: true\r\n    },\r\n    criterionId: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  setup(props) {\r\n    const { criterionId } = toRefs(props);\r\n\r\n    const criterionItems = computed(() => {\r\n      const result: Record<string, NormalizedArgument[]> = {};\r\n      c_alternativesIds.value.forEach(alternativeId => {\r\n        result[alternativeId] = getFilteredItemsBy({\r\n          alternative: alternativeId,\r\n          criterion: criterionId.value\r\n        });\r\n      });\r\n      return result;\r\n    });\r\n\r\n    const totalItems = computed(() => {\r\n      return Object.values(criterionItems.value).reduce((acc, items) => acc + items.length, 0);\r\n    });\r\n\r\n    return {\r\n      c_criterions,\r\n      c_alternativesIds,\r\n      getAimsBy,\r\n      criterionItems,\r\n      totalItems\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.criterion {\r\n  vertical-align: top;\r\n  max-width: 150px;\r\n  width: 150px;\r\n}\r\n</style>\r\n","import { render } from \"./TableListCriterion.vue?vue&type=template&id=3bd9509d&scoped=true&ts=true\"\nimport script from \"./TableListCriterion.vue?vue&type=script&lang=ts\"\nexport * from \"./TableListCriterion.vue?vue&type=script&lang=ts\"\n\nimport \"./TableListCriterion.vue?vue&type=style&index=0&id=3bd9509d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3bd9509d\"]])\n\nexport default __exports__","<!-- <template>\r\n  <td\r\n    :class=\"getLabels().length ? '' : 'is-empty'\"\r\n    alternative\r\n    :key=\"`${alternativeId}${subOptionId}`\"\r\n  >\r\n  <template v-if=\"is1stLevelStakeholdersMode\">\r\n    \r\n    <TableListCard\r\n      v-for=\"(value, key) in getCardsByStakeholder()\"\r\n      :superset=\"{\r\n        criterion: criterionId,\r\n        aim: aim.id,\r\n        alternative: alternativeId,\r\n        subOption: subOptionId,\r\n        stakeholder: Number(key)\r\n      }\"\r\n      :key=\"`superset-${aim.id}-stakeholder-${key}`\"\r\n      \r\n    />\r\n  </template>\r\n  <template v-else>\r\n    <TableListCard\r\n      v-for=\"(label, index) in getLabels()\"\r\n      :superset=\"{\r\n        criterion: criterionId,\r\n        aim: aim.id,\r\n        alternative: alternativeId,\r\n        subOption: subOptionId,\r\n        property: label.property,\r\n        value: label.value,\r\n      }\"\r\n      :key=\"`superset-${label.property}-${label.value}-${index}`\"\r\n    />\r\n  </template>\r\n  </td>\r\n</template> -->\r\n<template>\r\n  <td\r\n    :class=\"getLabels().length ? '' : 'is-empty'\"\r\n    :key=\"`${alternativeId}-${subOptionId}`\"\r\n  >\r\n    <template v-if=\"is1stLevelStakeholdersMode\">\r\n      <TableListCard\r\n        v-for=\"(value, key) in getCardsByStakeholder()\"\r\n        :key=\"`superset-${aim.id}-stakeholder-${key}`\"\r\n        :superset=\"{\r\n          criterion: criterionId,\r\n          aim: aim.id,\r\n          alternative: alternativeId,\r\n          subOption: subOptionId,\r\n          stakeholder: Number(key),\r\n        }\"\r\n      />\r\n    </template>\r\n\r\n    <template v-else>\r\n      <TableListCard\r\n        v-for=\"(label, index) in getLabels()\"\r\n        :key=\"`superset-${label.property}-${label.value}-${index}`\"\r\n        :superset=\"{\r\n          criterion: criterionId,\r\n          aim: aim.id,\r\n          alternative: alternativeId,\r\n          subOption: subOptionId,\r\n          property: label.property,\r\n          value: label.value,\r\n        }\"\r\n      />\r\n    </template>\r\n  </td>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { getUniqueFilteredLabelsBy, getFilteredItemsBy, getFilteredItemsGroupByProp, is1stLevelStakeholdersMode } from \"@/store\";\r\nimport { sortBy } from \"lodash\";\r\nimport { defineComponent } from \"vue\";\r\nimport TableListCard from \"./TableListCard\";\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n      is1stLevelStakeholdersMode\r\n    }\r\n  },\r\n  components: {\r\n    TableListCard\r\n  },\r\n  methods: {\r\n    getLabels: function() {\r\n      return sortBy(\r\n        getUniqueFilteredLabelsBy({\r\n          alternative: this.alternativeId,\r\n          subOption: this.subOptionId,\r\n          aim: this.aim.id,\r\n          criterion: this.criterionId\r\n        }),\r\n        \"property\"\r\n      );\r\n    },\r\n    getItems: function() {\r\n\r\n      return getFilteredItemsBy({\r\n        alternative: this.alternativeId,\r\n          subOption: this.subOptionId,\r\n          aim: this.aim.id,\r\n          criterion: this.criterionId\r\n      })\r\n\r\n    },\r\n\r\n    getCardsByStakeholder: function() {\r\n      return getFilteredItemsGroupByProp({\r\n        alternative: this.alternativeId,\r\n          subOption: this.subOptionId,\r\n          aim: this.aim.id,\r\n          criterion: this.criterionId\r\n      }, \"stakeholder\")\r\n    }\r\n  },\r\n  props: [\"alternativeId\", \"subOptionId\", \"aim\", \"criterionId\"]\r\n});\r\n</script>\r\n","0+0<template>\r\n  <v-card elevation=\"1\" @click=\"toggleSuperset(superset)\" class=\"text-center mb-3\" max-width=\"344\">\r\n    \r\n    <!-- <v-btn\r\n      x-small\r\n      absolute\r\n      bottom\r\n      right\r\n      text\r\n      icon\r\n      :color=\"findSuperset(superset) ? 'green' : ''\"\r\n      @click=\"toggleSuperset(superset)\"\r\n    >\r\n      <v-icon>mdi-eye</v-icon>\r\n    </v-btn>-->\r\n    <v-container>\r\n      <div>\r\n        <b v-if=\"is1stLevelStakeholdersMode\">\r\n          <Highlighter :searchWords=\"[state.searchInput]\" :textToHighlight=\"getStakeholderName(superset.stakeholder) ?? ''\"/>\r\n        </b>\r\n        <b v-else>\r\n          <Highlighter :searchWords=\"[state.searchInput]\" :textToHighlight=\"superset.property ?? ''\"/>\r\n        </b>\r\n      </div>\r\n      <div :class=\"[superset.subOption === 1 ? 'text-success' : 'text-error']\">\r\n        <Highlighter :searchWords=\"[state.searchInput]\" :textToHighlight=\"superset.value ?? ''\"/>\r\n      </div>\r\n        <v-chip\r\n          variant=\"outlined\"\r\n          size=\"x-small\"\r\n          color=\"default\"\r\n        >\r\n          {{ items.length }}\r\n        </v-chip>\r\n\r\n      <!-- <small>\r\n        <b>{{ items.length > 1 ? `${items.length} arguments` : `${items.length} argument`}}</b>\r\n      </small>-->\r\n      <!-- <ul>\r\n      <li :key=\"'item-' + index\" v-for=\"(item, index) in supersetItems\">\r\n        {{ item.assertion }}\r\n        <br />\r\n        <br />\r\n      </li>\r\n      </ul>-->\r\n    </v-container>\r\n\r\n  <div class=\"d-flex\">\r\n    <div class=\"card-compare-btn\">\r\n      <v-btn\r\n        v-if=\"!findSuperset(superset)\"\r\n        @click.stop=\"addSupersetInSelection(superset)\"\r\n        variant=\"text\"\r\n        icon\r\n        size=\"small\"\r\n      >\r\n        <v-icon size=\"x-small\">mdi-plus-circle-outline</v-icon>\r\n      </v-btn>\r\n      <v-btn\r\n        v-if=\"findSuperset(superset)\"\r\n        @click.stop=\"removeSupersetInSelection(superset)\"\r\n        variant=\"text\"\r\n        icon\r\n        size=\"small\"\r\n        color=\"secondary\"\r\n      >\r\n        <v-icon size=\"x-small\">mdi-plus-circle</v-icon>\r\n      </v-btn>\r\n\r\n    </div>\r\n      <small v-if=\"condition\" class=\"ml-auto mr-2 mb-1 text-right\" style=\"text-overflow: ellipsis;display: block;overflow: hidden;width: calc(100% - 4em);white-space: nowrap;\">{{condition}}</small>\r\n  </div>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  state,\r\n  getItemsBy,\r\n  toggleSuperset,\r\n  findSuperset,\r\n  addSupersetInSelection,\r\n  removeSupersetInSelection,\r\n  getStakeholderName,\r\n  is1stLevelStakeholdersMode\r\n} from \"@/store\";\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n      state,\r\n      addSupersetInSelection,\r\n    removeSupersetInSelection,\r\n    getItemsBy,\r\n    toggleSuperset,\r\n    findSuperset,\r\n    getStakeholderName,\r\n    is1stLevelStakeholdersMode\r\n    }  \r\n  },\r\n  \r\n  computed: {\r\n    items: function() {\r\n      if (is1stLevelStakeholdersMode.value) {\r\n        return getItemsBy({\r\n          stakeholder: this.superset.stakeholder,\r\n          alternative: this.superset.alternative,\r\n          subOption: this.superset.subOption,\r\n          aim: this.superset.aim,\r\n          criterion: this.superset.criterion\r\n        });\r\n      } else {\r\n        return getItemsBy({\r\n          property: this.superset.property,\r\n          value: this.superset.value,\r\n          alternative: this.superset.alternative,\r\n          subOption: this.superset.subOption,\r\n          aim: this.superset.aim,\r\n          criterion: this.superset.criterion\r\n        });\r\n      }\r\n      \r\n    },\r\n    condition: function() {\r\n      return this.items.reduce((acc, item) => {\r\n        if (item.condition) {\r\n          if (acc.length) {\r\n            return acc + \", \" + item.condition\r\n          } else {\r\n            return acc + item.condition\r\n          }\r\n        } else {\r\n          return acc\r\n        }\r\n      }, \"\")\r\n    }\r\n    // supersetItems: function() {\r\n    //   return getItemsBy({\r\n    //     alternative: this.superset.alternative,\r\n    //     subOption: this.superset.subOption,\r\n    //     aim: this.superset.aim,\r\n    //     criterion: this.superset.criterion,\r\n    //     property: this.superset.property,\r\n    //     value: this.superset.value\r\n    //   });\r\n    //}\r\n  },\r\n  props: [\"superset\", \"label\"]\r\n});\r\n</script>\r\n\r\n<style>\r\n.card {\r\n  padding: 1em;\r\n  margin-bottom: 1em;\r\n}\r\n</style>","import { render } from \"./TableListCard.vue?vue&type=template&id=202d3c51\"\nimport script from \"./TableListCard.vue?vue&type=script&lang=js\"\nexport * from \"./TableListCard.vue?vue&type=script&lang=js\"\n\nimport \"./TableListCard.vue?vue&type=style&index=0&id=202d3c51&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TableListAlternative.vue?vue&type=template&id=04c26cba\"\nimport script from \"./TableListAlternative.vue?vue&type=script&lang=js\"\nexport * from \"./TableListAlternative.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TableList.vue?vue&type=template&id=4494bf44&scoped=true&ts=true\"\nimport script from \"./TableList.vue?vue&type=script&lang=ts\"\nexport * from \"./TableList.vue?vue&type=script&lang=ts\"\n\nimport \"./TableList.vue?vue&type=style&index=0&id=4494bf44&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4494bf44\"]])\n\nexport default __exports__","<template>\r\n  <v-card class=\"superset-card\">\r\n    <div class=\"d-flex\" style=\"background: rgba(0,0,0,.7);position: relative;\">\r\n      <div\r\n        class=\"card-background\"\r\n        :style=\"`background-image: url(${getImagePath(state.data.alternatives[superset.alternative].image)}); background-size: cover;`\"\r\n      ></div>\r\n\r\n      <div class=\"mr-auto zi-front\">\r\n        <div class=\"subtitle-2 text-white text-uppercase\">\r\n          {{ getAlternativeName(superset.alternative) }}\r\n        </div>\r\n        <div class=\"font-weight-light text-white text-caption\">\r\n          {{ getCriterionName(superset.criterion) }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mx-4 my-4 zi-front\">\r\n        <v-icon style=\"color: white;\" v-if=\"state.data\">\r\n          {{ state.data.alternatives[superset.alternative].icon }}\r\n        </v-icon>\r\n      </div>\r\n    </div>\r\n\r\n    <v-card-text>\r\n      <div class=\"mt-0 mb-3 d-flex\">\r\n        <span class=\"mr-auto\">{{ getAimName(superset.aim) }}</span>\r\n        <v-icon class=\"ml-2\" size=\"small\">mdi-bullseye-arrow</v-icon>\r\n      </div>\r\n\r\n      <div>\r\n        <div style=\"margin-bottom: -.33em;\" class=\"title d-flex text-primary\">\r\n          <b v-if=\"is1stLevelStakeholdersMode\">{{ getStakeholderName(superset.stakeholder) }}</b>\r\n          <template v-else>\r\n            <b>{{ superset.property }}</b>\r\n            <v-icon\r\n              :class=\"['ml-auto', superset.subOption === 1 ? 'text-success' : 'text-error']\"\r\n            >\r\n              {{ state.icons.subOption[superset.subOption] }}\r\n            </v-icon>\r\n          </template>\r\n        </div>\r\n\r\n        <div\r\n          v-if=\"!is1stLevelStakeholdersMode\"\r\n          :class=\"['title font-weight-regular', superset.subOption === 1 ? 'text-success' : 'text-error']\"\r\n        >\r\n          {{ superset.value }}\r\n        </div>\r\n      </div>\r\n    </v-card-text>\r\n\r\n    <v-divider class=\"my-1\" />\r\n\r\n    <v-card-text>\r\n      <v-list-subheader class=\"px-0\" v-text=\"`Arguments (${supersetItems.length})`\" />\r\n\r\n      <div\r\n        v-for=\"(items, index) in duplicateGroups\"\r\n        :key=\"index\"\r\n        class=\"mb-5 no-mb-last\"\r\n      >\r\n        <SupersetCardItem\r\n          :item=\"items[0]\"\r\n          :index=\"index\"\r\n          :duplicatesCount=\"items.length\"\r\n        />\r\n      </div>\r\n    </v-card-text>\r\n\r\n    <v-divider />\r\n\r\n    <template #actions>\r\n      <v-btn\r\n        v-if=\"!findSuperset(superset) && !compare\"\r\n        @click=\"addSupersetInSelection(superset)\"\r\n        class=\"mr-auto\"\r\n        variant=\"text\"\r\n        icon=\"mdi-plus-circle-outline\"\r\n      />\r\n\r\n      <v-btn\r\n        v-if=\"findSuperset(superset)\"\r\n        :class=\"compare ? 'mx-auto' : 'mr-auto'\"\r\n        color=\"secondary\"\r\n        @click=\"removeSupersetInSelection(superset)\"\r\n        variant=\"text\"\r\n      >\r\n        <v-icon>\r\n          {{ compare ? \"mdi-close\" : \"mdi-plus-circle\" }}\r\n        </v-icon>\r\n      </v-btn>\r\n\r\n      <v-btn\r\n        v-if=\"!compare\"\r\n        @click=\"unselectSuperset(superset)\"\r\n        variant=\"text\"\r\n        icon=\"mdi-close\"\r\n      />\r\n    </template>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getItemsBy,\r\n  getCriterionById,\r\n  getStakeholderById,\r\n  getAlternativeName,\r\n  getCriterionName,\r\n  getStakeholderName,\r\n  getAimName,\r\n  addSupersetInSelection,\r\n  unselectSuperset,\r\n  removeSupersetInSelection,\r\n  findSuperset,\r\n  state,\r\n  formatDate,\r\n  getImagePath,\r\n  getDuplicatesGroups,\r\n  is1stLevelStakeholdersMode\r\n} from \"@/store\";\r\n\r\nimport SupersetCardItem from './SupersetCardItem.vue';\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  components: { SupersetCardItem },\r\n  props: [\"superset\", \"compare\"],\r\n\r\n  setup() {\r\n    return {\r\n      state,\r\n      getImagePath,\r\n      addSupersetInSelection,\r\n      removeSupersetInSelection,\r\n      unselectSuperset,\r\n      findSuperset,\r\n      getItemsBy,\r\n      getCriterionById,\r\n      getAlternativeName,\r\n      getCriterionName,\r\n      getStakeholderName,\r\n      getAimName,\r\n      formatDate,\r\n      is1stLevelStakeholdersMode\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    supersetItems() {\r\n      return getItemsBy(this.superset);\r\n    },\r\n    duplicateGroups() {\r\n      return getDuplicatesGroups(this.supersetItems);\r\n    }\r\n  }\r\n});\r\n</script>\r\n\r\n<style>\r\n.card-background {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-size: cover;\r\n  background-position: center center;\r\n  opacity: 0.3;\r\n  z-index: 0;\r\n}\r\n.zi-front {\r\n  z-index: 1;\r\n  position: relative;\r\n}\r\n</style>\r\n","<template>\r\n    <v-card :ripple=\"false\" outlined @click=\"openMe(index)\">\r\n          <v-container fluid>\r\n            <div class=\"d-flex\">\r\n              <div class=\"mb-5 overflow-hidden\">\r\n                <div :class=\"`caption ${!open[index] ? 'text-truncate' : ''}`\">\r\n                  <b v-if=\"is1stLevelStakeholdersMode\">{{item.property}}</b>\r\n                  <b v-else>by {{ getStakeholderName(item.stakeholder) }}</b>\r\n                </div>\r\n                <div :class=\"`caption ${!open[index] ? 'text-truncate' : ''}`\">\r\n                  <span :class=\"\r\n            `font-weight-regular\t  ${\r\n              item.subOption === 1 ? 'text-success' : 'text-error'\r\n            }`\r\n          \" v-if=\"is1stLevelStakeholdersMode\">{{item.value}}</span>\r\n                  <em v-else>in {{ item.source }}</em>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"ml-auto flex-shrink-0\">\r\n                <!-- <v-chip outlined x-small>{{duplicatesCount}}</v-chip> -->\r\n                <v-chip\r\n                  variant=\"outlined\"\r\n                  size=\"x-small\"\r\n                >\r\n                  {{duplicatesCount}}\r\n                </v-chip>\r\n                <v-btn icon>\r\n                  <v-icon>\r\n                    {{\r\n                    open[index] ? \"mdi-chevron-up\" : \"mdi-chevron-down\"\r\n                    }}\r\n                  </v-icon>\r\n                </v-btn>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"text-secondary body-1\" v-if=\"!open[index]\">{{ item.assertion }}</div>\r\n\r\n            \r\n            \r\n\r\n            <v-expand-transition>\r\n              <div v-show=\"open[index]\">\r\n                <div class=\"overline\">Explanation</div>\r\n                <p class=\"mb-5 body-1\">{{ item.explanation }}</p>\r\n\r\n                <div class=\"overline\">Assertion</div>\r\n                <p class=\"body-1 text-secondary\">{{ item.assertion }}</p>\r\n\r\n                <div v-if=\"item.tagInitiator\" class=\"mt-4\">\r\n                  <div class=\"overline\">Tag Initiator</div>\r\n                  <v-chip\r\n                    size=\"x-small\"\r\n                    variant=\"outlined\"\r\n                    color=\"black\"\r\n                    class=\"font-weight-medium\"\r\n                  >\r\n                    {{ item.tagInitiator }}\r\n                  </v-chip>\r\n                </div>\r\n\r\n                <div v-if=\"item.date\" class=\"text-right text-secondary caption mt-4\">\r\n                  <small>{{ formatDate(item.date) }}</small>\r\n                </div>\r\n              </div>\r\n            </v-expand-transition>\r\n          </v-container>\r\n        </v-card>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport {\r\n  getItemsBy,\r\n  getCriterionById,\r\n  getStakeholderById,\r\n  getAlternativeName,\r\n  getCriterionName,\r\n  getStakeholderName,\r\n  getAimName,\r\n  addSupersetInSelection,\r\n  unselectSuperset,\r\n  removeSupersetInSelection,\r\n  findSuperset,\r\n  state,\r\n  formatDate,\r\n  getImagePath,\r\n  is1stLevelStakeholdersMode\r\n} from \"@/store\";\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  setup() {\r\n    return {\r\n      state,\r\n      getImagePath,\r\n      openMe(index) {\r\n        this.open[index] = !this.open[index];\r\n      },\r\n      addSupersetInSelection,\r\n      removeSupersetInSelection,\r\n      unselectSuperset,\r\n      findSuperset,\r\n      getItemsBy,\r\n      getCriterionById,\r\n      getAlternativeName,\r\n      getCriterionName,\r\n      getStakeholderName,\r\n      getAimName,\r\n      formatDate,\r\n      is1stLevelStakeholdersMode\r\n    }\r\n  },\r\n  props: [\"item\", \"index\", \"duplicatesCount\"],\r\n  data: () => ({\r\n    open: [false],\r\n    \r\n  }),\r\n  computed: {\r\n    supersetItems: function() {\r\n      return getItemsBy(this.superset);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.open = this.supersetItems.map(() => false);\r\n  }\r\n});\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import { render } from \"./SupersetCardItem.vue?vue&type=template&id=a8f128d4\"\nimport script from \"./SupersetCardItem.vue?vue&type=script&lang=js\"\nexport * from \"./SupersetCardItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./SupersetCard.vue?vue&type=template&id=2d78d61e\"\nimport script from \"./SupersetCard.vue?vue&type=script&lang=js\"\nexport * from \"./SupersetCard.vue?vue&type=script&lang=js\"\n\nimport \"./SupersetCard.vue?vue&type=style&index=0&id=2d78d61e&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Main.vue?vue&type=template&id=be73d66c&scoped=true\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=be73d66c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-be73d66c\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, withCtx as _withCtx, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Header = _resolveComponent(\"Header\")!\n  const _component_PropertyListRow = _resolveComponent(\"PropertyListRow\")!\n  const _component_v_table = _resolveComponent(\"v-table\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n\n  return (_ctx.state.project && _ctx.state.data)\n    ? (_openBlock(), _createBlock(_component_v_container, {\n        key: 0,\n        style: {\"max-width\":\"1400px\"}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_Header),\n          _createVNode(_component_v_card, { class: \"mt-2\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_table, {\n                class: \"properties-table\",\n                style: {\"min-width\":\"1000px\"}\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"thead\", null, [\n                    _createElementVNode(\"tr\", null, [\n                      _cache[0] || (_cache[0] = _createElementVNode(\"th\", { class: \"text-start\" }, \"Property\", -1)),\n                      _cache[1] || (_cache[1] = _createElementVNode(\"th\", { class: \"text-start\" }, \"Criterion\", -1)),\n                      _cache[2] || (_cache[2] = _createElementVNode(\"th\", { class: \"text-start\" }, \"Aim\", -1)),\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n                        return (_openBlock(), _createElementBlock(\"th\", {\n                          key: index,\n                          class: \"text-center\"\n                        }, _toDisplayString(_ctx.getAlternativeById(alternativeId).name), 1))\n                      }), 128))\n                    ])\n                  ]),\n                  _createElementVNode(\"tbody\", null, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getNormalizedItemsByUniqueItemProp('property'), (items, property) => {\n                      return (_openBlock(), _createBlock(_component_PropertyListRow, {\n                        key: property,\n                        items: items,\n                        property: property\n                      }, null, 8, [\"items\", \"property\"]))\n                    }), 128))\n                  ])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }))\n    : _createCommentVNode(\"\", true)\n}","<template>\r\n  <v-container v-if=\"state.project && state.data\" style=\"max-width: 1400px;\">\r\n    <Header />\r\n\r\n    <v-card class=\"mt-2\">\r\n      <v-table class=\"properties-table\" style=\"min-width: 1000px;\">\r\n        <thead>\r\n          <tr>\r\n            <th class=\"text-start\">Property</th>\r\n            <th class=\"text-start\">Criterion</th>\r\n            <th class=\"text-start\">Aim</th>\r\n            <th\r\n              v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n              :key=\"index\"\r\n              class=\"text-center\"\r\n            >\r\n              {{ getAlternativeById(alternativeId).name }}\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <PropertyListRow\r\n            v-for=\"(items, property) in getNormalizedItemsByUniqueItemProp('property')\"\r\n            :key=\"property\"\r\n            :items=\"items\"\r\n            :property=\"property\"\r\n          />\r\n        </tbody>\r\n      </v-table>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n\r\n\r\n<script lang=\"ts\">\r\nimport PropertyListRow from \"@/components/PropertiesList/PropertyListRow.vue\";\r\nimport Header from \"@/components/Header.vue\";\r\nimport {\r\n  getNormalizedItemsByUniqueItemProp,\r\n  getAlternativeById,\r\n  c_alternativesIds,\r\n  state\r\n} from \"@/store\";\r\nimport { defineComponent, ref } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  // props: {\r\n  //   id: Number\r\n  // },\r\n\r\n  setup(props) {\r\n\r\n    const height = ref<number | null>(null)\r\n\r\n\r\n    return {\r\n      state,\r\n      height,\r\n\r\n      c_alternativesIds,\r\n\r\n\r\n      setHeight: () => {\r\n        const tableFilters = document.querySelector(\"[table-filters]\");\r\n\r\n        if (tableFilters) {\r\n          const tableFiltersRect = tableFilters.getBoundingClientRect();\r\n          height.value = window.innerHeight - tableFiltersRect.bottom - 24;\r\n        }\r\n      },\r\n      getNormalizedItemsByUniqueItemProp,\r\n      getAlternativeById\r\n    }\r\n\r\n  },\r\n  \r\n  // data: () => ({\r\n  //   state,\r\n  //   height: \"\"\r\n  // }),\r\n  components: {\r\n    Header,\r\n    PropertyListRow\r\n  },\r\n  \r\n  mounted() {\r\n    this.$nextTick(this.setHeight);\r\n  },\r\n  updated() {\r\n    this.$nextTick(this.setHeight);\r\n  },\r\n  created() {\r\n    window.addEventListener(\"resize\", this.setHeight);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"resize\", this.setHeight);\r\n  },\r\n  // methods: {\r\n    \r\n  // },\r\n  // props: [\"id\"]\r\n});\r\n</script>\r\n\r\n<style>\r\n.v-data-table thead th {\r\n  text-transform: uppercase;\r\n}\r\n</style>\r\n","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = [\"name\", \"id\"]\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-grey\"\n}\nconst _hoisted_3 = {\n  key: 0,\n  class: \"text-grey\"\n}\nconst _hoisted_4 = {\n  key: 0,\n  class: \"text-center\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Highlighter = _resolveComponent(\"Highlighter\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_PropertiesListCriterion = _resolveComponent(\"PropertiesListCriterion\")!\n  const _component_Acceptability = _resolveComponent(\"Acceptability\")!\n\n  return (_openBlock(), _createElementBlock(\"tr\", {\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.hasMany ? _ctx.showDetails = !_ctx.showDetails : '')),\n    key: `${_ctx.property}-${_ctx.criterionItems.length}-${_ctx.aimItems.length}`\n  }, [\n    _createElementVNode(\"td\", null, [\n      _createElementVNode(\"a\", {\n        name: `${_ctx.property}`,\n        id: _ctx.property\n      }, null, 8, _hoisted_1),\n      _createElementVNode(\"b\", null, [\n        _createVNode(_component_Highlighter, {\n          searchWords: [_ctx.state.searchInput],\n          textToHighlight: _ctx.property ?? ''\n        }, null, 8, [\"searchWords\", \"textToHighlight\"])\n      ]),\n      (_ctx.criterionItems.length > 1 || _ctx.aimItems.length > 1)\n        ? (_openBlock(), _createBlock(_component_v_icon, { key: 0 }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.showDetails ? 'mdi-chevron-up' : 'mdi-chevron-down'), 1)\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"td\", null, [\n      (_ctx.criterionItems.length > 1 && !_ctx.showDetails)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString(_ctx.criterionItems.length) + \" criteria \", 1))\n        : _createCommentVNode(\"\", true),\n      (_ctx.criterionItems.length <= 1 || (_ctx.criterionItems.length > 1 && _ctx.showDetails))\n        ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.criterionItems, (item, index) => {\n            return (_openBlock(), _createBlock(_component_PropertiesListCriterion, {\n              key: index,\n              item: item,\n              row: _ctx.getAimsCountFromAimsAndCriterion(_ctx.getAimsFromItems(_ctx.items), item.criterion)\n            }, null, 8, [\"item\", \"row\"]))\n          }), 128))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"td\", null, [\n      (_ctx.aimItems.length > 1 && !_ctx.showDetails)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString(_ctx.aimItems.length) + \" aims\", 1))\n        : _createCommentVNode(\"\", true),\n      (_ctx.aimItems.length <= 1 || (_ctx.aimItems.length > 1 && _ctx.showDetails))\n        ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.aimItems, (argument, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", { key: index }, _toDisplayString(_ctx.getAimById(argument.aim).name), 1))\n          }), 128))\n        : _createCommentVNode(\"\", true)\n    ]),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n      return (_openBlock(), _createElementBlock(\"td\", { key: index }, [\n        (!_ctx.showDetails)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n              _createVNode(_component_Acceptability, {\n                items: _ctx.filterItemsBy(_ctx.items, {\r\n                alternative: alternativeId\r\n            }),\n                alternative: alternativeId,\n                icon: false\n              }, null, 8, [\"items\", \"alternative\"])\n            ]))\n          : _createCommentVNode(\"\", true),\n        (_ctx.showDetails)\n          ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.aimItems, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                class: \"text-center\",\n                key: index\n              }, [\n                _createVNode(_component_Acceptability, {\n                  items: _ctx.filterItemsBy(_ctx.items, {\r\n                alternative: alternativeId,\r\n                aim: item.aim\r\n            }),\n                  alternative: alternativeId,\n                  icon: false\n                }, null, 8, [\"items\", \"alternative\"])\n              ]))\n            }), 128))\n          : _createCommentVNode(\"\", true)\n      ]))\n    }), 128))\n  ]))\n}","<template>\r\n  <tr\r\n    @click=\"hasMany ? showDetails = !showDetails : ''\"\r\n    :key=\"`${property}-${criterionItems.length}-${aimItems.length}`\"\r\n  >\r\n    <td>\r\n      <a :name=\"`${property}`\" :id=\"property\"></a>\r\n      <b>\r\n        <Highlighter :searchWords=\"[state.searchInput]\":textToHighlight=\"property ?? ''\"/>\r\n      </b>\r\n      <v-icon\r\n        v-if=\"criterionItems.length > 1 || aimItems.length > 1\"\r\n      >{{showDetails ? 'mdi-chevron-up' : 'mdi-chevron-down'}}</v-icon>\r\n    </td>\r\n\r\n    <td>\r\n      <template v-if=\"criterionItems.length > 1 && !showDetails\">\r\n        <div class=\"text-grey\">\r\n          {{criterionItems.length}} criteria\r\n        </div>\r\n      </template>\r\n      <template v-if=\"criterionItems.length <= 1 || (criterionItems.length > 1 && showDetails)\">\r\n        <template v-for=\"(item, index) in criterionItems\" :key=\"index\">\r\n          <PropertiesListCriterion\r\n            :item=\"item\"\r\n            :row=\"getAimsCountFromAimsAndCriterion(getAimsFromItems(items), item.criterion)\"\r\n          />\r\n        </template>\r\n      </template>\r\n    </td>\r\n\r\n    <td>\r\n      <template v-if=\"aimItems.length > 1 && !showDetails\">\r\n        <div class=\"text-grey\">{{aimItems.length}} aims</div>\r\n      </template>\r\n      <template v-if=\"aimItems.length <= 1 || (aimItems.length > 1 && showDetails)\">\r\n        <div :key=\"index\" v-for=\"(argument, index) in aimItems\">{{ getAimById(argument.aim).name }}</div>\r\n      </template>\r\n    </td>\r\n\r\n    <td :key=\"index\" v-for=\"(alternativeId, index) in c_alternativesIds\">\r\n      <template v-if=\"!showDetails\">\r\n        <div class=\"text-center\">\r\n          <Acceptability\r\n            :items=\"filterItemsBy(items, {\r\n                alternative: alternativeId\r\n            })\"\r\n            :alternative=\"alternativeId\"\r\n            :icon=\"false\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <template v-if=\"showDetails\">\r\n        <div class=\"text-center\" :key=\"index\" v-for=\"(item, index) in aimItems\">\r\n          <Acceptability\r\n            :items=\"filterItemsBy(items, {\r\n                alternative: alternativeId,\r\n                aim: item.aim\r\n            })\"\r\n            :alternative=\"alternativeId\"\r\n            :icon=\"false\"             \r\n          />\r\n        </div>\r\n      </template>\r\n    </td>\r\n  </tr>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { sortBy, uniqBy, countBy } from \"lodash\";\r\nimport {\r\n  getAcceptabilityFromProCon,\r\n  getSubOptionById,\r\n  getCriterionById,\r\n  getAimById,\r\n  normalizeByAlternative,\r\n  filterItemsBy,\r\n  c_alternativesIds,\r\n  getAimsCountFromAimsAndCriterion,\r\n  getAimsFromItems,\r\n  state\r\n} from \"@/store\";\r\nimport { NormalizedArgument } from \"@/@types\";\r\n\r\nimport Acceptability from \"@/components/Acceptability.vue\";\r\nimport PropertiesListCriterion from \"@/components/PropertiesList/PropertiesListCriterion.vue\";\r\nimport { computed, defineComponent, ref, toRefs, PropType } from \"vue\";\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    items: Array as PropType<NormalizedArgument[]>,\r\n    property: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    const {items, property} = toRefs(props);\r\n\r\n    const showDetails = ref(false);\r\n\r\n    const criterionItems = computed(() => {\r\n      return uniqBy(items.value, \"criterion\");\r\n    });\r\n    const aimItems = computed(() => {\r\n      return uniqBy(items.value, \"aim\");\r\n    });\r\n\r\n    const hasMany = computed(() => {\r\n      return criterionItems.value.length > 1 || aimItems.value.length > 1;\r\n    });\r\n\r\n    return {\r\n      state,\r\n      c_alternativesIds,\r\n      showDetails,\r\n\r\n      criterionItems,\r\n      aimItems,\r\n      hasMany,\r\n\r\n      getAimsCountFromAimsAndCriterion,\r\n      getAimsFromItems,\r\n      countBy,\r\n      sortBy,\r\n      getSubOptionById,\r\n      getCriterionById,\r\n      getAimById,\r\n      getAcceptabilityFromProCon,\r\n      normalizeByAlternative,\r\n      filterItemsBy,\r\n      uniqBy\r\n    }\r\n  },\r\n  components: {\r\n    Acceptability,\r\n    PropertiesListCriterion\r\n  }\r\n  \r\n});\r\n</script>","import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", null, _toDisplayString(_ctx.getCriterionById(_ctx.item.criterion).name), 1))\n}","<template>\r\n  <div>\r\n    {{ getCriterionById(item.criterion).name }}\r\n    <!-- <br :key=\"n\" v-for=\"n in row\" /> -->\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { getCriterionById } from \"@/store\";\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    item: {},\r\n    row: {}\r\n  },\r\n\r\n  setup() {\r\n\r\n    return {\r\n      getCriterionById\r\n    }\r\n\r\n  },\r\n  // props: [\"item\", \"row\"],\r\n  \r\n});\r\n</script>","import { render } from \"./PropertiesListCriterion.vue?vue&type=template&id=19131206&ts=true\"\nimport script from \"./PropertiesListCriterion.vue?vue&type=script&lang=ts\"\nexport * from \"./PropertiesListCriterion.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PropertyListRow.vue?vue&type=template&id=0f1a0305&ts=true\"\nimport script from \"./PropertyListRow.vue?vue&type=script&lang=ts\"\nexport * from \"./PropertyListRow.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Properties.vue?vue&type=template&id=02caa798&ts=true\"\nimport script from \"./Properties.vue?vue&type=script&lang=ts\"\nexport * from \"./Properties.vue?vue&type=script&lang=ts\"\n\nimport \"./Properties.vue?vue&type=style&index=0&id=02caa798&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, withCtx as _withCtx, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { style: {\"overflow-x\":\"auto\"} }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Header = _resolveComponent(\"Header\")!\n  const _component_StakeholderListRow = _resolveComponent(\"StakeholderListRow\")!\n  const _component_v_table = _resolveComponent(\"v-table\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n\n  return (_ctx.state.project && _ctx.state.data)\n    ? (_openBlock(), _createBlock(_component_v_container, {\n        key: 0,\n        style: {\"max-width\":\"1400px\"}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_Header),\n          _createVNode(_component_v_card, { class: \"mt-2\" }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_1, [\n                _createVNode(_component_v_table, {\n                  class: \"properties-table\",\n                  style: {\"min-width\":\"1000px\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"thead\", null, [\n                      _createElementVNode(\"tr\", null, [\n                        _cache[0] || (_cache[0] = _createElementVNode(\"th\", { class: \"text-start\" }, \"Criterion\", -1)),\n                        _cache[1] || (_cache[1] = _createElementVNode(\"th\", { class: \"text-start\" }, \"Aim\", -1)),\n                        _cache[2] || (_cache[2] = _createElementVNode(\"th\", { class: \"text-start\" }, \"Stakeholder\", -1)),\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, index) => {\n                          return (_openBlock(), _createElementBlock(\"th\", {\n                            key: `alt-${index}`,\n                            class: \"text-center\"\n                          }, _toDisplayString(_ctx.getAlternativeById(alternativeId).name), 1))\n                        }), 128))\n                      ])\n                    ]),\n                    _createElementVNode(\"tbody\", null, [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getNormalizedItemsByUniqueItemProp('criterion'), (items, criterionId) => {\n                        return (_openBlock(), _createBlock(_component_StakeholderListRow, {\n                          key: `crit-${criterionId}`,\n                          items: items,\n                          property: _ctx.getCriterionName(criterionId)\n                        }, null, 8, [\"items\", \"property\"]))\n                      }), 128))\n                    ])\n                  ]),\n                  _: 1\n                })\n              ])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }))\n    : _createCommentVNode(\"\", true)\n}","<template>\r\n  <v-container v-if=\"state.project && state.data\" style=\"max-width: 1400px;\">\r\n    <Header />\r\n\r\n    <v-card class=\"mt-2\">\r\n      <!-- Conteneur scrollable horizontalement -->\r\n      <div style=\"overflow-x: auto;\">\r\n        <v-table class=\"properties-table\" style=\"min-width: 1000px;\">\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-start\">Criterion</th>\r\n              <th class=\"text-start\">Aim</th>\r\n              <th class=\"text-start\">Stakeholder</th>\r\n              <th\r\n                v-for=\"(alternativeId, index) in c_alternativesIds\"\r\n                :key=\"`alt-${index}`\"\r\n                class=\"text-center\"\r\n              >\r\n                {{ getAlternativeById(alternativeId).name }}\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <StakeholderListRow\r\n              v-for=\"(items, criterionId) in getNormalizedItemsByUniqueItemProp('criterion')\"\r\n              :key=\"`crit-${criterionId}`\"\r\n              :items=\"items\"\r\n              :property=\"getCriterionName(criterionId)\"\r\n            />\r\n          </tbody>\r\n        </v-table>\r\n      </div>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport StakeholderListRow from \"@/components/StakeholderList/StakeholderListRow.vue\";\r\nimport Header from \"@/components/Header.vue\";\r\nimport {\r\n  getNormalizedItemsByUniqueItemProp,\r\n  getAlternativeById,\r\n  c_alternativesIds,\r\n  state,\r\n  getCriterionName\r\n} from \"@/store\";\r\nimport { defineComponent, ref, onMounted, onUpdated, onBeforeUnmount } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    id: Number\r\n  },\r\n  setup() {\r\n    const height = ref<number | null>(null);\r\n\r\n    const setHeight = () => {\r\n      const tableFilters = document.querySelector(\"[table-filters]\");\r\n      if (tableFilters) {\r\n        const tableFiltersRect = tableFilters.getBoundingClientRect();\r\n        height.value = window.innerHeight - tableFiltersRect.bottom - 24;\r\n      }\r\n    };\r\n\r\n    onMounted(() => {\r\n      setHeight();\r\n      window.addEventListener(\"resize\", setHeight);\r\n    });\r\n\r\n    onUpdated(setHeight);\r\n\r\n    onBeforeUnmount(() => {\r\n      window.removeEventListener(\"resize\", setHeight);\r\n    });\r\n\r\n    return {\r\n      state,\r\n      height,\r\n      c_alternativesIds,\r\n      getCriterionName,\r\n      getNormalizedItemsByUniqueItemProp,\r\n      getAlternativeById,\r\n      setHeight\r\n    };\r\n  },\r\n  components: {\r\n    Header,\r\n    StakeholderListRow\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.v-data-table thead th {\r\n  text-transform: uppercase;\r\n}\r\n</style>\r\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = [\"rowspan\"]\nconst _hoisted_2 = [\"name\", \"id\"]\nconst _hoisted_3 = [\"rowspan\"]\nconst _hoisted_4 = { stakeholder: \"\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Highlighter = _resolveComponent(\"Highlighter\")!\n  const _component_Acceptability = _resolveComponent(\"Acceptability\")!\n\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.aimItems, (aimItem, aimIndex) => {\n    return (_openBlock(), _createElementBlock(_Fragment, null, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.uniqBy(\r\n            _ctx.filterItemsBy(_ctx.items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          ), (stakeholderItem, stakeholderIndex) => {\n        return (_openBlock(), _createElementBlock(\"tr\", {\n          key: `stakeholder-${stakeholderIndex}-${aimIndex}`\n        }, [\n          (aimIndex === 0 && stakeholderIndex === 0)\n            ? (_openBlock(), _createElementBlock(\"td\", {\n                key: 0,\n                criterion: \"\",\n                rowspan: _ctx.uniqBy(\r\n            _ctx.filterItemsBy(_ctx.items, {\r\n              criterion: aimItem.criterion\r\n            }),\r\n            'stakeholder'\r\n          ).length * _ctx.aimItems.length\n              }, [\n                _createElementVNode(\"a\", {\n                  name: `${_ctx.property}`,\n                  id: _ctx.property\n                }, null, 8, _hoisted_2),\n                _createVNode(_component_Highlighter, {\n                  class: \"inline-block\",\n                  searchWords: [_ctx.state.searchInput],\n                  \"text-to-highlight\": _ctx.property\n                }, null, 8, [\"searchWords\", \"text-to-highlight\"])\n              ], 8, _hoisted_1))\n            : _createCommentVNode(\"\", true),\n          (stakeholderIndex === 0)\n            ? (_openBlock(), _createElementBlock(\"td\", {\n                key: 1,\n                aim: \"\",\n                rowspan: _ctx.uniqBy(\r\n            _ctx.filterItemsBy(_ctx.items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          ).length\n              }, [\n                _createElementVNode(\"span\", null, _toDisplayString(_ctx.getAimById(aimItem.aim).name), 1)\n              ], 8, _hoisted_3))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"td\", _hoisted_4, [\n            _createElementVNode(\"b\", null, _toDisplayString(_ctx.getStakeholderName(stakeholderItem.stakeholder)), 1)\n          ]),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.c_alternativesIds, (alternativeId, alternativeIndex) => {\n            return (_openBlock(), _createElementBlock(\"td\", {\n              class: \"text-center\",\n              alternative: \"\",\n              key: alternativeIndex\n            }, [\n              _createVNode(_component_Acceptability, {\n                items: \r\n              _ctx.filterItemsBy(_ctx.items, {\r\n                alternative: alternativeId,\r\n                aim: aimItem.aim,\r\n                stakeholder: stakeholderItem.stakeholder\r\n              })\r\n            ,\n                alternative: alternativeId,\n                icon: false\n              }, null, 8, [\"items\", \"alternative\"])\n            ]))\n          }), 128))\n        ]))\n      }), 128))\n    ], 64))\n  }), 256))\n}","<template>\r\n\r\n<!-- <tbody> -->\r\n      <template v-for=\"(aimItem, aimIndex) in aimItems\"  >\r\n      <tr v-for=\"(stakeholderItem, stakeholderIndex) in uniqBy(\r\n            filterItemsBy(items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          )\" :key=\"`stakeholder-${stakeholderIndex}-${aimIndex}`\" >\r\n\r\n        \r\n        <td criterion v-if=\"aimIndex === 0 && stakeholderIndex === 0\" :rowspan=\"uniqBy(\r\n            filterItemsBy(items, {\r\n              criterion: aimItem.criterion\r\n            }),\r\n            'stakeholder'\r\n          ).length * aimItems.length\" >\r\n          \r\n\r\n          <a :name=\"`${property}`\" :id=\"property\"></a>\r\n          <Highlighter class=\"inline-block\" :searchWords=\"[state.searchInput]\" :text-to-highlight=\"property\" />\r\n\r\n        </td>\r\n\r\n        <td aim v-if=\"stakeholderIndex === 0\" :rowspan=\"uniqBy(\r\n            filterItemsBy(items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          ).length\">\r\n\r\n          \r\n          <span >{{\r\n              getAimById(aimItem.aim).name\r\n            }}</span>\r\n        </td>\r\n\r\n        <td stakeholder>\r\n          <b>{{ getStakeholderName(stakeholderItem.stakeholder) }}</b>\r\n        </td>\r\n\r\n        <td class=\"text-center\" alternative :key=\"alternativeIndex\" v-for=\"(alternativeId, alternativeIndex) in c_alternativesIds\">\r\n      \r\n        \r\n          <Acceptability\r\n            :items=\"\r\n              filterItemsBy(items, {\r\n                alternative: alternativeId,\r\n                aim: aimItem.aim,\r\n                stakeholder: stakeholderItem.stakeholder\r\n              })\r\n            \"\r\n            :alternative=\"alternativeId\"\r\n            :icon=\"false\"          \r\n          />\r\n        \r\n      \r\n        </td>\r\n\r\n\r\n\r\n      </tr>\r\n      </template>\r\n\r\n    \r\n<!-- \r\n    <td criterion>\r\n      <a :name=\"`${property}`\" :id=\"property\"></a>\r\n      <text-highlight class=\"inline-block\" :searchWords\"[state.searchInput]\">{{\r\n        property\r\n      }}</text-highlight>\r\n    </td>\r\n\r\n    <td aim>\r\n      <template>\r\n        <div :key=\"index\" v-for=\"(argument, index) in aimItems\">\r\n          <div\r\n            class=\"inline-block\"\r\n            :key=\"index + stakeholderItem + stakeholderIndex\"\r\n            v-for=\"(stakeholderItem, stakeholderIndex) in uniqBy(\r\n              filterItemsBy(items, {\r\n                aim: argument.aim\r\n              }),\r\n              'stakeholder'\r\n            )\"\r\n          >\r\n            <span v-if=\"stakeholderIndex !== 0\" v-html=\"'&#8291;'\"></span>\r\n            <span v-if=\"stakeholderIndex === 0\">{{\r\n              getAimById(argument.aim).name\r\n            }}</span>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </td>\r\n\r\n    <td stakeholder>\r\n      <template v-for=\"(aimItem, aimIndex) in aimItems\">\r\n        <template>\r\n          <div\r\n            class=\"inline-block\"\r\n            :key=\"index + aimItem + aimIndex\"\r\n            v-for=\"(stakeholderItem, index) in uniqBy(\r\n              filterItemsBy(items, {\r\n                aim: aimItem.aim\r\n                \r\n              }),\r\n              'stakeholder'\r\n            )\"\r\n          >\r\n            <b>{{ getStakeholderName(stakeholderItem.stakeholder) }}</b>\r\n          </div>\r\n        </template>\r\n      </template>\r\n    </td>\r\n\r\n    <td alternative :key=\"index\" v-for=\"(alternativeId, index) in c_alternativesIds\">\r\n      <template v-for=\"(aimItem, aimIndex) in aimItems\">\r\n        <div\r\n          class=\"text-center\"\r\n          :key=\"index + aimItem + aimIndex\"\r\n          v-for=\"(stakeholderItem, index) in uniqBy(\r\n            filterItemsBy(items, {\r\n              aim: aimItem.aim\r\n            }),\r\n            'stakeholder'\r\n          )\"\r\n        >\r\n          <Acceptability\r\n            :items=\"\r\n              filterItemsBy(items, {\r\n                alternative: alternativeId,\r\n                aim: aimItem.aim,\r\n                stakeholder: stakeholderItem.stakeholder\r\n              })\r\n            \"\r\n          />\r\n        </div>\r\n      </template>\r\n    </td> -->\r\n  \r\n<!-- </tbody> -->\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { sortBy, uniqBy, countBy } from \"lodash\";\r\nimport {\r\n  getAcceptabilityFromProCon,\r\n  getSubOptionById,\r\n  getCriterionById,\r\n  getAimById,\r\n  normalizeByAlternative,\r\n  filterItemsBy,\r\n  c_alternativesIds,\r\n  getAimsCountFromAimsAndCriterion,\r\n  getAimsFromItems,\r\n  state,\r\n  getStakeholderName,\r\n} from \"@/store\";\r\nimport { NormalizedArgument } from \"@/@types\";\r\n\r\nimport Acceptability from \"@/components/Acceptability.vue\";\r\nimport PropertiesListCriterion from \"@/components/PropertiesList/PropertiesListCriterion.vue\";\r\nimport { computed, defineComponent, toRefs, PropType } from \"vue\";\r\nexport default defineComponent({\r\n\r\n  props: {\r\n    items: Array as PropType<NormalizedArgument[]>,\r\n    property: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  setup(props) {\r\n\r\n    const {items, property} = toRefs(props)\r\n\r\n    const stakeholderItems = computed(() => {\r\n      return uniqBy(items.value, \"stakeholder\");\r\n    })\r\n\r\n    const criterionItems = computed(() => {\r\n      return uniqBy(items.value, \"criterion\");\r\n    })\r\n\r\n    const aimItems = computed(() => {\r\n      return uniqBy(items.value, \"aim\");\r\n    })\r\n    \r\n    console.log(\"aimItems\")\r\n    console.log(aimItems.value)\r\n\r\n    return {\r\n      state,\r\n\r\n      c_alternativesIds,\r\n\r\n      stakeholderItems,\r\n      criterionItems,\r\n      aimItems,\r\n      \r\n      hasMany: computed(() => {\r\n        return criterionItems.value.length > 1 || aimItems.value.length > 1;\r\n      }),\r\n\r\n\r\n      getStakeholderName,\r\n      getAimsCountFromAimsAndCriterion,\r\n      getAimsFromItems,\r\n      countBy,\r\n      sortBy,\r\n      getSubOptionById,\r\n      getCriterionById,\r\n      getAimById,\r\n      getAcceptabilityFromProCon,\r\n      normalizeByAlternative,\r\n      filterItemsBy,\r\n      uniqBy\r\n        \r\n    }\r\n\r\n  },\r\n\r\n  // data: () => ({\r\n  //   state,\r\n  //   showDetails: false\r\n  // }),\r\n  // computed: {\r\n    \r\n  // },\r\n  components: {\r\n    Acceptability\r\n  },\r\n  // props: [\"items\", \"property\"],\r\n  // methods: {\r\n    \r\n  // }\r\n});\r\n</script>\r\n","import { render } from \"./StakeholderListRow.vue?vue&type=template&id=78452ed3&ts=true\"\nimport script from \"./StakeholderListRow.vue?vue&type=script&lang=ts\"\nexport * from \"./StakeholderListRow.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Stakeholders.vue?vue&type=template&id=4259a901&scoped=true&ts=true\"\nimport script from \"./Stakeholders.vue?vue&type=script&lang=ts\"\nexport * from \"./Stakeholders.vue?vue&type=script&lang=ts\"\n\nimport \"./Stakeholders.vue?vue&type=style&index=0&id=4259a901&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4259a901\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, vShow as _vShow, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"view-container\"\n}\nconst _hoisted_2 = { class: \"header-section\" }\nconst _hoisted_3 = { class: \"chart-main\" }\nconst _hoisted_4 = { class: \"chart-container\" }\nconst _hoisted_5 = { class: \"chart-container\" }\nconst _hoisted_6 = { class: \"chart-container\" }\nconst _hoisted_7 = { class: \"chart-container\" }\nconst _hoisted_8 = { class: \"chart-container\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Header = _resolveComponent(\"Header\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_divider = _resolveComponent(\"v-divider\")!\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_list = _resolveComponent(\"v-list\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_ArgumentCount = _resolveComponent(\"ArgumentCount\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_BarChart = _resolveComponent(\"BarChart\")!\n  const _component_CircleChart = _resolveComponent(\"CircleChart\")!\n  const _component_AlternativesComparison = _resolveComponent(\"AlternativesComparison\")!\n  const _component_CrosstabChart = _resolveComponent(\"CrosstabChart\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n\n  return (_ctx.state.project && _ctx.state.data)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(_component_v_container, { style: {\"max-width\":\"1600px\"} }, {\n            default: _withCtx(() => [\n              _createVNode(_component_Header, { chartSelectedChart: _ctx.selectedChart }, null, 8, [\"chartSelectedChart\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createVNode(_component_v_container, {\n            fluid: \"\",\n            class: \"fill-height chart-layout\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_row, {\n                class: \"fill-height chart-row\",\n                \"no-gutters\": \"\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_col, {\n                    cols: \"12\",\n                    sm: \"3\",\n                    md: \"2\",\n                    class: \"sidebar\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_card, {\n                        class: \"sidebar-card\",\n                        elevation: \"2\"\n                      }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_v_card_title, { class: \"text-h6 d-flex align-center pa-4\" }, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_v_icon, {\n                                icon: \"mdi-chart-bar\",\n                                class: \"mr-2\",\n                                color: \"primary\"\n                              }),\n                              _cache[0] || (_cache[0] = _createTextVNode(\" Charts \"))\n                            ]),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_divider),\n                          _createVNode(_component_v_list, {\n                            class: \"chart-menu\",\n                            density: \"compact\"\n                          }, {\n                            default: _withCtx(() => [\n                              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.charts, (chart) => {\n                                return (_openBlock(), _createBlock(_component_v_list_item, {\n                                  key: chart.id,\n                                  active: _ctx.selectedChart === chart.id,\n                                  onClick: ($event: any) => (_ctx.selectedChart = chart.id),\n                                  class: \"chart-menu-item\"\n                                }, {\n                                  prepend: _withCtx(() => [\n                                    _createVNode(_component_v_icon, {\n                                      icon: chart.icon,\n                                      size: \"small\",\n                                      class: \"mr-2\"\n                                    }, null, 8, [\"icon\"])\n                                  ]),\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_list_item_title, { class: \"text-caption\" }, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(_toDisplayString(chart.label), 1)\n                                      ]),\n                                      _: 2\n                                    }, 1024)\n                                  ]),\n                                  _: 2\n                                }, 1032, [\"active\", \"onClick\"]))\n                              }), 128))\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_v_col, {\n                    cols: \"12\",\n                    sm: \"9\",\n                    md: \"10\",\n                    class: \"content-area\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_card, {\n                        class: \"content-card\",\n                        elevation: \"2\"\n                      }, {\n                        default: _withCtx(() => [\n                          _withDirectives(_createElementVNode(\"div\", _hoisted_4, [\n                            _createVNode(_component_v_card_title, { class: \"text-h5 d-flex align-center pa-6 pb-0\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_icon, {\n                                  icon: \"mdi-counter\",\n                                  class: \"mr-2\",\n                                  color: \"primary\"\n                                }),\n                                _cache[1] || (_cache[1] = _createTextVNode(\" Argument Count \"))\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_component_v_card_text, { class: \"pa-6\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_ArgumentCount, {\n                                  arguments: _ctx.filteredItems,\n                                  selectedAlternative: _ctx.state.chartFilters?.selectedAlternative,\n                                  analysisPer: _ctx.state.chartFilters?.analysisPer,\n                                  alternativesMap: _ctx.state.data?.alternatives || null,\n                                  criterionsMap: _ctx.state.data?.criterions || null,\n                                  stakeholdersMap: _ctx.state.data?.stakeholders || null\n                                }, null, 8, [\"arguments\", \"selectedAlternative\", \"analysisPer\", \"alternativesMap\", \"criterionsMap\", \"stakeholdersMap\"])\n                              ]),\n                              _: 1\n                            })\n                          ], 512), [\n                            [_vShow, _ctx.selectedChart === 'argument-count']\n                          ]),\n                          _withDirectives(_createElementVNode(\"div\", _hoisted_5, [\n                            _createVNode(_component_v_card_title, { class: \"text-h5 d-flex align-center pa-6 pb-0\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_icon, {\n                                  icon: \"mdi-chart-bar\",\n                                  class: \"mr-2\",\n                                  color: \"primary\"\n                                }),\n                                _cache[2] || (_cache[2] = _createTextVNode(\" Bar Chart of Argument Repartition \"))\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_component_v_card_text, { class: \"pa-6\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_BarChart, {\n                                  arguments: _ctx.filteredItems,\n                                  selectedAlternative: _ctx.state.chartFilters?.selectedAlternative,\n                                  analysisPer: _ctx.state.chartFilters?.analysisPer,\n                                  selectedCriterion: _ctx.state.chartFilters?.selectedCriterion,\n                                  alternativesMap: _ctx.state.data?.alternatives || null,\n                                  criterionsMap: _ctx.state.data?.criterions || null,\n                                  stakeholdersMap: _ctx.state.data?.stakeholders || null\n                                }, null, 8, [\"arguments\", \"selectedAlternative\", \"analysisPer\", \"selectedCriterion\", \"alternativesMap\", \"criterionsMap\", \"stakeholdersMap\"])\n                              ]),\n                              _: 1\n                            })\n                          ], 512), [\n                            [_vShow, _ctx.selectedChart === 'bar-chart']\n                          ]),\n                          _withDirectives(_createElementVNode(\"div\", _hoisted_6, [\n                            _createVNode(_component_v_card_title, { class: \"text-h5 d-flex align-center pa-6 pb-0\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_icon, {\n                                  icon: \"mdi-chart-bubble\",\n                                  class: \"mr-2\",\n                                  color: \"primary\"\n                                }),\n                                _cache[3] || (_cache[3] = _createTextVNode(\" Circle Chart of Argument Repartition \"))\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_component_v_card_text, { class: \"pa-6\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_CircleChart, {\n                                  arguments: _ctx.filteredItems,\n                                  criterionsMap: _ctx.state.data?.criterions || null,\n                                  selectedCriterion: _ctx.state.chartFilters?.selectedCriterion,\n                                  analysisPer: _ctx.state.chartFilters?.analysisPer,\n                                  stakeholdersMap: _ctx.state.data?.stakeholders || null,\n                                  selectedAlternative: _ctx.state.chartFilters?.selectedAlternative,\n                                  alternativesMap: _ctx.state.data?.alternatives || null\n                                }, null, 8, [\"arguments\", \"criterionsMap\", \"selectedCriterion\", \"analysisPer\", \"stakeholdersMap\", \"selectedAlternative\", \"alternativesMap\"])\n                              ]),\n                              _: 1\n                            })\n                          ], 512), [\n                            [_vShow, _ctx.selectedChart === 'pie-chart']\n                          ]),\n                          _withDirectives(_createElementVNode(\"div\", _hoisted_7, [\n                            _createVNode(_component_v_card_title, { class: \"text-h5 d-flex align-center pa-6 pb-0\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_icon, {\n                                  icon: \"mdi-compare\",\n                                  class: \"mr-2\",\n                                  color: \"primary\"\n                                }),\n                                _cache[4] || (_cache[4] = _createTextVNode(\" Comparison of Alternatives \"))\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_component_v_card_text, { class: \"pa-6\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_AlternativesComparison, {\n                                  arguments: _ctx.filteredItems,\n                                  criterionsMap: _ctx.state.data?.criterions || null,\n                                  alternativesMap: _ctx.state.data?.alternatives || null,\n                                  stakeholdersMap: _ctx.state.data?.stakeholders || null,\n                                  analysisPer: _ctx.state.chartFilters?.analysisPer\n                                }, null, 8, [\"arguments\", \"criterionsMap\", \"alternativesMap\", \"stakeholdersMap\", \"analysisPer\"])\n                              ]),\n                              _: 1\n                            })\n                          ], 512), [\n                            [_vShow, _ctx.selectedChart === 'alternatives-comparison']\n                          ]),\n                          _withDirectives(_createElementVNode(\"div\", _hoisted_8, [\n                            _createVNode(_component_v_card_title, { class: \"text-h5 d-flex align-center pa-6 pb-0\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_icon, {\n                                  icon: \"mdi-table\",\n                                  class: \"mr-2\",\n                                  color: \"primary\"\n                                }),\n                                _cache[5] || (_cache[5] = _createTextVNode(\" Cross-tab: Criteria x Stakeholders \"))\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_component_v_card_text, { class: \"pa-6\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_CrosstabChart, {\n                                  arguments: _ctx.filteredItemsForCrosstab,\n                                  criterionsMap: _ctx.state.data?.criterions || null,\n                                  stakeholdersMap: _ctx.state.data?.stakeholders || null\n                                }, null, 8, [\"arguments\", \"criterionsMap\", \"stakeholdersMap\"])\n                              ]),\n                              _: 1\n                            })\n                          ], 512), [\n                            [_vShow, _ctx.selectedChart === 'crosstab']\n                          ])\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ])\n      ]))\n    : _createCommentVNode(\"\", true)\n}","<!--\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900\r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use,\r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\".\r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability.\r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or\r\ndata to be ensured and,  more generally, to use and operate it in the\r\nsame conditions as regards security.\r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n-->\r\n<template>\r\n  <div class=\"view-container\" v-if=\"state.project && state.data\">\r\n    <!-- Header -->\r\n    <div class=\"header-section\">\r\n      <v-container style=\"max-width: 1600px;\">\r\n        <Header :chartSelectedChart=\"selectedChart\" />\r\n      </v-container>\r\n    </div>\r\n\r\n    <!-- Main Chart Section -->\r\n    <div class=\"chart-main\">\r\n      <v-container fluid class=\"fill-height chart-layout\">\r\n        <v-row class=\"fill-height chart-row\" no-gutters>\r\n          <!-- Sidebar Menu -->\r\n          <v-col cols=\"12\" sm=\"3\" md=\"2\" class=\"sidebar\">\r\n            <v-card class=\"sidebar-card\" elevation=\"2\">\r\n              <v-card-title class=\"text-h6 d-flex align-center pa-4\">\r\n                <v-icon icon=\"mdi-chart-bar\" class=\"mr-2\" color=\"primary\" />\r\n                Charts\r\n              </v-card-title>\r\n              <v-divider />\r\n              <v-list class=\"chart-menu\" density=\"compact\">\r\n                <v-list-item\r\n                  v-for=\"chart in charts\"\r\n                  :key=\"chart.id\"\r\n                  :active=\"selectedChart === chart.id\"\r\n                  @click=\"selectedChart = chart.id\"\r\n                  class=\"chart-menu-item\"\r\n                >\r\n                  <template #prepend>\r\n                    <v-icon :icon=\"chart.icon\" size=\"small\" class=\"mr-2\" />\r\n                  </template>\r\n                  <v-list-item-title class=\"text-caption\">\r\n                    {{ chart.label }}\r\n                  </v-list-item-title>\r\n                </v-list-item>\r\n              </v-list>\r\n            </v-card>\r\n          </v-col>\r\n\r\n          <!-- Main Content Area -->\r\n          <v-col cols=\"12\" sm=\"9\" md=\"10\" class=\"content-area\">\r\n            <v-card class=\"content-card\" elevation=\"2\">\r\n              <!-- 1. Argument Count -->\r\n              <div v-show=\"selectedChart === 'argument-count'\" class=\"chart-container\">\r\n                <v-card-title class=\"text-h5 d-flex align-center pa-6 pb-0\">\r\n                  <v-icon icon=\"mdi-counter\" class=\"mr-2\" color=\"primary\" />\r\n                  Argument Count\r\n                </v-card-title>\r\n                <v-card-text class=\"pa-6\">\r\n                  <ArgumentCount\r\n                    :arguments=\"filteredItems\"\r\n                    :selectedAlternative=\"state.chartFilters?.selectedAlternative\"\r\n                    :analysisPer=\"state.chartFilters?.analysisPer\"\r\n                    :alternativesMap=\"state.data?.alternatives || null\"\r\n                    :criterionsMap=\"state.data?.criterions || null\"\r\n                    :stakeholdersMap=\"state.data?.stakeholders || null\"\r\n                  />\r\n                </v-card-text>\r\n              </div>\r\n\r\n              <!-- 2. Bar Chart of Argument Repartition -->\r\n              <div v-show=\"selectedChart === 'bar-chart'\" class=\"chart-container\">\r\n                <v-card-title class=\"text-h5 d-flex align-center pa-6 pb-0\">\r\n                  <v-icon icon=\"mdi-chart-bar\" class=\"mr-2\" color=\"primary\" />\r\n                  Bar Chart of Argument Repartition\r\n                </v-card-title>\r\n                <v-card-text class=\"pa-6\">\r\n                  <BarChart\r\n                    :arguments=\"filteredItems\"\r\n                    :selectedAlternative=\"state.chartFilters?.selectedAlternative\"\r\n                    :analysisPer=\"state.chartFilters?.analysisPer\"\r\n                    :selectedCriterion=\"state.chartFilters?.selectedCriterion\"\r\n                    :alternativesMap=\"state.data?.alternatives || null\"\r\n                    :criterionsMap=\"state.data?.criterions || null\"\r\n                    :stakeholdersMap=\"state.data?.stakeholders || null\"\r\n                  />\r\n                </v-card-text>\r\n              </div>\r\n\r\n              <!-- 3. Circle Chart of Argument Repartition -->\r\n              <div v-show=\"selectedChart === 'pie-chart'\" class=\"chart-container\">\r\n                <v-card-title class=\"text-h5 d-flex align-center pa-6 pb-0\">\r\n                  <v-icon icon=\"mdi-chart-bubble\" class=\"mr-2\" color=\"primary\" />\r\n                  Circle Chart of Argument Repartition\r\n                </v-card-title>\r\n                <v-card-text class=\"pa-6\">\r\n                  <CircleChart\r\n                    :arguments=\"filteredItems\"\r\n                    :criterionsMap=\"state.data?.criterions || null\"\r\n                    :selectedCriterion=\"state.chartFilters?.selectedCriterion\"\r\n                    :analysisPer=\"state.chartFilters?.analysisPer\"\r\n                    :stakeholdersMap=\"state.data?.stakeholders || null\"\r\n                    :selectedAlternative=\"state.chartFilters?.selectedAlternative\"\r\n                    :alternativesMap=\"state.data?.alternatives || null\"\r\n                  />\r\n                </v-card-text>\r\n              </div>\r\n\r\n              <!-- 4. Comparison of Alternatives -->\r\n              <div v-show=\"selectedChart === 'alternatives-comparison'\" class=\"chart-container\">\r\n                <v-card-title class=\"text-h5 d-flex align-center pa-6 pb-0\">\r\n                  <v-icon icon=\"mdi-compare\" class=\"mr-2\" color=\"primary\" />\r\n                  Comparison of Alternatives\r\n                </v-card-title>\r\n                <v-card-text class=\"pa-6\">\r\n                  <AlternativesComparison\r\n                    :arguments=\"filteredItems\"\r\n                    :criterionsMap=\"state.data?.criterions || null\"\r\n                    :alternativesMap=\"state.data?.alternatives || null\"\r\n                    :stakeholdersMap=\"state.data?.stakeholders || null\"\r\n                    :analysisPer=\"state.chartFilters?.analysisPer\"\r\n                  />\r\n                </v-card-text>\r\n              </div>\r\n\r\n              <!-- 5. Circle chart of argument repartition -->\r\n              <div v-show=\"selectedChart === 'crosstab'\" class=\"chart-container\">\r\n                <v-card-title class=\"text-h5 d-flex align-center pa-6 pb-0\">\r\n                  <v-icon icon=\"mdi-table\" class=\"mr-2\" color=\"primary\" />\r\n                  Cross-tab: Criteria x Stakeholders\r\n                </v-card-title>\r\n                <v-card-text class=\"pa-6\">\r\n                  <CrosstabChart \r\n                    :arguments=\"filteredItemsForCrosstab\"\r\n                    :criterionsMap=\"state.data?.criterions || null\"\r\n                    :stakeholdersMap=\"state.data?.stakeholders || null\"\r\n                  />\r\n                </v-card-text>\r\n              </div>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed, ref } from \"vue\";\r\nimport Header from \"@/components/Header.vue\";\r\nimport ArgumentCount from \"@/components/Charts/ArgumentCount.vue\";\r\nimport BarChart from \"@/components/Charts/BarChart.vue\";\r\nimport CircleChart from \"@/components/Charts/CircleChart.vue\";\r\nimport AlternativesComparison from \"@/components/Charts/AlternativesComparison.vue\";\r\nimport CrosstabChart from \"@/components/Charts/CrosstabChart.vue\";\r\nimport {\r\n  state,\r\n  getAllItems,\r\n  getFilteredItems,\r\n} from \"@/store\";\r\n\r\ninterface ChartOption {\r\n  id: string;\r\n  label: string;\r\n  icon: string;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"ChartView\",\r\n  components: {\r\n    Header,\r\n    ArgumentCount,\r\n    BarChart,\r\n    CircleChart,\r\n    AlternativesComparison,\r\n    CrosstabChart,\r\n  },\r\n  setup() {\r\n    const selectedChart = ref<string>(\"argument-count\");\r\n\r\n    const charts: ChartOption[] = [\r\n      { id: \"argument-count\", label: \"Argument Count\", icon: \"mdi-counter\" },\r\n      { id: \"bar-chart\", label: \"Bar Chart\", icon: \"mdi-chart-bar\" },\r\n      { id: \"pie-chart\", label: \"Circle Chart\", icon: \"mdi-chart-bubble\" },\r\n      { id: \"alternatives-comparison\", label: \"Alternatives Comparison\", icon: \"mdi-compare\" },\r\n      { id: \"crosstab\", label: \"Cross-tab: Criteria x Stakeholders\", icon: \"mdi-table\" },\r\n    ];\r\n\r\n    const filteredItems = computed(() => {\r\n      return getFilteredItems();\r\n    });\r\n\r\n    // Filtered items for crosstab chart (needs alternative filtering)\r\n    const filteredItemsForCrosstab = computed(() => {\r\n      let items = getFilteredItems();\r\n      \r\n      // Filter by selected alternative if one is selected\r\n      const selectedAlt = state.chartFilters?.selectedAlternative;\r\n      if (selectedAlt && state.data?.alternatives) {\r\n        // Find the alternative by name\r\n        const alternativesMap = state.data.alternatives;\r\n        const alternative = Object.values(alternativesMap).find(alt => alt.name === selectedAlt);\r\n        if (alternative) {\r\n          // @ts-ignore\r\n          items = items.filter(item => item.alternative === alternative.id);\r\n        }\r\n      }\r\n      \r\n      return items;\r\n    });\r\n\r\n    return {\r\n      state,\r\n      selectedChart,\r\n      charts,\r\n      filteredItems,\r\n      filteredItemsForCrosstab,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.view-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n}\r\n\r\n.header-section {\r\n  flex-shrink: 0;\r\n  background-color: white;\r\n}\r\n\r\n.chart-main {\r\n  flex-grow: 1;\r\n  background-color: #f5f5f5;\r\n  overflow: auto;\r\n  display: flex;\r\n}\r\n\r\n.chart-layout {\r\n  height: 100%;\r\n  max-width: 100%;\r\n}\r\n\r\n.chart-row {\r\n  height: 100%;\r\n}\r\n\r\n.sidebar {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n\r\n.sidebar-card {\r\n  height: 100%;\r\n  overflow-y: auto;\r\n}\r\n\r\n.chart-menu {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.chart-menu-item {\r\n  border-radius: 8px;\r\n  margin: 4px 8px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.chart-menu-item:hover {\r\n  background-color: rgba(33, 150, 243, 0.08);\r\n}\r\n\r\n.content-area {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n\r\n.content-card {\r\n  background-color: white;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: auto;\r\n}\r\n\r\n.chart-container {\r\n  padding-bottom: 24px;\r\n}\r\n\r\n:deep(.v-list-item--active) {\r\n  background-color: rgba(33, 150, 243, 0.12);\r\n  color: #2196F3;\r\n}\r\n\r\n:deep(.v-list-item--active .v-icon) {\r\n  color: #2196F3 !important;\r\n}\r\n\r\n/* Responsive adjustments */\r\n@media (max-width: 960px) {\r\n  .sidebar {\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  .sidebar-card {\r\n    max-height: auto;\r\n  }\r\n}\r\n</style>\r\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"argument-count\" }\nconst _hoisted_2 = { class: \"count-summary mb-6\" }\nconst _hoisted_3 = { class: \"summary-cards\" }\nconst _hoisted_4 = { class: \"text-h4\" }\nconst _hoisted_5 = { class: \"text-h4\" }\nconst _hoisted_6 = { class: \"text-h4\" }\nconst _hoisted_7 = { class: \"pie-chart-container\" }\nconst _hoisted_8 = { class: \"pie-chart-wrapper\" }\nconst _hoisted_9 = { class: \"pie-chart-legend\" }\nconst _hoisted_10 = { class: \"legend-label\" }\nconst _hoisted_11 = { class: \"legend-value\" }\nconst _hoisted_12 = [\"width\", \"height\"]\nconst _hoisted_13 = {\n  key: 1,\n  class: \"separated-charts-container\"\n}\nconst _hoisted_14 = { class: \"alternative-title\" }\nconst _hoisted_15 = { class: \"alternative-summary\" }\nconst _hoisted_16 = { class: \"summary-badge primary\" }\nconst _hoisted_17 = { class: \"badge-value\" }\nconst _hoisted_18 = { class: \"summary-badge success\" }\nconst _hoisted_19 = { class: \"badge-value\" }\nconst _hoisted_20 = { class: \"summary-badge error\" }\nconst _hoisted_21 = { class: \"badge-value\" }\nconst _hoisted_22 = { class: \"pie-chart-wrapper\" }\nconst _hoisted_23 = { class: \"pie-chart-legend\" }\nconst _hoisted_24 = { class: \"legend-label\" }\nconst _hoisted_25 = { class: \"legend-value\" }\nconst _hoisted_26 = [\"width\", \"height\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_ctx.selectedAlternative !== 'all-separated')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createElementVNode(\"div\", _hoisted_3, [\n              _createVNode(_component_v_card, {\n                variant: \"tonal\",\n                color: \"primary\",\n                class: \"summary-card\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_card_text, null, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_4, _toDisplayString(_ctx.totalCount), 1),\n                      _cache[0] || (_cache[0] = _createElementVNode(\"div\", { class: \"text-caption\" }, \"Total Arguments\", -1))\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_v_card, {\n                variant: \"tonal\",\n                color: \"success\",\n                class: \"summary-card\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_card_text, null, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_5, _toDisplayString(_ctx.favorableCount), 1),\n                      _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"text-caption\" }, \"Favorable\", -1))\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_v_card, {\n                variant: \"tonal\",\n                color: \"error\",\n                class: \"summary-card\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_card_text, null, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_6, _toDisplayString(_ctx.unfavorableCount), 1),\n                      _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"text-caption\" }, \"Unfavorable\", -1))\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_7, [\n            _createElementVNode(\"div\", _hoisted_8, [\n              _createElementVNode(\"div\", _hoisted_9, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.legendItems, (item) => {\n                  return (_openBlock(), _createElementBlock(\"div\", {\n                    key: item.label,\n                    class: \"legend-item\"\n                  }, [\n                    _createElementVNode(\"span\", {\n                      class: \"legend-swatch\",\n                      style: _normalizeStyle({ backgroundColor: item.color })\n                    }, null, 4),\n                    _createElementVNode(\"span\", _hoisted_10, _toDisplayString(item.label), 1),\n                    _createElementVNode(\"span\", _hoisted_11, _toDisplayString(item.count), 1)\n                  ]))\n                }), 128))\n              ]),\n              (_openBlock(), _createElementBlock(\"svg\", {\n                ref: \"chartRef\",\n                width: _ctx.width,\n                height: _ctx.height\n              }, null, 8, _hoisted_12))\n            ])\n          ])\n        ], 64))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.separatedChartsData, (altData, altId) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              key: altId,\n              class: \"alternative-chart-card\"\n            }, [\n              _createElementVNode(\"h3\", _hoisted_14, _toDisplayString(altData.name), 1),\n              _createElementVNode(\"div\", _hoisted_15, [\n                _createElementVNode(\"div\", _hoisted_16, [\n                  _createElementVNode(\"span\", _hoisted_17, _toDisplayString(altData.totalCount), 1),\n                  _cache[3] || (_cache[3] = _createElementVNode(\"span\", { class: \"badge-label\" }, \"Total\", -1))\n                ]),\n                _createElementVNode(\"div\", _hoisted_18, [\n                  _createElementVNode(\"span\", _hoisted_19, _toDisplayString(altData.favorableCount), 1),\n                  _cache[4] || (_cache[4] = _createElementVNode(\"span\", { class: \"badge-label\" }, \"Favorable\", -1))\n                ]),\n                _createElementVNode(\"div\", _hoisted_20, [\n                  _createElementVNode(\"span\", _hoisted_21, _toDisplayString(altData.unfavorableCount), 1),\n                  _cache[5] || (_cache[5] = _createElementVNode(\"span\", { class: \"badge-label\" }, \"Unfavorable\", -1))\n                ])\n              ]),\n              _createElementVNode(\"div\", _hoisted_22, [\n                _createElementVNode(\"div\", _hoisted_23, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(altData.legendItems, (item) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      key: item.label,\n                      class: \"legend-item\"\n                    }, [\n                      _createElementVNode(\"span\", {\n                        class: \"legend-swatch\",\n                        style: _normalizeStyle({ backgroundColor: item.color })\n                      }, null, 4),\n                      _createElementVNode(\"span\", _hoisted_24, _toDisplayString(item.label), 1),\n                      _createElementVNode(\"span\", _hoisted_25, _toDisplayString(item.count), 1)\n                    ]))\n                  }), 128))\n                ]),\n                (_openBlock(), _createElementBlock(\"svg\", {\n                  ref_for: true,\n                  ref: (el) => _ctx.setSvgRef(altId, el),\n                  width: _ctx.width,\n                  height: _ctx.height,\n                  class: \"chart-svg\"\n                }, null, 8, _hoisted_26))\n              ])\n            ]))\n          }), 128))\n        ]))\n  ]))\n}","<template>\r\n  <div class=\"argument-count\">\r\n    <!-- Mode merged: show single summary and chart -->\r\n    <template v-if=\"selectedAlternative !== 'all-separated'\">\r\n      <div class=\"count-summary mb-6\">\r\n        <div class=\"summary-cards\">\r\n          <v-card variant=\"tonal\" color=\"primary\" class=\"summary-card\">\r\n            <v-card-text>\r\n              <div class=\"text-h4\">{{ totalCount }}</div>\r\n              <div class=\"text-caption\">Total Arguments</div>\r\n            </v-card-text>\r\n          </v-card>\r\n          <v-card variant=\"tonal\" color=\"success\" class=\"summary-card\">\r\n            <v-card-text>\r\n              <div class=\"text-h4\">{{ favorableCount }}</div>\r\n              <div class=\"text-caption\">Favorable</div>\r\n            </v-card-text>\r\n          </v-card>\r\n          <v-card variant=\"tonal\" color=\"error\" class=\"summary-card\">\r\n            <v-card-text>\r\n              <div class=\"text-h4\">{{ unfavorableCount }}</div>\r\n              <div class=\"text-caption\">Unfavorable</div>\r\n            </v-card-text>\r\n          </v-card>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"pie-chart-container\">\r\n        <div class=\"pie-chart-wrapper\">\r\n          <div class=\"pie-chart-legend\">\r\n            <div\r\n              v-for=\"item in legendItems\"\r\n              :key=\"item.label\"\r\n              class=\"legend-item\"\r\n            >\r\n              <span class=\"legend-swatch\" :style=\"{ backgroundColor: item.color }\" />\r\n              <span class=\"legend-label\">{{ item.label }}</span>\r\n              <span class=\"legend-value\">{{ item.count }}</span>\r\n            </div>\r\n          </div>\r\n          <svg ref=\"chartRef\" :width=\"width\" :height=\"height\"></svg>\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n    <!-- Mode separated: show multiple charts, one per alternative -->\r\n    <template v-else>\r\n      <div class=\"separated-charts-container\">\r\n        <div\r\n          v-for=\"(altData, altId) in separatedChartsData\"\r\n          :key=\"altId\"\r\n          class=\"alternative-chart-card\"\r\n        >\r\n          <h3 class=\"alternative-title\">{{ altData.name }}</h3>\r\n          <div class=\"alternative-summary\">\r\n            <div class=\"summary-badge primary\">\r\n              <span class=\"badge-value\">{{ altData.totalCount }}</span>\r\n              <span class=\"badge-label\">Total</span>\r\n            </div>\r\n            <div class=\"summary-badge success\">\r\n              <span class=\"badge-value\">{{ altData.favorableCount }}</span>\r\n              <span class=\"badge-label\">Favorable</span>\r\n            </div>\r\n            <div class=\"summary-badge error\">\r\n              <span class=\"badge-value\">{{ altData.unfavorableCount }}</span>\r\n              <span class=\"badge-label\">Unfavorable</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"pie-chart-wrapper\">\r\n            <div class=\"pie-chart-legend\">\r\n              <div\r\n                v-for=\"item in altData.legendItems\"\r\n                :key=\"item.label\"\r\n                class=\"legend-item\"\r\n              >\r\n                <span class=\"legend-swatch\" :style=\"{ backgroundColor: item.color }\" />\r\n                <span class=\"legend-label\">{{ item.label }}</span>\r\n                <span class=\"legend-value\">{{ item.count }}</span>\r\n              </div>\r\n            </div>\r\n            <svg\r\n              :ref=\"(el) => setSvgRef(altId, el)\"\r\n              :width=\"width\"\r\n              :height=\"height\"\r\n              class=\"chart-svg\"\r\n            ></svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed, PropType, ref, onMounted, watch, nextTick } from \"vue\";\r\nimport { NormalizedArgument, NormalizedObject } from \"@/@types\";\r\n\r\nexport default defineComponent({\r\n  name: \"ArgumentCount\",\r\n  props: {\r\n    arguments: {\r\n      type: Array as PropType<NormalizedArgument[]>,\r\n      required: true,\r\n    },\r\n    alternativesMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n    criterionsMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n    stakeholdersMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n    selectedAlternative: {\r\n      type: String,\r\n      default: 'all-merged',\r\n    },\r\n    analysisPer: {\r\n      type: String,\r\n      default: 'criteria',\r\n    },\r\n  },\r\n  setup(props) {\r\n    const chartRef = ref<SVGSVGElement | null>(null);\r\n    const svgRefs = ref<Record<string, SVGSVGElement | null>>({});\r\n    const width = 700;\r\n    const height = 500;\r\n\r\n    // Filtrer les arguments selon les filtres slectionns (pour le mode merged)\r\n    const filteredArguments = computed(() => {\r\n      let filtered = [...props.arguments];\r\n\r\n      // Filtre Alternative (seulement si pas \"all-separated\")\r\n      if (\r\n        props.selectedAlternative &&\r\n        props.selectedAlternative !== \"all-merged\" &&\r\n        props.selectedAlternative !== \"all-separated\"\r\n      ) {\r\n        const alternatives = props.alternativesMap || {};\r\n        const matchingAltId = Object.values(alternatives).find(\r\n          (alt) => alt.name === props.selectedAlternative\r\n        )?.id;\r\n\r\n        if (matchingAltId !== undefined) {\r\n          filtered = filtered.filter((arg) => arg.alternative === matchingAltId);\r\n        }\r\n      }\r\n\r\n      return filtered;\r\n    });\r\n\r\n    const totalCount = computed(() => filteredArguments.value.length);\r\n    const favorableCount = computed(() => \r\n      filteredArguments.value.filter(arg => arg.favorable).length\r\n    );\r\n    const unfavorableCount = computed(() => \r\n      filteredArguments.value.filter(arg => !arg.favorable).length\r\n    );\r\n\r\n    // Grouper les donnes selon \"Analysis per\" (pour le mode merged)\r\n    const chartData = computed(() => {\r\n      const grouped: Record<string, { favorable: number; unfavorable: number }> = {};\r\n      \r\n      filteredArguments.value.forEach((arg) => {\r\n        let key: string;\r\n\r\n        if (props.analysisPer === \"stakeholder\") {\r\n          const stakeholderName = props.stakeholdersMap?.[arg.stakeholder]?.name;\r\n          key = stakeholderName || `Stakeholder ${arg.stakeholder}`;\r\n        } else {\r\n          const criterionName = props.criterionsMap?.[arg.criterion]?.name;\r\n          key = criterionName || `Criterion ${arg.criterion}`;\r\n        }\r\n        \r\n        if (!grouped[key]) {\r\n          grouped[key] = { favorable: 0, unfavorable: 0 };\r\n        }\r\n        \r\n        if (arg.favorable) {\r\n          grouped[key].favorable++;\r\n        } else {\r\n          grouped[key].unfavorable++;\r\n        }\r\n      });\r\n\r\n      return grouped;\r\n    });\r\n\r\n    // Pour le mode spar: crer un graphique par alternative\r\n    const sortEntriesByCount = (\r\n      entries: Array<[string, { favorable: number; unfavorable: number }]>\r\n    ) =>\r\n      entries.sort(\r\n        ([, a], [, b]) =>\r\n          b.favorable + b.unfavorable - (a.favorable + a.unfavorable)\r\n      );\r\n\r\n    const separatedChartsData = computed(() => {\r\n      const result: Record<string, any> = {};\r\n      const alternatives = props.alternativesMap || {};\r\n\r\n      Object.entries(alternatives).forEach(([altId, altData]) => {\r\n        // Filtrer les arguments pour cette alternative spcifique\r\n        const altArguments = props.arguments.filter(\r\n          (arg) => arg.alternative === altData.id\r\n        );\r\n\r\n        // Grouper selon \"Analysis per\"\r\n        const grouped: Record<string, { favorable: number; unfavorable: number }> = {};\r\n        altArguments.forEach((arg) => {\r\n          let key: string;\r\n\r\n          if (props.analysisPer === \"stakeholder\") {\r\n            const stakeholderName = props.stakeholdersMap?.[arg.stakeholder]?.name;\r\n            key = stakeholderName || `Stakeholder ${arg.stakeholder}`;\r\n          } else {\r\n            const criterionName = props.criterionsMap?.[arg.criterion]?.name;\r\n            key = criterionName || `Criterion ${arg.criterion}`;\r\n          }\r\n          \r\n          if (!grouped[key]) {\r\n            grouped[key] = { favorable: 0, unfavorable: 0 };\r\n          }\r\n          \r\n          if (arg.favorable) {\r\n            grouped[key].favorable++;\r\n          } else {\r\n            grouped[key].unfavorable++;\r\n          }\r\n        });\r\n\r\n        // Crer les legend items pour cette alternative\r\n        const colors = [\r\n          \"#2196F3\", \"#4CAF50\", \"#FF9800\", \"#F44336\", \"#9C27B0\",\r\n          \"#00BCD4\", \"#8BC34A\", \"#FFC107\", \"#E91E63\", \"#3F51B5\",\r\n          \"#009688\", \"#CDDC39\", \"#FF5722\", \"#673AB7\", \"#795548\"\r\n        ];\r\n\r\n        const entries = sortEntriesByCount(Object.entries(grouped));\r\n        const legendItems = entries.map(([label, values], index) => {\r\n          const value = values.favorable + values.unfavorable;\r\n          return {\r\n            label: label || \"Unknown\",\r\n            count: value,\r\n            color: colors[index % colors.length],\r\n          };\r\n        });\r\n\r\n        const totalCount = altArguments.length;\r\n        const favorableCount = altArguments.filter(arg => arg.favorable).length;\r\n        const unfavorableCount = altArguments.filter(arg => !arg.favorable).length;\r\n\r\n        result[altData.id] = {\r\n          name: altData.name,\r\n          totalCount,\r\n          favorableCount,\r\n          unfavorableCount,\r\n          chartData: grouped,\r\n          legendItems,\r\n        };\r\n      });\r\n\r\n      return result;\r\n    });\r\n\r\n    const colors = [\r\n      \"#2196F3\", \"#4CAF50\", \"#FF9800\", \"#F44336\", \"#9C27B0\",\r\n      \"#00BCD4\", \"#8BC34A\", \"#FFC107\", \"#E91E63\", \"#3F51B5\",\r\n      \"#009688\", \"#CDDC39\", \"#FF5722\", \"#673AB7\", \"#795548\"\r\n    ];\r\n\r\n    const legendItems = computed(() => {\r\n      const entries = sortEntriesByCount(Object.entries(chartData.value));\r\n      const total = entries.reduce(\r\n        (sum, [, values]) => sum + values.favorable + values.unfavorable,\r\n        0\r\n      );\r\n\r\n      return entries.map(([label, values], index) => {\r\n        const value = values.favorable + values.unfavorable;\r\n        return {\r\n          label: label || \"Unknown\",\r\n          count: value,\r\n          color: colors[index % colors.length],\r\n        };\r\n      });\r\n    });\r\n\r\n    const setSvgRef = (altId: string | number, el: any) => {\r\n      svgRefs.value[altId] = el;\r\n    };\r\n\r\n    const renderChart = () => {\r\n      if (!chartRef.value) return;\r\n\r\n      const svg = chartRef.value;\r\n      svg.innerHTML = \"\";\r\n\r\n      const entries = sortEntriesByCount(Object.entries(chartData.value));\r\n      if (entries.length === 0) return;\r\n\r\n      const total = entries.reduce(\r\n        (sum, [, values]) => sum + values.favorable + values.unfavorable,\r\n        0\r\n      );\r\n\r\n      if (total === 0) return;\r\n\r\n      const centerX = width / 2;\r\n      const centerY = height / 2;\r\n      const radius = Math.min(width, height) / 2 - 120;\r\n\r\n      let currentAngle = -Math.PI / 2;\r\n\r\n      entries.forEach(([label, values], index) => {\r\n        const value = values.favorable + values.unfavorable;\r\n        const sliceAngle = (value / total) * 2 * Math.PI;\r\n        const endAngle = currentAngle + sliceAngle;\r\n\r\n        const startX = centerX + radius * Math.cos(currentAngle);\r\n        const startY = centerY + radius * Math.sin(currentAngle);\r\n        const endX = centerX + radius * Math.cos(endAngle);\r\n        const endY = centerY + radius * Math.sin(endAngle);\r\n\r\n        const largeArcFlag = sliceAngle > Math.PI ? 1 : 0;\r\n\r\n        // Draw pie slice\r\n        const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        \r\n        // Special case: full circle (when slice angle  2)\r\n        // SVG can't render an arc from a point to itself, so we draw two semicircles\r\n        let d: string;\r\n        if (sliceAngle >= 2 * Math.PI - 0.01) {\r\n          const midAngle = currentAngle + Math.PI;\r\n          const midX = centerX + radius * Math.cos(midAngle);\r\n          const midY = centerY + radius * Math.sin(midAngle);\r\n          d = [\r\n            `M ${centerX} ${centerY}`,\r\n            `L ${startX} ${startY}`,\r\n            `A ${radius} ${radius} 0 1 1 ${midX} ${midY}`,\r\n            `A ${radius} ${radius} 0 1 1 ${startX} ${startY}`,\r\n            \"Z\",\r\n          ].join(\" \");\r\n        } else {\r\n          d = [\r\n            `M ${centerX} ${centerY}`,\r\n            `L ${startX} ${startY}`,\r\n            `A ${radius} ${radius} 0 ${largeArcFlag} 1 ${endX} ${endY}`,\r\n            \"Z\",\r\n          ].join(\" \");\r\n        }\r\n\r\n        path.setAttribute(\"d\", d);\r\n        path.setAttribute(\"fill\", colors[index % colors.length]);\r\n        path.setAttribute(\"stroke\", \"white\");\r\n        path.setAttribute(\"stroke-width\", \"2\");\r\n        svg.appendChild(path);\r\n\r\n        currentAngle = endAngle;\r\n      });\r\n    };\r\n\r\n    const renderSeparatedCharts = () => {\r\n      Object.entries(separatedChartsData.value).forEach(([altId, altData]) => {\r\n        const svg = svgRefs.value[altId];\r\n        if (!svg) return;\r\n\r\n        svg.innerHTML = \"\";\r\n\r\n        const entries = sortEntriesByCount(Object.entries(altData.chartData));\r\n        if (entries.length === 0) return;\r\n\r\n        const total = entries.reduce(\r\n          (sum: number, [, values]: any) => sum + values.favorable + values.unfavorable,\r\n          0\r\n        );\r\n\r\n        if (total === 0) return;\r\n\r\n        const centerX = width / 2;\r\n        const centerY = height / 2;\r\n        const radius = Math.min(width, height) / 2 - 120;\r\n\r\n        let currentAngle = -Math.PI / 2;\r\n\r\n        entries.forEach(([label, values]: any, index: number) => {\r\n          const value = values.favorable + values.unfavorable;\r\n          const sliceAngle = (value / total) * 2 * Math.PI;\r\n          const endAngle = currentAngle + sliceAngle;\r\n\r\n          const startX = centerX + radius * Math.cos(currentAngle);\r\n          const startY = centerY + radius * Math.sin(currentAngle);\r\n          const endX = centerX + radius * Math.cos(endAngle);\r\n          const endY = centerY + radius * Math.sin(endAngle);\r\n\r\n          const largeArcFlag = sliceAngle > Math.PI ? 1 : 0;\r\n\r\n          const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n          \r\n          // Special case: full circle (when slice angle  2)\r\n          // SVG can't render an arc from a point to itself, so we draw two semicircles\r\n          let d: string;\r\n          if (sliceAngle >= 2 * Math.PI - 0.01) {\r\n            const midAngle = currentAngle + Math.PI;\r\n            const midX = centerX + radius * Math.cos(midAngle);\r\n            const midY = centerY + radius * Math.sin(midAngle);\r\n            d = [\r\n              `M ${centerX} ${centerY}`,\r\n              `L ${startX} ${startY}`,\r\n              `A ${radius} ${radius} 0 1 1 ${midX} ${midY}`,\r\n              `A ${radius} ${radius} 0 1 1 ${startX} ${startY}`,\r\n              \"Z\",\r\n            ].join(\" \");\r\n          } else {\r\n            d = [\r\n              `M ${centerX} ${centerY}`,\r\n              `L ${startX} ${startY}`,\r\n              `A ${radius} ${radius} 0 ${largeArcFlag} 1 ${endX} ${endY}`,\r\n              \"Z\",\r\n            ].join(\" \");\r\n          }\r\n          \r\n          path.setAttribute(\"d\", d);\r\n          path.setAttribute(\"fill\", colors[index % colors.length]);\r\n          path.setAttribute(\"stroke\", \"white\");\r\n          path.setAttribute(\"stroke-width\", \"2\");\r\n          svg.appendChild(path);\r\n\r\n          currentAngle = endAngle;\r\n        });\r\n      });\r\n    };\r\n\r\n    onMounted(() => {\r\n      if (props.selectedAlternative !== 'all-separated') {\r\n        renderChart();\r\n      } else {\r\n        nextTick(() => {\r\n          renderSeparatedCharts();\r\n        });\r\n      }\r\n    });\r\n\r\n    watch(() => props.selectedAlternative, async () => {\r\n      // Quand on change le mode (merged/separated), re-trigger le rendu\r\n\r\n      await nextTick();\r\n      if (props.selectedAlternative !== 'all-separated') {\r\n        renderChart();\r\n      } else {\r\n        renderSeparatedCharts();\r\n      }\r\n    });\r\n\r\n    watch(\r\n      () => [chartData.value, props.analysisPer],\r\n      async () => {\r\n\r\n        if (props.selectedAlternative !== 'all-separated') {\r\n          await nextTick();\r\n          renderChart();\r\n        }\r\n      },\r\n      { deep: true, flush: 'post' }\r\n    );\r\n\r\n    watch(\r\n      () => legendItems.value,\r\n      async () => {\r\n\r\n        if (props.selectedAlternative !== 'all-separated') {\r\n          await nextTick();\r\n          renderChart();\r\n        }\r\n      },\r\n      { deep: true, flush: 'post' }\r\n    );\r\n\r\n    watch(\r\n      () => props.arguments,\r\n      async () => {\r\n        await nextTick();\r\n        if (props.selectedAlternative !== 'all-separated') {\r\n          renderChart();\r\n        } else {\r\n          renderSeparatedCharts();\r\n        }\r\n      },\r\n      { deep: true, flush: 'post' }\r\n    );\r\n\r\n    watch(\r\n      () => [separatedChartsData.value, props.analysisPer],\r\n      async () => {\r\n        if (props.selectedAlternative === 'all-separated') {\r\n          await nextTick();\r\n          renderSeparatedCharts();\r\n        }\r\n      },\r\n      { deep: true, flush: 'post' }\r\n    );\r\n\r\n    return {\r\n      chartRef,\r\n      width,\r\n      height,\r\n      totalCount,\r\n      favorableCount,\r\n      unfavorableCount,\r\n      legendItems,\r\n      separatedChartsData,\r\n      setSvgRef,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.argument-count {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  min-height: 400px;\r\n}\r\n\r\n.count-summary {\r\n  width: 100%;\r\n  max-width: 800px;\r\n}\r\n\r\n.summary-cards {\r\n  display: flex;\r\n  gap: 16px;\r\n  justify-content: center;\r\n}\r\n\r\n.summary-card {\r\n  flex: 1;\r\n  text-align: center;\r\n}\r\n\r\n.pie-chart-container {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 24px;\r\n}\r\n\r\n.pie-chart-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 24px;\r\n}\r\n\r\n.debug-panel {\r\n  margin-top: 12px;\r\n  color: #666;\r\n}\r\n\r\n.pie-chart-legend {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  min-width: 220px;\r\n}\r\n\r\n.legend-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 12px;\r\n  color: #333;\r\n}\r\n\r\n.legend-swatch {\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 2px;\r\n  display: inline-block;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.legend-label {\r\n  flex: 1;\r\n  min-width: 0;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.legend-value {\r\n  color: #666;\r\n  font-variant-numeric: tabular-nums;\r\n}\r\n\r\n/* Mode spar: styles pour afficher plusieurs cartes */\r\n.separated-charts-container {\r\n  width: 100%;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(900px, 1fr));\r\n  gap: 24px;\r\n  padding: 16px;\r\n}\r\n\r\n.alternative-chart-card {\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  background-color: #fafafa;\r\n}\r\n\r\n.alternative-title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  margin: 0 0 16px 0;\r\n  color: #333;\r\n}\r\n\r\n.alternative-summary {\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-bottom: 20px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.summary-badge {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  min-width: 80px;\r\n}\r\n\r\n.summary-badge.primary {\r\n  background-color: rgba(33, 150, 243, 0.1);\r\n  color: #2196F3;\r\n}\r\n\r\n.summary-badge.success {\r\n  background-color: rgba(76, 175, 80, 0.1);\r\n  color: #4CAF50;\r\n}\r\n\r\n.summary-badge.error {\r\n  background-color: rgba(244, 67, 54, 0.1);\r\n  color: #F44336;\r\n}\r\n\r\n.badge-value {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  line-height: 1;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.badge-label {\r\n  font-size: 11px;\r\n  text-transform: uppercase;\r\n  opacity: 0.8;\r\n}\r\n\r\n.chart-svg {\r\n  display: block;\r\n}\r\n</style>\r\n","import { render } from \"./ArgumentCount.vue?vue&type=template&id=245f0ccd&scoped=true&ts=true\"\nimport script from \"./ArgumentCount.vue?vue&type=script&lang=ts\"\nexport * from \"./ArgumentCount.vue?vue&type=script&lang=ts\"\n\nimport \"./ArgumentCount.vue?vue&type=style&index=0&id=245f0ccd&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-245f0ccd\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"bar-chart-container\" }\nconst _hoisted_2 = { class: \"alternative-title-header\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"chart-wrapper\"\n}\nconst _hoisted_4 = { class: \"chart-area\" }\nconst _hoisted_5 = [\"width\", \"height\"]\nconst _hoisted_6 = { class: \"attitude-column\" }\nconst _hoisted_7 = {\n  key: 1,\n  class: \"separated-charts-container\"\n}\nconst _hoisted_8 = { class: \"alternative-title\" }\nconst _hoisted_9 = { class: \"chart-wrapper-separated\" }\nconst _hoisted_10 = { class: \"chart-area\" }\nconst _hoisted_11 = [\"width\", \"height\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.alternativeLabel), 1),\n    (_ctx.selectedAlternative !== 'all-separated')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            (_openBlock(), _createElementBlock(\"svg\", {\n              ref: \"chartRef\",\n              width: _ctx.width,\n              height: _ctx.height,\n              class: \"horizontal-bars\"\n            }, null, 8, _hoisted_5))\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _cache[0] || (_cache[0] = _createElementVNode(\"div\", { class: \"attitude-header\" }, \"Attitude\", -1)),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.tableRows, (row) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: row.key,\n                class: \"attitude-item\",\n                style: _normalizeStyle({ backgroundColor: _ctx.getCellColor(row.attitude) })\n              }, [\n                _createElementVNode(\"div\", {\n                  class: \"attitude-value\",\n                  style: _normalizeStyle({ color: row.attitude === '0.00' || (parseFloat(row.attitude) >= 0.35 && parseFloat(row.attitude) < 0.60) ? '#333' : '#fff' })\n                }, _toDisplayString(row.attitude), 5)\n              ], 4))\n            }), 128))\n          ])\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.separatedChartsData, (altData, altId) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              key: altId,\n              class: \"alternative-chart-card\"\n            }, [\n              _createElementVNode(\"h3\", _hoisted_8, _toDisplayString(altData.name), 1),\n              _createElementVNode(\"div\", _hoisted_9, [\n                _createElementVNode(\"div\", _hoisted_10, [\n                  (_openBlock(), _createElementBlock(\"svg\", {\n                    ref_for: true,\n                    ref: (el) => _ctx.setSvgRef(String(altId), el),\n                    width: _ctx.width,\n                    height: altData.chartHeight,\n                    class: \"horizontal-bars\"\n                  }, null, 8, _hoisted_11))\n                ]),\n                _createElementVNode(\"div\", {\n                  class: \"attitude-column-right\",\n                  style: _normalizeStyle({ height: altData.chartHeight + 'px' })\n                }, [\n                  _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"attitude-header\" }, \"Attitude\", -1)),\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(altData.tableRows, (row) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      key: row.key,\n                      class: \"attitude-item\",\n                      style: _normalizeStyle({ backgroundColor: _ctx.getCellColor(row.attitude) })\n                    }, [\n                      _createElementVNode(\"div\", {\n                        class: \"attitude-value\",\n                        style: _normalizeStyle({ color: row.attitude === '0.00' || (parseFloat(row.attitude) >= 0.35 && parseFloat(row.attitude) < 0.60) ? '#333' : '#fff' })\n                      }, _toDisplayString(row.attitude), 5)\n                    ], 4))\n                  }), 128))\n                ], 4)\n              ])\n            ]))\n          }), 128))\n        ]))\n  ]))\n}","<template>\r\n  <div class=\"bar-chart-container\">\r\n    <!-- Alternative title header (always shown) -->\r\n    <div class=\"alternative-title-header\">{{ alternativeLabel }}</div>\r\n\r\n    <!-- Mode merged: single chart -->\r\n    <template v-if=\"selectedAlternative !== 'all-separated'\">\r\n      <div class=\"chart-wrapper\">\r\n        <div class=\"chart-area\">\r\n          <svg ref=\"chartRef\" :width=\"width\" :height=\"height\" class=\"horizontal-bars\"></svg>\r\n        </div>\r\n        <div class=\"attitude-column\">\r\n          <div class=\"attitude-header\">Attitude</div>\r\n          <div v-for=\"row in tableRows\" :key=\"row.key\" class=\"attitude-item\" :style=\"{ backgroundColor: getCellColor(row.attitude) }\">\r\n            <div class=\"attitude-value\" :style=\"{ color: row.attitude === '0.00' || (parseFloat(row.attitude) >= 0.35 && parseFloat(row.attitude) < 0.60) ? '#333' : '#fff' }\">{{ row.attitude }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n    <!-- Mode separated: multiple charts, one per alternative -->\r\n    <template v-else>\r\n      <div class=\"separated-charts-container\">\r\n        <div\r\n          v-for=\"(altData, altId) in separatedChartsData\"\r\n          :key=\"altId\"\r\n          class=\"alternative-chart-card\"\r\n        >\r\n          <h3 class=\"alternative-title\">{{ altData.name }}</h3>\r\n          <div class=\"chart-wrapper-separated\">\r\n            <div class=\"chart-area\">\r\n              <svg\r\n                :ref=\"(el) => setSvgRef(String(altId), el)\"\r\n                :width=\"width\"\r\n                :height=\"altData.chartHeight\"\r\n                class=\"horizontal-bars\"\r\n              ></svg>\r\n            </div>\r\n            <div class=\"attitude-column-right\" :style=\"{ height: altData.chartHeight + 'px' }\">\r\n              <div class=\"attitude-header\">Attitude</div>\r\n              <div v-for=\"row in altData.tableRows\" :key=\"row.key\" class=\"attitude-item\" :style=\"{ backgroundColor: getCellColor(row.attitude) }\">\r\n                <div class=\"attitude-value\" :style=\"{ color: row.attitude === '0.00' || (parseFloat(row.attitude) >= 0.35 && parseFloat(row.attitude) < 0.60) ? '#333' : '#fff' }\">{{ row.attitude }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType, computed, ref, onMounted, watch, nextTick } from \"vue\";\r\nimport { NormalizedArgument, NormalizedObject } from \"@/@types\";\r\nimport { calculateSimpleAttitude } from \"@/store/attitude\";\r\n\r\nexport default defineComponent({\r\n  name: \"BarChart\",\r\n  props: {\r\n    arguments: {\r\n      type: Array as PropType<NormalizedArgument[]>,\r\n      required: true,\r\n    },\r\n    selectedAlternative: {\r\n      type: String,\r\n      default: \"all-merged\",\r\n    },\r\n    analysisPer: {\r\n      type: String,\r\n      default: \"criteria\",\r\n    },\r\n    selectedCriterion: {\r\n      type: [String, Number],\r\n      default: \"\",\r\n    },\r\n    alternativesMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n    criterionsMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n    stakeholdersMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n  },\r\n  setup(props) {\r\n    const chartRef = ref<SVGSVGElement | null>(null);\r\n    const separatedChartRefs = ref<Map<string, SVGSVGElement | null>>(new Map());\r\n    const width = 600;\r\n    const height = computed(() => {\r\n      const rowHeight = 40;\r\n      const headerHeight = 60;\r\n      const rows = tableRows.value.length;\r\n      return headerHeight + (rows * rowHeight);\r\n    });\r\n\r\n    const groupByLabel = computed(() =>\r\n      props.analysisPer === \"stakeholder\" ? \"Stakeholders\" : \"Criteria\"\r\n    );\r\n\r\n    const alternativeLabel = computed(() => {\r\n      if (\r\n        !props.selectedAlternative ||\r\n        props.selectedAlternative === \"all-merged\" ||\r\n        props.selectedAlternative === \"all-separated\"\r\n      ) {\r\n        return \"All alternatives\";\r\n      }\r\n      return props.selectedAlternative;\r\n    });\r\n\r\n    const filteredArguments = computed(() => {\r\n      let filtered = [...props.arguments];\r\n\r\n      if (\r\n        props.selectedAlternative &&\r\n        props.selectedAlternative !== \"all-merged\" &&\r\n        props.selectedAlternative !== \"all-separated\"\r\n      ) {\r\n        const alternatives = props.alternativesMap || {};\r\n        const matchingAltId = Object.values(alternatives).find(\r\n          (alt) => alt.name === props.selectedAlternative\r\n        )?.id;\r\n\r\n        if (matchingAltId !== undefined) {\r\n          filtered = filtered.filter((arg) => arg.alternative === matchingAltId);\r\n        }\r\n      }\r\n\r\n      if (props.selectedCriterion !== \"\" && props.selectedCriterion !== null) {\r\n        const criterionId = Number(props.selectedCriterion);\r\n        if (!Number.isNaN(criterionId)) {\r\n          filtered = filtered.filter((arg) => arg.criterion === criterionId);\r\n        }\r\n      }\r\n\r\n      return filtered;\r\n    });\r\n\r\n    const separatedChartsData = computed(() => {\r\n      const alternativesMap = props.alternativesMap || {};\r\n      const result: Record<string, any> = {};\r\n\r\n      const altIds = Array.from(new Set(props.arguments.map((arg) => arg.alternative)));\r\n\r\n      altIds.forEach((altId) => {\r\n        const altName = (alternativesMap[altId]?.name || `Alternative ${altId}`) as string;\r\n        const altArguments = props.arguments.filter((arg) => arg.alternative === altId);\r\n\r\n        let filtered = [...altArguments];\r\n        if (props.selectedCriterion !== \"\" && props.selectedCriterion !== null) {\r\n          const criterionId = Number(props.selectedCriterion);\r\n          if (!Number.isNaN(criterionId)) {\r\n            filtered = filtered.filter((arg) => arg.criterion === criterionId);\r\n          }\r\n        }\r\n\r\n        const grouped = new Map<number, { favorable: number; unfavorable: number }>();\r\n\r\n        filtered.forEach((arg) => {\r\n          const key =\r\n            props.analysisPer === \"stakeholder\" ? arg.stakeholder : arg.criterion;\r\n          if (!grouped.has(key)) {\r\n            grouped.set(key, { favorable: 0, unfavorable: 0 });\r\n          }\r\n          const entry = grouped.get(key)!;\r\n          if (arg.favorable) {\r\n            entry.favorable += 1;\r\n          } else {\r\n            entry.unfavorable += 1;\r\n          }\r\n        });\r\n\r\n        const rows = Array.from(grouped.entries())\r\n          .map(([key, values]) => {\r\n            const total = values.favorable + values.unfavorable;\r\n            const attitude = (values.favorable + 1) / (total + 2);\r\n            return {\r\n              key,\r\n              label: resolveLabel(key),\r\n              favorable: values.favorable,\r\n              unfavorable: values.unfavorable,\r\n              attitude: attitude.toFixed(2),\r\n            };\r\n          })\r\n          .sort((a, b) => a.label.localeCompare(b.label));\r\n\r\n        const chartHeight = Math.max(300, rows.length * 40);\r\n        \r\n        result[String(altId)] = {\r\n          id: altId,\r\n          name: altName,\r\n          tableRows: rows,\r\n          chartHeight,\r\n        };\r\n      });\r\n\r\n      return result;\r\n    });\r\n\r\n    const resolveLabel = (key: number) => {\r\n      if (props.analysisPer === \"stakeholder\") {\r\n        return props.stakeholdersMap?.[key]?.name || `Stakeholder ${key}`;\r\n      }\r\n      return props.criterionsMap?.[key]?.name || `Criterion ${key}`;\r\n    };\r\n\r\n    const setSvgRef = (altId: string, el: any) => {\r\n      if (el) {\r\n        separatedChartRefs.value.set(altId, el);\r\n      }\r\n    };\r\n\r\n    const tableRows = computed(() => {\r\n      const grouped = new Map<number, { favorable: number; unfavorable: number }>();\r\n\r\n      filteredArguments.value.forEach((arg) => {\r\n        const key =\r\n          props.analysisPer === \"stakeholder\" ? arg.stakeholder : arg.criterion;\r\n        if (!grouped.has(key)) {\r\n          grouped.set(key, { favorable: 0, unfavorable: 0 });\r\n        }\r\n        const entry = grouped.get(key)!;\r\n        if (arg.favorable) {\r\n          entry.favorable += 1;\r\n        } else {\r\n          entry.unfavorable += 1;\r\n        }\r\n      });\r\n\r\n      return Array.from(grouped.entries())\r\n        .map(([key, values]) => {\r\n          const total = values.favorable + values.unfavorable;\r\n          // Use the formula-based attitude: (favorable + 1) / (total + 2)\r\n          const attitude = (values.favorable + 1) / (total + 2);\r\n          return {\r\n            key,\r\n            label: resolveLabel(key),\r\n            favorable: values.favorable,\r\n            unfavorable: values.unfavorable,\r\n            attitude: attitude.toFixed(2),\r\n          };\r\n        })\r\n        .sort((a, b) => a.label.localeCompare(b.label));\r\n    });\r\n\r\n    const renderChartContent = (svg: SVGSVGElement, rows: any[], chartHeight: number) => {\r\n      svg.innerHTML = \"\";\r\n\r\n      if (rows.length === 0) return;\r\n\r\n      const margin = { left: 280, right: 20, top: 60, bottom: 0 };\r\n      const chartWidth = width - margin.left - margin.right;\r\n      const contentHeight = chartHeight - margin.top - margin.bottom;\r\n      const pairHeight = contentHeight / rows.length;\r\n      const barHeight = Math.max(12, pairHeight * 0.35);\r\n      const barGap = 4;\r\n\r\n      const maxValue = Math.max(\r\n        ...rows.map((r: any) => r.favorable + r.unfavorable)\r\n      );\r\n\r\n      // Create main group\r\n      const g = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\r\n      g.setAttribute(\"transform\", `translate(${margin.left},${margin.top})`);\r\n\r\n      // Colors\r\n      const favorableColor = \"#4CAF50\";\r\n      const unfavorableColor = \"#F44336\";\r\n\r\n      rows.forEach((row: any, index: number) => {\r\n        const pairTop = index * pairHeight;\r\n        const pairCenter = pairTop + pairHeight / 2;\r\n        \r\n        // Position favorable bar above center\r\n        const favorableYPos = pairCenter - barHeight - barGap / 2;\r\n        // Position unfavorable bar below center\r\n        const unfavorableYPos = pairCenter + barGap / 2;\r\n\r\n        const favorableWidth = (row.favorable / maxValue) * chartWidth;\r\n        const unfavorableWidth = (row.unfavorable / maxValue) * chartWidth;\r\n\r\n        // Favorable bar\r\n        const favorableBar = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\r\n        favorableBar.setAttribute(\"x\", \"0\");\r\n        favorableBar.setAttribute(\"y\", String(favorableYPos));\r\n        \r\n        // If favorable is 0, show a minimal bar with transparency\r\n        if (row.favorable === 0) {\r\n          favorableBar.setAttribute(\"width\", \"12\");\r\n          favorableBar.setAttribute(\"opacity\", \"0.4\");\r\n        } else {\r\n          favorableBar.setAttribute(\"width\", String(favorableWidth));\r\n          favorableBar.setAttribute(\"opacity\", \"1\");\r\n        }\r\n        \r\n        favorableBar.setAttribute(\"height\", String(barHeight));\r\n        favorableBar.setAttribute(\"fill\", favorableColor);\r\n        g.appendChild(favorableBar);\r\n\r\n        // Favorable count text\r\n        const favorableText = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n        let favorableTextX: number;\r\n        let favorableTextFill: string;\r\n        \r\n        if (row.favorable === 0) {\r\n          // For zero: place text at the start with black color\r\n          favorableTextX = 5;\r\n          favorableTextFill = \"black\";\r\n        } else if (favorableWidth > 35) {\r\n          // For larger bars: place text inside with white color\r\n          favorableTextX = 5;\r\n          favorableTextFill = \"white\";\r\n        } else {\r\n          // For small bars: place text after the bar with black color and light background\r\n          favorableTextX = favorableWidth + 8;\r\n          favorableTextFill = \"black\";\r\n        }\r\n        \r\n        favorableText.setAttribute(\"x\", String(favorableTextX));\r\n        favorableText.setAttribute(\"y\", String(favorableYPos + barHeight / 2 + 4));\r\n        favorableText.setAttribute(\"text-anchor\", \"start\");\r\n        favorableText.setAttribute(\"font-size\", \"11\");\r\n        favorableText.setAttribute(\"font-weight\", \"bold\");\r\n        favorableText.setAttribute(\"fill\", favorableTextFill);\r\n        favorableText.textContent = String(row.favorable);\r\n        g.appendChild(favorableText);\r\n\r\n        // Unfavorable bar\r\n        const unfavorableBar = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\r\n        unfavorableBar.setAttribute(\"x\", \"0\");\r\n        unfavorableBar.setAttribute(\"y\", String(unfavorableYPos));\r\n        \r\n        // If unfavorable is 0, show a minimal bar with transparency\r\n        if (row.unfavorable === 0) {\r\n          unfavorableBar.setAttribute(\"width\", \"12\");\r\n          unfavorableBar.setAttribute(\"opacity\", \"0.4\");\r\n        } else {\r\n          unfavorableBar.setAttribute(\"width\", String(unfavorableWidth));\r\n          unfavorableBar.setAttribute(\"opacity\", \"1\");\r\n        }\r\n        \r\n        unfavorableBar.setAttribute(\"height\", String(barHeight));\r\n        unfavorableBar.setAttribute(\"fill\", unfavorableColor);\r\n        g.appendChild(unfavorableBar);\r\n\r\n        // Unfavorable count text\r\n        const unfavorableText = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n        let unfavorableTextX: number;\r\n        let unfavorableTextFill: string;\r\n        \r\n        if (row.unfavorable === 0) {\r\n          // For zero: place text at the start with black color\r\n          unfavorableTextX = 5;\r\n          unfavorableTextFill = \"black\";\r\n        } else if (unfavorableWidth > 35) {\r\n          // For larger bars: place text inside with white color\r\n          unfavorableTextX = 5;\r\n          unfavorableTextFill = \"white\";\r\n        } else {\r\n          // For small bars: place text after the bar with black color\r\n          unfavorableTextX = unfavorableWidth + 8;\r\n          unfavorableTextFill = \"black\";\r\n        }\r\n        \r\n        unfavorableText.setAttribute(\"x\", String(unfavorableTextX));\r\n        unfavorableText.setAttribute(\"y\", String(unfavorableYPos + barHeight / 2 + 4));\r\n        unfavorableText.setAttribute(\"text-anchor\", \"start\");\r\n        unfavorableText.setAttribute(\"font-size\", \"11\");\r\n        unfavorableText.setAttribute(\"font-weight\", \"bold\");\r\n        unfavorableText.setAttribute(\"fill\", unfavorableTextFill);\r\n        unfavorableText.textContent = String(row.unfavorable);\r\n        g.appendChild(unfavorableText);\r\n\r\n        // Label (on the left) - split on 2 lines if needed\r\n        let line1 = row.label;\r\n        let line2 = \"\";\r\n        \r\n        if (row.label.length > 40) {\r\n          // Find a good split point (around middle or at a space)\r\n          const midPoint = 20;\r\n          let splitPoint = midPoint;\r\n          \r\n          // Try to find a space near the midpoint\r\n          for (let i = midPoint; i < row.label.length && i < midPoint + 10; i++) {\r\n            if (row.label[i] === ' ') {\r\n              splitPoint = i;\r\n              break;\r\n            }\r\n          }\r\n          \r\n          line1 = row.label.substring(0, splitPoint).trim();\r\n          line2 = row.label.substring(splitPoint).trim();\r\n          \r\n          // If line2 is still too long, truncate it\r\n          if (line2.length > 25) {\r\n            line2 = line2.substring(0, 25) + \"...\";\r\n          }\r\n        }\r\n        \r\n        // First line\r\n        const label1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n        label1.setAttribute(\"x\", \"-20\");\r\n        label1.setAttribute(\"y\", String(pairCenter - 4));\r\n        label1.setAttribute(\"text-anchor\", \"end\");\r\n        label1.setAttribute(\"font-size\", \"12\");\r\n        label1.setAttribute(\"color\", \"#333\");\r\n        label1.textContent = line1;\r\n        g.appendChild(label1);\r\n        \r\n        // Second line (if needed)\r\n        if (line2) {\r\n          const label2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n          label2.setAttribute(\"x\", \"-20\");\r\n          label2.setAttribute(\"y\", String(pairCenter + 10));\r\n          label2.setAttribute(\"text-anchor\", \"end\");\r\n          label2.setAttribute(\"font-size\", \"12\");\r\n          label2.setAttribute(\"color\", \"#333\");\r\n          label2.textContent = line2;\r\n          g.appendChild(label2);\r\n        }\r\n      });\r\n\r\n      // Legend\r\n      const legendG = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\r\n      legendG.setAttribute(\"transform\", `translate(0, -15)`);\r\n\r\n      const favorableRect = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\r\n      favorableRect.setAttribute(\"x\", \"0\");\r\n      favorableRect.setAttribute(\"y\", \"0\");\r\n      favorableRect.setAttribute(\"width\", \"12\");\r\n      favorableRect.setAttribute(\"height\", \"12\");\r\n      favorableRect.setAttribute(\"fill\", favorableColor);\r\n      legendG.appendChild(favorableRect);\r\n\r\n      const favorableTextLegend = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n      favorableTextLegend.setAttribute(\"x\", \"18\");\r\n      favorableTextLegend.setAttribute(\"y\", \"10\");\r\n      favorableTextLegend.setAttribute(\"font-size\", \"12\");\r\n      favorableTextLegend.textContent = \"Favorable\";\r\n      legendG.appendChild(favorableTextLegend);\r\n\r\n      const unfavorableRect = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\r\n      unfavorableRect.setAttribute(\"x\", \"120\");\r\n      unfavorableRect.setAttribute(\"y\", \"0\");\r\n      unfavorableRect.setAttribute(\"width\", \"12\");\r\n      unfavorableRect.setAttribute(\"height\", \"12\");\r\n      unfavorableRect.setAttribute(\"fill\", unfavorableColor);\r\n      legendG.appendChild(unfavorableRect);\r\n\r\n      const unfavorableTextLegend = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n      unfavorableTextLegend.setAttribute(\"x\", \"136\");\r\n      unfavorableTextLegend.setAttribute(\"y\", \"10\");\r\n      unfavorableTextLegend.setAttribute(\"font-size\", \"12\");\r\n      unfavorableTextLegend.textContent = \"Unfavorable\";\r\n      legendG.appendChild(unfavorableTextLegend);\r\n\r\n      g.appendChild(legendG);\r\n      svg.appendChild(g);\r\n    };\r\n\r\n    const renderChart = () => {\r\n      if (!chartRef.value) return;\r\n      renderChartContent(chartRef.value, tableRows.value, height.value);\r\n    };\r\n\r\n    const renderSeparatedCharts = () => {\r\n      Object.entries(separatedChartsData.value).forEach(([altId, altData]) => {\r\n        const svg = separatedChartRefs.value.get(altId);\r\n        if (svg) {\r\n          renderChartContent(svg, altData.tableRows, altData.chartHeight);\r\n        }\r\n      });\r\n    };\r\n\r\n    onMounted(() => {\r\n      if (props.selectedAlternative !== 'all-separated') {\r\n        renderChart();\r\n      } else {\r\n        nextTick(() => {\r\n          renderSeparatedCharts();\r\n        });\r\n      }\r\n    });\r\n\r\n    watch(() => props.selectedAlternative, async () => {\r\n      await nextTick();\r\n      if (props.selectedAlternative !== 'all-separated') {\r\n        renderChart();\r\n      } else {\r\n        renderSeparatedCharts();\r\n      }\r\n    });\r\n\r\n    watch(\r\n      () => [tableRows.value, props.analysisPer, props.selectedCriterion],\r\n      () => {\r\n        if (props.selectedAlternative !== 'all-separated') {\r\n          renderChart();\r\n        }\r\n      },\r\n      { deep: true }\r\n    );\r\n\r\n    watch(\r\n      () => [separatedChartsData.value, props.analysisPer, props.selectedCriterion],\r\n      () => {\r\n        if (props.selectedAlternative === 'all-separated') {\r\n          renderSeparatedCharts();\r\n        }\r\n      },\r\n      { deep: true }\r\n    );\r\n\r\n    // Get cell background color based on attitude value\r\n    const getCellColor = (attitude: number): string => {\r\n      const attitudeNum = parseFloat(String(attitude));\r\n      if (attitudeNum === 0) return \"#ffffff\";\r\n      if (attitudeNum < 0.35) return \"#f44336\"; // Red\r\n      if (attitudeNum < 0.50) return \"#ff9800\"; // Orange\r\n      if (attitudeNum < 0.60) return \"#ffc107\"; // Amber\r\n      return \"#4caf50\"; // Green\r\n    };\r\n\r\n    return {\r\n      chartRef,\r\n      width,\r\n      height,\r\n      groupByLabel,\r\n      alternativeLabel,\r\n      tableRows,\r\n      separatedChartsData,\r\n      setSvgRef,\r\n      renderChart,\r\n      renderSeparatedCharts,\r\n      getCellColor,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.bar-chart-container {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.alternative-title-header {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.chart-wrapper {\r\n  display: flex;\r\n  gap: 20px;\r\n  align-items: flex-start;\r\n}\r\n\r\n.chart-area {\r\n  flex: 1;\r\n  overflow-x: auto;\r\n}\r\n\r\n.horizontal-bars {\r\n  display: block;\r\n}\r\n\r\n.attitude-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 80px;\r\n  text-align: center;\r\n  gap: 0;\r\n}\r\n\r\n.attitude-header {\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  padding: 0 8px;\r\n  background-color: #f5f5f5;\r\n  margin-bottom: 0;\r\n  height: 60px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.attitude-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 40px;\r\n  border-bottom: 1px solid #eee;\r\n  padding: 0 8px;\r\n}\r\n\r\n.attitude-value {\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: #333;\r\n}\r\n\r\n.chart-wrapper-separated {\r\n  display: flex;\r\n  gap: 20px;\r\n  align-items: flex-start;\r\n}\r\n\r\n.attitude-column-left {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 80px;\r\n  text-align: center;\r\n  flex-shrink: 0;\r\n  border-right: 1px solid #ddd;\r\n  background: #fafafa;\r\n}\r\n\r\n.attitude-column-right {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 80px;\r\n  text-align: center;\r\n  flex-shrink: 0;\r\n  border-left: 1px solid #ddd;\r\n  background: #fafafa;\r\n}\r\n\r\n.attitude-column-left .attitude-header,\r\n.attitude-column-right .attitude-header {\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  color: #666;\r\n  padding: 12px 0;\r\n  height: 60px;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: center;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.attitude-column-left .attitude-item,\r\n.attitude-column-right .attitude-item {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-bottom: 1px solid #ddd;\r\n  padding: 4px 0;\r\n}\r\n\r\n.attitude-column-left .attitude-value,\r\n.attitude-column-right .attitude-value {\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: #333;\r\n}\r\n\r\n.chart-area {\r\n  overflow-x: auto;\r\n  flex: 1;\r\n}\r\n\r\n.separated-charts-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 30px;\r\n  width: 100%;\r\n}\r\n\r\n.alternative-chart-card {\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n  background-color: #fafafa;\r\n}\r\n\r\n.alternative-title {\r\n  margin: 0 0 15px 0;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n</style>\r\n","import { render } from \"./BarChart.vue?vue&type=template&id=ee8daa2e&scoped=true&ts=true\"\nimport script from \"./BarChart.vue?vue&type=script&lang=ts\"\nexport * from \"./BarChart.vue?vue&type=script&lang=ts\"\n\nimport \"./BarChart.vue?vue&type=style&index=0&id=ee8daa2e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ee8daa2e\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { class: \"circle-chart\" }\nconst _hoisted_2 = { class: \"alternative-title-header\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"table-container\"\n}\nconst _hoisted_4 = [\"width\", \"height\"]\nconst _hoisted_5 = { class: \"grid\" }\nconst _hoisted_6 = [\"x1\", \"x2\"]\nconst _hoisted_7 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_8 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_9 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_10 = [\"x1\", \"x2\", \"y2\"]\nconst _hoisted_11 = [\"x1\", \"x2\", \"y2\"]\nconst _hoisted_12 = { class: \"headers\" }\nconst _hoisted_13 = [\"x\", \"y\"]\nconst _hoisted_14 = [\"x\", \"y\"]\nconst _hoisted_15 = [\"x\", \"y\"]\nconst _hoisted_16 = [\"x\", \"y\"]\nconst _hoisted_17 = [\"x\", \"y\"]\nconst _hoisted_18 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_19 = [\"cx\", \"cy\", \"r\"]\nconst _hoisted_20 = [\"cx\", \"cy\", \"r\"]\nconst _hoisted_21 = [\"x\", \"y\"]\nconst _hoisted_22 = [\"x\", \"y\"]\nconst _hoisted_23 = [\"x\", \"y\"]\nconst _hoisted_24 = { class: \"footer-container\" }\nconst _hoisted_25 = {\n  key: 1,\n  class: \"separated-charts-container\"\n}\nconst _hoisted_26 = { class: \"alternative-title\" }\nconst _hoisted_27 = { class: \"table-container\" }\nconst _hoisted_28 = [\"width\", \"height\"]\nconst _hoisted_29 = { class: \"grid\" }\nconst _hoisted_30 = [\"x1\", \"x2\"]\nconst _hoisted_31 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_32 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_33 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_34 = [\"x1\", \"x2\", \"y2\"]\nconst _hoisted_35 = [\"x1\", \"x2\", \"y2\"]\nconst _hoisted_36 = { class: \"headers\" }\nconst _hoisted_37 = [\"x\", \"y\"]\nconst _hoisted_38 = [\"x\", \"y\"]\nconst _hoisted_39 = [\"x\", \"y\"]\nconst _hoisted_40 = [\"x\", \"y\"]\nconst _hoisted_41 = [\"x\", \"y\"]\nconst _hoisted_42 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_43 = [\"cx\", \"cy\", \"r\"]\nconst _hoisted_44 = [\"cx\", \"cy\", \"r\"]\nconst _hoisted_45 = [\"x\", \"y\"]\nconst _hoisted_46 = [\"x\", \"y\"]\nconst _hoisted_47 = [\"x\", \"y\"]\nconst _hoisted_48 = { class: \"footer-container\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.alternativeTitle), 1),\n    (_ctx.selectedAlternative !== 'all-separated')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n          (_openBlock(), _createElementBlock(\"svg\", {\n            width: _ctx.tableWidth,\n            height: _ctx.tableHeight,\n            class: \"circle-svg\"\n          }, [\n            _createElementVNode(\"g\", _hoisted_5, [\n              _createElementVNode(\"line\", {\n                x1: _ctx.labelWidth,\n                y1: 0,\n                x2: _ctx.tableWidth,\n                y2: 0,\n                stroke: \"#ddd\",\n                \"stroke-width\": \"1\"\n              }, null, 8, _hoisted_6),\n              _createElementVNode(\"line\", {\n                x1: _ctx.labelWidth,\n                y1: _ctx.headerHeight,\n                x2: _ctx.tableWidth,\n                y2: _ctx.headerHeight,\n                stroke: \"#ddd\",\n                \"stroke-width\": \"1\"\n              }, null, 8, _hoisted_7),\n              _createElementVNode(\"line\", {\n                x1: _ctx.labelWidth,\n                y1: _ctx.headerHeight + _ctx.rowHeight,\n                x2: _ctx.tableWidth,\n                y2: _ctx.headerHeight + _ctx.rowHeight,\n                stroke: \"#ddd\",\n                \"stroke-width\": \"1\"\n              }, null, 8, _hoisted_8),\n              _createElementVNode(\"line\", {\n                x1: _ctx.labelWidth,\n                y1: _ctx.headerHeight + _ctx.rowHeight * 2,\n                x2: _ctx.tableWidth,\n                y2: _ctx.headerHeight + _ctx.rowHeight * 2,\n                stroke: \"#ddd\",\n                \"stroke-width\": \"1\"\n              }, null, 8, _hoisted_9),\n              _createElementVNode(\"line\", {\n                x1: _ctx.labelWidth,\n                y1: 0,\n                x2: _ctx.labelWidth,\n                y2: _ctx.headerHeight + _ctx.rowHeight * 2,\n                stroke: \"#ddd\",\n                \"stroke-width\": \"1\"\n              }, null, 8, _hoisted_10),\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.itemsData.length, (index) => {\n                return (_openBlock(), _createElementBlock(\"line\", {\n                  key: 'vline-' + index,\n                  x1: _ctx.labelWidth + index * _ctx.cellWidth,\n                  y1: 0,\n                  x2: _ctx.labelWidth + index * _ctx.cellWidth,\n                  y2: _ctx.headerHeight + _ctx.rowHeight * 2,\n                  stroke: \"#ddd\",\n                  \"stroke-width\": \"1\"\n                }, null, 8, _hoisted_11))\n              }), 128))\n            ]),\n            _createElementVNode(\"g\", _hoisted_12, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.itemsData, (data, index) => {\n                return (_openBlock(), _createElementBlock(\"g\", {\n                  key: 'header-' + data.itemId\n                }, [\n                  (!_ctx.getSplitText(data.itemName).line2)\n                    ? (_openBlock(), _createElementBlock(\"text\", {\n                        key: 0,\n                        x: _ctx.getCellCenterX(index),\n                        y: _ctx.headerHeight / 2 + 5,\n                        \"text-anchor\": \"middle\",\n                        \"font-size\": \"13\",\n                        \"font-weight\": \"500\",\n                        fill: \"#333\"\n                      }, _toDisplayString(_ctx.getSplitText(data.itemName).line1), 9, _hoisted_13))\n                    : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        _createElementVNode(\"text\", {\n                          x: _ctx.getCellCenterX(index),\n                          y: _ctx.headerHeight / 2 - 5,\n                          \"text-anchor\": \"middle\",\n                          \"font-size\": \"13\",\n                          \"font-weight\": \"500\",\n                          fill: \"#333\"\n                        }, _toDisplayString(_ctx.getSplitText(data.itemName).line1), 9, _hoisted_14),\n                        _createElementVNode(\"text\", {\n                          x: _ctx.getCellCenterX(index),\n                          y: _ctx.headerHeight / 2 + 10,\n                          \"text-anchor\": \"middle\",\n                          \"font-size\": \"13\",\n                          \"font-weight\": \"500\",\n                          fill: \"#333\"\n                        }, _toDisplayString(_ctx.getSplitText(data.itemName).line2), 9, _hoisted_15)\n                      ], 64))\n                ]))\n              }), 128))\n            ]),\n            _createElementVNode(\"text\", {\n              x: _ctx.labelWidth / 2,\n              y: _ctx.headerHeight + _ctx.rowHeight / 2 + 5,\n              \"text-anchor\": \"middle\",\n              \"font-size\": \"18\",\n              \"font-weight\": \"500\",\n              fill: \"#333\"\n            }, \" + \", 8, _hoisted_16),\n            _createElementVNode(\"text\", {\n              x: _ctx.labelWidth / 2,\n              y: _ctx.headerHeight + _ctx.rowHeight * 1.5 + 5,\n              \"text-anchor\": \"middle\",\n              \"font-size\": \"18\",\n              \"font-weight\": \"500\",\n              fill: \"#333\"\n            }, \" - \", 8, _hoisted_17),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.itemsData, (data, index) => {\n              return (_openBlock(), _createElementBlock(\"g\", {\n                key: 'circles-' + data.itemId\n              }, [\n                (data.favorable > 0 && data.unfavorable > 0)\n                  ? (_openBlock(), _createElementBlock(\"line\", {\n                      key: 0,\n                      x1: _ctx.getCellCenterX(index),\n                      y1: _ctx.getFavorableY() + _ctx.getCircleRadius(data.favorable),\n                      x2: _ctx.getCellCenterX(index),\n                      y2: _ctx.getUnfavorableY() - _ctx.getCircleRadius(data.unfavorable),\n                      stroke: \"#999\",\n                      \"stroke-width\": \"1\",\n                      \"stroke-dasharray\": \"3,3\"\n                    }, null, 8, _hoisted_18))\n                  : _createCommentVNode(\"\", true),\n                (data.favorable > 0)\n                  ? (_openBlock(), _createElementBlock(\"circle\", {\n                      key: 1,\n                      cx: _ctx.getCellCenterX(index),\n                      cy: _ctx.getFavorableY(),\n                      r: _ctx.getCircleRadius(data.favorable),\n                      fill: \"#4CAF50\",\n                      stroke: \"white\",\n                      \"stroke-width\": \"2\"\n                    }, null, 8, _hoisted_19))\n                  : _createCommentVNode(\"\", true),\n                (data.unfavorable > 0)\n                  ? (_openBlock(), _createElementBlock(\"circle\", {\n                      key: 2,\n                      cx: _ctx.getCellCenterX(index),\n                      cy: _ctx.getUnfavorableY(),\n                      r: _ctx.getCircleRadius(data.unfavorable),\n                      fill: \"#F44336\",\n                      stroke: \"white\",\n                      \"stroke-width\": \"2\"\n                    }, null, 8, _hoisted_20))\n                  : _createCommentVNode(\"\", true),\n                (data.favorable > 0)\n                  ? (_openBlock(), _createElementBlock(\"text\", {\n                      key: 3,\n                      x: _ctx.getCellCenterX(index),\n                      y: _ctx.getFavorableY() + 5,\n                      \"text-anchor\": \"middle\",\n                      \"font-size\": \"14\",\n                      \"font-weight\": \"bold\",\n                      fill: \"white\"\n                    }, _toDisplayString(data.favorable), 9, _hoisted_21))\n                  : _createCommentVNode(\"\", true),\n                (data.unfavorable > 0)\n                  ? (_openBlock(), _createElementBlock(\"text\", {\n                      key: 4,\n                      x: _ctx.getCellCenterX(index),\n                      y: _ctx.getUnfavorableY() + 5,\n                      \"text-anchor\": \"middle\",\n                      \"font-size\": \"14\",\n                      \"font-weight\": \"bold\",\n                      fill: \"white\"\n                    }, _toDisplayString(data.unfavorable), 9, _hoisted_22))\n                  : _createCommentVNode(\"\", true)\n              ]))\n            }), 128)),\n            _createElementVNode(\"text\", {\n              x: _ctx.labelWidth / 2,\n              y: _ctx.headerHeight / 2 + 5,\n              \"text-anchor\": \"middle\",\n              \"font-size\": \"11\",\n              \"font-weight\": \"500\",\n              fill: \"#666\"\n            }, _toDisplayString(_ctx.analysisPer === \"stakeholder\" ? \"Stakeholder\" : \"Criterion\"), 9, _hoisted_23)\n          ], 8, _hoisted_4)),\n          _createElementVNode(\"div\", _hoisted_24, [\n            _cache[0] || (_cache[0] = _createElementVNode(\"div\", { class: \"footer-label\" }, [\n              _createElementVNode(\"span\", null, \"Collective attitude\")\n            ], -1)),\n            _createElementVNode(\"div\", {\n              class: \"footer-values\",\n              style: _normalizeStyle({ width: (_ctx.tableWidth - _ctx.labelWidth) + 'px' })\n            }, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.itemsData, (data, index) => {\n                return (_openBlock(), _createElementBlock(\"div\", {\n                  key: 'footer-' + data.itemId,\n                  class: \"attitude-cell\",\n                  style: _normalizeStyle({ left: (index * _ctx.cellWidth) + 'px', width: _ctx.cellWidth + 'px' })\n                }, _toDisplayString(data.attitude.toFixed(2)), 5))\n              }), 128))\n            ], 4)\n          ])\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.separatedChartsData, (altData, altId) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              key: altId,\n              class: \"alternative-chart-card\"\n            }, [\n              _createElementVNode(\"h3\", _hoisted_26, _toDisplayString(altData.name), 1),\n              _createElementVNode(\"div\", _hoisted_27, [\n                (_openBlock(), _createElementBlock(\"svg\", {\n                  width: altData.tableWidth,\n                  height: altData.tableHeight,\n                  class: \"circle-svg\"\n                }, [\n                  _createElementVNode(\"g\", _hoisted_29, [\n                    _createElementVNode(\"line\", {\n                      x1: _ctx.labelWidth,\n                      y1: 0,\n                      x2: altData.tableWidth,\n                      y2: 0,\n                      stroke: \"#ddd\",\n                      \"stroke-width\": \"1\"\n                    }, null, 8, _hoisted_30),\n                    _createElementVNode(\"line\", {\n                      x1: _ctx.labelWidth,\n                      y1: _ctx.headerHeight,\n                      x2: altData.tableWidth,\n                      y2: _ctx.headerHeight,\n                      stroke: \"#ddd\",\n                      \"stroke-width\": \"1\"\n                    }, null, 8, _hoisted_31),\n                    _createElementVNode(\"line\", {\n                      x1: _ctx.labelWidth,\n                      y1: _ctx.headerHeight + _ctx.rowHeight,\n                      x2: altData.tableWidth,\n                      y2: _ctx.headerHeight + _ctx.rowHeight,\n                      stroke: \"#ddd\",\n                      \"stroke-width\": \"1\"\n                    }, null, 8, _hoisted_32),\n                    _createElementVNode(\"line\", {\n                      x1: _ctx.labelWidth,\n                      y1: _ctx.headerHeight + _ctx.rowHeight * 2,\n                      x2: altData.tableWidth,\n                      y2: _ctx.headerHeight + _ctx.rowHeight * 2,\n                      stroke: \"#ddd\",\n                      \"stroke-width\": \"1\"\n                    }, null, 8, _hoisted_33),\n                    _createElementVNode(\"line\", {\n                      x1: _ctx.labelWidth,\n                      y1: 0,\n                      x2: _ctx.labelWidth,\n                      y2: _ctx.headerHeight + _ctx.rowHeight * 2,\n                      stroke: \"#ddd\",\n                      \"stroke-width\": \"1\"\n                    }, null, 8, _hoisted_34),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(altData.itemsData.length, (index) => {\n                      return (_openBlock(), _createElementBlock(\"line\", {\n                        key: 'vline-alt-' + altId + '-' + index,\n                        x1: _ctx.labelWidth + index * altData.cellWidth,\n                        y1: 0,\n                        x2: _ctx.labelWidth + index * altData.cellWidth,\n                        y2: _ctx.headerHeight + _ctx.rowHeight * 2,\n                        stroke: \"#ddd\",\n                        \"stroke-width\": \"1\"\n                      }, null, 8, _hoisted_35))\n                    }), 128))\n                  ]),\n                  _createElementVNode(\"g\", _hoisted_36, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(altData.itemsData, (data, index) => {\n                      return (_openBlock(), _createElementBlock(\"g\", {\n                        key: 'header-alt-' + altId + '-' + data.itemId\n                      }, [\n                        (!_ctx.getSplitText(data.itemName).line2)\n                          ? (_openBlock(), _createElementBlock(\"text\", {\n                              key: 0,\n                              x: _ctx.labelWidth + index * altData.cellWidth + altData.cellWidth / 2,\n                              y: _ctx.headerHeight / 2 + 5,\n                              \"text-anchor\": \"middle\",\n                              \"font-size\": \"13\",\n                              \"font-weight\": \"500\",\n                              fill: \"#333\"\n                            }, _toDisplayString(_ctx.getSplitText(data.itemName).line1), 9, _hoisted_37))\n                          : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                              _createElementVNode(\"text\", {\n                                x: _ctx.labelWidth + index * altData.cellWidth + altData.cellWidth / 2,\n                                y: _ctx.headerHeight / 2 - 5,\n                                \"text-anchor\": \"middle\",\n                                \"font-size\": \"13\",\n                                \"font-weight\": \"500\",\n                                fill: \"#333\"\n                              }, _toDisplayString(_ctx.getSplitText(data.itemName).line1), 9, _hoisted_38),\n                              _createElementVNode(\"text\", {\n                                x: _ctx.labelWidth + index * altData.cellWidth + altData.cellWidth / 2,\n                                y: _ctx.headerHeight / 2 + 10,\n                                \"text-anchor\": \"middle\",\n                                \"font-size\": \"13\",\n                                \"font-weight\": \"500\",\n                                fill: \"#333\"\n                              }, _toDisplayString(_ctx.getSplitText(data.itemName).line2), 9, _hoisted_39)\n                            ], 64))\n                      ]))\n                    }), 128))\n                  ]),\n                  _createElementVNode(\"text\", {\n                    x: _ctx.labelWidth / 2,\n                    y: _ctx.headerHeight + _ctx.rowHeight / 2 + 5,\n                    \"text-anchor\": \"middle\",\n                    \"font-size\": \"18\",\n                    \"font-weight\": \"500\",\n                    fill: \"#333\"\n                  }, \" + \", 8, _hoisted_40),\n                  _createElementVNode(\"text\", {\n                    x: _ctx.labelWidth / 2,\n                    y: _ctx.headerHeight + _ctx.rowHeight * 1.5 + 5,\n                    \"text-anchor\": \"middle\",\n                    \"font-size\": \"18\",\n                    \"font-weight\": \"500\",\n                    fill: \"#333\"\n                  }, \" - \", 8, _hoisted_41),\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(altData.itemsData, (data, index) => {\n                    return (_openBlock(), _createElementBlock(\"g\", {\n                      key: 'circles-alt-' + altId + '-' + data.itemId\n                    }, [\n                      (data.favorable > 0 && data.unfavorable > 0)\n                        ? (_openBlock(), _createElementBlock(\"line\", {\n                            key: 0,\n                            x1: _ctx.labelWidth + index * altData.cellWidth + altData.cellWidth / 2,\n                            y1: _ctx.headerHeight + _ctx.rowHeight / 2 + _ctx.getCircleRadiusSeparated(data.favorable, altData.itemsData),\n                            x2: _ctx.labelWidth + index * altData.cellWidth + altData.cellWidth / 2,\n                            y2: _ctx.headerHeight + _ctx.rowHeight * 1.5 - _ctx.getCircleRadiusSeparated(data.unfavorable, altData.itemsData),\n                            stroke: \"#999\",\n                            \"stroke-width\": \"1\",\n                            \"stroke-dasharray\": \"3,3\"\n                          }, null, 8, _hoisted_42))\n                        : _createCommentVNode(\"\", true),\n                      (data.favorable > 0)\n                        ? (_openBlock(), _createElementBlock(\"circle\", {\n                            key: 1,\n                            cx: _ctx.labelWidth + index * altData.cellWidth + altData.cellWidth / 2,\n                            cy: _ctx.headerHeight + _ctx.rowHeight / 2,\n                            r: _ctx.getCircleRadiusSeparated(data.favorable, altData.itemsData),\n                            fill: \"#4CAF50\",\n                            stroke: \"white\",\n                            \"stroke-width\": \"2\"\n                          }, null, 8, _hoisted_43))\n                        : _createCommentVNode(\"\", true),\n                      (data.unfavorable > 0)\n                        ? (_openBlock(), _createElementBlock(\"circle\", {\n                            key: 2,\n                            cx: _ctx.labelWidth + index * altData.cellWidth + altData.cellWidth / 2,\n                            cy: _ctx.headerHeight + _ctx.rowHeight * 1.5,\n                            r: _ctx.getCircleRadiusSeparated(data.unfavorable, altData.itemsData),\n                            fill: \"#F44336\",\n                            stroke: \"white\",\n                            \"stroke-width\": \"2\"\n                          }, null, 8, _hoisted_44))\n                        : _createCommentVNode(\"\", true),\n                      (data.favorable > 0)\n                        ? (_openBlock(), _createElementBlock(\"text\", {\n                            key: 3,\n                            x: _ctx.labelWidth + index * altData.cellWidth + altData.cellWidth / 2,\n                            y: _ctx.headerHeight + _ctx.rowHeight / 2 + 5,\n                            \"text-anchor\": \"middle\",\n                            \"font-size\": \"14\",\n                            \"font-weight\": \"bold\",\n                            fill: \"white\"\n                          }, _toDisplayString(data.favorable), 9, _hoisted_45))\n                        : _createCommentVNode(\"\", true),\n                      (data.unfavorable > 0)\n                        ? (_openBlock(), _createElementBlock(\"text\", {\n                            key: 4,\n                            x: _ctx.labelWidth + index * altData.cellWidth + altData.cellWidth / 2,\n                            y: _ctx.headerHeight + _ctx.rowHeight * 1.5 + 5,\n                            \"text-anchor\": \"middle\",\n                            \"font-size\": \"14\",\n                            \"font-weight\": \"bold\",\n                            fill: \"white\"\n                          }, _toDisplayString(data.unfavorable), 9, _hoisted_46))\n                        : _createCommentVNode(\"\", true)\n                    ]))\n                  }), 128)),\n                  _createElementVNode(\"text\", {\n                    x: _ctx.labelWidth / 2,\n                    y: _ctx.headerHeight / 2 + 5,\n                    \"text-anchor\": \"middle\",\n                    \"font-size\": \"11\",\n                    \"font-weight\": \"500\",\n                    fill: \"#666\"\n                  }, _toDisplayString(_ctx.analysisPer === \"stakeholder\" ? \"Stakeholder\" : \"Criterion\"), 9, _hoisted_47)\n                ], 8, _hoisted_28)),\n                _createElementVNode(\"div\", _hoisted_48, [\n                  _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"footer-label\" }, [\n                    _createElementVNode(\"span\", null, \"Collective attitude\")\n                  ], -1)),\n                  _createElementVNode(\"div\", {\n                    class: \"footer-values\",\n                    style: _normalizeStyle({ width: (altData.tableWidth - _ctx.labelWidth) + 'px' })\n                  }, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(altData.itemsData, (data, index) => {\n                      return (_openBlock(), _createElementBlock(\"div\", {\n                        key: 'footer-alt-' + altId + '-' + data.itemId,\n                        class: \"attitude-cell\",\n                        style: _normalizeStyle({ left: (index * altData.cellWidth) + 'px', width: altData.cellWidth + 'px' })\n                      }, _toDisplayString(data.attitude.toFixed(2)), 5))\n                    }), 128))\n                  ], 4)\n                ])\n              ])\n            ]))\n          }), 128))\n        ]))\n  ]))\n}","<template>\r\n  <div class=\"circle-chart\">\r\n    <!-- Alternative title header (always shown) -->\r\n    <div class=\"alternative-title-header\">{{ alternativeTitle }}</div>\r\n\r\n    <!-- Mode merged: single chart -->\r\n    <template v-if=\"selectedAlternative !== 'all-separated'\">\r\n      <div class=\"table-container\">\r\n        <svg :width=\"tableWidth\" :height=\"tableHeight\" class=\"circle-svg\">\r\n          <!-- Grid lines -->\r\n          <g class=\"grid\">\r\n            <!-- Horizontal lines -->\r\n            <line :x1=\"labelWidth\" :y1=\"0\" :x2=\"tableWidth\" :y2=\"0\" stroke=\"#ddd\" stroke-width=\"1\" />\r\n            <line :x1=\"labelWidth\" :y1=\"headerHeight\" :x2=\"tableWidth\" :y2=\"headerHeight\" stroke=\"#ddd\" stroke-width=\"1\" />\r\n            <line :x1=\"labelWidth\" :y1=\"headerHeight + rowHeight\" :x2=\"tableWidth\" :y2=\"headerHeight + rowHeight\" stroke=\"#ddd\" stroke-width=\"1\" />\r\n            <line :x1=\"labelWidth\" :y1=\"headerHeight + rowHeight * 2\" :x2=\"tableWidth\" :y2=\"headerHeight + rowHeight * 2\" stroke=\"#ddd\" stroke-width=\"1\" />\r\n            \r\n            <!-- Vertical lines -->\r\n            <line :x1=\"labelWidth\" :y1=\"0\" :x2=\"labelWidth\" :y2=\"headerHeight + rowHeight * 2\" stroke=\"#ddd\" stroke-width=\"1\" />\r\n            <line\r\n              v-for=\"index in itemsData.length\"\r\n              :key=\"'vline-' + index\"\r\n              :x1=\"labelWidth + index * cellWidth\"\r\n              :y1=\"0\"\r\n              :x2=\"labelWidth + index * cellWidth\"\r\n              :y2=\"headerHeight + rowHeight * 2\"\r\n              stroke=\"#ddd\"\r\n              stroke-width=\"1\"\r\n            />\r\n          </g>\r\n\r\n          <!-- Header row with criterion names -->\r\n          <g class=\"headers\">\r\n            <g v-for=\"(data, index) in itemsData\" :key=\"'header-' + data.itemId\">\r\n              <text\r\n                v-if=\"!getSplitText(data.itemName).line2\"\r\n                :x=\"getCellCenterX(index)\"\r\n                :y=\"headerHeight / 2 + 5\"\r\n                text-anchor=\"middle\"\r\n                font-size=\"13\"\r\n                font-weight=\"500\"\r\n                fill=\"#333\"\r\n              >\r\n                {{ getSplitText(data.itemName).line1 }}\r\n              </text>\r\n              <template v-else>\r\n                <text\r\n                  :x=\"getCellCenterX(index)\"\r\n                  :y=\"headerHeight / 2 - 5\"\r\n                  text-anchor=\"middle\"\r\n                  font-size=\"13\"\r\n                  font-weight=\"500\"\r\n                  fill=\"#333\"\r\n                >\r\n                  {{ getSplitText(data.itemName).line1 }}\r\n                </text>\r\n                <text\r\n                  :x=\"getCellCenterX(index)\"\r\n                  :y=\"headerHeight / 2 + 10\"\r\n                  text-anchor=\"middle\"\r\n                  font-size=\"13\"\r\n                  font-weight=\"500\"\r\n                  fill=\"#333\"\r\n                >\r\n                  {{ getSplitText(data.itemName).line2 }}\r\n                </text>\r\n              </template>\r\n            </g>\r\n          </g>\r\n\r\n          <!-- Row labels -->\r\n          <text\r\n            :x=\"labelWidth / 2\"\r\n            :y=\"headerHeight + rowHeight / 2 + 5\"\r\n            text-anchor=\"middle\"\r\n            font-size=\"18\"\r\n            font-weight=\"500\"\r\n            fill=\"#333\"\r\n          >\r\n            +\r\n          </text>\r\n          <text\r\n            :x=\"labelWidth / 2\"\r\n            :y=\"headerHeight + rowHeight * 1.5 + 5\"\r\n            text-anchor=\"middle\"\r\n            font-size=\"18\"\r\n            font-weight=\"500\"\r\n            fill=\"#333\"\r\n          >\r\n            -\r\n          </text>\r\n\r\n          <!-- Circles and connecting lines -->\r\n          <g v-for=\"(data, index) in itemsData\" :key=\"'circles-' + data.itemId\">\r\n            <!-- Connecting line -->\r\n            <line\r\n              v-if=\"data.favorable > 0 && data.unfavorable > 0\"\r\n              :x1=\"getCellCenterX(index)\"\r\n              :y1=\"getFavorableY() + getCircleRadius(data.favorable)\"\r\n              :x2=\"getCellCenterX(index)\"\r\n              :y2=\"getUnfavorableY() - getCircleRadius(data.unfavorable)\"\r\n              stroke=\"#999\"\r\n              stroke-width=\"1\"\r\n              stroke-dasharray=\"3,3\"\r\n            />\r\n            \r\n            <!-- Favorable circle (green) -->\r\n            <circle\r\n              v-if=\"data.favorable > 0\"\r\n              :cx=\"getCellCenterX(index)\"\r\n              :cy=\"getFavorableY()\"\r\n              :r=\"getCircleRadius(data.favorable)\"\r\n              fill=\"#4CAF50\"\r\n              stroke=\"white\"\r\n              stroke-width=\"2\"\r\n            />\r\n            \r\n            <!-- Unfavorable circle (red) -->\r\n            <circle\r\n              v-if=\"data.unfavorable > 0\"\r\n              :cx=\"getCellCenterX(index)\"\r\n              :cy=\"getUnfavorableY()\"\r\n              :r=\"getCircleRadius(data.unfavorable)\"\r\n              fill=\"#F44336\"\r\n              stroke=\"white\"\r\n              stroke-width=\"2\"\r\n            />\r\n            \r\n            <!-- Favorable count text -->\r\n            <text\r\n              v-if=\"data.favorable > 0\"\r\n              :x=\"getCellCenterX(index)\"\r\n              :y=\"getFavorableY() + 5\"\r\n              text-anchor=\"middle\"\r\n              font-size=\"14\"\r\n              font-weight=\"bold\"\r\n              fill=\"white\"\r\n            >\r\n              {{ data.favorable }}\r\n            </text>\r\n            \r\n            <!-- Unfavorable count text -->\r\n            <text\r\n              v-if=\"data.unfavorable > 0\"\r\n              :x=\"getCellCenterX(index)\"\r\n              :y=\"getUnfavorableY() + 5\"\r\n              text-anchor=\"middle\"\r\n              font-size=\"14\"\r\n              font-weight=\"bold\"\r\n              fill=\"white\"\r\n            >\r\n              {{ data.unfavorable }}\r\n            </text>\r\n          </g>\r\n\r\n          <!-- Criterion/Stakeholder label in header row -->\r\n          <text\r\n            :x=\"labelWidth / 2\"\r\n            :y=\"headerHeight / 2 + 5\"\r\n            text-anchor=\"middle\"\r\n            font-size=\"11\"\r\n            font-weight=\"500\"\r\n            fill=\"#666\"\r\n          >\r\n            {{ analysisPer === \"stakeholder\" ? \"Stakeholder\" : \"Criterion\" }}\r\n          </text>\r\n        </svg>\r\n\r\n        <!-- Footer with collective attitude -->\r\n        <div class=\"footer-container\">\r\n          <div class=\"footer-label\">\r\n            <span>Collective attitude</span>\r\n          </div>\r\n          <div class=\"footer-values\" :style=\"{ width: (tableWidth - labelWidth) + 'px' }\">\r\n            <div\r\n              v-for=\"(data, index) in itemsData\"\r\n              :key=\"'footer-' + data.itemId\"\r\n              class=\"attitude-cell\"\r\n              :style=\"{ left: (index * cellWidth) + 'px', width: cellWidth + 'px' }\"\r\n            >\r\n              {{ data.attitude.toFixed(2) }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n    <!-- Mode separated: multiple charts, one per alternative -->\r\n    <template v-else>\r\n      <div class=\"separated-charts-container\">\r\n        <div\r\n          v-for=\"(altData, altId) in separatedChartsData\"\r\n          :key=\"altId\"\r\n          class=\"alternative-chart-card\"\r\n        >\r\n          <h3 class=\"alternative-title\">{{ altData.name }}</h3>\r\n          <div class=\"table-container\">\r\n            <svg :width=\"altData.tableWidth\" :height=\"altData.tableHeight\" class=\"circle-svg\">\r\n              <!-- Grid lines -->\r\n              <g class=\"grid\">\r\n                <!-- Horizontal lines -->\r\n                <line :x1=\"labelWidth\" :y1=\"0\" :x2=\"altData.tableWidth\" :y2=\"0\" stroke=\"#ddd\" stroke-width=\"1\" />\r\n                <line :x1=\"labelWidth\" :y1=\"headerHeight\" :x2=\"altData.tableWidth\" :y2=\"headerHeight\" stroke=\"#ddd\" stroke-width=\"1\" />\r\n                <line :x1=\"labelWidth\" :y1=\"headerHeight + rowHeight\" :x2=\"altData.tableWidth\" :y2=\"headerHeight + rowHeight\" stroke=\"#ddd\" stroke-width=\"1\" />\r\n                <line :x1=\"labelWidth\" :y1=\"headerHeight + rowHeight * 2\" :x2=\"altData.tableWidth\" :y2=\"headerHeight + rowHeight * 2\" stroke=\"#ddd\" stroke-width=\"1\" />\r\n                \r\n                <!-- Vertical lines -->\r\n                <line :x1=\"labelWidth\" :y1=\"0\" :x2=\"labelWidth\" :y2=\"headerHeight + rowHeight * 2\" stroke=\"#ddd\" stroke-width=\"1\" />\r\n                <line\r\n                  v-for=\"index in altData.itemsData.length\"\r\n                  :key=\"'vline-alt-' + altId + '-' + index\"\r\n                  :x1=\"labelWidth + index * altData.cellWidth\"\r\n                  :y1=\"0\"\r\n                  :x2=\"labelWidth + index * altData.cellWidth\"\r\n                  :y2=\"headerHeight + rowHeight * 2\"\r\n                  stroke=\"#ddd\"\r\n                  stroke-width=\"1\"\r\n                />\r\n              </g>\r\n\r\n              <!-- Header row with criterion names -->\r\n              <g class=\"headers\">\r\n                <g v-for=\"(data, index) in altData.itemsData\" :key=\"'header-alt-' + altId + '-' + data.itemId\">\r\n                  <text\r\n                    v-if=\"!getSplitText(data.itemName).line2\"\r\n                    :x=\"labelWidth + index * altData.cellWidth + altData.cellWidth / 2\"\r\n                    :y=\"headerHeight / 2 + 5\"\r\n                    text-anchor=\"middle\"\r\n                    font-size=\"13\"\r\n                    font-weight=\"500\"\r\n                    fill=\"#333\"\r\n                  >\r\n                    {{ getSplitText(data.itemName).line1 }}\r\n                  </text>\r\n                  <template v-else>\r\n                    <text\r\n                      :x=\"labelWidth + index * altData.cellWidth + altData.cellWidth / 2\"\r\n                      :y=\"headerHeight / 2 - 5\"\r\n                      text-anchor=\"middle\"\r\n                      font-size=\"13\"\r\n                      font-weight=\"500\"\r\n                      fill=\"#333\"\r\n                    >\r\n                      {{ getSplitText(data.itemName).line1 }}\r\n                    </text>\r\n                    <text\r\n                      :x=\"labelWidth + index * altData.cellWidth + altData.cellWidth / 2\"\r\n                      :y=\"headerHeight / 2 + 10\"\r\n                      text-anchor=\"middle\"\r\n                      font-size=\"13\"\r\n                      font-weight=\"500\"\r\n                      fill=\"#333\"\r\n                    >\r\n                      {{ getSplitText(data.itemName).line2 }}\r\n                    </text>\r\n                  </template>\r\n                </g>\r\n              </g>\r\n\r\n              <!-- Row labels -->\r\n              <text\r\n                :x=\"labelWidth / 2\"\r\n                :y=\"headerHeight + rowHeight / 2 + 5\"\r\n                text-anchor=\"middle\"\r\n                font-size=\"18\"\r\n                font-weight=\"500\"\r\n                fill=\"#333\"\r\n              >\r\n                +\r\n              </text>\r\n              <text\r\n                :x=\"labelWidth / 2\"\r\n                :y=\"headerHeight + rowHeight * 1.5 + 5\"\r\n                text-anchor=\"middle\"\r\n                font-size=\"18\"\r\n                font-weight=\"500\"\r\n                fill=\"#333\"\r\n              >\r\n                -\r\n              </text>\r\n\r\n              <!-- Circles and connecting lines -->\r\n              <g v-for=\"(data, index) in altData.itemsData\" :key=\"'circles-alt-' + altId + '-' + data.itemId\">\r\n                <!-- Connecting line -->\r\n                <line\r\n                  v-if=\"data.favorable > 0 && data.unfavorable > 0\"\r\n                  :x1=\"labelWidth + index * altData.cellWidth + altData.cellWidth / 2\"\r\n                  :y1=\"headerHeight + rowHeight / 2 + getCircleRadiusSeparated(data.favorable, altData.itemsData)\"\r\n                  :x2=\"labelWidth + index * altData.cellWidth + altData.cellWidth / 2\"\r\n                  :y2=\"headerHeight + rowHeight * 1.5 - getCircleRadiusSeparated(data.unfavorable, altData.itemsData)\"\r\n                  stroke=\"#999\"\r\n                  stroke-width=\"1\"\r\n                  stroke-dasharray=\"3,3\"\r\n                />\r\n                \r\n                <!-- Favorable circle (green) -->\r\n                <circle\r\n                  v-if=\"data.favorable > 0\"\r\n                  :cx=\"labelWidth + index * altData.cellWidth + altData.cellWidth / 2\"\r\n                  :cy=\"headerHeight + rowHeight / 2\"\r\n                  :r=\"getCircleRadiusSeparated(data.favorable, altData.itemsData)\"\r\n                  fill=\"#4CAF50\"\r\n                  stroke=\"white\"\r\n                  stroke-width=\"2\"\r\n                />\r\n                \r\n                <!-- Unfavorable circle (red) -->\r\n                <circle\r\n                  v-if=\"data.unfavorable > 0\"\r\n                  :cx=\"labelWidth + index * altData.cellWidth + altData.cellWidth / 2\"\r\n                  :cy=\"headerHeight + rowHeight * 1.5\"\r\n                  :r=\"getCircleRadiusSeparated(data.unfavorable, altData.itemsData)\"\r\n                  fill=\"#F44336\"\r\n                  stroke=\"white\"\r\n                  stroke-width=\"2\"\r\n                />\r\n                \r\n                <!-- Favorable count text -->\r\n                <text\r\n                  v-if=\"data.favorable > 0\"\r\n                  :x=\"labelWidth + index * altData.cellWidth + altData.cellWidth / 2\"\r\n                  :y=\"headerHeight + rowHeight / 2 + 5\"\r\n                  text-anchor=\"middle\"\r\n                  font-size=\"14\"\r\n                  font-weight=\"bold\"\r\n                  fill=\"white\"\r\n                >\r\n                  {{ data.favorable }}\r\n                </text>\r\n                \r\n                <!-- Unfavorable count text -->\r\n                <text\r\n                  v-if=\"data.unfavorable > 0\"\r\n                  :x=\"labelWidth + index * altData.cellWidth + altData.cellWidth / 2\"\r\n                  :y=\"headerHeight + rowHeight * 1.5 + 5\"\r\n                  text-anchor=\"middle\"\r\n                  font-size=\"14\"\r\n                  font-weight=\"bold\"\r\n                  fill=\"white\"\r\n                >\r\n                  {{ data.unfavorable }}\r\n                </text>\r\n              </g>\r\n\r\n              <!-- Criterion/Stakeholder label in header row -->\r\n              <text\r\n                :x=\"labelWidth / 2\"\r\n                :y=\"headerHeight / 2 + 5\"\r\n                text-anchor=\"middle\"\r\n                font-size=\"11\"\r\n                font-weight=\"500\"\r\n                fill=\"#666\"\r\n              >\r\n                {{ analysisPer === \"stakeholder\" ? \"Stakeholder\" : \"Criterion\" }}\r\n              </text>\r\n            </svg>\r\n\r\n            <!-- Footer with collective attitude -->\r\n            <div class=\"footer-container\">\r\n              <div class=\"footer-label\">\r\n                <span>Collective attitude</span>\r\n              </div>\r\n              <div class=\"footer-values\" :style=\"{ width: (altData.tableWidth - labelWidth) + 'px' }\">\r\n                <div\r\n                  v-for=\"(data, index) in altData.itemsData\"\r\n                  :key=\"'footer-alt-' + altId + '-' + data.itemId\"\r\n                  class=\"attitude-cell\"\r\n                  :style=\"{ left: (index * altData.cellWidth) + 'px', width: altData.cellWidth + 'px' }\"\r\n                >\r\n                  {{ data.attitude.toFixed(2) }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed, PropType } from \"vue\";\r\nimport { NormalizedArgument, NormalizedObject } from \"@/@types\";\r\n\r\nexport default defineComponent({\r\n  name: \"CircleChart\",\r\n  props: {\r\n    arguments: {\r\n      type: Array as PropType<NormalizedArgument[]>,\r\n      required: true,\r\n    },\r\n    criterionsMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n    selectedCriterion: {\r\n      type: [String, Number],\r\n      default: \"\",\r\n    },\r\n    analysisPer: {\r\n      type: String,\r\n      default: \"criteria\",\r\n    },\r\n    stakeholdersMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n    selectedAlternative: {\r\n      type: String,\r\n      default: \"all-merged\",\r\n    },\r\n    alternativesMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n  },\r\n  setup(props) {\r\n    const labelWidth = 60;\r\n    const headerHeight = 60;\r\n    const rowHeight = 250;\r\n    const minRadius = 20;\r\n    const maxRadius = 70;\r\n    const minCellWidth = 140;\r\n    const maxCellWidth = 260;\r\n\r\n    // Filter arguments by selected criterion and alternative\r\n    const filteredArguments = computed(() => {\r\n      let filtered = [...props.arguments];\r\n\r\n      // Filter by alternative if selected\r\n      if (\r\n        props.selectedAlternative &&\r\n        props.selectedAlternative !== \"all-merged\" &&\r\n        props.selectedAlternative !== \"all-separated\"\r\n      ) {\r\n        const alternatives = props.alternativesMap || {};\r\n        const matchingAltId = Object.values(alternatives).find(\r\n          (alt) => alt.name === props.selectedAlternative\r\n        )?.id;\r\n\r\n        if (matchingAltId !== undefined) {\r\n          filtered = filtered.filter((arg) => arg.alternative === matchingAltId);\r\n        }\r\n      }\r\n\r\n      // Filter by criterion if selected (only applies in criteria mode)\r\n      if (props.analysisPer === \"criteria\" && props.selectedCriterion !== \"\" && props.selectedCriterion !== null) {\r\n        const criterionId = Number(props.selectedCriterion);\r\n        if (!Number.isNaN(criterionId)) {\r\n          filtered = filtered.filter((arg) => arg.criterion === criterionId);\r\n        }\r\n      }\r\n      return filtered;\r\n    });\r\n\r\n    // Helper function to generate items data from arguments\r\n    const generateItemsData = (args: NormalizedArgument[]) => {\r\n      const grouped = new Map<number, { favorable: number; unfavorable: number }>();\r\n      \r\n      args.forEach(arg => {\r\n        const groupKey = props.analysisPer === \"stakeholder\" ? arg.stakeholder : arg.criterion;\r\n        if (!grouped.has(groupKey)) {\r\n          grouped.set(groupKey, { favorable: 0, unfavorable: 0 });\r\n        }\r\n        const entry = grouped.get(groupKey)!;\r\n        if (arg.favorable) {\r\n          entry.favorable++;\r\n        } else {\r\n          entry.unfavorable++;\r\n        }\r\n      });\r\n\r\n      const result = Array.from(grouped.entries()).map(([itemId, counts]) => {\r\n        const total = counts.favorable + counts.unfavorable;\r\n        const attitude = (counts.favorable + 1) / (total + 2);\r\n        \r\n        let itemName = `Item ${itemId}`;\r\n        if (props.analysisPer === \"stakeholder\") {\r\n          itemName = props.stakeholdersMap?.[itemId]?.name || `Stakeholder ${itemId}`;\r\n        } else {\r\n          itemName = props.criterionsMap?.[itemId]?.name || `Criterion ${itemId}`;\r\n        }\r\n        \r\n        return {\r\n          itemId,\r\n          itemName,\r\n          favorable: counts.favorable,\r\n          unfavorable: counts.unfavorable,\r\n          attitude,\r\n        };\r\n      });\r\n      \r\n      return result;\r\n    };\r\n\r\n    // Group arguments by criterion or stakeholder depending on analysisPer\r\n    const itemsData = computed(() => {\r\n      return generateItemsData(filteredArguments.value);\r\n    });\r\n\r\n    // Generate separated charts data (one per alternative)\r\n    const separatedChartsData = computed(() => {\r\n      const result: Record<string, any> = {};\r\n      const alternatives = props.alternativesMap || {};\r\n\r\n      Object.entries(alternatives).forEach(([altId, alt]) => {\r\n        const filtered = props.arguments.filter((arg) => arg.alternative === alt.id);\r\n        \r\n        // Apply criterion filter if in criteria mode\r\n        let finalFiltered = filtered;\r\n        if (props.analysisPer === \"criteria\" && props.selectedCriterion !== \"\" && props.selectedCriterion !== null) {\r\n          const criterionId = Number(props.selectedCriterion);\r\n          if (!Number.isNaN(criterionId)) {\r\n            finalFiltered = finalFiltered.filter((arg) => arg.criterion === criterionId);\r\n          }\r\n        }\r\n\r\n        const itemsForAlt = generateItemsData(finalFiltered);\r\n        \r\n        // Calculate cell width and table width for this alternative\r\n        const cellWidthForAlt = itemsForAlt.length === 0 \r\n          ? minCellWidth \r\n          : Math.max(minCellWidth, Math.min(maxCellWidth, (Math.max(...itemsForAlt.map(d => d.itemName.length)) * 6 + 40)));\r\n        \r\n        const tableWidthForAlt = labelWidth + itemsForAlt.length * cellWidthForAlt;\r\n\r\n        result[String(altId)] = {\r\n          id: altId,\r\n          name: alt.name,\r\n          itemsData: itemsForAlt,\r\n          cellWidth: cellWidthForAlt,\r\n          tableWidth: tableWidthForAlt,\r\n          tableHeight: headerHeight + rowHeight * 2,\r\n        };\r\n      });\r\n\r\n      return result;\r\n    });\r\n\r\n    const cellWidth = computed(() => {\r\n      if (itemsData.value.length === 0) return minCellWidth;\r\n      \r\n      const maxNameLength = Math.max(...itemsData.value.map(d => d.itemName.length));\r\n      \r\n      // Base width calculation: 6px per character, with min/max bounds\r\n      let width = Math.max(minCellWidth, Math.min(maxCellWidth, maxNameLength * 6 + 40));\r\n      \r\n      return width;\r\n    });\r\n\r\n    const tableWidth = computed(() => {\r\n      return labelWidth + itemsData.value.length * cellWidth.value;\r\n    });\r\n\r\n    function getSplitText(text: string): { line1: string; line2: string } {\r\n      if (text.length <= 25) {\r\n        return { line1: text, line2: \"\" };\r\n      }\r\n      \r\n      // Find a good split point (around middle or at a space)\r\n      const midPoint = Math.ceil(text.length / 2);\r\n      let splitPoint = midPoint;\r\n      \r\n      // Try to find a space near the midpoint\r\n      for (let i = midPoint; i >= Math.max(0, midPoint - 10); i--) {\r\n        if (text[i] === ' ') {\r\n          splitPoint = i;\r\n          break;\r\n        }\r\n      }\r\n      \r\n      // If no space found before, search after\r\n      if (splitPoint === midPoint && text[midPoint] !== ' ') {\r\n        for (let i = midPoint + 1; i < Math.min(text.length, midPoint + 10); i++) {\r\n          if (text[i] === ' ') {\r\n            splitPoint = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      \r\n      const line1 = text.substring(0, splitPoint).trim();\r\n      const line2 = text.substring(splitPoint).trim();\r\n      \r\n      return { line1, line2 };\r\n    }\r\n\r\n    const tableHeight = headerHeight + rowHeight * 2;\r\n\r\n    function getCellCenterX(index: number): number {\r\n      return labelWidth + index * cellWidth.value + cellWidth.value / 2;\r\n    }\r\n\r\n    function getFavorableY(): number {\r\n      return headerHeight + rowHeight / 2;\r\n    }\r\n\r\n    function getUnfavorableY(): number {\r\n      return headerHeight + rowHeight * 1.5;\r\n    }\r\n\r\n    function getCircleRadius(count: number): number {\r\n      if (count === 0) return 0;\r\n      const maxCount = Math.max(...itemsData.value.flatMap(d => [d.favorable, d.unfavorable]));\r\n      if (maxCount === 0) return minRadius;\r\n      const scale = Math.sqrt(count / maxCount);\r\n      return minRadius + (maxRadius - minRadius) * scale;\r\n    }\r\n\r\n    function getCircleRadiusSeparated(count: number, itemsDataList: any[]): number {\r\n      if (count === 0) return 0;\r\n      const maxCount = Math.max(...itemsDataList.flatMap(d => [d.favorable, d.unfavorable]));\r\n      if (maxCount === 0) return minRadius;\r\n      const scale = Math.sqrt(count / maxCount);\r\n      return minRadius + (maxRadius - minRadius) * scale;\r\n    }\r\n\r\n    const alternativeTitle = computed(() => {\r\n      if (\r\n        !props.selectedAlternative ||\r\n        props.selectedAlternative === \"all-merged\" ||\r\n        props.selectedAlternative === \"all-separated\"\r\n      ) {\r\n        return \"All alternatives\";\r\n      }\r\n      return props.selectedAlternative;\r\n    });\r\n\r\n    return {\r\n      itemsData,\r\n      separatedChartsData,\r\n      tableWidth,\r\n      tableHeight,\r\n      labelWidth,\r\n      headerHeight,\r\n      rowHeight,\r\n      cellWidth,\r\n      getCellCenterX,\r\n      getFavorableY,\r\n      getUnfavorableY,\r\n      getCircleRadius,\r\n      getCircleRadiusSeparated,\r\n      getSplitText,\r\n      alternativeTitle,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.circle-chart {\r\n  width: 100%;\r\n  overflow-x: auto;\r\n  padding: 20px;\r\n  background: white;\r\n}\r\n\r\n.table-container {\r\n  display: inline-block;\r\n  min-width: 100%;\r\n}\r\n\r\n.circle-svg {\r\n  display: block;\r\n}\r\n\r\n.footer-container {\r\n  display: flex;\r\n  align-items: center;\r\n  border-left: 1px solid #ddd;\r\n  border-right: 1px solid #ddd;\r\n  border-bottom: 1px solid #ddd;\r\n  background: #fafafa;\r\n  height: 60px;\r\n}\r\n\r\n.footer-label {\r\n  width: 60px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 9px;\r\n  color: #333;\r\n  font-weight: 500;\r\n  border-right: 1px solid #ddd;\r\n  height: 100%;\r\n  padding: 0 4px;\r\n}\r\n\r\n.footer-label span {\r\n  text-align: center;\r\n  line-height: 1.2;\r\n}\r\n\r\n.footer-values {\r\n  flex: 1;\r\n  position: relative;\r\n  height: 100%;\r\n}\r\n\r\n.attitude-cell {\r\n  position: absolute;\r\n  top: 0;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #333;\r\n  border-right: 1px solid #ddd;\r\n}\r\n\r\n:deep(.v-btn) {\r\n  min-width: 18px !important;\r\n  width: 18px !important;\r\n  height: 18px !important;\r\n}\r\n\r\n:deep(.v-btn .v-icon) {\r\n  font-size: 12px !important;\r\n}\r\n\r\n.alternative-title-header {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 20px;\r\n  padding: 0 20px;\r\n}\r\n\r\n.separated-charts-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 40px;\r\n  padding: 0;\r\n}\r\n\r\n.alternative-chart-card {\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n  background: white;\r\n}\r\n\r\n.alternative-title {\r\n  margin: 0 0 20px 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n</style>\r\n","import { render } from \"./CircleChart.vue?vue&type=template&id=ab62b3fe&scoped=true&ts=true\"\nimport script from \"./CircleChart.vue?vue&type=script&lang=ts\"\nexport * from \"./CircleChart.vue?vue&type=script&lang=ts\"\n\nimport \"./CircleChart.vue?vue&type=style&index=0&id=ab62b3fe&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ab62b3fe\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"alternatives-comparison\" }\nconst _hoisted_2 = { class: \"table-wrapper\" }\nconst _hoisted_3 = { class: \"criteria-header\" }\nconst _hoisted_4 = { class: \"criterion-name\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_table = _resolveComponent(\"v-table\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_v_table, { class: \"heatmap-table\" }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"thead\", null, [\n            _createElementVNode(\"tr\", null, [\n              _createElementVNode(\"th\", _hoisted_3, _toDisplayString(_ctx.rowLabel), 1),\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternatives, (alt) => {\n                return (_openBlock(), _createElementBlock(\"th\", {\n                  key: alt.id,\n                  class: \"alternative-header\"\n                }, _toDisplayString(alt.name), 1))\n              }), 128))\n            ])\n          ]),\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.rows, (row) => {\n              return (_openBlock(), _createElementBlock(\"tr\", {\n                key: row.id\n              }, [\n                _createElementVNode(\"td\", _hoisted_4, _toDisplayString(row.name), 1),\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alternatives, (alt) => {\n                  return (_openBlock(), _createElementBlock(\"td\", {\n                    key: alt.id,\n                    class: \"attitude-cell\",\n                    style: _normalizeStyle({ backgroundColor: _ctx.getCellColor(_ctx.getAttitude(row.id, alt.id)) })\n                  }, _toDisplayString(_ctx.getAttitude(row.id, alt.id).toFixed(2)), 5))\n                }), 128))\n              ]))\n            }), 128))\n          ])\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}","<template>\r\n  <div class=\"alternatives-comparison\">\r\n    <div class=\"table-wrapper\">\r\n      <v-table class=\"heatmap-table\">\r\n        <thead>\r\n          <tr>\r\n            <th class=\"criteria-header\">{{ rowLabel }}</th>\r\n            <th\r\n              v-for=\"alt in alternatives\"\r\n              :key=\"alt.id\"\r\n              class=\"alternative-header\"\r\n            >\r\n              {{ alt.name }}\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"row in rows\" :key=\"row.id\">\r\n            <td class=\"criterion-name\">{{ row.name }}</td>\r\n            <td\r\n              v-for=\"alt in alternatives\"\r\n              :key=\"alt.id\"\r\n              class=\"attitude-cell\"\r\n              :style=\"{ backgroundColor: getCellColor(getAttitude(row.id, alt.id)) }\"\r\n            >\r\n              {{ getAttitude(row.id, alt.id).toFixed(2) }}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </v-table>\r\n    </div>\r\n    <!-- <div class=\"export-section\">\r\n      <v-btn\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n        @click=\"exportToPDF\"\r\n      >\r\n        EXPORT TO PDF\r\n      </v-btn>\r\n    </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType, computed } from \"vue\";\r\nimport { NormalizedArgument, NormalizedObject } from \"@/@types\";\r\nimport { calculateSimpleAttitude } from \"@/store/attitude\";\r\n\r\nexport default defineComponent({\r\n  name: \"AlternativesComparison\",\r\n  props: {\r\n    arguments: {\r\n      type: Array as PropType<NormalizedArgument[]>,\r\n      required: true,\r\n    },\r\n    criterionsMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n    alternativesMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n    stakeholdersMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n    analysisPer: {\r\n      type: String,\r\n      default: \"criteria\",\r\n    },\r\n  },\r\n  setup(props) {\r\n    // Determine row and column headers based on analysisPer\r\n    const rowLabel = computed(() => {\r\n      return props.analysisPer === \"stakeholder\" ? \"Stakeholders\" : \"Criteria\";\r\n    });\r\n\r\n    // Get sorted list of alternatives (always columns)\r\n    const alternatives = computed(() => {\r\n      if (!props.alternativesMap) return [];\r\n      return Object.values(props.alternativesMap).sort((a, b) => a.id - b.id);\r\n    });\r\n\r\n    // Get sorted list of rows (criteria or stakeholders depending on analysisPer)\r\n    const rows = computed(() => {\r\n      if (props.analysisPer === \"stakeholder\") {\r\n        if (!props.stakeholdersMap) return [];\r\n        return Object.values(props.stakeholdersMap).sort((a, b) => a.id - b.id);\r\n      } else {\r\n        if (!props.criterionsMap) return [];\r\n        return Object.values(props.criterionsMap).sort((a, b) => a.id - b.id);\r\n      }\r\n    });\r\n\r\n    // Calculate collective attitude\r\n    const getAttitude = (rowId: number, alternativeId: number): number => {\r\n      let filtered = props.arguments;\r\n      \r\n      if (props.analysisPer === \"stakeholder\") {\r\n        // rows = stakeholders, columns = alternatives\r\n        filtered = filtered.filter(\r\n          arg => arg.stakeholder === rowId && arg.alternative === alternativeId\r\n        );\r\n      } else {\r\n        // rows = criteria, columns = alternatives\r\n        filtered = filtered.filter(\r\n          arg => arg.criterion === rowId && arg.alternative === alternativeId\r\n        );\r\n      }\r\n      \r\n      if (filtered.length === 0) return 0.5;\r\n      \r\n      // Use the formula-based attitude: (favorable + 1) / (total + 2)\r\n      const favorable = filtered.filter(arg => arg.favorable).length;\r\n      const total = filtered.length;\r\n      \r\n      return (favorable + 1) / (total + 2);\r\n    };\r\n\r\n    // Get cell background color based on attitude value\r\n    const getCellColor = (attitude: number): string => {\r\n      if (attitude === 0) return \"#ffffff\";\r\n      if (attitude < 0.35) return \"#f44336\"; // Red\r\n      if (attitude < 0.50) return \"#ff9800\"; // Orange\r\n      if (attitude < 0.60) return \"#ffc107\"; // Amber\r\n      return \"#4caf50\"; // Green\r\n    };\r\n\r\n    const exportToPDF = () => {\r\n      // TODO: Implement PDF export\r\n      console.log(\"Export to PDF\");\r\n    };\r\n\r\n    return {\r\n      alternatives,\r\n      rows,\r\n      rowLabel,\r\n      getAttitude,\r\n      getCellColor,\r\n      exportToPDF,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.alternatives-comparison {\r\n  width: 100%;\r\n}\r\n\r\n.table-wrapper {\r\n  overflow-x: auto;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.heatmap-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.heatmap-table th,\r\n.heatmap-table td {\r\n  border: 1px solid #ddd;\r\n  padding: 12px 16px;\r\n  text-align: center;\r\n}\r\n\r\n.criteria-header {\r\n  background-color: #f5f5f5;\r\n  font-weight: 600;\r\n  text-align: left !important;\r\n  width: 300px;\r\n}\r\n\r\n.alternative-header {\r\n  background-color: #f5f5f5;\r\n  font-weight: 600;\r\n  min-width: 200px;\r\n}\r\n\r\n.criterion-name {\r\n  font-weight: 500;\r\n  text-align: left !important;\r\n  background-color: #fafafa;\r\n}\r\n\r\n.attitude-cell {\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  color: #fff;\r\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.export-section {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  padding: 10px 0;\r\n}\r\n</style>\r\n","import { render } from \"./AlternativesComparison.vue?vue&type=template&id=7e7638d7&scoped=true&ts=true\"\nimport script from \"./AlternativesComparison.vue?vue&type=script&lang=ts\"\nexport * from \"./AlternativesComparison.vue?vue&type=script&lang=ts\"\n\nimport \"./AlternativesComparison.vue?vue&type=style&index=0&id=7e7638d7&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7e7638d7\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"crosstab-chart\" }\nconst _hoisted_2 = { class: \"font-weight-medium\" }\nconst _hoisted_3 = { class: \"cell-content\" }\nconst _hoisted_4 = { class: \"count\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"attitude\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_table = _resolveComponent(\"v-table\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_v_table, null, {\n      default: _withCtx(() => [\n        _createElementVNode(\"thead\", null, [\n          _createElementVNode(\"tr\", null, [\n            _cache[0] || (_cache[0] = _createElementVNode(\"th\", { class: \"text-left\" }, \"Criteria / Stakeholders\", -1)),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.stakeholders, (stakeholder) => {\n              return (_openBlock(), _createElementBlock(\"th\", {\n                key: stakeholder.id,\n                class: \"text-center\"\n              }, _toDisplayString(stakeholder.name), 1))\n            }), 128))\n          ])\n        ]),\n        _createElementVNode(\"tbody\", null, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.criterions, (criterion) => {\n            return (_openBlock(), _createElementBlock(\"tr\", {\n              key: criterion.id\n            }, [\n              _createElementVNode(\"td\", _hoisted_2, _toDisplayString(criterion.name), 1),\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.stakeholders, (stakeholder) => {\n                return (_openBlock(), _createElementBlock(\"td\", {\n                  key: `${criterion.id}-${stakeholder.id}`,\n                  class: \"text-center count-cell\",\n                  style: _normalizeStyle({ backgroundColor: _ctx.getCountColor(_ctx.getCellCount(criterion.id, stakeholder.id)) })\n                }, [\n                  _createElementVNode(\"div\", _hoisted_3, [\n                    _createElementVNode(\"div\", _hoisted_4, _toDisplayString(_ctx.getCellCount(criterion.id, stakeholder.id)), 1),\n                    (_ctx.getCellCount(criterion.id, stakeholder.id) > 0)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(_ctx.getAttitude(criterion.id, stakeholder.id).toFixed(2)), 1))\n                      : _createCommentVNode(\"\", true)\n                  ])\n                ], 4))\n              }), 128))\n            ]))\n          }), 128))\n        ])\n      ]),\n      _: 1\n    })\n  ]))\n}","<template>\r\n  <div class=\"crosstab-chart\">\r\n    <v-table>\r\n      <thead>\r\n        <tr>\r\n          <th class=\"text-left\">Criteria / Stakeholders</th>\r\n          <th v-for=\"stakeholder in stakeholders\" :key=\"stakeholder.id\" class=\"text-center\">\r\n            {{ stakeholder.name }}\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"criterion in criterions\" :key=\"criterion.id\">\r\n          <td class=\"font-weight-medium\">{{ criterion.name }}</td>\r\n          <td \r\n            v-for=\"stakeholder in stakeholders\" \r\n            :key=\"`${criterion.id}-${stakeholder.id}`\" \r\n            class=\"text-center count-cell\"\r\n            :style=\"{ backgroundColor: getCountColor(getCellCount(criterion.id, stakeholder.id)) }\"\r\n          >\r\n            <div class=\"cell-content\">\r\n              <div class=\"count\">{{ getCellCount(criterion.id, stakeholder.id) }}</div>\r\n              <div class=\"attitude\" v-if=\"getCellCount(criterion.id, stakeholder.id) > 0\">\r\n                {{ getAttitude(criterion.id, stakeholder.id).toFixed(2) }}\r\n              </div>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </v-table>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed, PropType } from \"vue\";\r\nimport { NormalizedArgument, NormalizedObject } from \"@/@types\";\r\n\r\nexport default defineComponent({\r\n  name: \"CrosstabChart\",\r\n  props: {\r\n    arguments: {\r\n      type: Array as PropType<NormalizedArgument[]>,\r\n      required: true,\r\n    },\r\n    stakeholdersMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n    criterionsMap: {\r\n      type: Object as PropType<NormalizedObject | null>,\r\n      default: null,\r\n    },\r\n  },\r\n  setup(props) {\r\n    const stakeholders = computed(() => {\r\n      if (!props.stakeholdersMap) return [];\r\n      return Object.values(props.stakeholdersMap).sort((a, b) => a.name.localeCompare(b.name));\r\n    });\r\n\r\n    const criterions = computed(() => {\r\n      if (!props.criterionsMap) return [];\r\n      return Object.values(props.criterionsMap).sort((a, b) => a.name.localeCompare(b.name));\r\n    });\r\n\r\n    const getAttitude = (criterionId: number, stakeholderId: number) => {\r\n      const filtered = props.arguments.filter(\r\n        arg => arg.criterion === criterionId && arg.stakeholder === stakeholderId\r\n      );\r\n      if (filtered.length === 0) return 0.5;\r\n      const favorable = filtered.filter(arg => arg.favorable).length;\r\n      return (favorable + 1) / (filtered.length + 2);\r\n    };\r\n\r\n    const getCellCount = (criterionId: number, stakeholderId: number) => {\r\n      return props.arguments.filter(\r\n        arg => arg.criterion === criterionId && arg.stakeholder === stakeholderId\r\n      ).length;\r\n    };\r\n\r\n    const getCountColor = (count: number) => {\r\n      if (count === 0) return \"#ffffff\";\r\n      if (count <= 2) return \"#ffc107\";\r\n      if (count <= 5) return \"#ff9800\";\r\n      return \"#f44336\";\r\n    };\r\n\r\n    return {\r\n      stakeholders,\r\n      criterions,\r\n      getCellCount,\r\n      getCountColor,\r\n      getAttitude,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.crosstab-chart {\r\n  overflow-x: auto;\r\n  max-height: 500px;\r\n  overflow-y: auto;\r\n}\r\n\r\n:deep(.v-table) {\r\n  font-size: 12px;\r\n}\r\n\r\n:deep(.v-table th) {\r\n  background-color: #f5f5f5;\r\n  font-weight: 600;\r\n  padding: 12px 8px;\r\n}\r\n\r\n:deep(.v-table td) {\r\n  padding: 8px;\r\n  min-width: 80px;\r\n}\r\n\r\n.count-cell {\r\n  padding: 4px 8px !important;\r\n}\r\n\r\n.cell-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 2px;\r\n}\r\n\r\n.count {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.attitude {\r\n  font-size: 11px;\r\n  font-weight: 500;\r\n  color: #666;\r\n}\r\n</style>\r\n","import { render } from \"./CrosstabChart.vue?vue&type=template&id=3b0c7f25&scoped=true&ts=true\"\nimport script from \"./CrosstabChart.vue?vue&type=script&lang=ts\"\nexport * from \"./CrosstabChart.vue?vue&type=script&lang=ts\"\n\nimport \"./CrosstabChart.vue?vue&type=style&index=0&id=3b0c7f25&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3b0c7f25\"]])\n\nexport default __exports__","import { render } from \"./ChartView.vue?vue&type=template&id=22e3ce15&scoped=true&ts=true\"\nimport script from \"./ChartView.vue?vue&type=script&lang=ts\"\nexport * from \"./ChartView.vue?vue&type=script&lang=ts\"\n\nimport \"./ChartView.vue?vue&type=style&index=0&id=22e3ce15&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-22e3ce15\"]])\n\nexport default __exports__","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\n// src/router/index.ts\r\n\r\nimport { createRouter, createWebHistory, RouteRecordRaw } from \"vue-router\";\r\nimport Project from \"@/views/Project.vue\";\r\nimport Home from \"@/views/Home.vue\";\r\nimport Main from \"@/views/Main.vue\";\r\nimport Properties from \"@/views/Properties.vue\";\r\nimport Stakeholders from \"@/views/Stakeholders.vue\";\r\nimport ChartView from \"@/views/ChartView.vue\";\r\n\r\nimport {\r\n  clearProjectDataCacheFromRoute,\r\n  getProjectTypeFromRoute,\r\n  getRouteTypeValue,\r\n  hideOverlay,\r\n  loadAll,\r\n  PROJECT_TYPE_ROUTES,\r\n  setDocumentTitle,\r\n  showOverlay,\r\n} from \"@/store\";\r\n\r\nconst routes: Array<RouteRecordRaw> = [\r\n  { name: \"home\", path: \"/\", component: Home },\r\n  { name: \"global-view\", path: \"/project/global-view\", component: Main },\r\n  { name: \"project\", path: \"/project/\", component: Project },\r\n  {\r\n    name: \"property-view\",\r\n    path: \"/project/property-view\",\r\n    component: Properties,\r\n    props: true,\r\n  },\r\n  {\r\n    name: \"stakeholder-view\",\r\n    path: \"/project/stakeholder-view\",\r\n    component: Stakeholders,\r\n    props: true,\r\n  },\r\n  {\r\n    name: \"chart-view\",\r\n    path: \"/project/chart-view\",\r\n    component: ChartView,\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n});\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n  showOverlay();\r\n  next();\r\n});\r\n\r\nrouter.afterEach(async (to, from) => {\r\n  if (to.path.startsWith(\"/project\")) {\r\n    const toProjectType = getProjectTypeFromRoute(to);\r\n    const fromProjectType = getProjectTypeFromRoute(from);\r\n    const toProjectId = getRouteTypeValue(to);\r\n    const fromProjectId = getRouteTypeValue(from);\r\n    const isSameProject =\r\n      toProjectType === fromProjectType && toProjectId === fromProjectId;\r\n    if (!isSameProject) {\r\n      await loadProject();\r\n    }\r\n  } else {\r\n    if (typeof to.meta?.title === 'string') {\r\n      setDocumentTitle(to.meta.title);\r\n    } else {\r\n      setDocumentTitle(\"My Choice\");\r\n    }    \r\n  }\r\n\r\n  hideOverlay();\r\n});\r\n\r\n// In Vue 3, there's no router.onReady. You can call loadProject after app is mounted.\r\nexport const loadProject = async () => {\r\n  const route = router.currentRoute.value;\r\n  if (\r\n    route.query[PROJECT_TYPE_ROUTES.ICO] ||\r\n    route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET] ||\r\n    route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD] ||\r\n    route.query[\"demo\"]\r\n  ) {\r\n    try {\r\n      await loadAll(route);\r\n    } catch (e) {\r\n      console.info(\"LOAD FAIL, RETRY WITHOUT CACHE!\");\r\n      clearProjectDataCacheFromRoute(route);\r\n      await loadAll(route);\r\n    }\r\n  }\r\n};\r\n\r\nexport default router;\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport router from \"@/router\";\r\nimport { computed } from \"vue\";\r\nimport { RouteLocationNormalized, LocationQuery, RouteRecordNameGeneric } from 'vue-router';\r\nimport { state } from \"@/store\";\r\n\r\nexport const pushRouteWithQuery = (routeParams: Partial<RouteLocationNormalized>) => {\r\n  const query = router.currentRoute.value.query || {};  // On rcupre les paramtres de requte actuels\r\n  \r\n  // Vrifie si routeParams contient un `name` ou un `path`\r\n  if (!routeParams.name && !routeParams.path) {\r\n    throw new Error('La route doit contenir un `name` ou un `path`');\r\n  }\r\n\r\n  // Construire l'objet pour router.push() en fonction des paramtres passs\r\n  const routeToPush: any = {\r\n    query: query,  // Ajoute les paramtres de requte\r\n    ...routeParams, // Ajoute les autres paramtres\r\n  };\r\n\r\n  // Si `routeParams` contient un `name`, on n'ajoute pas `path`\r\n  if (routeParams.name) {\r\n    delete routeToPush.path;  // Si `name` est dfini, on supprime `path` car ce n'est pas ncessaire\r\n  }\r\n  \r\n  // Si `routeParams` contient un `path`, on supprime `name`\r\n  if (routeParams.path) {\r\n    delete routeToPush.name;  // Si `path` est dfini, on supprime `name`\r\n  }\r\n\r\n  // Appel  router.push() avec l'objet corrig\r\n  router.push(routeToPush);\r\n};\r\n\r\nexport const switchToView = (routeName: RouteLocationNormalized[\"name\"]) => {\r\n  pushRouteWithQuery({\r\n    name: routeName,\r\n  });\r\n};\r\n\r\nexport enum PROJECT_TYPE_ROUTES {\r\n  ICO = \"name\",\r\n  GOOGLE_SPREADSHEET = \"spreadsheet\",\r\n  XLSX = \"xlsx\",\r\n  NEXTCLOUD = \"nextcloud\"\r\n}\r\n\r\nexport const projectNameRouteQuery = PROJECT_TYPE_ROUTES.ICO;\r\nexport const spreadsheetIdRouteQuery = PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET;\r\nexport const xlsxFileRouteQuery = PROJECT_TYPE_ROUTES.XLSX;\r\nexport const nextcloudIdRouteQuery = PROJECT_TYPE_ROUTES.NEXTCLOUD;\r\n\r\nexport const getRouteProjectId = computed(() => {\r\n  return state.vm &&\r\n    state.vm.$route &&\r\n    state.vm.$route.query &&\r\n    (state.vm.$route.query.name || state.vm.$route.query.spreadsheet)\r\n    ? state.vm.$route.query.name || state.vm.$route.query.spreadsheet\r\n    : null;\r\n});\r\n","import { computed } from \"vue\";\r\nimport { uniqBy } from \"lodash\";\r\nimport { state } from \"./state\";\r\n\r\nexport const notifications = computed(() => {\r\n  return uniqBy(state.notifications, \"message\");\r\n});\r\n\r\nexport const getErrors = () => {\r\n  const acc: string[] = [];\r\n  Object.entries(state.errors).forEach(([key, value]) => {\r\n    if (value !== false) {\r\n      return acc.push(key);\r\n    }\r\n  });\r\n  return acc;\r\n};\r\n\r\nexport const getErrorMessage = (errorName: string) => {\r\n  return state.errorMessages[errorName] || state.errors[errorName];\r\n};\r\n\r\nexport const clearError = (errorName: string) => {\r\n  state.errors[errorName] = false;\r\n};\r\nexport const clearErrors = () => {\r\n  Object.keys(state.errors).forEach((error) => {\r\n    state.errors[error] = false;\r\n  });\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport dayjs from \"dayjs\";\r\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\r\nimport { state } from \"./state\";\r\ndayjs.extend(customParseFormat);\r\n\r\nexport class MyChoiceError extends Error {\r\n  constructor(name: string, ...args: any) {\r\n    super(...args);\r\n    // this.name = this.constructor.name;\r\n    this.name = name;\r\n    //@ts-ignore\r\n    if (typeof Error.captureStackTrace === \"function\") {\r\n      //@ts-ignore\r\n      Error.captureStackTrace(this, this.constructor);\r\n    } else {\r\n      this.stack = new Error(this.message).stack;\r\n    }\r\n  }\r\n}\r\n\r\n// class GoodError extends Error {\r\n//   constructor(...args) {\r\n//       super(...args)\r\n//       Error.captureStackTrace(this, GoodError)\r\n//   }\r\n// }\r\n\r\nexport const setError = (errorName: string, errorValue: boolean | string) => {\r\n  // state.errors[errorName] = errorValue;\r\n  (state.errors as any)[errorName] = errorValue;\r\n};\r\n\r\nexport const formatDate = (date: string) => {\r\n  return dayjs(date, \"DD/MM/YY\").format(\"MMMM YYYY\");\r\n};\r\n\r\nexport const getRange = function (value: number, min: number, max: number) {\r\n  let range = (value - min) / (max - min);\r\n  if (!isFinite(range)) {\r\n    range = value;\r\n  }\r\n  return range;\r\n};\r\n\r\nexport const orderByPropName = <T extends {}>(list: T[], propName: keyof T) => {\r\n  return list.sort((a, b) => (a[propName] > b[propName] ? 1 : -1));\r\n};\r\n\r\n//@ts-ignore\r\nexport const sortObject = (o) => {\r\n  return (\r\n    Object.keys(o)\r\n      .sort()\r\n      //@ts-ignore\r\n      .reduce((r, k) => ((r[k] = o[k]), r), {})\r\n  );\r\n};\r\n\r\nexport const pluralize = function (\r\n  str: string,\r\n  object: {\r\n    [key: string]: string | number;\r\n  },\r\n  suffix = \"s\"\r\n) {\r\n  //let formatted = this;\r\n  //const entries = Object.entries(object);\r\n  let formatted = str;\r\n  const regex = /{([^:}]+)(?:(?::)([^}]+))?}/g;\r\n  let match;\r\n\r\n  while ((match = regex.exec(str)) !== null) {\r\n    // This is necessary to avoid infinite loops with zero-width match\r\n    if (match.index === regex.lastIndex) {\r\n      regex.lastIndex++;\r\n    }\r\n\r\n    if (match[2] === undefined) {\r\n      const regex = new RegExp(\"\\\\{\" + match[1] + \"\\\\}\", \"g\");\r\n      formatted = formatted.replace(regex, `${object[match[1]]}`);\r\n    }\r\n    if (match[2] !== undefined) {\r\n      const wordToPluralize = match[1];\r\n      const linkedVar = match[2];\r\n      const value = object[linkedVar];\r\n\r\n      const regex = new RegExp(\r\n        \"\\\\{\" + wordToPluralize + \":\" + linkedVar + \"\\\\}\",\r\n        \"g\"\r\n      );\r\n      if (Number(value) > 1 && object.plural) {\r\n        formatted = formatted.replace(regex, `${object.plural}`);\r\n      } else {\r\n        formatted = formatted.replace(\r\n          regex,\r\n          `${wordToPluralize}${Number(value) > 1 ? suffix : \"\"}`\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  // entries.forEach(([key, value]) => {\r\n  //   entries.forEach(([countKey, countValue]) => {\r\n  //     //const regexp = new RegExp(\"\\\\{\" + key + \":\" + countKey + \"\\\\}\", \"gi\");\r\n\r\n  //     formatted = formatted.replace(\r\n  //       regexp,\r\n  //       `${countValue}${countValue !== 1 ? suffix : \"\"}`\r\n  //     );\r\n  //   });\r\n  //   const regexp2 = new RegExp(\"\\\\{\" + key + \"\\\\}\", \"gi\");\r\n  //   formatted = formatted.replace(regexp2, value);\r\n  // });\r\n\r\n  return formatted;\r\n};\r\n\r\nexport const setDocumentTitle = (title: string) => {\r\n  document.title = title;\r\n};\r\n\r\n/* const pluralize = (count, noun, suffix = \"s\") =>\r\n    `${count} ${noun}${count !== 1 ? suffix : \"\"}`;\r\n  \r\n  \"The {0} is dead. Don't code {0}. Code {1} that is open source!\".format(\r\n    \"ASP\",\r\n    \"PHP\"\r\n  );\r\n   */\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { forEach, values } from \"lodash\";\r\nimport {\r\n  Argument,\r\n  Project,\r\n  Alternative,\r\n  expertiseEntity,\r\n  SourceTypeEntity,\r\n  Product,\r\n  Composition,\r\n} from \"./@types\";\r\nimport { MyChoiceError, setError } from \"./store/utils\";\r\n\r\nconst gsheets = require(\"gsheets\");\r\n\r\nconst KEY = \"1R0UaXut1IWLe4KKk9M5Nu7NHmE7SzajBWT1povyhIUE\";\r\n\r\n// a: \"/Show\"\r\n// aim: \"Consuming a balanced diet\"\r\n// alternative: \"Plant-based diet\"\r\n// assertion: \"B12 deficiency in vegetal proteins\"\r\n// b: \"/Hide\"\r\n// confidenceLevel: null\r\n// cons: \"/Show\"\r\n// criterion: \"Nutrition and health\"\r\n// date: 43002\r\n// explanation: \"B12 deficiency in vegetal proteins\"\r\n// hasCoverage: 0.92\r\n// idArgument: 1\r\n// infValue: null\r\n// isProspective: 0\r\n// pro: \"/Hide\"\r\n// proCon: \"-\"\r\n// project.nameProject: \"VITAMIN\"\r\n// propertyName: \"Vitamin B12\"\r\n// propertyValue: \"deficient\"\r\n// source: \"Canard Enchain - 144 - Juillet 2017\"\r\n// sourceType: \"Newspaper\"\r\n// stakeholder: \"Journalist\"\r\n// supValue: null\r\n// unit: null\r\n\r\nexport type GSheetsData = {\r\n  title: string;\r\n  updated: string;\r\n  worksheets: {\r\n    [key: string]: unknown;\r\n  }[];\r\n};\r\n\r\nexport type SpreadsheetWorksheet = {\r\n  data: {\r\n    [key: string]: any;\r\n  }[];\r\n  title: string;\r\n  updated?: string;\r\n  index: number;\r\n};\r\n\r\nexport const getSpreadsheet = async (spreadsheetId: string) => {\r\n  const response = await fetch(\r\n    `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}?key=${process.env.VUE_APP_GSHEETS_API_KEY}`\r\n  );\r\n  const result = await response.json();\r\n\r\n  return result as {\r\n    sheets: {\r\n      properties: {\r\n        sheetId: number;\r\n        title: string;\r\n        index: number;\r\n        sheetType: \"GRID\";\r\n        gridProperties: {\r\n          rowCount: number;\r\n          columnCount: number;\r\n          frozenRowCount: number;\r\n        };\r\n      };\r\n    }[];\r\n  };\r\n};\r\n\r\nexport const fetchSpreadsheetWorksheets = async (\r\n  id: string\r\n): Promise<SpreadsheetWorksheet[]> => {\r\n  // eslint-disable-next-line no-useless-catch\r\n  try {\r\n    const json = await getSpreadsheet(id);\r\n    const worksheets = json.sheets;\r\n\r\n    const promises: Promise<SpreadsheetWorksheet>[] = [];\r\n\r\n    const refs = {} as { [key: number]: string };\r\n\r\n    worksheets.forEach((worksheet) => {\r\n      refs[worksheet.properties.index] = worksheet.properties.title;\r\n      promises.push(\r\n        gsheets.getWorksheet(\r\n          id,\r\n          worksheet.properties.title,\r\n          process.env.VUE_APP_GSHEETS_API_KEY\r\n        )\r\n      );\r\n    });\r\n\r\n    const response = await Promise.all(promises);\r\n    // console.log(response, \"RESPONSE\");\r\n    return response.map(({ data }, index) => ({\r\n      data,\r\n      title: refs[index],\r\n      index,\r\n    }));\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\n// export interface SpreadsheetArgument {\r\n//   idArgument: number;\r\n//   assertion: string;\r\n//   explanation: string;\r\n//   date: string;\r\n//   \"stakeholder.nameStakeholder\": string;\r\n//   \"property.nameProperty\": string;\r\n//   \"qualvalue.qualValue\": string;\r\n//   typeProCon: string;\r\n//   \"alternative.nameAlternative\": string;\r\n//   \"criterion.nameCriterion\": string;\r\n//   \"source.nameSource\": string;\r\n//   \"aim.description\": string;\r\n//   \"typesource.nameTypeSource\": string;\r\n//   isProspective: string;\r\n// }\r\n\r\nexport interface SpreadsheetArgument {\r\n  idArgument: number;\r\n  assertion: string;\r\n  explanation: string;\r\n  date: string;\r\n  nameStakeHolder: string;\r\n  nameProperty: string;\r\n  value: string;\r\n  typeProCon: string;\r\n  nameAlternative: string;\r\n  nameCriterion: string;\r\n  nameSource: string;\r\n  aim: string;\r\n  nameTypeSource: string;\r\n  isProspective: string;\r\n  condition?: string;\r\n  tagInitiator?: string;\r\n}\r\n\r\nexport type SpreadsheetProject = {\r\n  nameProject: string;\r\n  description: string;\r\n  image: string;\r\n};\r\nexport type SpreadsheetAlternative = {\r\n  nameAlternative: string;\r\n  description: string;\r\n  imageAlternative: string;\r\n  iconAlternative: string;\r\n};\r\nexport type SpreadsheetExpertise = {\r\n  nameStakeHolder: string;\r\n  nameCriterion: string;\r\n};\r\nexport type SpreadsheetSourceType = {\r\n  nameTypeSource: string;\r\n  fiability: number;\r\n};\r\n\r\nexport type SpreadsheetProduct = {\r\n  nameAlternative: string;\r\n  productUri: string;\r\n  nameProduct: string;\r\n  tagProduct: string; // Sera pars en tableau\r\n};\r\n\r\nexport type SpreadsheetComposition = {\r\n  uriCompose: string;\r\n  nameCompose: string;\r\n  typeComposant: string;\r\n  uriComposant: string;\r\n  nameComposant: string;\r\n  Rang: number;\r\n  tagComposant: string; // Sera pars en tableau\r\n};\r\n\r\nexport const hasExpectedProperties = <T>(obj: T, props: string[]) => {\r\n  return new Promise((resolve, reject) => {\r\n    let lastTestedProp = null;\r\n    const hasAll = props.every((prop) => {\r\n      lastTestedProp = prop;\r\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n        return true;\r\n      } else {\r\n        // console.log(\"reject\");\r\n        return false;\r\n        // return false;\r\n      }\r\n    });\r\n    if (hasAll) {\r\n      resolve(true);\r\n    } else {\r\n      reject(lastTestedProp);\r\n    }\r\n  });\r\n};\r\n\r\n// export const isValidSpreadsheetArgumentItem = <T>(obj: T) => {\r\n//   const props = [\r\n//     \"idArgument\",\r\n//     \"assertion\",\r\n//     \"explanation\",\r\n//     \"date\",\r\n//     \"nameStakeHolder\",\r\n//     \"nameProperty\",\r\n//     \"value\",\r\n//     \"typeProCon\",\r\n//     \"nameAlternative\",\r\n//     \"nameCriterion\",\r\n//     \"nameSource\",\r\n//     \"aim\",\r\n//     \"nameTypeSource\",\r\n//     \"isProspective\"\r\n//   ];\r\n\r\n//   return hasExpectedProperties(obj, props).then(\r\n//     result => result,\r\n//     prop => {\r\n//       throw new MyChoiceError(\r\n//         \"SPREADSHEET_ERROR\",\r\n//         `This column name is missing or misspelled in \"argument\" worksheet: <b>${prop}</b>`\r\n//       );\r\n//     }\r\n//   );\r\n// };\r\n\r\n// export const isValidProjectWorksheetItem = <T>(obj: T) => {\r\n//   const props = [\"nameProject\"];\r\n\r\n//   return hasExpectedProperties(obj, props).then(\r\n//     result => result,\r\n//     prop => {\r\n//       throw new MyChoiceError(\r\n//         \"SPREADSHEET_ERROR\",\r\n//         `This column name is missing or misspelled in \"project\" worksheet: <b>${prop}</b>`\r\n//       );\r\n//     }\r\n//   );\r\n// };\r\n\r\nexport const isValidWorkSheet = async (worksheet: SpreadsheetWorksheet) => {\r\n  const worksheetsExpectedProps = {\r\n    argument: [\r\n      \"idArgument\",\r\n      \"assertion\",\r\n      \"explanation\",\r\n      \"date\",\r\n      \"nameStakeHolder\",\r\n      \"nameProperty\",\r\n      \"value\",\r\n      \"typeProCon\",\r\n      \"nameAlternative\",\r\n      \"nameCriterion\",\r\n      \"nameSource\",\r\n      \"aim\",\r\n      \"nameTypeSource\",\r\n      \"isProspective\",\r\n    ],\r\n    project: [\"nameProject\"],\r\n    alternative: [\"nameAlternative\", \"iconAlternative\"],\r\n    product: [\"nameAlternative\", \"productUri\", \"nameProduct\", \"tagProduct\"],\r\n    composition: [\"uriCompose\", \"nameCompose\", \"typeComposant\", \"uriComposant\", \"nameComposant\", \"Rang\", \"tagComposant\"],\r\n  };\r\n\r\n  //@ts-ignore\r\n  const props = worksheetsExpectedProps[worksheet.title];\r\n  const firstWorksheetItem = worksheet.data[0];\r\n\r\n  if (firstWorksheetItem) {\r\n    // console.log(firstWorksheetItem, \"FIRST\");\r\n    return await hasExpectedProperties(firstWorksheetItem, props).then(\r\n      (result) => result,\r\n      (prop) => {\r\n        throw new MyChoiceError(\r\n          \"SPREADSHEET_ERROR\",\r\n          `On <b>${worksheet.title}</b> sheet, the <b>${prop}</b> column is missing or misspelled`\r\n        );\r\n      }\r\n    );\r\n  } else {\r\n    setError(\r\n      \"SPREADSHEET_ERROR\",\r\n      `No data found in the <b>${worksheet.title}</b> sheet`\r\n    );\r\n  }\r\n};\r\n\r\nexport const checkEmptyArguments = <T extends SpreadsheetWorksheet[\"data\"][0]>({\r\n  spreadsheetId,\r\n  item,\r\n  worksheet,\r\n  line,\r\n  keys,\r\n}: {\r\n  spreadsheetId?: string;\r\n  item: T;\r\n  worksheet: SpreadsheetWorksheet;\r\n  line: number;\r\n  keys: (keyof T)[];\r\n}) => {\r\n  keys.forEach((key, index) => {\r\n    if (item[key] === null) {\r\n      // const alphabet = \"abcdefghijklmnopqrstuvwxyz\".toUpperCase().split(\"\");\r\n      // const letter = alphabet[index];\r\n\r\n      // const url = `https://docs.google.com/spreadsheets/d/${spreadsheetId}/edit#gid=${gid}&range=${letter}${line}`;\r\n      // const url = `https://docs.google.com/spreadsheets/d/${spreadsheetId}/edit`;\r\n\r\n      throw new MyChoiceError(\r\n        \"SPREADSHEET_ERROR\",\r\n        // `On <b>${worksheet.title}</b> sheet, the <b>${key}</b> on <a href=\"${url}\" target=\"_blank\">line <b>${line}</b></a> is empty and must be filled`\r\n        `On <b>${worksheet.title}</b> sheet, the <b>${String(key)}</b> on line <b>${line}</b> is empty and must be filled`\r\n      );\r\n    }\r\n  });\r\n};\r\n\r\nexport const checkUniqueAimsHasUniqueCriterions = (\r\n  items: SpreadsheetArgument[]\r\n) => {\r\n  const aims: { [key: string]: string[] } = {};\r\n\r\n  items.forEach((item) => {\r\n    if (aims[item.aim]) {\r\n      if (!aims[item.aim].includes(item.nameCriterion)) {\r\n        aims[item.aim].push(item.nameCriterion);\r\n      }\r\n    } else {\r\n      aims[item.aim] = [item.nameCriterion];\r\n    }\r\n  });\r\n\r\n  Object.entries(aims).forEach(([key, value]) => {\r\n    if (value.length > 1) {\r\n      setError(\r\n        \"SPREADSHEET_ERROR_\" + key,\r\n        `The <b>${key}</b> aim should be associated with only one criterion, but has been found in ${\r\n          value.length\r\n        } criteria : <b>${value.join(\"</b>, <b>\")}</b>`\r\n      );\r\n      // throw new MyChoiceError(\r\n      //   \"SPREADSHEET_ERROR\",\r\n      //   // `On <b>${worksheet.title}</b> sheet, the <b>${key}</b> on <a href=\"${url}\" target=\"_blank\">line <b>${line}</b></a> is empty and must be filled`\r\n      //   `The <b>${key}</b> aim should be associated with only one criterion, but has been found in ${\r\n      //     value.length\r\n      //   } criteria : <b>${value.join(\"</b>, <b>\")}</b>`\r\n      // );\r\n    }\r\n  });\r\n};\r\n\r\nexport const getRenamedSpreadsheetItems = async (\r\n  worksheets: SpreadsheetWorksheet[],\r\n  spreadsheetId?: string\r\n) => {\r\n  const argumentWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"argument\"\r\n  );\r\n\r\n  const rawSpreadsheetItems = worksheets[argumentWorksheet.index]!\r\n    .data as SpreadsheetArgument[];\r\n  const spreadsheetItems = rawSpreadsheetItems.map((item) => {\r\n    return Object.keys(item).reduce(function (result, key) {\r\n      try {\r\n        //@ts-ignore\r\n        result[key] = JSON.parse(item[key]);\r\n      } catch (e) {\r\n        //@ts-ignore\r\n        result[key] = item[key];\r\n      }\r\n      return result;\r\n    }, {} as SpreadsheetArgument);\r\n  });\r\n\r\n  try {\r\n    // await isValidSpreadsheetArgumentItem(spreadsheetItems[0]);\r\n    await isValidWorkSheet(argumentWorksheet);\r\n    checkUniqueAimsHasUniqueCriterions(spreadsheetItems);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n\r\n  return spreadsheetItems.map((item, index) => {\r\n    // if (!isValidSpreadsheetArgumentItem(item)) {\r\n    //   return;\r\n    // }\r\n    const line = index + 2; // start at 1 + header\r\n\r\n    if (item.typeProCon !== \"-\" && item.typeProCon !== \"+\") {\r\n      throw new MyChoiceError(\r\n        \"SPREADSHEET_ERROR\",\r\n        `On <b>${argumentWorksheet.title}</b> sheet, the <b>typeProCon</b> on line <b>${line}</b> is <b>${item.typeProCon}</b> and should be <b>-</b> or <b>+</b> `\r\n      );\r\n    }\r\n\r\n    checkEmptyArguments({\r\n      spreadsheetId,\r\n      item,\r\n      worksheet: argumentWorksheet,\r\n      line,\r\n      keys: [\r\n        // \"date\",\r\n        \"nameSource\",\r\n        \"idArgument\",\r\n        \"nameProperty\",\r\n        \"value\",\r\n        \"nameStakeHolder\",\r\n        \"nameAlternative\",\r\n        \"nameCriterion\",\r\n        \"aim\",\r\n        \"nameTypeSource\",\r\n      ] as (keyof SpreadsheetArgument)[],\r\n    });\r\n\r\n    const renamedItem = {\r\n      id: item.idArgument,\r\n      stakeholder: item[\"nameStakeHolder\"],\r\n      property: item[\"nameProperty\"],\r\n      favorable: item.typeProCon === \"+\" ? true : false,\r\n      alternative: item[\"nameAlternative\"],\r\n      criterion: item[\"nameCriterion\"],\r\n      source: item[\"nameSource\"],\r\n      sourceType: item[\"nameTypeSource\"],\r\n      value: item[\"value\"],\r\n      aim: item[\"aim\"],\r\n      date: item[\"date\"] ? item[\"date\"].toString() : null,\r\n      tagInitiator: item[\"tagInitiator\"] || undefined,\r\n    };\r\n\r\n    delete item.idArgument;\r\n    delete item[\"nameStakeHolder\"];\r\n    delete item[\"nameProperty\"];\r\n    delete item.typeProCon;\r\n    delete item[\"nameAlternative\"];\r\n    delete item[\"nameCriterion\"];\r\n    delete item[\"nameSource\"];\r\n    delete item[\"nameTypeSource\"];\r\n    delete item[\"value\"];\r\n    delete item[\"aim\"];\r\n    delete item[\"tagInitiator\"];\r\n    return <Argument>{\r\n      ...item,\r\n      ...renamedItem,\r\n    };\r\n  });\r\n};\r\n\r\nexport const getRenamedSpreadsheetProject = async (\r\n  worksheets: SpreadsheetWorksheet[]\r\n) => {\r\n  const projectWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"project\"\r\n  );\r\n\r\n  // const projectItems = projectWorksheet!.data;\r\n\r\n  try {\r\n    await isValidWorkSheet(projectWorksheet);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n\r\n  const spreadsheetProject = projectWorksheet!.data[0] as SpreadsheetProject;\r\n\r\n  const alternativeWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"alternative\"\r\n  );\r\n\r\n  try {\r\n    await isValidWorkSheet(alternativeWorksheet);\r\n\r\n    alternativeWorksheet.data.forEach((item, index) => {\r\n      const line = index + 2;\r\n      if (item.iconAlternative === null) {\r\n        throw new MyChoiceError(\r\n          \"SPREADSHEET_ERROR\",\r\n          `On <b>${alternativeWorksheet.title}</b> sheet, the <b>iconAlternative</b> on line <b>${line}</b> is <b>empty</b> and should be a valid icon name`\r\n        );\r\n      }\r\n    });\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n\r\n  const spreadsheetAlternatives = alternativeWorksheet!\r\n    .data as SpreadsheetAlternative[];\r\n\r\n  const renamedAlternatives: Alternative[] = spreadsheetAlternatives.map(\r\n    (k) => ({\r\n      name: k.nameAlternative,\r\n      description: k.description,\r\n      image: k.imageAlternative,\r\n      icon: k.iconAlternative,\r\n    })\r\n  );\r\n\r\n  const expertiseWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"hasexpertise\"\r\n  );\r\n  const spreadsheetExpertises = expertiseWorksheet!\r\n    .data as SpreadsheetExpertise[];\r\n\r\n  const renamedExpertiseEntities: expertiseEntity[] = spreadsheetExpertises.map(\r\n    (k) => ({\r\n      nameStakeHolder: k[\"nameStakeHolder\"],\r\n      nameCriterion: k[\"nameCriterion\"],\r\n    })\r\n  );\r\n\r\n  const sourceTypeWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"typesource\"\r\n  );\r\n  const spreadsheetSourceType = sourceTypeWorksheet!\r\n    .data as SpreadsheetSourceType[];\r\n\r\n  const renamedSourceTypeEntities: SourceTypeEntity[] =\r\n    spreadsheetSourceType.map((k) => ({\r\n      fiability: k.fiability.toString(),\r\n      nameTypeSource: k.nameTypeSource,\r\n    }));\r\n\r\n  // Process products worksheet if it exists\r\n  let renamedProducts: Product[] = [];\r\n  const productWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"product\"\r\n  );\r\n  if (productWorksheet && productWorksheet.data.length > 0) {\r\n    try {\r\n      await isValidWorkSheet(productWorksheet);\r\n      const spreadsheetProducts = productWorksheet.data as SpreadsheetProduct[];\r\n      renamedProducts = spreadsheetProducts.map((k) => ({\r\n        nameAlternative: k.nameAlternative,\r\n        productUri: k.productUri,\r\n        nameProduct: k.nameProduct,\r\n        tagProduct: k.tagProduct ? k.tagProduct.split(',').map(t => t.trim()).filter(t => t !== '') : [],\r\n      }));\r\n    } catch (e) {\r\n      // If product sheet exists but has issues, throw error\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  // Process composition worksheet if it exists (replaces ingredient)\r\n  let renamedCompositions: Composition[] = [];\r\n  const compositionWorksheet = worksheets.find(\r\n    (worksheet) => worksheet.title === \"composition\"\r\n  );\r\n  if (compositionWorksheet && compositionWorksheet.data.length > 0) {\r\n    try {\r\n      await isValidWorkSheet(compositionWorksheet);\r\n      const spreadsheetCompositions = compositionWorksheet.data as SpreadsheetComposition[];\r\n      renamedCompositions = spreadsheetCompositions.map((k) => ({\r\n        uriCompose: k.uriCompose,\r\n        nameCompose: k.nameCompose,\r\n        typeComposant: k.typeComposant as 'Product' | 'Ingredient',\r\n        uriComposant: k.uriComposant,\r\n        nameComposant: k.nameComposant,\r\n        rang: k.Rang,\r\n        tagComposant: k.tagComposant ? k.tagComposant.split(',').map(t => t.trim()).filter(t => t !== '') : [],\r\n      }));\r\n    } catch (e) {\r\n      // If composition sheet exists but has issues, throw error\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  const renamedProject: Project = {\r\n    name: spreadsheetProject.nameProject,\r\n    image: spreadsheetProject.image,\r\n    description: spreadsheetProject.description,\r\n    alternatives: renamedAlternatives,\r\n    expertiseEntities: renamedExpertiseEntities,\r\n    sourceTypeEntities: renamedSourceTypeEntities,\r\n    products: renamedProducts.length > 0 ? renamedProducts : undefined,\r\n    compositions: renamedCompositions.length > 0 ? renamedCompositions : undefined,\r\n  };\r\n\r\n  return renamedProject;\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"./state\";\r\nimport {\r\n  fetchSpreadsheetWorksheets,\r\n  getRenamedSpreadsheetItems,\r\n  getRenamedSpreadsheetProject,\r\n} from \"../data-spreadsheet\";\r\nimport { Argument, Data, Project } from \"@/@types\";\r\n\r\nexport const setSpreadsheet = (id: string) => {};\r\n\r\nexport const getSpreadsheetData = async (id: string) => {\r\n  try {\r\n    const worksheets = await fetchSpreadsheetWorksheets(id);\r\n\r\n    const renamedSpreadsheetItems = await getRenamedSpreadsheetItems(\r\n      worksheets,\r\n      id\r\n    );\r\n\r\n    const renamedProject = await getRenamedSpreadsheetProject(worksheets);\r\n\r\n    return {\r\n      items: renamedSpreadsheetItems,\r\n      project: renamedProject,\r\n    } as Data;\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\n// export const exportToMultipleCSV = async (id: string) => {\r\n//   const worksheets = await fetchSpreadsheetWorksheets(id);\r\n\r\n//   const zip = new JSZip();\r\n\r\n//   worksheets.forEach(worksheet => {\r\n//     const data = worksheet.data;\r\n//     const CSV = getCSVFromJSON(data);\r\n//     const filename = worksheet.title + \".csv\";\r\n//     const blob = getAsCSVBlob(CSV);\r\n//     zip.file(filename, blob);\r\n//   });\r\n//   zip.generateAsync({ type: \"blob\" }).then(function(content) {\r\n//     // see FileSaver.js\r\n//     saveAs(content, state.project.name + \".zip\");\r\n//   });\r\n// };\r\n\r\nexport const getSpreadsheetIdFromUrl = (url: string) => {\r\n  const matches = new RegExp(\"/spreadsheets/d/([a-zA-Z0-9-_]+)\").exec(url);\r\n  if (matches) {\r\n    const spreadsheetId = matches![1];\r\n    return spreadsheetId;\r\n  } else {\r\n    return url;\r\n  }\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { findKey } from \"lodash\";\r\nimport {\r\n  IcoProject,\r\n  Project,\r\n  IcoArguments,\r\n  Argument,\r\n  Data,\r\n  IcoArgument,\r\n} from \"./@types\";\r\nimport { SpreadsheetArgument } from \"./data-spreadsheet\";\r\n\r\nexport const getIcoRenamedProject = (\r\n  sourceProject: IcoProject\r\n): Data[\"project\"] => {\r\n  const item = sourceProject;\r\n  const renamedItem: Omit<Project, \"description\" | \"image\"> = {\r\n    stakeholders: item.nameStakeholder,\r\n    name: item.nameProject,\r\n    aims: item.aim,\r\n    criterions: item.nameCriterion,\r\n    alternatives: item.alternatives.map((alternative) => {\r\n      const renamedAlternative = {\r\n        name: alternative.nameAlternative,\r\n        image: alternative.imageAlternative,\r\n        icon: alternative.iconAlternative,\r\n      };\r\n      delete alternative.nameAlternative;\r\n      return {\r\n        ...alternative,\r\n        ...renamedAlternative,\r\n      };\r\n    }),\r\n    sourceTypeEntities: item.typeSource,\r\n    expertiseEntities: item.hasExpertise,\r\n  };\r\n  delete item.typeSource;\r\n  delete item.hasExpertise;\r\n  delete item.nameStakeholder;\r\n  delete item.aim;\r\n  delete item.nameProject;\r\n  delete item.nameCriterion;\r\n  return {\r\n    ...item,\r\n    ...renamedItem,\r\n  };\r\n};\r\n\r\nexport const getIcoRenamedItems = (\r\n  sourceArguments: IcoArguments\r\n): Data[\"items\"] => {\r\n  return sourceArguments.map((item) => {\r\n    const renamedItem = {\r\n      id: item.idArgument,\r\n      stakeholder: item.nameStakeHolder,\r\n      property: item.nameProperty,\r\n      favorable: item.typeProCon,\r\n      alternative: item.nameAlternative,\r\n      criterion: item.nameCriterion,\r\n      source: item.nameSource,\r\n      sourceType: item.nameTypeSource,\r\n    };\r\n    delete item.idArgument;\r\n    delete item.nameStakeHolder;\r\n    delete item.nameProperty;\r\n    delete item.typeProCon;\r\n    delete item.nameAlternative;\r\n    delete item.nameCriterion;\r\n    delete item.nameSource;\r\n    delete item.nameTypeSource;\r\n\r\n    // console.log(renamedItem, \"renamedItem\");\r\n    return <Argument>{\r\n      ...item,\r\n      ...renamedItem,\r\n    };\r\n  });\r\n};\r\n\r\nexport interface CSVArgument {\r\n  idArgument: number;\r\n  assertion: string;\r\n  explanation: string;\r\n  date: string;\r\n  \"stakeholder.nameStakeholder\": string;\r\n  \"property.nameProperty\": string;\r\n  \"qualvalue.qualValue\": string;\r\n  typeProCon: string;\r\n  \"alternative.nameAlternative\": string;\r\n  \"criterion.nameCriterion\": string;\r\n  \"source.nameSource\": string;\r\n  \"aim.description\": string;\r\n  \"typesource.nameTypeSource\": string;\r\n  isProspective: string;\r\n  infValue?: unknown;\r\n  supValue?: unknown;\r\n  unit?: unknown;\r\n  hasCoverage?: unknown;\r\n  confidenceLevel?: unknown;\r\n  condition?: string;\r\n}\r\n\r\nexport type EquivalentSources = \"csv\" | \"server\" | \"spreadsheet\";\r\n\r\nexport const getEquivalentTable = () => {\r\n  const appArgument: Argument = null;\r\n  const serverArgument: IcoArgument = null;\r\n  const spreadsheetArgument: SpreadsheetArgument = null;\r\n\r\n  const equivalentTable: {\r\n    [K in keyof Argument]: {\r\n      csv: keyof CSVArgument;\r\n      server: keyof IcoArgument;\r\n      spreadsheet: keyof SpreadsheetArgument;\r\n    };\r\n  } = {\r\n    id: {\r\n      csv: \"idArgument\",\r\n      server: \"idArgument\",\r\n      spreadsheet: \"idArgument\",\r\n    },\r\n    aim: {\r\n      csv: \"aim.description\",\r\n      server: \"aim\",\r\n      spreadsheet: \"aim\",\r\n    },\r\n    alternative: {\r\n      csv: \"alternative.nameAlternative\",\r\n      server: \"nameAlternative\",\r\n      spreadsheet: \"nameAlternative\",\r\n    },\r\n    assertion: {\r\n      csv: \"assertion\",\r\n      server: \"assertion\",\r\n      spreadsheet: \"assertion\",\r\n    },\r\n    criterion: {\r\n      csv: \"criterion.nameCriterion\",\r\n      server: \"nameCriterion\",\r\n      spreadsheet: \"nameCriterion\",\r\n    },\r\n    date: {\r\n      csv: \"date\",\r\n      server: \"date\",\r\n      spreadsheet: \"date\",\r\n    },\r\n    explanation: {\r\n      csv: \"explanation\",\r\n      server: \"explanation\",\r\n      spreadsheet: \"explanation\",\r\n    },\r\n    favorable: {\r\n      csv: \"typeProCon\",\r\n      server: \"typeProCon\",\r\n      spreadsheet: \"typeProCon\",\r\n    },\r\n    isProspective: {\r\n      csv: \"isProspective\",\r\n      server: \"isProspective\",\r\n      spreadsheet: \"isProspective\",\r\n    },\r\n    property: {\r\n      csv: \"property.nameProperty\",\r\n      server: \"nameProperty\",\r\n      spreadsheet: \"nameProperty\",\r\n    },\r\n    source: {\r\n      csv: \"source.nameSource\",\r\n      server: \"nameSource\",\r\n      spreadsheet: \"nameSource\",\r\n    },\r\n    sourceType: {\r\n      csv: \"typesource.nameTypeSource\",\r\n      server: \"nameTypeSource\",\r\n      spreadsheet: \"nameTypeSource\",\r\n    },\r\n    stakeholder: {\r\n      csv: \"stakeholder.nameStakeholder\",\r\n      server: \"nameStakeHolder\",\r\n      spreadsheet: \"nameStakeHolder\",\r\n    },\r\n    value: {\r\n      csv: \"qualvalue.qualValue\",\r\n      server: \"value\",\r\n      spreadsheet: \"value\",\r\n    },\r\n    condition: {\r\n      csv: \"condition\",\r\n      server: \"condition\",\r\n      spreadsheet: \"condition\",\r\n    },\r\n  };\r\n\r\n  return equivalentTable;\r\n};\r\n\r\nexport const getEquivalentAppPropFromSource = (\r\n  source: EquivalentSources,\r\n  property: keyof CSVArgument | keyof IcoArgument | keyof SpreadsheetArgument\r\n) => {\r\n  return findKey(getEquivalentTable(), function (k) {\r\n    return k[source] === property;\r\n  }) as keyof Argument;\r\n};\r\n\r\nexport const getEquivalentSourcePropFromApp = (\r\n  source: EquivalentSources,\r\n  property: keyof Argument\r\n) => {\r\n  const equivalent =\r\n    getEquivalentTable()[property] && getEquivalentTable()[property][source];\r\n  return equivalent ? equivalent : null;\r\n};\r\n\r\nexport const getRenamedItemPropFromTo = (\r\n  from: EquivalentSources,\r\n  to: EquivalentSources,\r\n  property: keyof CSVArgument | keyof IcoArgument | keyof SpreadsheetArgument\r\n) => {\r\n  const appProperty = getEquivalentAppPropFromSource(from, property);\r\n  const toProperty = getEquivalentSourcePropFromApp(to, appProperty);\r\n\r\n  return toProperty ? toProperty : null;\r\n};\r\n\r\nexport const getRenamedItemsFromSpreadsheetToCSV = (\r\n  spreadsheetItems: SpreadsheetArgument[]\r\n): CSVArgument[] => {\r\n  return spreadsheetItems.map((item) => {\r\n    const renamedItem = {};\r\n    Object.entries(item).forEach(([k, v]) => {\r\n      //@ts-ignore\r\n      const renamedProp = getRenamedItemPropFromTo(\"spreadsheet\", \"csv\", k);\r\n      if (renamedProp) {\r\n        //@ts-ignore\r\n        renamedItem[renamedProp] = v;\r\n      }\r\n    });\r\n    return renamedItem as CSVArgument;\r\n  });\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { uniq, uniqBy, sortBy, groupBy, flatten } from \"lodash\";\r\nimport {\r\n  Arguments,\r\n  Argument,\r\n  NormalizedArgument,\r\n  Alternative,\r\n  NormalizedObject,\r\n  NormalizedData,\r\n  SourceTypeEntity,\r\n  expertiseEntity,\r\n  Project\r\n} from \"@/@types\";\r\nimport { MyChoiceError } from \"./store/utils\";\r\nimport { SpreadsheetArgument } from \"./data-spreadsheet\";\r\n\r\n// const getUniqueValues = (data: Arguments, propertyName: T) => {\r\n//   const allValues: Array<K> = data.map(argument => {\r\n//     return argument.criterion;\r\n//   });\r\n//   const values: Array<K> = uniq(allValues);\r\n//   return values;\r\n// }\r\n\r\nexport const getPropertyUniqueValues = <\r\n  D extends Arguments,\r\n  P extends keyof Argument\r\n>(\r\n  data: D,\r\n  prop: P\r\n) => {\r\n  const allValues = data.map(argument => {\r\n    return argument[prop];\r\n  });\r\n  const values = uniq(allValues);\r\n  return values;\r\n};\r\n\r\n// export const getLabels = <D extends Arguments>(data: D) => {\r\n//   const allLabels = data.map(argument => {\r\n//     return `${argument[\"property\"]}:${argument[\"value\"]}`;\r\n//   });\r\n//   const labels = uniq(allLabels);\r\n//   return labels;\r\n// };\r\n\r\nexport const getCriterions = (data: Arguments) => {\r\n  const criterions = getPropertyUniqueValues(data, \"criterion\");\r\n  return criterions;\r\n};\r\n\r\n// export const getAims = (data: Arguments) => {\r\n//   const aims = getPropertyUniqueValues(data, \"aim\");\r\n\r\n//   return aims;\r\n// };\r\n\r\nexport const getAimsWithParentCriterion = (\r\n  data: Arguments,\r\n  criterions: NormalizedObject\r\n) => {\r\n  const allAimsTuples = data.map(argument => {\r\n    return [argument[\"aim\"], argument[\"criterion\"]];\r\n  });\r\n  const aimsTuples = sortBy(\r\n    uniqBy(allAimsTuples, joinTuple),\r\n    ([aim, criterion]) => {\r\n      return aim;\r\n    }\r\n  );\r\n  const object: NormalizedObject & {\r\n    [id: number]: { criterion?: number };\r\n  } = {};\r\n  aimsTuples.forEach((tuple, index) => {\r\n    const aimId = tuple[0] as string;\r\n    const criterionId = getIdFrom(criterions, tuple[1] as string, \"nameCriterion\");\r\n    index++;\r\n    object[index] = { id: index, name: aimId, criterion: criterionId };\r\n  });\r\n  return object;\r\n};\r\n\r\nexport const getStakeholders = (data: Arguments) => {\r\n  const stakeholders = getPropertyUniqueValues(data, \"stakeholder\");\r\n  return stakeholders;\r\n};\r\n\r\nexport const getProperties = (data: Arguments) => {\r\n  const properties = getPropertyUniqueValues(data, \"property\");\r\n  return properties;\r\n};\r\n\r\nexport const getValues = (data: Arguments) => {\r\n  const values = getPropertyUniqueValues(data, \"value\");\r\n  return values;\r\n};\r\n\r\nexport const joinTuple = <T>(array: T[]) => {\r\n  return array.join(\":\");\r\n};\r\n\r\nexport const getPropertyValueTuples = (data: Arguments) => {\r\n  const allPropertyValueTuples = data.map(argument => {\r\n    return [argument[\"property\"], argument[\"value\"]];\r\n  });\r\n  const propertyValueTuples = uniqBy(allPropertyValueTuples, joinTuple);\r\n  return propertyValueTuples;\r\n};\r\n\r\nexport const getAlternatives = (data: Arguments) => {\r\n  const alternatives = getPropertyUniqueValues(data, \"alternative\");\r\n  return alternatives;\r\n};\r\n\r\n// export const getAlternativesAsObject = (\r\n//   data: Arguments\r\n// ): Array<Omit<Alternative, \"description\">> => {\r\n//   const alternatives = getPropertyUniqueValues(data, \"alternative\");\r\n\r\n//   return alternatives.map(name => {\r\n//     return {\r\n//       name: name\r\n//     };\r\n//   });\r\n// };\r\n\r\nexport const getFavorableValues = (data: Arguments) => {\r\n  const favorables = getPropertyUniqueValues(data, \"favorable\");\r\n  return favorables;\r\n};\r\n\r\nexport const normalizeArray = <T extends keyof Argument>(\r\n  array: Array<Extract<string, Argument[T]>>\r\n) => {\r\n  const object: NormalizedObject = {};\r\n  array.forEach((name, index) => {\r\n    index++;\r\n    object[index] = { id: index, name };\r\n  });\r\n  return object;\r\n};\r\n\r\nexport const normalizeAlternatives = (array: Alternative[]) => {\r\n  const object: NormalizedData[\"alternatives\"] = {};\r\n  array.forEach((alternative, index) => {\r\n    index++;\r\n    object[index] = {\r\n      id: index,\r\n      ...alternative,\r\n      icon:\r\n        \"mdi-\" +\r\n          alternative.icon\r\n            .replace(/\\.[^/.]+$/, \"\")\r\n            .split(/(\\\\|\\/)/g)\r\n            .pop() || \"\"\r\n    };\r\n  });\r\n  return object;\r\n};\r\n\r\n// export const normalizeCriterions = (\r\n//   criterions: Array<Argument['criterion']>\r\n// ) => {\r\n//   return normalizeArray(criterions);\r\n// };\r\n\r\n// export const normalizeAims = (aims: Array<Argument['aim']>) => {\r\n//   return normalizeArray(aims);\r\n// };\r\n\r\n// export const normalizeAlternatives = (\r\n//   alternatives: Array<Argument['alternative']>\r\n// ) => {\r\n//   return normalizeArray(alternatives);\r\n// };\r\n\r\nconst getIdFrom = <T extends keyof Argument>(\r\n  object: NormalizedObject,\r\n  property: Argument[T],\r\n  name?: keyof SpreadsheetArgument\r\n) => {\r\n  // console.log(object, \"object\");\r\n  // console.log(property, \"property\");\r\n  const result = Object.values(object).find(item => item.name === property);\r\n\r\n  try {\r\n    return result!.id;\r\n  } catch (e) {\r\n    throw new MyChoiceError(\r\n      \"SPREADSHEET_ERROR\",\r\n      `Cannot find <b>${property}</b> in ${\r\n        name === \"nameAlternative\" ? `alternatives` : `<b>${name}</b>`\r\n      }`\r\n    );\r\n  }\r\n};\r\n\r\nexport const parseItems = <\r\n  T extends {\r\n    [id: string]: NormalizedObject;\r\n  }\r\n>(\r\n  data: Arguments,\r\n  { criterions, aims, alternatives, stakeholders }: T\r\n): NormalizedArgument[] => {\r\n  return data.map(item => {\r\n    // console.log(item, \"item\");\r\n    // console.log(item.alternative, \" alternative\");\r\n    return {\r\n      ...item,\r\n      subOption:\r\n        JSON.parse(item.favorable.toString().toLowerCase()) === true ? 1 : 2, // not sure if it's a good practice...\r\n      criterion: getIdFrom(criterions, item.criterion, \"nameCriterion\"),\r\n      stakeholder: getIdFrom(stakeholders, item.stakeholder, \"nameStakeHolder\"),\r\n      aim: getIdFrom(aims, item.aim, \"aim\"),\r\n      alternative: getIdFrom(alternatives, item.alternative, \"nameAlternative\"),\r\n      isProspective: Number(item.isProspective) === 1 ? true : false\r\n    };\r\n  });\r\n};\r\n\r\nexport const getNormalizedSubsets = (data: Arguments, project: Project) => {\r\n  const criterions = getCriterions(data);\r\n  const stakeholders = getStakeholders(data);\r\n  //const alternatives = getAlternatives(data);\r\n  const alternatives = project.alternatives;\r\n\r\n  const normalizedCriterions = normalizeArray(criterions.sort());\r\n  const normalizedAlternatives = normalizeAlternatives(alternatives);\r\n  const normalizedStakeholders = normalizeArray(stakeholders.sort());\r\n  const normalizedAims = getAimsWithParentCriterion(data, normalizedCriterions);\r\n\r\n  const normalizedItems = parseItems(data, {\r\n    criterions: normalizedCriterions,\r\n    aims: normalizedAims,\r\n    alternatives: normalizedAlternatives,\r\n    stakeholders: normalizedStakeholders\r\n  });\r\n\r\n  return {\r\n    criterions: normalizedCriterions,\r\n    alternatives: normalizedAlternatives,\r\n    stakeholders: normalizedStakeholders,\r\n    aims: normalizedAims,\r\n    items: normalizedItems\r\n  };\r\n};\r\n\r\nexport const getNormalizedData = (\r\n  data: Arguments,\r\n  project: Project\r\n): NormalizedData => {\r\n  // const properties = getProperties(data);\r\n  // const values = getValues(data);\r\n\r\n  const propertyValueTuples = getPropertyValueTuples(data);\r\n  const properties = getProperties(data);\r\n\r\n  const {\r\n    criterions,\r\n    alternatives,\r\n    stakeholders,\r\n    aims,\r\n    items\r\n  } = getNormalizedSubsets(data, project);\r\n\r\n  const normalizedData = {\r\n    criterions,\r\n    alternatives,\r\n    stakeholders,\r\n    labels: propertyValueTuples,\r\n    properties,\r\n    aims,\r\n    items,\r\n    subOptions: {\r\n      1: { id: 1, name: \"\" },\r\n      2: { id: 2, name: \"\" }\r\n    }\r\n  };\r\n\r\n  /* console.log(normalizedData, \"DATA\"); */\r\n\r\n  return normalizedData as NormalizedData;\r\n};\r\n\r\nexport const getInterplayItems = function(items: Argument[]) {\r\n  const propertyGroups = groupBy(items, \"property\");\r\n\r\n  const propertyGroupsWithMultipleAims = Object.values(propertyGroups).filter(\r\n    groupItems => {\r\n      const aimGroups = groupBy(groupItems, \"aim\");\r\n\r\n      if (Object.keys(aimGroups).length > 1) {\r\n        return groupItems;\r\n      }\r\n    }\r\n  );\r\n\r\n  const interplayItems = flatten(propertyGroupsWithMultipleAims);\r\n\r\n  return interplayItems;\r\n};\r\n\r\nexport const getMultiStakholderItems = function(items: Argument[]) {\r\n  const aimGroups = groupBy(items, \"aim\");\r\n\r\n  const aimGroupsWithMultipleStakeholders = Object.values(aimGroups).filter(\r\n    groupItems => {\r\n      const stakeholderGroups = groupBy(groupItems, \"stakeholder\");\r\n\r\n      if (Object.keys(stakeholderGroups).length > 1) {\r\n        return groupItems;\r\n      }\r\n    }\r\n  );\r\n\r\n  const multiStakeholderItems = flatten(aimGroupsWithMultipleStakeholders);\r\n\r\n  return multiStakeholderItems;\r\n};\r\n\r\nexport const filterDataAsExpertise = (\r\n  expertiseEntities: expertiseEntity[],\r\n  data: Arguments\r\n) => {\r\n  const expertiseArguments = data.filter(item => {\r\n    return expertiseEntities.some(\r\n      entity =>\r\n        entity.nameCriterion === item.criterion &&\r\n        entity.nameStakeHolder === item.stakeholder\r\n    );\r\n  });\r\n\r\n  return expertiseArguments;\r\n};\r\n\r\nexport const filterDataAsReliability = (\r\n  typeSource: SourceTypeEntity[],\r\n  data: Arguments\r\n) => {\r\n  typeSource;\r\n\r\n  const prospectiveArguments = data.filter(item => {\r\n    return typeSource.some(\r\n      source =>\r\n        source.nameTypeSource === item.sourceType &&\r\n        Number(source.fiability) === (1 || 2)\r\n    );\r\n  });\r\n\r\n  return prospectiveArguments;\r\n};\r\n\r\nexport const filterDataAsProspective = (data: Arguments) => {\r\n  const prospectiveArguments = data.filter(\r\n    item => Number(item.isProspective) === 1\r\n  );\r\n\r\n  return prospectiveArguments;\r\n};\r\n\r\n// DEPRECETATED (to remove)\r\nexport const filterNormalizedDataAsProspective = (\r\n  normalizedData: NormalizedData\r\n) => {\r\n  const prospectiveItems = normalizedData.items.filter(\r\n    item => item.isProspective === true\r\n  );\r\n\r\n  const prospectiveData = {\r\n    ...normalizedData,\r\n    items: prospectiveItems\r\n  };\r\n\r\n  return prospectiveData;\r\n};\r\n\r\nexport const filterDataAsInterplay = (data: Arguments) => {\r\n  const interplayItems = getInterplayItems(data);\r\n\r\n  return interplayItems;\r\n};\r\n\r\nexport const filterDataAsMultiStakeholder = (data: Arguments) => {\r\n  const multiStakeholderItems = getMultiStakholderItems(data);\r\n\r\n  return multiStakeholderItems;\r\n};\r\n\r\n// DEPRECETATED (to remove)\r\nexport const filterNormalizedDataAsInterplay = (\r\n  normalizedData: NormalizedData\r\n) => {\r\n  const itemsProps = {\r\n    criterions: \"criterion\",\r\n    aims: \"aim\",\r\n    stakeholders: \"stakeholder\"\r\n  };\r\n  // const props = <Array<keyof NormalizedArgument>>[\r\n  //   \"criterion\",\r\n  //   \"aim\",\r\n  //   \"stakeholder\"\r\n  // ];\r\n\r\n  const interplayData = normalizedData;\r\n  //@ts-ignore\r\n  interplayData.items = getInterplayItems(normalizedData.items);\r\n\r\n  Object.entries(normalizedData).forEach(([key, normalizedObject]) => {\r\n    if (Object.keys(itemsProps).includes(key)) {\r\n      //@ts-ignore\r\n      const itemPropName = itemsProps[key];\r\n      const interplayNormalizedObject = Object.keys(normalizedObject)\r\n        .map(key => Number(key))\r\n        .filter(id => {\r\n          return normalizedData.items.some(item => {\r\n            //@ts-ignore\r\n            return item[itemPropName] === id;\r\n          });\r\n        })\r\n        .reduce((filteredNormalizedObject: NormalizedObject, id: number) => {\r\n          filteredNormalizedObject[id] = normalizedObject[id];\r\n          return filteredNormalizedObject;\r\n        }, {});\r\n      //@ts-ignore\r\n      interplayData[key] = interplayNormalizedObject;\r\n    }\r\n  });\r\n\r\n  return interplayData;\r\n};\r\n\r\n// export const normalizeFavorables = (\r\n//   favorables: Array<Argument['favorable']>\r\n// ) => {\r\n\r\n//   return normalizeArray(favorables);\r\n// };\r\n\r\nconst test = {\r\n  criterions: {\r\n    1: { id: 1, name: \"Nutrition and health\t\" },\r\n    2: { id: 2, name: \"Economic\" }\r\n  },\r\n  aims: {\r\n    1: { id: 1, name: \"Consuming a balanced diet\", category: 1 },\r\n    2: { id: 2, name: \"Enabling proper digestion\", category: 1 },\r\n    3: { id: 3, name: \"Rationalizing the ratio protein/price\", category: 2 }\r\n  },\r\n  alternatives: {\r\n    1: { id: 1, name: \"Plant-based diet\" },\r\n    2: { id: 2, name: \"Animal-based diet\" }\r\n  },\r\n  subOptions: {\r\n    \":)\": { id: \":)\", name: \"\" },\r\n    \":(\": { id: \":(\", name: \"\" }\r\n  }\r\n};\r\n","//@ts-ignore\r\nimport { Data } from \"@/@types/data-renamed\";\r\nimport {\r\n  getRenamedSpreadsheetItems,\r\n  getRenamedSpreadsheetProject,\r\n  SpreadsheetWorksheet,\r\n} from \"@/data-spreadsheet\";\r\nimport router from \"@/router\";\r\n//@ts-ignore\r\nimport xlsxParser from \"xlsx-parse-json\";\r\nimport { loadAll } from \"./fetch\";\r\nimport { setData } from \"./project\";\r\nimport { computed } from \"vue\";\r\nimport { nextcloudIdRouteQuery, state } from \".\";\r\nimport type { RouteLocationNormalized } from \"vue-router\";\r\n\r\nexport const isValidNextcloudUrl = computed(() => {\r\n  return state.fields.nextcloudUrl;\r\n\r\n  // state.fields.nextcloudUrl.startsWith(\r\n  //   process.env.VUE_APP_NEXTCLOUD_URL\r\n  // );\r\n});\r\n\r\nexport const getNextcloudDownloadUrlFromId = (nextcloudId: string) => {\r\n  return `${process.env.VUE_APP_NEXTCLOUD_URL}${nextcloudId}/download`;\r\n};\r\n\r\nexport const getNextcloudFileFromUrl = async (url: string) => {\r\n  const downloadUrl = url;\r\n\r\n  const response = await fetch(downloadUrl);\r\n  const blob = await response.blob();\r\n\r\n  const nextcloudId = getNextcloudIdFromUrl(url);\r\n  const file = new File([blob], nextcloudId);\r\n  return file;\r\n};\r\n\r\nexport const getNextcloudDataFromUrl = async (url: string) => {\r\n  try {\r\n    const file = await getNextcloudFileFromUrl(url);\r\n\r\n    const data = await geXlsxData(file);\r\n    return data;\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const getNextcloudIdFromUrl = (url: string) => {\r\n  const matches = new RegExp(\r\n    `${process.env.VUE_APP_NEXTCLOUD_URL}([a-zA-Z0-9-_]+)`\r\n  ).exec(url);\r\n  if (matches) {\r\n    const nextcloudId = matches![1];\r\n    return nextcloudId;\r\n  } else {\r\n    return url;\r\n  }\r\n};\r\n\r\nexport const setDataFromXlsxFile = async (file: File, clear?: boolean) => {\r\n  try {\r\n    const data = await geXlsxData(file);\r\n    setData(data.items, data.project, clear);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const openXlsxFromFile = async (file: File, clear?: boolean) => {\r\n  await setDataFromXlsxFile(file, clear);\r\n};\r\n\r\nexport const getJsonFromXlsx = async (file: File) => {\r\n  const JSON = await xlsxParser.onFileSelection(file);\r\n  return JSON;\r\n};\r\n\r\nexport const getXlsxWorksheets = async (file: File) => {\r\n  const json = await getJsonFromXlsx(file);\r\n  const worksheets = Object.entries(json).map(([key, value], index) => {\r\n    return { title: key, data: value, index } as SpreadsheetWorksheet;\r\n  });\r\n\r\n  return worksheets;\r\n};\r\n\r\nexport const geXlsxData = async (file: File) => {\r\n  try {\r\n    const worksheets = await getXlsxWorksheets(file);\r\n    const renamedSpreadsheetItems = await getRenamedSpreadsheetItems(\r\n      worksheets\r\n    );\r\n\r\n    const renamedProject = await getRenamedSpreadsheetProject(worksheets);\r\n\r\n    return {\r\n      items: renamedSpreadsheetItems,\r\n      project: renamedProject,\r\n    } as Data;\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport {\r\n  spreadsheetIdRouteQuery,\r\n  projectNameRouteQuery,\r\n  nextcloudIdRouteQuery,\r\n} from \"./routes\";\r\nimport { fetchIcoData, fetchIcoProject, loadAll } from \"./fetch\";\r\nimport router from \"@/router\";\r\nimport type { RouteLocationNormalized } from \"vue-router\";\r\nimport { getSpreadsheetIdFromUrl } from \"./spreadsheet\";\r\n\r\nimport { getIcoRenamedItems, getIcoRenamedProject } from \"@/data-renamed\";\r\nimport {\r\n  getNormalizedData,\r\n  filterDataAsProspective,\r\n  filterDataAsInterplay,\r\n  filterDataAsReliability,\r\n  filterDataAsExpertise,\r\n  filterDataAsMultiStakeholder,\r\n} from \"@/data-parser\";\r\nimport {\r\n  clearAppDialogs,\r\n  state,\r\n  clearAll,\r\n  clearAppDataAndProject,\r\n  clearErrors,\r\n} from \"@/store\";\r\n\r\nimport { Data } from \"@/@types\";\r\n// import Vue from \"vue\";\r\nimport { getNextcloudIdFromUrl } from \"./xlsx\";\r\n\r\nexport const openSpreadsheet = async (spreadsheetUrl: string) => {\r\n  const spreadsheetId = getSpreadsheetIdFromUrl(spreadsheetUrl);\r\n  const routeParams = {\r\n    query: {\r\n      [spreadsheetIdRouteQuery]: spreadsheetId,\r\n    },\r\n    name: \"project\",\r\n    path: \"/project\",\r\n  };\r\n  // routeParams.query[spreadsheetIdRouteQuery] = spreadsheetId;\r\n  const route = router.resolve(routeParams);\r\n  await router.push(route);\r\n  // try {\r\n  await loadAll(route);\r\n  // } catch (e) {\r\n  //   // if (e.name !== \"NavigationDuplicated\") {\r\n  //   //   state.errors.FAILED_TO_FETCH_SPREADSHEET = true;\r\n  //   // }\r\n  // }\r\n};\r\n\r\nexport const openIco = async (projectName: string) => {\r\n  const routeParams = {\r\n    query: {\r\n      [projectNameRouteQuery]: projectName,\r\n    },\r\n    name: \"project\",\r\n  };\r\n  // routeParams.query[projectNameRouteQuery] = projectName;\r\n  const route = router.resolve(routeParams);\r\n  await router.push(route);\r\n  // try {\r\n  await loadAll(route as RouteLocationNormalized);\r\n  // } catch (e) {\r\n  // console.error(e);\r\n  // state.errors.FAILED_TO_FETCH_ICO = true;\r\n  // throw e;\r\n  // }\r\n};\r\n\r\nexport const openNextcloudUrl = async (url: string) => {\r\n  const nextcloudId = getNextcloudIdFromUrl(url);\r\n  const routeParams = {\r\n    query: {\r\n      [nextcloudIdRouteQuery]: nextcloudId,\r\n    },\r\n    name: \"project\",\r\n    path: \"/project\",\r\n  };\r\n  // routeParams.query[nextcloudIdRouteQuery] = nextcloudId;\r\n  const route = router.resolve(routeParams);\r\n  await router.push(routeParams);\r\n  // try{\r\n  await loadAll(route as RouteLocationNormalized);\r\n};\r\n\r\n// export const getRecentProjects = () => {\r\n//   // const merge = {\r\n//   //   ...state.recentProjectNames,\r\n//   //   ...state.recentProjectSpreadsheets\r\n//   // };\r\n\r\n//   const merge = getRecentProjectsFromCache();\r\n\r\n//   const recentProjects = Object.keys(merge)\r\n//     .sort((a, b) => {\r\n//       return merge[b].date - merge[a].date;\r\n//     })\r\n//     .reduce((prev: { [key: string]: {} }, curr, i) => {\r\n//       prev[i] = merge[curr];\r\n//       return prev;\r\n//     }, {});\r\n\r\n//   const recentProjectsArray = Object.entries(recentProjects).map(\r\n//     ([key, value]) => {\r\n//       return value;\r\n//     }\r\n//   );\r\n\r\n//   return recentProjectsArray;\r\n// };\r\n\r\nexport const getIcoData = async (icoId: string) => {\r\n  const [project, items] = await Promise.all([\r\n    await getIcoProjectData(icoId),\r\n    await getIcoItemsData(icoId),\r\n  ]);\r\n  const data = { project, items };\r\n  return data;\r\n};\r\n\r\nexport const getIcoProjectData = async (icoId: string) => {\r\n  try {\r\n    let project = null;\r\n    // if (localStorage.project) {\r\n    //   project = JSON.parse(localStorage.project);\r\n    // } else {\r\n\r\n    const projectSource = await fetchIcoProject(icoId);\r\n    project = getIcoRenamedProject(projectSource);\r\n    //localStorage.project = JSON.stringify(project);\r\n    //}\r\n    //state.project = project;\r\n    return Promise.resolve(project);\r\n    //console.info(state.project, \"Project source\");\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const getIcoItemsData = async (icoId: string) => {\r\n  try {\r\n    let data = null;\r\n    // if (localStorage.data) {\r\n    //   data = JSON.parse(localStorage.data);\r\n    // } else {\r\n    const dataSource = await fetchIcoData(icoId);\r\n\r\n    data = getIcoRenamedItems(dataSource);\r\n    //localStorage.data = JSON.stringify(data);\r\n    //}\r\n    return Promise.resolve(data);\r\n    //const project = renamedProject(projectSource);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const setData = (\r\n  rawItems: Data[\"items\"],\r\n  rawProject: Data[\"project\"],\r\n  clear?: boolean\r\n) => {\r\n  // console.log(clear, \"CLEAR ?\");\r\n  if (clear !== false) {\r\n    clearAll();\r\n  } else {\r\n    clearAppDialogs();\r\n    clearAppDataAndProject();\r\n  }\r\n  clearErrors();\r\n\r\n  try {\r\n    let parsedData;\r\n\r\n    if (state.mode === \"interplay\") {\r\n      //const normalizedData = getNormalizedData(data);\r\n      //const interplayData = filterNormalizedDataAsInterplay(normalizedData);\r\n      const interplayData = filterDataAsInterplay(rawItems);\r\n      const normalizedInterplayData = getNormalizedData(\r\n        interplayData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedInterplayData);\r\n    } else if (state.mode === \"prospective\") {\r\n      const prospectiveData = filterDataAsProspective(rawItems);\r\n      const normalizedProspectiveData = getNormalizedData(\r\n        prospectiveData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedProspectiveData);\r\n    } else if (state.mode === \"data-reliability\") {\r\n      const reliabilityData = filterDataAsReliability(\r\n        rawProject.sourceTypeEntities,\r\n        rawItems\r\n      );\r\n      const normalizedReliabilityData = getNormalizedData(\r\n        reliabilityData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedReliabilityData);\r\n    } else if (state.mode === \"expertise\") {\r\n      const expertiseData = filterDataAsExpertise(\r\n        rawProject.expertiseEntities,\r\n        rawItems\r\n      );\r\n      const normalizedExpertiseData = getNormalizedData(\r\n        expertiseData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedExpertiseData);\r\n    } else if (state.mode === \"multi-stakeholder\") {\r\n      const multiStakeholderData = filterDataAsMultiStakeholder(rawItems);\r\n      const normalizedMultiStakeholderData = getNormalizedData(\r\n        multiStakeholderData,\r\n        rawProject\r\n      );\r\n      parsedData = Object.freeze(normalizedMultiStakeholderData);\r\n    } else {\r\n      const normalizedData = getNormalizedData(rawItems, rawProject);\r\n      parsedData = Object.freeze(normalizedData);\r\n    }\r\n    // state.data = parsedData;\r\n    // state.project = rawProject;\r\n    state.data = parsedData;\r\n    state.project = rawProject;\r\n    // console.log(state, \"STATE\");\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n  //state.filteredItems = parsedData.items;\r\n \r\n};\r\n","import { Data } from \"@/@types\";\r\n\r\nimport { computed } from \"vue\";\r\n\r\nimport { merge, omit } from \"lodash\";\r\nimport type { RouteLocationNormalized } from \"vue-router\";\r\nimport { getRouteTypeValue, PROJECT_TYPE_ROUTES, state } from \".\";\r\n\r\nexport enum ProjectGroupNames {\r\n  ICO = \"ico\",\r\n  GOOGLE_SPREADSHEET = \"googlespreadsheet\",\r\n  NEXTCLOUD = \"nextcloud\",\r\n  XLSX = \"xlsx\",\r\n}\r\n\r\nexport type LocalStorageCacheProjectItem = {\r\n  name?: string;\r\n  id: string;\r\n  date: number;\r\n  data: Data;\r\n  type?: keyof LocalStorageCache[\"projects\"];\r\n};\r\n\r\nexport type LocalStorageCacheProjectGroup = {\r\n  [id: string]: LocalStorageCacheProjectItem;\r\n};\r\n\r\nexport type LocalStorageCache = {\r\n  projects: {\r\n    [ProjectGroupNames.ICO]: LocalStorageCacheProjectGroup;\r\n    [ProjectGroupNames.GOOGLE_SPREADSHEET]: LocalStorageCacheProjectGroup;\r\n    [ProjectGroupNames.NEXTCLOUD]: LocalStorageCacheProjectGroup;\r\n    [ProjectGroupNames.XLSX]: LocalStorageCacheProjectGroup;\r\n  };\r\n};\r\n\r\nexport const initialCacheState: LocalStorageCache = {\r\n  projects: {\r\n    [ProjectGroupNames.ICO]: {},\r\n    [ProjectGroupNames.GOOGLE_SPREADSHEET]: {},\r\n    [ProjectGroupNames.NEXTCLOUD]: {},\r\n    [ProjectGroupNames.XLSX]: {},\r\n  },\r\n};\r\n\r\nexport const LOCAL_STORAGE_CACHE_KEY = \"MYCHOICE_CACHE\";\r\n\r\nexport const getLocalStorageCache = () => {\r\n  const cachedData = localStorage.getItem(LOCAL_STORAGE_CACHE_KEY);\r\n  return (JSON.parse(cachedData || '{}') ||\r\n    initialCacheState) as LocalStorageCache;\r\n};\r\nexport const getProjectsCache = () => {\r\n  const cache = getLocalStorageCache();\r\n  return cache?.projects || initialCacheState.projects;\r\n};\r\n\r\nexport const getProjectFromCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  id: string\r\n) => {\r\n  return Object.values(getProjectsCache()[type]).find((project) => {\r\n    return project.id === id;\r\n  });\r\n};\r\n\r\nexport const setLocalStorageCache = (data: LocalStorageCache) => {\r\n  localStorage.setItem(LOCAL_STORAGE_CACHE_KEY, JSON.stringify(data));\r\n};\r\n\r\nexport const updateLocalStorageCache = (toMerge: any) => {\r\n  const currentCache = getLocalStorageCache();\r\n\r\n  //   const updatedCache = { ...currentCache, ...toMerge };\r\n  const mergedCache = merge(currentCache, toMerge);\r\n  setLocalStorageCache(mergedCache);\r\n};\r\nexport const removeFromLocalStorageCache = (path: string) => {\r\n  const cache = getLocalStorageCache();\r\n\r\n  const updatedCache = omit(cache, path);\r\n\r\n  setLocalStorageCache(updatedCache as LocalStorageCache);\r\n};\r\nexport const updateProjectCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  projectItem: Partial<LocalStorageCacheProjectItem> &\r\n    Pick<LocalStorageCacheProjectItem, \"id\">\r\n) => {\r\n  updateLocalStorageCache({\r\n    projects: { [type]: { [projectItem.id]: projectItem } },\r\n  });\r\n};\r\n\r\nexport const saveProjectToCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  projectItem: Partial<LocalStorageCacheProjectItem> &\r\n    Pick<LocalStorageCacheProjectItem, \"id\" | \"data\">\r\n) => {\r\n  updateProjectCache(type, projectItem);\r\n};\r\n\r\nexport const getRecentProjectsByTypeFromCache = (\r\n  type: keyof LocalStorageCache[\"projects\"]\r\n) => {\r\n  return getProjectsCache()[type];\r\n};\r\n\r\nexport const getAsFlattenProjects = (\r\n  projects: LocalStorageCache[\"projects\"]\r\n) => {\r\n  if (!projects) return {};\r\n  const recentProjects = {} as LocalStorageCacheProjectGroup;\r\n  Object.entries(projects)\r\n    // Limited for RESTRICTED version\r\n    .filter(\r\n      ([typeId]) =>\r\n        typeId !== ProjectGroupNames.GOOGLE_SPREADSHEET &&\r\n        typeId !== ProjectGroupNames.NEXTCLOUD\r\n    )\r\n    .forEach(([typeId, items]) => {\r\n      Object.entries(items).forEach(([itemId, itemValue]) => {\r\n        const itemFullId = getProjectFullId(\r\n          typeId as keyof LocalStorageCache[\"projects\"],\r\n          itemId\r\n        );\r\n        recentProjects[itemFullId] = {\r\n          ...itemValue,\r\n          type: typeId as keyof LocalStorageCache[\"projects\"],\r\n        };\r\n      });\r\n    });\r\n  return recentProjects;\r\n};\r\n\r\nexport const recentProjects = computed(() => state.recentProjects);\r\nexport const hasRecentProjects = computed(() =>\r\n  Object.keys(recentProjects.value).length ? true : false\r\n);\r\n\r\nexport const setRecentProjectsState = () => {\r\n  state.recentProjects = getProjectsSortedByDate(getProjectsCache());\r\n};\r\n\r\nexport const getProjectsSortedByDate = (\r\n  projects: LocalStorageCache[\"projects\"]\r\n) => {\r\n  const merge = getAsFlattenProjects(projects);\r\n  const recentProjects = Object.keys(merge)\r\n    .sort((a, b) => {\r\n      return merge[b].date - merge[a].date;\r\n    })\r\n    .reduce((prev: LocalStorageCacheProjectGroup, value, i) => {\r\n      prev[i] = merge[value];\r\n      return prev;\r\n    }, {});\r\n\r\n  const recentProjectsArray = Object.entries(recentProjects).map(\r\n    ([key, value]) => {\r\n      return value;\r\n    }\r\n  );\r\n\r\n  return recentProjectsArray;\r\n};\r\n\r\nexport const saveToRecentProjects = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  { name, id }: Partial<LocalStorageCacheProjectItem>\r\n) => {\r\n  if (id === undefined) {\r\n    return;\r\n  }\r\n  const isProjectInCache = Object.keys(\r\n    getRecentProjectsByTypeFromCache(type)\r\n  ).includes(id);\r\n  if (!isProjectInCache) {\r\n    updateProjectCache(type, {\r\n      name,\r\n      id,\r\n      date: Date.now(),\r\n      type,\r\n    });\r\n  } else {\r\n    if (name) {\r\n      updateProjectCache(type, { name, id });\r\n    }\r\n    updateProjectCache(type, { date: Date.now(), id, type });\r\n  }\r\n  setRecentProjectsState();\r\n};\r\n\r\nexport const getProjectFullId = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  id: LocalStorageCacheProjectItem[\"id\"]\r\n) => `${type}-${id}`;\r\n\r\nexport const removeFromRecentProjects = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  { id }: Pick<LocalStorageCacheProjectItem, \"id\">\r\n) => {\r\n  // const fullId = getProjectFullId(type, id);\r\n  const isProjectExist = state.recentProjects.some(\r\n    (project: LocalStorageCacheProjectItem) =>\r\n      project.type === type && project.id === id\r\n  );\r\n  \r\n\r\n  if (isProjectExist) {\r\n    removeProjectFromCache(type, id);\r\n    setRecentProjectsState();\r\n  }\r\n};\r\n\r\nexport const removeProjectFromCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  id: string\r\n) => {\r\n  removeFromLocalStorageCache(`projects.${type}.${id}`);\r\n};\r\nexport const removeProjectDataFromCache = (\r\n  type: keyof LocalStorageCache[\"projects\"],\r\n  id: string\r\n) => {\r\n  removeFromLocalStorageCache(`projects.${type}.${id}.data`);\r\n};\r\n\r\nexport const clearProjectDataCacheFromRoute = (route: RouteLocationNormalized) => {\r\n  if (route.query[PROJECT_TYPE_ROUTES.ICO]) {\r\n    // clearIcoItemFromCache(\r\n    //   router.currentRoute.query[projectNameRouteQuery] as string\r\n    // );\r\n    removeProjectDataFromCache(\r\n      ProjectGroupNames.ICO,\r\n      route.query[PROJECT_TYPE_ROUTES.ICO] as string\r\n    );\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET]) {\r\n    // clearSpreadsheetItemFromCache(\r\n    //   router.currentRoute.query[spreadsheetIdRouteQuery] as string\r\n    // );\r\n\r\n    removeProjectDataFromCache(\r\n      ProjectGroupNames.GOOGLE_SPREADSHEET,\r\n      route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET] as string\r\n    );\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD]) {\r\n    removeProjectDataFromCache(\r\n      ProjectGroupNames.NEXTCLOUD,\r\n      route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD] as string\r\n    );\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.XLSX]) {\r\n    removeProjectDataFromCache(\r\n      ProjectGroupNames.XLSX,\r\n      route.query[PROJECT_TYPE_ROUTES.XLSX] as string\r\n    );\r\n  }\r\n};\r\n\r\nexport const isProjectCached = (route: RouteLocationNormalized) => {\r\n  return getProjectDataCacheFromRoute(route) ? true : false;\r\n};\r\n\r\nexport const getProjectCacheFromRoute = (route: RouteLocationNormalized) => {\r\n  const id = getRouteTypeValue(route);\r\n  if (!id) return undefined;\r\n  \r\n  if (route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET]) {\r\n    return getProjectFromCache(ProjectGroupNames.GOOGLE_SPREADSHEET, id);\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.ICO]) {\r\n    return getProjectFromCache(ProjectGroupNames.ICO, id);\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD]) {\r\n    return getProjectFromCache(ProjectGroupNames.NEXTCLOUD, id);\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.XLSX]) {\r\n    return getProjectFromCache(ProjectGroupNames.XLSX, id);\r\n  }\r\n};\r\n\r\nexport const setProjectCache = (route: RouteLocationNormalized, data: Data) => {\r\n  const id = getRouteTypeValue(route);\r\n  if (!id) return;\r\n  \r\n  if (route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET]) {\r\n    saveProjectToCache(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n      id,\r\n      data,\r\n    });\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.ICO]) {\r\n    saveProjectToCache(ProjectGroupNames.ICO, {\r\n      id,\r\n      data,\r\n    });\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD]) {\r\n    saveProjectToCache(ProjectGroupNames.NEXTCLOUD, {\r\n      id,\r\n      data,\r\n    });\r\n  }\r\n  if (route.query[PROJECT_TYPE_ROUTES.XLSX]) {\r\n    saveProjectToCache(ProjectGroupNames.XLSX, {\r\n      id,\r\n      data,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProjectDataCacheFromRoute = (route: RouteLocationNormalized) => {\r\n  const result = getProjectCacheFromRoute(route);\r\n  return result?.data;\r\n};\r\n\r\n// export const isSpreadsheetCached = (spreadsheetId: string) => {\r\n//   return getSpreadsheetProjectDataFromCache(spreadsheetId) ? true : false;\r\n//   // return localStorage.getItem(\"spreadsheet-\" + spreadsheetId) !== null\r\n//   //   ? true\r\n//   //   : false;\r\n// };\r\n// export const isIcoProjectCached = (projectName: string) => {\r\n//   return getIcoProjectDataFromCache(projectName) ? true : false;\r\n// };\r\n\r\n// export const getIcoProjectFromCache = (projectName: string) => {\r\n//   return getProjectFromCache(ProjectGroupNames.ICO, projectName);\r\n//   // return JSON.parse(localStorage.getItem(\"ico-\" + projectName));\r\n// };\r\n// export const getIcoProjectDataFromCache = (projectName: string) => {\r\n//   const { data } = getIcoProjectFromCache(projectName);\r\n//   return data;\r\n// };\r\n// export const getSpreadsheetProjectFromCache = (spreadsheetId: string) => {\r\n//   return getProjectFromCache(\r\n//     ProjectGroupNames.GOOGLE_SPREADSHEET,\r\n//     spreadsheetId\r\n//   );\r\n//   // return JSON.parse(localStorage.getItem(\"spreadsheet-\" + spreadsheetId));\r\n// };\r\n// export const getSpreadsheetProjectDataFromCache = (spreadsheetId: string) => {\r\n//   const { data } = getSpreadsheetProjectFromCache(spreadsheetId);\r\n//   return data;\r\n// };\r\n\r\n// export const setIcoProjectToCache = (projectName: string, data: Data) => {\r\n//   saveProjectToCache(ProjectGroupNames.ICO, {\r\n//     id: projectName,\r\n//     data,\r\n//   });\r\n//   // localStorage.setItem(\"ico-\" + projectName, JSON.stringify(data));\r\n// };\r\n// export const setSpreadsheetProjectToCache = (\r\n//   spreadsheetId: string,\r\n//   data: Data\r\n// ) => {\r\n//   // localStorage.setItem(\"spreadsheet-\" + spreadsheetId, JSON.stringify(data));\r\n//   saveProjectToCache(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n//     id: spreadsheetId,\r\n//     data,\r\n//   });\r\n// };\r\n\r\nexport const removeFromRecentProjectNames = (name: string) => {\r\n  // if (localStorage.recentProjectNames) {\r\n  //   state.recentProjectNames = JSON.parse(localStorage.recentProjectNames);\r\n  // }\r\n  if (state.recentProjectNames[name]) {\r\n    delete state.recentProjectNames[name];\r\n    localStorage.recentProjectNames = JSON.stringify(state.recentProjectNames);\r\n  }\r\n};\r\n\r\nexport const removeFromRecentProjectSpreadsheets = (spreadsheetId: string) => {\r\n  // if (localStorage.recentProjectSpreadsheets) {\r\n  //   state.recentProjectSpreadsheets = JSON.parse(\r\n  //     localStorage.recentProjectSpreadsheets\r\n  //   );\r\n  // }\r\n  // if (state.recentProjectSpreadsheets[spreadsheetId]) {\r\n  //   delete state.recentProjectSpreadsheets[spreadsheetId];\r\n  //   localStorage.recentProjectSpreadsheets = JSON.stringify(\r\n  //     state.recentProjectSpreadsheets\r\n  //   );\r\n  // }\r\n\r\n  removeFromRecentProjects(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n    id: spreadsheetId,\r\n  });\r\n};\r\n\r\nexport const clearLocalStorage = function () {\r\n  return localStorage.clear();\r\n};\r\n\r\n// export type RecentProjectNamesArray = []{}\r\n\r\n// export const recentProjectsNames = computed(() => {\r\n//   const cache = getLocalStorageCache();\r\n//   return Object.entries(cache).reduce((acc, [key, items]) => {\r\n//     const [itemId, itemValue] = Object.entries(items);\r\n//     acc.push({ [`${key}-${itemId}`]: itemValue });\r\n//   }, []);\r\n// });\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport {\r\n  getSpreadsheetData,\r\n  setError,\r\n  MyChoiceError,\r\n  getNextcloudDownloadUrlFromId,\r\n  getNextcloudDataFromUrl,\r\n  openXlsxFromFile,\r\n  dropFileInputRef\r\n} from \"@/store\";\r\nimport { PROJECT_TYPE_ROUTES } from \"./routes\";\r\nimport {\r\n  setData,\r\n  getIcoItemsData,\r\n  getIcoProjectData,\r\n  getIcoData,\r\n} from \"./project\";\r\nimport { state, getProjectName, showOverlay, hideOverlay } from \"./state\";\r\nimport dataJson from \"../../public/data.json\";\r\nimport projectJson from \"../../public/project.json\";\r\n\r\nimport {\r\n  getProjectDataCacheFromRoute,\r\n  isProjectCached,\r\n  ProjectGroupNames,\r\n  saveToRecentProjects,\r\n  setProjectCache,\r\n} from \"./cache\";\r\nimport { RouteLocationNormalized, RouteLocationAsPathGeneric } from 'vue-router';\r\nimport router from \"@/router\";\r\n\r\nexport const getIcoApiUrl = () => {\r\n  const proxyUrl = process.env.BASE_URL + \"api/\";\r\n  return process.env.NODE_ENV === \"development\"\r\n    ? proxyUrl\r\n    : process.env.VUE_APP_API_URL;\r\n};\r\n\r\nexport const fetchIcoData = async (projectId: string) => {\r\n  let json = null;\r\n  const url = getIcoApiUrl() + \"arguments?project=\" + projectId;\r\n  try {\r\n    if (!projectId) {\r\n      throw Error();\r\n    }\r\n    const response = await fetch(url);\r\n\r\n    json = await response.json();\r\n  } catch (e) {\r\n    console.warn(\"Fetch error, unable to fetch arguments: \" + url);\r\n    throw e;\r\n    // const response = await fetch(process.env.BASE_URL + \"data.json\");\r\n    // json = await response.json();\r\n  }\r\n  return json;\r\n};\r\n\r\nexport const fetchIcoProject = async (projectId: string) => {\r\n  let json = null;\r\n  const url = getIcoApiUrl() + \"project?name=\" + projectId;\r\n  try {\r\n    if (!projectId) {\r\n      throw Error();\r\n    }\r\n    const response = await fetch(url);\r\n\r\n    json = await response.json();\r\n  } catch (e) {\r\n    console.warn(\"Fetch error, unable to fetch project:\" + url);\r\n    throw e;\r\n    // const response = await fetch(process.env.BASE_URL + \"project.json\");\r\n    // json = await response.json();\r\n  }\r\n\r\n  return json;\r\n};\r\n\r\n\r\n\r\nexport const loadProject = () => {};\r\n\r\n\r\nexport const getProjectTypeFromRoute = (route: RouteLocationNormalized) => {\r\n  if (\r\n    Object.prototype.hasOwnProperty.call(\r\n      route.query,\r\n      PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET\r\n    )\r\n  ) {\r\n    return ProjectGroupNames.GOOGLE_SPREADSHEET;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(route.query, PROJECT_TYPE_ROUTES.ICO)\r\n  ) {\r\n    return ProjectGroupNames.ICO;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(route.query, PROJECT_TYPE_ROUTES.XLSX)\r\n  ) {\r\n    return ProjectGroupNames.XLSX;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(\r\n      route.query,\r\n      PROJECT_TYPE_ROUTES.NEXTCLOUD\r\n    )\r\n  ) {\r\n    return ProjectGroupNames.NEXTCLOUD;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nexport const getRouteTypeFromProjectType = (type: ProjectGroupNames) => {\r\n  if (type === ProjectGroupNames.GOOGLE_SPREADSHEET) {\r\n    return PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET;\r\n  } else if (type === ProjectGroupNames.ICO) {\r\n    return PROJECT_TYPE_ROUTES.ICO;\r\n  } else if (type === ProjectGroupNames.XLSX) {\r\n    return PROJECT_TYPE_ROUTES.XLSX;\r\n  } else if (type === ProjectGroupNames.NEXTCLOUD) {\r\n    return PROJECT_TYPE_ROUTES.NEXTCLOUD;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const getRouteTypeValue = (route: RouteLocationNormalized) => {\r\n  if (\r\n    Object.prototype.hasOwnProperty.call(\r\n      route.query,\r\n      PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET\r\n    )\r\n  ) {\r\n    return route.query[PROJECT_TYPE_ROUTES.GOOGLE_SPREADSHEET] as string;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(route.query, PROJECT_TYPE_ROUTES.ICO)\r\n  ) {\r\n    return route.query[PROJECT_TYPE_ROUTES.ICO] as string;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(route.query, PROJECT_TYPE_ROUTES.XLSX)\r\n  ) {\r\n    return route.query[PROJECT_TYPE_ROUTES.XLSX] as string;\r\n  } else if (\r\n    Object.prototype.hasOwnProperty.call(\r\n      route.query,\r\n      PROJECT_TYPE_ROUTES.NEXTCLOUD\r\n    )\r\n  ) {\r\n    return route.query[PROJECT_TYPE_ROUTES.NEXTCLOUD] as string;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const loadSpreadsheetFromRoute = async (\r\n  route: RouteLocationNormalized,\r\n  clear?: boolean\r\n) => {\r\n  const spreadsheetId = getRouteTypeValue(route);\r\n  if (!spreadsheetId) throw new Error('Spreadsheet ID is required');\r\n  \r\n  saveToRecentProjects(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n    id: spreadsheetId,\r\n  });\r\n  let data = null;\r\n  if (isProjectCached(route)) {\r\n    data = getProjectDataCacheFromRoute(route);\r\n    state.notifications.push({\r\n      message: \"Spreadsheet loaded from cache\",\r\n    });\r\n  } else {\r\n    data = await getSpreadsheetData(spreadsheetId);\r\n  }\r\n  if (!data) throw new Error('Failed to load spreadsheet data');\r\n  \r\n  saveToRecentProjects(ProjectGroupNames.GOOGLE_SPREADSHEET, {\r\n    name: data.project && data.project.name ? data.project.name : undefined,\r\n    id: spreadsheetId,\r\n  });\r\n  try {\r\n    setData(data.items, data.project, clear);\r\n    setProjectCache(route, data);\r\n    state.spreadsheet = spreadsheetId;\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const loadIcoFromRoute = async (route: RouteLocationNormalized, clear?: boolean) => {\r\n  const icoId = getRouteTypeValue(route);\r\n  if (!icoId) throw new Error('ICO ID is required');\r\n\r\n  saveToRecentProjects(ProjectGroupNames.ICO, {\r\n    id: icoId,\r\n  });\r\n\r\n  let data = null;\r\n  if (isProjectCached(route)) {\r\n    data = getProjectDataCacheFromRoute(route);\r\n    state.notifications.push({\r\n      message: \"Ico project loaded from cache\",\r\n    });\r\n  } else {\r\n    data = await getIcoData(icoId);\r\n  }  if (!data) throw new Error('Failed to load ICO data');\r\n  if (data.project && data.project.name) {\r\n    saveToRecentProjects(ProjectGroupNames.ICO, {\r\n      name: data.project.name ? data.project.name : undefined,\r\n      id: data.project.name,\r\n    });\r\n    // saveToRecentProjectNames(data.project.name);\r\n  }\r\n\r\n  try {\r\n    setData(data.items, data.project, clear);\r\n    setProjectCache(route, data);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\nexport const loadNextcloudFromRoute = async (route: RouteLocationNormalized, clear?: boolean) => {\r\n  // console.log(\"Nextcloud!\");\r\n  const nextcloudId = getRouteTypeValue(route);\r\n  if (!nextcloudId) throw new Error('Nextcloud ID is required');\r\n\r\n  saveToRecentProjects(ProjectGroupNames.NEXTCLOUD, {\r\n    id: nextcloudId,\r\n  });\r\n\r\n  let data = null;\r\n  if (isProjectCached(route)) {\r\n    data = getProjectDataCacheFromRoute(route);\r\n    state.notifications.push({\r\n      message: \"Nextcloud project loaded from cache\",\r\n    });\r\n  } else {\r\n    //https://icotest.iate.inra.fr/nextcloud/s/iiw6WomRsepyx78/download\r\n    const nextcloudUrl = getNextcloudDownloadUrlFromId(nextcloudId);\r\n    data = await getNextcloudDataFromUrl(nextcloudUrl);\r\n  }\r\n  if (!data) throw new Error('Failed to load Nextcloud data');\r\n\r\n  saveToRecentProjects(ProjectGroupNames.NEXTCLOUD, {\r\n    name: data.project && data.project.name ? data.project.name : undefined,\r\n    id: nextcloudId,\r\n  });\r\n  try {\r\n    setData(data.items, data.project, clear);\r\n    setProjectCache(route, data);\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const getHrefFromTypeId = ({\r\n  type,\r\n  id,\r\n}: {\r\n  type: ProjectGroupNames;\r\n  id: string;\r\n}) => {\r\n  const routeType = getRouteTypeFromProjectType(type);\r\n\r\n  if (!routeType) {\r\n    throw new Error(\"Route type is undefined for this project type.\");\r\n  }\r\n\r\n  // Construction des paramtres de route avec path ou name\r\n  const routeParams: RouteLocationNormalized = {\r\n    query: {\r\n      [routeType]: id,\r\n    },\r\n    name: \"project\", // Assure-toi que \"project\" est bien un nom de route dfini dans tes routes\r\n    path: \"/project\", // Assure-toi que cette route \"/project\" existe dans tes routes\r\n    params: {}, // Si tu n'as pas de paramtres, mets un objet vide\r\n    matched: [], // Tableau vide si aucune correspondance n'est requise\r\n    fullPath: \"/project\", // Remplacer par le chemin complet si ncessaire\r\n    hash: \"\",\r\n    redirectedFrom: undefined,\r\n    meta: {}\r\n  };\r\n\r\n  // Appel de router.resolve avec un objet contenant path ou name\r\n  const href = router.resolve(routeParams).href;\r\n  return href;\r\n};\r\n\r\n\r\nexport const loadAll = async (route: RouteLocationNormalized, clear?: boolean) => {\r\n  showOverlay();\r\n\r\n  // console.log(route.query, \"query\");\r\n  try {\r\n    /**\r\n     * GOOGLE SPREADSHEET\r\n     */\r\n    if (\r\n      getProjectTypeFromRoute(route) === ProjectGroupNames.GOOGLE_SPREADSHEET\r\n    ) {\r\n      await loadSpreadsheetFromRoute(route, clear);\r\n    }\r\n\r\n    /**\r\n     * ICO\r\n     */\r\n    if (getProjectTypeFromRoute(route) === ProjectGroupNames.ICO) {\r\n      await loadIcoFromRoute(route, clear);\r\n    }\r\n\r\n    /**\r\n     * NEXTCLOUD\r\n     */\r\n    if (getProjectTypeFromRoute(route) === ProjectGroupNames.NEXTCLOUD) {\r\n      await loadNextcloudFromRoute(route, clear);\r\n    }\r\n\r\n    /**\r\n     * XLSX\r\n     */\r\n    if (getProjectTypeFromRoute(route) === ProjectGroupNames.XLSX) {\r\n      const fileInput = dropFileInputRef.value;\r\n      if (fileInput && fileInput.files && fileInput.files[0]) {\r\n        const file = fileInput.files[0];\r\n        await openXlsxFromFile(file, clear);\r\n      } else {\r\n        console.error(\"No file selected or file input is not valid.\");\r\n      }\r\n    }\r\n\r\n    hideOverlay();\r\n  } catch (e) {\r\n    hideOverlay();\r\n    if (e instanceof MyChoiceError) {\r\n      console.warn(e.name, \"MYCHOICE ERROR\");\r\n      setError(e.name, e.message);\r\n      throw Error(e.stack);\r\n    } else {\r\n      // console.warn(\"ClassicError\");\r\n      //@ts-ignore\r\n      setError(e.name, e.message);\r\n      //@ts-ignore\r\n      console.warn(e.stack, \"stack\");\r\n      throw e;\r\n    }\r\n  }\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"@/store\";\r\nimport { computed } from \"vue\";\r\n\r\nexport const getAlternatives = function() {\r\n  return state.data!.alternatives;\r\n};\r\nexport const getAlternativesAsArray = function() {\r\n  const alternatives = Object.keys(getAlternatives());\r\n\r\n  return alternatives.map(alternative => Number(alternative));\r\n};\r\nexport const alternativesIds = function() {\r\n  return Object.keys(getAlternatives()).map(id => Number(id));\r\n};\r\nexport const c_alternativesIds = computed(() => {\r\n  return Object.keys(getAlternatives()).map(id => Number(id));\r\n});\r\n\r\nexport const getAlternativeById = function(alternativeId: number) {\r\n  return getAlternatives()[alternativeId];\r\n};\r\nexport const getAlternativeName = function(alternativeId: number) {\r\n  return getAlternativeById(alternativeId).name;\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"@/store\";\r\nimport { getFilteredItems } from \"@/store/items\";\r\nimport { NormalizedAims, NormalizedArgument } from \"@/@types\";\r\nimport { uniqBy } from \"lodash\";\r\n\r\nexport const getAims = function() {\r\n  const aims = state.data!.aims;\r\n  // if (state.mode !== \"consensus\") {\r\n  //   return filterNormalizedObjectByItemProp(aims, \"aim\");\r\n  // }\r\n  return aims;\r\n};\r\n\r\nexport const aimsIds = function() {\r\n  return Object.keys(getAims()).map(id => Number(id));\r\n};\r\n\r\nexport const getAimsAsArray = function() {\r\n  const aims = Object.keys(getAims());\r\n\r\n  return aims.map(aim => Number(aim));\r\n};\r\nexport const getAimById = function(aimId: number) {\r\n  return getAims()[aimId];\r\n};\r\n\r\nexport const getAimsBy = <\r\n  T extends keyof NormalizedAims[keyof NormalizedAims],\r\n  V\r\n>(\r\n  property: T,\r\n  value: V\r\n) => {\r\n  const aims = Object.values(getAims()).filter(item => {\r\n    return Number(item[property]) === Number(value);\r\n  });\r\n\r\n  return aims;\r\n};\r\n\r\nexport const getAimName = function(aimId: number) {\r\n  return getAims()[aimId] && getAims()[aimId].name;\r\n};\r\n\r\nexport const getFilteredAims = () => {\r\n  return aimsIds().filter(aimId => {\r\n    return getFilteredItems().some(item => {\r\n      return item.aim === aimId;\r\n    });\r\n  });\r\n};\r\n\r\nexport const getFilteredAimsBy = <\r\n  T extends keyof NormalizedAims[keyof NormalizedAims],\r\n  V\r\n>(\r\n  property: T,\r\n  value: V\r\n) => {\r\n  const filteredAims = getAimsBy(property, value).filter(aim => {\r\n    return getFilteredItems().some(item => {\r\n      return item.aim === aim.id;\r\n    });\r\n  });\r\n  return filteredAims;\r\n};\r\n\r\nexport const getAimsFromItems = (items: NormalizedArgument[]) => {\r\n  return uniqBy(items, \"aim\").map(item => item.aim);\r\n};\r\n\r\nexport const getAimsCountFromAimsAndCriterion = (\r\n  aims: number[],\r\n  criterionId: number\r\n) => {\r\n  return aims.filter(aimId => getAimById(aimId).criterion === criterionId)\r\n    .length;\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state, getFilteredItems } from \"@/store\";\r\nimport { NormalizedArgument, NormalizedObject } from \"@/@types\";\r\nimport { computed } from \"vue\";\r\n\r\nexport const getCriterions = function() {\r\n  const criterions = state.data!.criterions;\r\n  // if (state.mode !== \"consensus\") {\r\n  //   return filterNormalizedObjectByItemProp(criterions, \"criterion\");\r\n  // }\r\n  return criterions;\r\n};\r\nexport const c_criterions = computed(() => state.data!.criterions);\r\n\r\nexport const getCriterionsAsArray = function() {\r\n  const criterions = Object.keys(getCriterions());\r\n\r\n  return criterions.map(criterion => Number(criterion));\r\n};\r\nexport const criterionsIds = function() {\r\n  return Object.keys(getCriterions()).map(id => Number(id));\r\n};\r\nexport const c_criterionsIds = computed(() => {\r\n  return Object.keys(c_criterions.value).map(id => Number(id));\r\n});\r\nexport const getCriterionById = function(criterionId: number) {\r\n  return getCriterions()[criterionId];\r\n};\r\n\r\nexport const getCriterionName = function(criterionId: number | string) {\r\n  return getCriterions()[Number(criterionId)].name;\r\n};\r\n\r\nexport const getFilteredCriterions = () => {\r\n  return criterionsIds().filter(criterionId => {\r\n    return getFilteredItems().some(item => {\r\n      return item.criterion === criterionId;\r\n    });\r\n  });\r\n};\r\nexport const c_filteredCriterions = computed(() => {\r\n  return c_criterionsIds.value.filter(criterionId => {\r\n    return getFilteredItems().some(item => {\r\n      return item.criterion === criterionId;\r\n    });\r\n  });\r\n});\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\n\r\nimport { state, sortObject } from \"@/store\";\r\nimport { uniqBy, sortBy, isEqual, property } from \"lodash\";\r\nimport { NormalizedArgument, SubType, NormalizedObject } from \"@/@types\";\r\nimport { getAlternativesAsArray } from \"@/store/alternatives\";\r\nimport { getAims, getAimsAsArray } from \"@/store/aims\";\r\nimport { getCriterionsAsArray } from \"@/store/criterions\";\r\n\r\nimport { filter, groupBy, flatten } from \"lodash\";\r\n\r\nexport const getAllItems = function () {\r\n  const items = state!.data!.items;\r\n  // if (state.mode === \"interplay\") {\r\n  //   return getInterplayItems(items);\r\n  // }\r\n  return items;\r\n};\r\n\r\n// export const getInterplayItems = function(items: NormalizedArgument[]) {\r\n//   const propertyGroups = groupBy(items, \"property\");\r\n\r\n//   const propertyGroupsWithMultipleAims = Object.values(propertyGroups).filter(\r\n//     groupItems => {\r\n//       const aimGroups = groupBy(groupItems, \"aim\");\r\n\r\n//       if (Object.keys(aimGroups).length > 1) {\r\n//         return groupItems;\r\n//       }\r\n//     }\r\n//   );\r\n\r\n//   const interplayItems = flatten(propertyGroupsWithMultipleAims);\r\n\r\n//   return interplayItems;\r\n// };\r\n\r\nexport const getFilteredItems = function () {\r\n  let items = filterItemsByValue(getAllItems(), state.searchInput);\r\n\r\n  if (state.selectedAims.length) {\r\n    items = items.filter((item) => {\r\n      //@ts-ignore\r\n      return state.selectedAims.includes(item[\"aim\"]);\r\n    });\r\n  }\r\n  if (state.selectedStakeholders.length) {\r\n    items = items.filter((item) => {\r\n      //@ts-ignore\r\n      return state.selectedStakeholders.includes(item[\"stakeholder\"]);\r\n    });\r\n  }\r\n\r\n  if (state.selectedCriterions.length) {\r\n    items = items.filter((item) => {\r\n      //@ts-ignore\r\n      return state.selectedCriterions.includes(\r\n        Number(getAims()[item[\"aim\"]].criterion)\r\n      );\r\n    });\r\n  }\r\n\r\n  return items;\r\n};\r\n\r\nexport const filterItemsBy = <\r\n  T extends Partial<NormalizedArgument>,\r\n  P extends keyof NormalizedArgument,\r\n  V extends NormalizedArgument[P]\r\n>(\r\n  items: NormalizedArgument[],\r\n  payload: T\r\n) => {\r\n  const entries = Object.entries(payload) as [P, V][];\r\n  return items.filter((item) => {\r\n    return entries.every(([property, value]) => {\r\n      return item[property] === value;\r\n    });\r\n  });\r\n};\r\n\r\nexport const getItemsBy = function <T extends Partial<NormalizedArgument>>(\r\n  payload: T\r\n) {\r\n  return payload ? filterItemsBy(getAllItems(), payload) : [];\r\n};\r\n\r\n//export const get _.uniqWith(objects, _.isEqual);\r\n\r\nexport const getLabel = function (payload: Partial<NormalizedArgument>) {\r\n  return `${payload.property}:${payload.value}`;\r\n};\r\n\r\nexport const getDuplicatesGroups = function <\r\n  T extends Partial<NormalizedArgument>\r\n>(payload: T[]) {\r\n  return Object.values(\r\n    groupBy(\r\n      payload,\r\n      ({ property, value, assertion, explanation, stakeholder }) =>\r\n        JSON.stringify({ property, value, assertion, explanation, stakeholder })\r\n    )\r\n  );\r\n};\r\n\r\nexport const getFilteredItemsBy = function <\r\n  T extends Partial<NormalizedArgument>\r\n>(payload: T) {\r\n  return filterItemsBy(getFilteredItems(), payload);\r\n};\r\n\r\nexport const filterByPropValue = function <\r\n  P extends keyof NormalizedArgument,\r\n  V extends NormalizedArgument[P]\r\n>(items: NormalizedArgument[], prop: P, value: V) {\r\n  return items.filter((item) => {\r\n    return item[prop] === value;\r\n  });\r\n};\r\n\r\nexport const getItemsByPropValue = function <\r\n  P extends keyof NormalizedArgument,\r\n  V extends NormalizedArgument[P]\r\n>(prop: P, value: V) {\r\n  return filterByPropValue(getAllItems(), prop, value);\r\n};\r\n\r\nexport const getFilteredItemsByPropValue = function <\r\n  P extends keyof NormalizedArgument,\r\n  V extends NormalizedArgument[P]\r\n>(prop: P, value: V) {\r\n  return filterByPropValue(getFilteredItems(), prop, value);\r\n};\r\n\r\nexport const getUniqueItemsBy = <\r\n  T extends Partial<NormalizedArgument>,\r\n  P extends keyof NormalizedArgument\r\n>(\r\n  payload: T,\r\n  uniqProp: P\r\n) => {\r\n  return uniqBy(getItemsBy(payload), uniqProp);\r\n};\r\n\r\nexport const getItemsFromUniqueProperty = ({\r\n  criterion,\r\n  aim,\r\n  property,\r\n  value,\r\n}: {\r\n  criterion: number;\r\n  aim: number;\r\n  property: string;\r\n  value: string;\r\n}) => {\r\n  return getAllItems().filter(\r\n    (item) =>\r\n      item.criterion === criterion &&\r\n      item.aim === aim &&\r\n      item.property === property &&\r\n      item.value === value\r\n  );\r\n};\r\n\r\nexport const filterItemsByValue = function <T>(\r\n  items: NormalizedArgument[],\r\n  input: string\r\n) {\r\n  return items.filter((o) =>\r\n    Object.keys(o).some((k) => {\r\n      if ([\"property\", \"value\"].includes(k)) {\r\n        //@ts-ignore\r\n        const value = o[k];\r\n        // console.log(k, \"value\");\r\n\r\n        // try {\r\n\r\n        return value\r\n          .toString()\r\n          .toLowerCase()\r\n          .includes(input.toString().toLowerCase());\r\n        // } catch (e) {\r\n        //   console.log(o, \"prop\");\r\n        //   console.log(k, \"val\");\r\n        //   console.log(value, \"VALUE\");\r\n        //   throw e;\r\n        // }\r\n      }\r\n    })\r\n  );\r\n};\r\n\r\n/* -------- ^ we keep it */\r\n\r\n// export const getItemsByAimId = function(aimId: number) {\r\n//   return getAllItems().filter(item => {\r\n//     return item.aim === aimId;\r\n//   });\r\n// };\r\n// export const getUniqueItemsByAimId = function(aimId: number) {\r\n//   return uniqBy(getItemsByPropValue(\"aim\", aimId), \"property\");\r\n// };\r\n\r\n// export const getFilteredItemsMatchingObject = function<\r\n//   T extends Partial<NormalizedArgument>\r\n// >(payload: T) {\r\n//   const entries = Object.entries(payload);\r\n//   const items = getFilteredItems().filter(item => {\r\n//     return entries.every(([property, value]) => {\r\n//       //@ts-ignore\r\n//       return item[property] === value;\r\n//     });\r\n//   });\r\n\r\n//   return items;\r\n// };\r\n\r\nexport const getItemById = function (itemId: number) {\r\n  return getAllItems().find((item) => item.id === itemId);\r\n};\r\n\r\n// export const getItemsBy = function<K extends keyof NormalizedArgument>(\r\n//   prop: K,\r\n//   id: number\r\n// ) {\r\n//   id = Number(id);\r\n//   return getAllItems().filter(item => {\r\n//     // @ts-ignore\r\n//     return item[prop] === id;\r\n//   });\r\n// };\r\n\r\n// export const getItemsByCriterionId = function(criterionId: number) {\r\n//   return getAllItems().filter(item => {\r\n//     return item.criterion === criterionId;\r\n//   });\r\n// };\r\n\r\n// export const getUniqueItemsBy = function<K extends keyof NormalizedArgument>(\r\n//   prop: K,\r\n//   id: number,\r\n//   uniqProp: K\r\n// ) {\r\n//   const items = getItemsBy({\r\n//     [prop]: id\r\n//   });\r\n//   return uniqBy(items, uniqProp);\r\n// };\r\n\r\n// export const getItemsByProperty = function(value: string) {\r\n//   return getAllItems().filter(argument => {\r\n//     return argument.property === value;\r\n//   });\r\n// };\r\n\r\n// export const filterByAimAndCriterion = ({\r\n//   items,\r\n//   aimId,\r\n//   criterionId\r\n// }: {\r\n//   items: NormalizedArgument[];\r\n//   aimId: number;\r\n//   criterionId: number;\r\n// }) => {\r\n//   return items.filter(\r\n//     item => item.criterion === criterionId && item.aim === aimId\r\n//   );\r\n// };\r\n\r\n// export const filterByAimAndAlternative = ({\r\n//   items,\r\n//   aimId,\r\n//   alternativeId\r\n// }: {\r\n//   items: NormalizedArgument[];\r\n//   aimId: number;\r\n//   alternativeId: number;\r\n// }) => {\r\n//   return items.filter(\r\n//     item => item.alternative === alternativeId && item.aim === aimId\r\n//   );\r\n// };\r\n\r\n// export const getFilteredItemsByAimAndAlternative = ({\r\n//   aimId,\r\n//   alternativeId\r\n// }: {\r\n//   aimId: number;\r\n//   alternativeId: number;\r\n// }) => {\r\n//   return filterByAimAndAlternative({\r\n//     items: getFilteredItems(),\r\n//     aimId,\r\n//     alternativeId\r\n//   });\r\n// };\r\n\r\nexport const normalizeByAlternative = (items: NormalizedArgument[]) => {\r\n  const obj: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n  const alternatives = getAlternativesAsArray();\r\n\r\n  alternatives.forEach((alternativeId) => {\r\n    const filteredItems = items.filter(\r\n      (argument) => argument.alternative === alternativeId\r\n    );\r\n    obj[alternativeId] = filteredItems;\r\n  });\r\n\r\n  return obj;\r\n};\r\n\r\nexport const normalizeByAim = (items: NormalizedArgument[]) => {\r\n  const obj: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n  const aims = getAimsAsArray();\r\n\r\n  aims.forEach((aimId) => {\r\n    const filteredItems = items.filter((argument) => argument.aim === aimId);\r\n    obj[aimId] = filteredItems;\r\n  });\r\n\r\n  return obj;\r\n};\r\n\r\nexport const normalizeByCriterion = (items: NormalizedArgument[]) => {\r\n  const obj: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n  const criterions = getCriterionsAsArray();\r\n\r\n  criterions.forEach((criterionId) => {\r\n    const filteredItems = items.filter(\r\n      (argument) => argument.criterion === criterionId\r\n    );\r\n    obj[criterionId] = filteredItems;\r\n  });\r\n\r\n  return obj;\r\n};\r\n\r\n// DEPRECATED\r\nexport const getNormalizedItemsByUniqueProperties = function (filtered = true) {\r\n  const normalizedObject: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n\r\n  const items = filtered ? getFilteredItems() : getAllItems();\r\n\r\n  items.forEach((item) => {\r\n    if (normalizedObject[item.property]) {\r\n      normalizedObject[item.property].push(item);\r\n    } else {\r\n      normalizedObject[item.property] = [item];\r\n    }\r\n  });\r\n\r\n  return sortObject(normalizedObject);\r\n};\r\n\r\nexport const getNormalizedItemsByUniqueItemProp = function (\r\n  itemProp: keyof SubType<NormalizedArgument, string | number>,\r\n  filtered = true\r\n) {\r\n  const normalizedObject: {\r\n    [id: string]: NormalizedArgument[];\r\n  } = {};\r\n\r\n  const items = filtered ? getFilteredItems() : getAllItems();\r\n\r\n  items.forEach((item) => {\r\n    const itemPropValue = item[itemProp];\r\n    if (normalizedObject[itemPropValue]) {\r\n      normalizedObject[itemPropValue].push(item);\r\n    } else {\r\n      normalizedObject[itemPropValue] = [item];\r\n    }\r\n  });\r\n\r\n  return sortObject(normalizedObject);\r\n};\r\n\r\nexport const filterNormalizedObjectByItemProp = (\r\n  normalizedObject: NormalizedObject,\r\n  itemProp: keyof NormalizedArgument\r\n) => {\r\n  return Object.keys(normalizedObject)\r\n    .map((key) => Number(key))\r\n    .filter((id) => {\r\n      return getAllItems().some((item) => {\r\n        return item[itemProp] === id;\r\n      });\r\n    })\r\n    .reduce((filteredNormalizedObject: NormalizedObject, id: number) => {\r\n      filteredNormalizedObject[id] = normalizedObject[id];\r\n      return filteredNormalizedObject;\r\n    }, {});\r\n};\r\n\r\nexport const getFilteredItemsGroupByProp = (\r\n  payload: Partial<NormalizedArgument>,\r\n  prop: keyof NormalizedArgument\r\n) => {\r\n  return groupBy(getFilteredItemsBy(payload), prop);\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"@/store\";\r\n\r\nexport const getSubOptions = function() {\r\n  return state.data!.subOptions;\r\n};\r\n\r\nexport const subOptionsIds = function() {\r\n  return Object.keys(getSubOptions()).map(id => Number(id));\r\n};\r\n\r\nexport const getSubOptionById = function(subOptionId: number) {\r\n  return getSubOptions()[subOptionId];\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state, getFilteredItems } from \"@/store\";\r\n\r\nexport const getStakeholders = function() {\r\n  const stakeholders = state.data!.stakeholders;\r\n\r\n  // if (state.mode !== \"consensus\") {\r\n  //   return filterNormalizedObjectByItemProp(stakeholders, \"stakeholder\");\r\n  // }\r\n  return stakeholders;\r\n};\r\nexport const stakeholdersIds = function() {\r\n  return Object.keys(getStakeholders()).map(id => Number(id));\r\n};\r\nexport const getStakeholderName = function(stakeholderId: number) {\r\n  return (\r\n    getStakeholders()[stakeholderId] && getStakeholders()[stakeholderId].name\r\n  );\r\n};\r\n\r\nexport const getStakeholderById = function(stakeholderId: number) {\r\n  return getStakeholders()[stakeholderId];\r\n};\r\nexport const getFilteredStakeholders = () => {\r\n  return stakeholdersIds().filter(stakeholderId => {\r\n    return getFilteredItems().some(item => {\r\n      return item.stakeholder === stakeholderId;\r\n    });\r\n  });\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { state } from \"@/store\";\r\n\r\nimport { getAllItems } from \"@/store/items\";\r\nimport { Superset } from \"@/@types\";\r\n\r\nexport const getSupersetsBy = <T extends Superset>(payload: T): T[] => {\r\n  const arr: string[] = [];\r\n  const entries = Object.entries(payload);\r\n\r\n  const result = getAllItems()\r\n    .filter(item => {\r\n      const hash = getPayloadHash(payload);\r\n      if (arr.indexOf(hash) === -1) {\r\n        arr.push(hash);\r\n        return entries.every(([property, value]) => {\r\n          //@ts-ignore\r\n          return item[property] === value;\r\n        });\r\n      }\r\n      return false;\r\n    })\r\n    .map(item => {\r\n      const superset = <T>{};\r\n      superset[\"alternative\"] = item[\"alternative\"];\r\n      superset[\"subOption\"] = item[\"subOption\"];\r\n      Object.keys(payload).forEach(key => {\r\n        //@ts-ignore\r\n        superset[key] = item[key];\r\n      });\r\n      return superset;\r\n    });\r\n  return result;\r\n};\r\n\r\nexport const getPayloadHash = (payload: Superset) => {\r\n  //return `${payload.criterion}:${payload.aim}:${payload.property}:${payload.value}`;\r\n  // return Object.keys(payload)\r\n  //   .sort()\r\n  //   .map(key => {\r\n  //     return `${key}-${payload[key]}`;\r\n  //   })\r\n  //   .join(\":\");\r\n  const ordered = {};\r\n  Object.keys(payload)\r\n    .sort()\r\n    .forEach(function(key) {\r\n      //@ts-ignore\r\n      ordered[key] = payload[key];\r\n    });\r\n  return JSON.stringify(ordered);\r\n};\r\n\r\nexport const getSelectedSupersets = () => state.selectedSupersets;\r\n\r\nexport const selectSuperset = function(payload: Superset) {\r\n  state.selectedSuperset = getPayloadHash(payload);\r\n};\r\nexport const unselectSuperset = function(payload: Superset) {\r\n  state.selectedSuperset = \"\";\r\n};\r\nexport const toggleSuperset = function(payload: Superset) {\r\n  if (state.selectedSuperset === getPayloadHash(payload)) {\r\n    unselectSuperset(payload);\r\n  } else {\r\n    selectSuperset(payload);\r\n  }\r\n};\r\nexport const addSupersetInSelection = function(payload: Superset) {\r\n  if (!findSuperset(payload)) {\r\n    state.selectedSupersets.push(getPayloadHash(payload));\r\n  }\r\n};\r\nexport const removeSupersetInSelection = function(payload: Superset) {\r\n  const string = getPayloadHash(payload);\r\n  const index = getSelectedSupersets().indexOf(string);\r\n  if (index > -1) {\r\n    state.selectedSupersets.splice(index, 1);\r\n  }\r\n};\r\nexport const toggleSupersetInSelection = function(payload: Superset) {\r\n  if (findSuperset(payload)) {\r\n    removeSupersetInSelection(payload);\r\n  } else {\r\n    addSupersetInSelection(payload);\r\n  }\r\n};\r\n\r\nexport const findSuperset = function(payload: Superset) {\r\n  return getSelectedSupersets().find(\r\n    stringifiedObject => stringifiedObject === getPayloadHash(payload)\r\n  );\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { NormalizedArgument, NormalizedObject } from \"@/@types\";\r\nimport {\r\n  normalizeByAlternative,\r\n  getFilteredItems,\r\n  getFilteredItemsBy,\r\n  normalizeByAim,\r\n  filterItemsBy\r\n} from \"@/store\";\r\n\r\nimport { getRange } from \"@/store/utils\";\r\nimport { alternativesIds } from \"./alternatives\";\r\n\r\nexport const roundNumber = (number: number) => {\r\n  return Math.round(number * 100) / 100;\r\n};\r\n\r\nexport const getWeightedAcceptability = (\r\n  items: NormalizedArgument[],\r\n  rounded = true\r\n) => {\r\n  const normalizedAims = normalizeByAim(items);\r\n\r\n  const alternativeSums: {\r\n    [id: number]: number[];\r\n  } = {};\r\n\r\n  const alternativeAcceptability: {\r\n    [id: number]: number | null;\r\n  } = {};\r\n\r\n  Object.entries(normalizedAims).map(([j, aimsItems]) => {\r\n    const aimId = Number(j);\r\n\r\n    const alternativeWeigths = getWeightByAlternativeV2(aimsItems);\r\n    Object.entries(alternativeWeigths).forEach(([k, alternativeWeight]) => {\r\n      const alternativeId = Number(k);\r\n      (\r\n        alternativeSums[alternativeId] || (alternativeSums[alternativeId] = [])\r\n      ).push(alternativeWeight);\r\n    });\r\n  });\r\n\r\n  Object.entries(alternativeSums).forEach(([l, sums]) => {\r\n    const acceptability = sumArray(sums) / items.length;\r\n    // alternativeAcceptability[Number(l)] = acceptability\r\n    //   ? roundNumber(acceptability)\r\n    //   : null;\r\n    const numberOrNull = !Number.isNaN(acceptability)\r\n      ? rounded\r\n        ? roundNumber(acceptability)\r\n        : acceptability\r\n      : null;\r\n    alternativeAcceptability[Number(l)] = numberOrNull;\r\n  });\r\n\r\n  return alternativeAcceptability;\r\n};\r\n\r\n// export const getWeightByAlternativeV1 = (items: NormalizedArgument[]) => {\r\n//   const normalizedAlternatives = normalizeByAlternative(items);\r\n//   const obj: {\r\n//     [id: number]: number;\r\n//   } = {};\r\n//   Object.entries(normalizedAlternatives).forEach(([key, alternativeItems]) => {\r\n//     const alternativeId = Number(key);\r\n\r\n//     const pro = alternativeItems.filter(argument => argument.subOption === 1);\r\n//     const con = alternativeItems.filter(argument => argument.subOption === 2);\r\n\r\n//     let score;\r\n//     if (pro.length === 0 && items.length === 0) {\r\n//       score = 0;\r\n//     } else if (pro.length === 0 && con.length === 0 && items.length > 0) {\r\n//       score = 0.5;\r\n//     } else {\r\n//       score = pro.length / alternativeItems.length;\r\n//     }\r\n\r\n//     const weight = score * items.length;\r\n\r\n//     obj[alternativeId] = weight;\r\n//   });\r\n//   return obj;\r\n// };\r\n\r\nexport const getWeightByAlternativeV2 = (items: NormalizedArgument[]) => {\r\n  const normalizedAlternatives = normalizeByAlternative(items);\r\n  const obj: {\r\n    [id: number]: number;\r\n  } = {};\r\n  Object.entries(normalizedAlternatives).forEach(([key, alternativeItems]) => {\r\n    const alternativeId = Number(key);\r\n\r\n    const pro = alternativeItems.filter(argument => argument.subOption === 1);\r\n    const con = alternativeItems.filter(argument => argument.subOption === 2);\r\n\r\n    const proCount = pro.length + 1; // on initialise avec 1 argument positif et 1 argument ngatif\r\n    const conCount = con.length + 1; // on initialise avec 1 argument positif et 1 argument ngatif\r\n    const totalCount = alternativeItems.length + 2;\r\n\r\n    //const noItemsAtAll = pro.length === 0 && items.length === 0\r\n    const noItemsAtAll = items.length === 0;\r\n    const noItemsForThisAlternative =\r\n      pro.length === 0 && con.length === 0 && items.length > 0;\r\n\r\n    let score;\r\n    if (noItemsAtAll) {\r\n      score = 0;\r\n    } else if (noItemsForThisAlternative) {\r\n      score = 0.5;\r\n    } else {\r\n      score = proCount / totalCount;\r\n    }\r\n\r\n    const weight = score * items.length;\r\n\r\n    obj[alternativeId] = weight;\r\n  });\r\n  return obj;\r\n};\r\n\r\nexport const sumArray = (arrayToSum: number[]) => {\r\n  return arrayToSum.reduce((acc, value) => acc + value);\r\n};\r\n\r\nexport const getAcceptabilityFromProCon = (\r\n  items: NormalizedArgument[],\r\n  rounded = true\r\n) => {\r\n  if (items.length === 0) {\r\n    return null;\r\n  }\r\n  const pro = items.filter(argument => argument.subOption === 1);\r\n  const con = items.filter(argument => argument.subOption === 2);\r\n  const value = items.length - con.length;\r\n\r\n  const acceptability = getRange(value, 0, items.length);\r\n  // const round = Math.round(acceptability * 100) / 100; //\r\n  return rounded ? roundNumber(acceptability) : acceptability;\r\n};\r\n\r\nexport const getAcceptabilityName = (acceptability: number | null) => {\r\n  if (acceptability === null) {\r\n    return \"\";\r\n  } else if (acceptability === 1) {\r\n    return \"pro\";\r\n  } else if (acceptability === 0) {\r\n    return \"con\";\r\n  } else {\r\n    return \"mix\";\r\n  }\r\n};\r\n\r\nexport const getAcceptabilityFromAlternativeId = (\r\n  alternativeId: number,\r\n  rounded = true\r\n) => {\r\n  const filteredItems = getFilteredItems();\r\n  const alternatives = normalizeByAlternative(filteredItems);\r\n  const alternativeItems = alternatives[alternativeId];\r\n  return getAcceptabilityFromProCon(alternativeItems);\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { Superset, NormalizedArgument } from \"@/@types\";\r\nimport { state } from \"./state\";\r\nimport { getFilteredItems, filterItemsBy, getAllItems } from \"./items\";\r\nimport { uniq, uniqWith, isEqual, uniqBy } from \"lodash\";\r\n\r\nexport const getLabels = () => state.data!.labels;\r\n\r\nexport const filterLabelsBy = <T extends Partial<NormalizedArgument>>(\r\n  items: NormalizedArgument[],\r\n  payload: T\r\n) => {\r\n  const labels = filterItemsBy(items, payload).map(({ property, value }) => ({\r\n    property,\r\n    value\r\n  }));\r\n  return uniqBy(labels, item => {\r\n    return [item.property, item.value].join(\":\");\r\n  });\r\n};\r\n\r\nexport const getUniqueLabelsBy = <T extends Partial<NormalizedArgument>>(\r\n  payload: T\r\n) => filterLabelsBy(getAllItems(), payload);\r\n\r\nexport const getUniqueFilteredLabelsBy = <\r\n  T extends Partial<NormalizedArgument>\r\n>(\r\n  payload: T\r\n) => filterLabelsBy(getFilteredItems(), payload);\r\n\r\n// export const getFilteredLabelsBy = <\r\n//   T extends Partial<NormalizedArgument>,\r\n//   P extends keyof NormalizedArgument,\r\n//   V extends NormalizedArgument[P]\r\n// >(\r\n//   payload: Superset\r\n// ) => {\r\n//   const entries = Object.entries(payload) as [P, V][];\r\n//   const filteredLabels = getLabels().filter(([labelProperty, labelValue]) => {\r\n//     return getFilteredItems().some(item => {\r\n//       return entries.every(([property, value]) => {\r\n//         return (\r\n//           item[property] === value &&\r\n//           item[\"property\"] === labelProperty &&\r\n//           item[\"value\"] === labelValue\r\n//         );\r\n//       });\r\n//       //return item.property === property && item.value === value;\r\n//     });\r\n//   });\r\n\r\n//   return uniqBy(filteredLabels, ([property, value]) => {\r\n//     return [property, value].join(\":\");\r\n//   });\r\n//   //return filteredLabels;\r\n// };\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport {\r\n  stakeholdersIds,\r\n  aimsIds,\r\n  criterionsIds,\r\n  getStakeholderName,\r\n  getAimName,\r\n  getCriterionName,\r\n  state\r\n} from \"@/store\";\r\n\r\nexport type VSelectItems = {\r\n  text: string;\r\n  value: unknown;\r\n}[];\r\n\r\nexport const getSelectStakeholders = function(): VSelectItems {\r\n  return stakeholdersIds().map(id => ({\r\n    text: getStakeholderName(id),\r\n    value: id\r\n  }));\r\n};\r\nexport const getSelectAims = function(): VSelectItems {\r\n  return aimsIds().map(id => ({\r\n    text: getAimName(id),\r\n    value: id\r\n  }));\r\n};\r\nexport const getSelectCriterions = function(): VSelectItems {\r\n  return criterionsIds().map(id => ({\r\n    text: getCriterionName(id),\r\n    value: id\r\n  }));\r\n};\r\nexport const getSelectModes = function(): VSelectItems {\r\n  return Object.entries(state.modes).map(([key, object]) => ({\r\n    text: object!.name,\r\n    value: key\r\n  }));\r\n};\r\n","import router from \"@/router\";\r\nimport { openXlsxFromFile, state, dropFileInputRef } from \"@/store\";\r\nimport { computed } from \"vue\";\r\nimport { loadAll } from \"./fetch\";\r\n\r\nexport const handleLoadFile = () => {\r\n  dropFileInputRef.value?.click();\r\n};\r\n\r\nexport const preventDefaults = (e: any) => {\r\n  e.preventDefault();\r\n  e.stopPropagation();\r\n};\r\n\r\nexport const onFileDragEnter = (e: { target: HTMLElement }) => {\r\n  preventDefaults(e);\r\n  highlightDrop(e);\r\n};\r\nexport const onFileDragLeave = (e: { target: HTMLElement }) => {\r\n  preventDefaults(e);\r\n  unhighlightDrop(e);\r\n};\r\nexport const onFileDragOver = (e: { target: HTMLElement }) => {\r\n  preventDefaults(e);\r\n  highlightDrop(e);\r\n};\r\nexport const onFileDrop = (e: {\r\n  target: HTMLElement;\r\n  dataTransfer: DataTransfer;\r\n}) => {\r\n  preventDefaults(e);\r\n  unhighlightDrop(e);\r\n  const files = e.dataTransfer.files;\r\n  dropFileInputRef.value!.files = files;\r\n  onFileChange();\r\n};\r\nexport const onFileChange = async () => {\r\n  const file = dropFileInputRef.value?.files?.[0];\r\n  if (!file) return;\r\n  const route = router.resolve(`/project?xlsx=${file.name}`);\r\n  await loadAll(route as any);\r\n  router.push(route);\r\n};\r\nexport const getDropFileInputRef = computed(() => dropFileInputRef.value);\r\n\r\nexport const getInputFile = computed(\r\n  () => dropFileInputRef.value?.files?.[0]\r\n);\r\n\r\nexport const isXlsxType = (type: string) =>\r\n  type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\r\n\r\nexport const highlightDrop = (e: any) => {\r\n  e.currentTarget.classList.add(\"fileDropHighlight\");\r\n  if (!isXlsxType(e.dataTransfer.items[0].type)) {\r\n    e.currentTarget.classList.add(\"fileDropHighlight--invalid\");\r\n  }\r\n};\r\nexport const unhighlightDrop = (e: any) => {\r\n  e.currentTarget.classList.remove(\r\n    \"fileDropHighlight\",\r\n    \"fileDropHighlight--invalid\"\r\n  );\r\n};\r\n\r\nexport const initDropArea = (e: any) => {\r\n  const dropArea = document.querySelector(\"body\");\r\n  //@ts-ignore\r\n  dropArea.addEventListener(\"dragenter\", onFileDragEnter, false);\r\n  //@ts-ignore\r\n  dropArea.addEventListener(\"dragleave\", onFileDragLeave, false);\r\n  //@ts-ignore\r\n  dropArea.addEventListener(\"dragover\", onFileDragOver, false);\r\n  //@ts-ignore\r\n  dropArea.addEventListener(\"drop\", onFileDrop, false);\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nconst { Parser } = require(\"json2csv\");\r\n\r\nexport const getCSVFromJSON = (json: unknown): string => {\r\n  // const fields = [\"field1\", \"field2\", \"field3\"];\r\n  const opts = {\r\n    excelStrings: false,\r\n    delimiter: \";\",\r\n    quote: '\"',\r\n    includeEmptyRows: true,\r\n    defaultValue: \"\"\r\n  };\r\n  try {\r\n    const parser = new Parser(opts);\r\n    const csv = parser.parse(json);\r\n\r\n    return csv;\r\n  } catch (e) {\r\n    // console.error(e);\r\n    throw e;\r\n  }\r\n};\r\n","import { getCSVFromJSON } from \"@/data-csv\";\r\nimport { getRenamedItemsFromSpreadsheetToCSV } from \"@/data-renamed\";\r\nimport {\r\n  fetchSpreadsheetWorksheets,\r\n  SpreadsheetArgument,\r\n  SpreadsheetWorksheet,\r\n} from \"@/data-spreadsheet\";\r\nimport router from \"@/router\";\r\nimport {\r\n  getNextcloudDownloadUrlFromId,\r\n  getNextcloudFileFromUrl,\r\n  getProjectTypeFromRoute,\r\n  getRouteTypeValue,\r\n  getXlsxWorksheets,\r\n  state,\r\n  dropFileInputRef\r\n} from \"@/store\";\r\nimport { saveAs } from \"file-saver\";\r\nimport type { RouteLocationNormalized } from \"vue-router\";\r\nimport { ProjectGroupNames } from \"./cache\";\r\n\r\nexport const isExportableToCSV = () => {\r\n  const type = getProjectTypeFromRoute(router.currentRoute.value);\r\n  return (\r\n    type === ProjectGroupNames.GOOGLE_SPREADSHEET ||\r\n    type === ProjectGroupNames.XLSX ||\r\n    type === ProjectGroupNames.NEXTCLOUD\r\n  );\r\n};\r\n\r\nexport const exportToCSV = async (route: RouteLocationNormalized) => {\r\n  const id = getRouteTypeValue(route);\r\n  if (!id) return;\r\n  \r\n  const projectType = getProjectTypeFromRoute(route);\r\n\r\n  if (projectType === ProjectGroupNames.GOOGLE_SPREADSHEET) {\r\n    const worksheets = await fetchSpreadsheetWorksheets(id);\r\n    await exportWorksheetsToCSV(worksheets);\r\n  }\r\n\r\n  if (projectType === ProjectGroupNames.NEXTCLOUD) {\r\n    const url = getNextcloudDownloadUrlFromId(id);\r\n    const file = await getNextcloudFileFromUrl(url);\r\n    const worksheets = await getXlsxWorksheets(file);\r\n    await exportWorksheetsToCSV(worksheets);\r\n  }\r\n\r\n  if (projectType === ProjectGroupNames.XLSX) {\r\n    const inputElement = dropFileInputRef.value;\r\n\r\n    if (inputElement?.files?.length) {\r\n      const file = inputElement.files[0];\r\n      const worksheets = await getXlsxWorksheets(file);\r\n      await exportWorksheetsToCSV(worksheets);\r\n    }\r\n    else {\r\n      console.error(\"Aucun fichier XLSX slectionn.\");\r\n    }\r\n  }\r\n  \r\n};\r\n\r\nexport const exportWorksheetsToCSV = async (\r\n  worksheets: SpreadsheetWorksheet[]\r\n) => {\r\n  const headersLengths: number[] = [];\r\n  const multiCSV: { [key: string]: string } = {};\r\n\r\n  const headerOrder = [\r\n    \"project\",\r\n    \"alternative\",\r\n    \"typesource\",\r\n    \"argument\",\r\n    \"hasexpertise\",\r\n  ];\r\n\r\n  worksheets.forEach((worksheet) => {\r\n    let data = worksheet.data;\r\n    const firstItem = data[0];\r\n    if (worksheet.title === \"parameters\" || !firstItem) {\r\n      return;\r\n    }\r\n\r\n    const headerLength = Object.keys(firstItem).length - 1;\r\n    headersLengths.push(headerLength);\r\n\r\n    if (worksheet.title === \"argument\") {\r\n      data = getRenamedItemsFromSpreadsheetToCSV(data as SpreadsheetArgument[]);\r\n    }\r\n\r\n    const CSV = getCSVFromJSON(data);\r\n    multiCSV[worksheet.title] = CSV;\r\n  });\r\n\r\n  const maxHeaderLength = Math.max(...headersLengths);\r\n  const lineSeparator = \";\".repeat(maxHeaderLength);\r\n\r\n  const sortedMultiCSV = Object.entries(multiCSV)\r\n    .sort(([a], [b]) => headerOrder.indexOf(a) - headerOrder.indexOf(b))\r\n    .reduce((r, [k, v]) => ({ ...r, [k]: v }), {});\r\n\r\n  const mergedCSV = Object.entries(sortedMultiCSV)\r\n    .map(([key, value]) => `\"${key}\"${lineSeparator}\\n${value}\\n${lineSeparator}`)\r\n    .join(\"\\n\");\r\n\r\n  const blob = getAsCSVBlob(mergedCSV);\r\n  const projectName = state.project?.name || 'project';\r\n  saveAs(blob, projectName + \".csv\");\r\n};\r\n\r\nexport const getAsFile = (data: any, filename: string) => {\r\n  const blob = getAsCSVBlob(data);\r\n  return new File([blob], filename);\r\n};\r\n\r\nexport const getAsCSVBlob = (data: any) => {\r\n  return new Blob([data], { type: \"text/csv;charset=utf-8;\" });\r\n};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nexport * from \"./state\";\r\nexport * from \"./routes\";\r\nexport * from \"./notifications\";\r\nexport * from \"./fetch\";\r\nexport * from \"./items\";\r\nexport * from \"./aims\";\r\nexport * from \"./criterions\";\r\nexport * from \"./alternatives\";\r\nexport * from \"./suboptions\";\r\nexport * from \"./stakeholders\";\r\nexport * from \"./supersets\";\r\nexport * from \"./acceptability\";\r\nexport * from \"./utils\";\r\nexport * from \"./labels\";\r\nexport * from \"./select\";\r\nexport * from \"./spreadsheet\";\r\nexport * from \"./project\";\r\nexport * from \"./filedrop\";\r\nexport * from \"./xlsx\";\r\nexport * from \"./cache\";\r\nexport * from \"./csv\";\r\n\r\nimport { state } from \"./state\";\r\n\r\nimport { NormalizedData, NormalizedArgument } from \"@/@types\";\r\nimport router from \"@/router\";\r\nimport { loadAll } from \"./fetch\";\r\nimport { clearProjectDataCacheFromRoute } from \"./cache\";\r\n\r\nexport const getSearchInput = () => {\r\n  return state.searchInput;\r\n};\r\n\r\nexport const getPropById = function <K extends keyof NormalizedData>(\r\n  prop: K,\r\n  id: number\r\n) {\r\n  return state.data![prop][id];\r\n};\r\n\r\nexport const getUniqueOrBlank = (\r\n  items: NormalizedArgument[],\r\n  prop: keyof NormalizedArgument\r\n) => {\r\n  const arr: NormalizedArgument[] & null[] = [];\r\n  items.forEach((item) => {\r\n    //@ts-ignore\r\n    if (arr.indexOf(item[prop]) === -1) {\r\n      arr.push(item);\r\n    } else {\r\n      arr.push(null);\r\n    }\r\n  });\r\n  return arr;\r\n};\r\n\r\n// Clear all cache except\r\n// export const clearLocalStorageExcept = (excludedKeys: string[]) => {\r\n//   const toRestore: any = {};\r\n//   excludedKeys.forEach(key => {\r\n//     toRestore[key] = localStorage.getItem(key);\r\n//   });\r\n\r\n//   localStorage.clear();\r\n\r\n//   Object.keys(toRestore).forEach(key => {\r\n//     localStorage.setItem(key, toRestore[key]);\r\n//   });\r\n// };\r\n\r\nexport const refreshProject = async () => {\r\n  clearProjectDataCacheFromRoute(router.currentRoute.value);\r\n  await loadAll(router.currentRoute.value);\r\n};\r\n\r\n// DEPRECATED\r\n// export const clearSpreadsheetItemFromCache = (spreadsheetId: string) => {\r\n//   localStorage.removeItem(\"spreadsheet-\" + spreadsheetId);\r\n// };\r\n// export const clearIcoItemFromCache = (projectName: string) => {\r\n//   localStorage.removeItem(\"ico-\" + projectName);\r\n// };\r\n// export const clearApplicationCache = () => {\r\n//   const excludedKeys = [\"recentProjectNames\", \"recentProjectSpreadsheets\"];\r\n//   clearLocalStorageExcept(excludedKeys);\r\n// };\r\n","<template>\r\n  <v-app-bar elevation=\"0\" color=\"secondary\" theme=\"dark\" height=\"56\">\r\n    <!-- Menu burger -->\r\n    <v-app-bar-nav-icon @click.stop=\"state.drawer = !state.drawer\" />\r\n\r\n    <!-- Titre projet + bouton Google Sheet -->\r\n    <v-toolbar-title v-if=\"state.project && isProjectRoute\" class=\"d-flex align-center\">\r\n      <v-btn\r\n        variant=\"text\"\r\n        class=\"text-white text-truncate\"\r\n        style=\"max-width: 200px; display: block;\"\r\n        :title=\"state.project.name\"\r\n        @click=\"switchToView('project')\"\r\n      >\r\n        {{ state.project.name }}\r\n      </v-btn>\r\n\r\n      <v-tooltip v-if=\"state.spreadsheet\" location=\"bottom\">\r\n        <template #activator=\"{ props }\">\r\n          <v-btn\r\n            icon\r\n            target=\"_blank\"\r\n            :href=\"getSpreadsheetLink(state.spreadsheet)\"\r\n            v-bind=\"props\"\r\n          >\r\n            <v-icon>mdi-google-spreadsheet</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <span>Open Spreadsheet</span>\r\n      </v-tooltip>\r\n    </v-toolbar-title>\r\n\r\n    <!-- Spacer -->\r\n    <v-spacer />\r\n\r\n    <!-- Logo MyChoice centr absolument -->\r\n    <div class=\"mychoice-logo-container\">\r\n      <router-link to=\"/\" class=\"logo-mychoice\">\r\n        <img\r\n          :src=\"state.baseUrl + 'logo-mychoice.svg'\"\r\n          alt=\"MyChoice Logo\"\r\n        />\r\n      </router-link>\r\n    </div>\r\n\r\n    <!-- Logo INRAE  droite -->\r\n    <div class=\"d-flex align-center mr-4\">\r\n      <img\r\n        :src=\"state.baseUrl + 'logo-inrae-white-transparent.png'\"\r\n        alt=\"INRAE Logo\"\r\n        class=\"logo-inrae\"\r\n      />\r\n    </div>\r\n  </v-app-bar>\r\n</template>\r\n\r\n\r\n\r\n\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { state, switchToView, getSpreadsheetLink } from '@/store'\r\n\r\nconst route = useRoute()\r\n\r\nconst isProjectRoute = computed(() => route.path.includes('/project'))\r\n</script>\r\n\r\n<style scoped>\r\n.mychoice-logo-container {\r\n  position: absolute;\r\n  inset: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  pointer-events: none; /* Pour ne pas bloquer les clics */\r\n  padding-top: 12px;\r\n}\r\n\r\n.logo-mychoice img {\r\n  height: 32px;\r\n  pointer-events: auto; /* Pour rendre le lien actif malgr pointer-events: none sur le conteneur */\r\n}\r\n\r\n/* Logo INRAE taille adaptable */\r\n.logo-inrae {\r\n  height: 24px;\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 600px) {\r\n  .logo-mychoice img {\r\n    height: 26px;\r\n  }\r\n\r\n  .logo-inrae {\r\n    height: 20px;\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\r\n","import script from \"./AppBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AppBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AppBar.vue?vue&type=style&index=0&id=48d2068d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-48d2068d\"]])\n\nexport default __exports__","<template>\r\n  <v-navigation-drawer\r\n    v-model=\"state.drawer\"\r\n    temporary\r\n    scrim=\"false\"\r\n  >    <v-list-item>\r\n        <v-list-item-title class=\"title\">\r\n          <router-link to=\"/\">\r\n            <img\r\n              style=\"padding: 2rem 0; width:100%; margin:auto;\"\r\n              :src=\"state.baseUrl + 'logo-mychoice-color.svg'\"\r\n            />\r\n          </router-link>\r\n        </v-list-item-title>\r\n    </v-list-item>\r\n\r\n    <v-divider />\r\n\r\n    <v-list nav dense>\r\n      <v-item-group>  \r\n        <v-list-item @click=\"handleLoadFile\">\r\n            <v-icon>mdi-upload</v-icon>\r\n          <v-list-item-title>Open local project <small>(.xlsx)</small></v-list-item-title>\r\n        </v-list-item>\r\n\r\n        <v-list-item @click=\"state.openDialog = true\">\r\n            <v-icon>mdi-cloud-upload</v-icon>\r\n          <v-list-item-title>Open online project</v-list-item-title>\r\n        </v-list-item>\r\n      </v-item-group>     \r\n\r\n      <v-list-item\r\n        href=\"https://docs.google.com/spreadsheets/d/1Cj5tC6JyLQxCHdtZJ8d9_-FSV9UbHT7AGE3wrLEMlig/copy\"\r\n        target=\"_blank\"\r\n      >\r\n          <v-icon>mdi-plus-circle-outline</v-icon>\r\n          <v-list-item-title>Create new project</v-list-item-title>\r\n          <v-list-item-subtitle>from spreadsheet template</v-list-item-subtitle>\r\n      </v-list-item>\r\n    </v-list>\r\n\r\n    <v-divider />\r\n\r\n    <!-- <v-subheader>Recent projects</v-subheader> -->\r\n    <v-list-subheader>Recent projects</v-list-subheader>\r\n\r\n    <v-card v-if=\"!hasRecentProjects\" disabled flat tile>\r\n      <v-card-subtitle>No recent projects</v-card-subtitle>\r\n    </v-card>\r\n\r\n    <v-list v-else subheader nav dense>\r\n      <v-list-item\r\n        v-for=\"(value, id) in recentProjects\"\r\n        :key=\"id\"\r\n        :to=\"getHrefFromTypeId({ type: value.type, id: value.id })\"\r\n      >\r\n        <v-list-item-title>{{ value.name || value.id }}</v-list-item-title>\r\n          <v-icon v-if=\"value.type === 'googlespreadsheet'\">mdi-google-spreadsheet</v-icon>\r\n      </v-list-item>\r\n    </v-list>\r\n\r\n    <template v-slot:append>\r\n      <div class=\"pa-2\">\r\n        <v-btn\r\n          block\r\n          color=\"red\"\r\n          class=\"text-white\"\r\n          @click=\"refreshProject\"\r\n          :disabled=\"!route.path.includes('project')\"\r\n        >\r\n          <v-icon size=\"small\" class=\"mr-3\">mdi-autorenew</v-icon>\r\n          Refresh project\r\n        </v-btn>\r\n      </div>\r\n\r\n      <v-list nav dense>\r\n        <v-item-group>  \r\n          <v-list-item @click=\"state.aboutDialog = true\">\r\n            <v-list-item-title>About</v-list-item-title>\r\n          </v-list-item>\r\n        </v-item-group> \r\n      </v-list>\r\n\r\n      <v-divider />\r\n\r\n      <v-footer class=\"flex-grow-1\">\r\n        <Version />\r\n      </v-footer>\r\n    </template>\r\n  </v-navigation-drawer>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport Version from \"@/components/Version.vue\";\r\nimport {\r\n  state,\r\n  exportToCSV,\r\n  getImagePath,\r\n  openIco,\r\n  openSpreadsheet,\r\n  hasRecentProjects,\r\n  refreshProject,\r\n  recentProjects,\r\n  getHrefFromTypeId,\r\n  handleLoadFile,\r\n  isExportableToCSV,\r\n} from \"@/store\";\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    Version,\r\n  },\r\n  setup() {\r\n    const route = useRoute();\r\n\r\n    return {\r\n      state,\r\n      route,\r\n      recentProjects,\r\n      hasRecentProjects,\r\n      getHrefFromTypeId,\r\n      handleLoadFile,\r\n      isExportableToCSV,\r\n      openIco,\r\n      openSpreadsheet,\r\n      getImagePath,\r\n      exportToCSV,\r\n      refreshProject,\r\n    };\r\n  },\r\n});\r\n</script>\r\n","import { render } from \"./Drawer.vue?vue&type=template&id=91783aa4\"\nimport script from \"./Drawer.vue?vue&type=script&lang=js\"\nexport * from \"./Drawer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_list_item_action = _resolveComponent(\"v-list-item-action\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_combobox = _resolveComponent(\"v-combobox\")!\n  const _component_v_form = _resolveComponent(\"v-form\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n\n  return (_openBlock(), _createBlock(_component_v_row, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_col, null, {\n        default: _withCtx(() => [\n          _cache[4] || (_cache[4] = _createElementVNode(\"h3\", null, \"From INRAE's server\", -1)),\n          _createVNode(_component_v_row, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_col, {\n                cols: \"12\",\n                class: \"\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_form, {\n                    onSubmit: _cache[1] || (_cache[1] = _withModifiers(($event: any) => {\r\n              _ctx.handleOpenIco(_ctx.state.fields.projectName);\r\n              _ctx.state.openDialog = false;\r\n            }, [\"prevent\"]))\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_combobox, {\n                        items: \r\n                _ctx.recentIcoProjects.map(([key, value]) => ({\r\n                text: value.name,\r\n                value: value}))\r\n              ,\n                        \"item-text\": \"text\",\n                        \"item-value\": \"value\",\n                        label: \"Project name\",\n                        id: \"comboprojectname\",\n                        autocomplete: \"off\",\n                        \"search-input\": _ctx.state.fields.projectName,\n                        outlined: \"\"\n                      }, {\n                        item: _withCtx(({ index, item }) => [\n                          _createVNode(_component_v_list_item, {\n                            to: _ctx.getHrefFromTypeId({type: item.value.type, id: item.value.id})\n                          }, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_v_list_item_title, null, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(_toDisplayString(item.text), 1)\n                                ]),\n                                _: 2\n                              }, 1024),\n                              _createVNode(_component_v_spacer),\n                              _createVNode(_component_v_list_item_action, {\n                                onClick: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n                              }, {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_v_btn, {\n                                    icon: \"\",\n                                    onClick: _withModifiers(($event: any) => (\r\n                        _ctx.removeFromRecentProjects(item.value.type, {id: item.value.id})\r\n                      ), [\"stop\",\"prevent\"])\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createVNode(_component_v_icon, null, {\n                                        default: _withCtx(() => _cache[2] || (_cache[2] = [\n                                          _createTextVNode(\"mdi-close\")\n                                        ])),\n                                        _: 1\n                                      })\n                                    ]),\n                                    _: 2\n                                  }, 1032, [\"onClick\"])\n                                ]),\n                                _: 2\n                              }, 1024)\n                            ]),\n                            _: 2\n                          }, 1032, [\"to\"])\n                        ]),\n                        _: 1\n                      }, 8, [\"items\", \"search-input\"]),\n                      _createVNode(_component_v_btn, {\n                        class: \"ml-auto d-flex\",\n                        color: \"secondary\",\n                        disabled: !_ctx.state.fields.projectName,\n                        type: \"submit\"\n                      }, {\n                        default: _withCtx(() => _cache[3] || (_cache[3] = [\n                          _createTextVNode(\"Open from Ico\")\n                        ])),\n                        _: 1\n                      }, 8, [\"disabled\"])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","<template>\r\n  <v-row>\r\n    <v-col>\r\n      <h3>From INRAE's server</h3>\r\n      <v-row>\r\n        <v-col cols=\"12\" class>\r\n          <v-form\r\n            @submit.prevent=\"\r\n              handleOpenIco(state.fields.projectName);\r\n              state.openDialog = false;\r\n            \"\r\n          >\r\n            <v-combobox\r\n              :items=\"\r\n                recentIcoProjects.map(([key, value]) => ({\r\n                text: value.name,\r\n                value: value}))\r\n              \"\r\n              item-text=\"text\"\r\n              item-value=\"value\"\r\n              label=\"Project name\"\r\n              id=\"comboprojectname\"\r\n              autocomplete=\"off\"\r\n              :search-input.sync=\"state.fields.projectName\"\r\n              outlined\r\n            >\r\n              <template v-slot:item=\"{ index, item }\">\r\n                <v-list-item :to=\"getHrefFromTypeId({type: item.value.type, id: item.value.id})\">\r\n                  <v-list-item-title>{{ item.text }}</v-list-item-title>\r\n                  <v-spacer></v-spacer>\r\n                  <v-list-item-action @click.stop>\r\n                    <v-btn\r\n                      icon\r\n                      @click.stop.prevent=\"\r\n                        removeFromRecentProjects(item.value.type, {id: item.value.id})\r\n                      \"\r\n                    >\r\n                      <v-icon>mdi-close</v-icon>\r\n                    </v-btn>\r\n                  </v-list-item-action>\r\n                </v-list-item>\r\n              </template>\r\n            </v-combobox>\r\n            <v-btn\r\n              class=\"ml-auto d-flex\"\r\n              color=\"secondary\"\r\n              :disabled=\"!state.fields.projectName\"\r\n              type=\"submit\"\r\n              >Open from Ico</v-btn\r\n            >\r\n          </v-form>\r\n        </v-col>\r\n      </v-row>\r\n\r\n\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  \r\n  state,\r\n  getSpreadsheetIdFromUrl,\r\n  \r\n  removeFromRecentProjectNames,\r\n  removeFromRecentProjectSpreadsheets,\r\n  openIco,\r\n  openSpreadsheet,\r\n  isValidNextcloudUrl,\r\n  openNextcloudUrl,\r\n  recentSpreadsheetProjects,recentIcoProjects, recentNextcloudProjects,\r\n  removeFromRecentProjects, getHrefFromTypeId\r\n} from \"@/store\";\r\nimport { computed, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  \r\n\r\n  setup() {\r\n\r\n    const handleOpenIco = async function(value: string) {\r\n      await openIco(value);\r\n      state.fields.projectName = \"\";\r\n    }\r\n    const handleOpenSpreadsheet = async function(value: string) {\r\n      await openSpreadsheet(value);\r\n      state.fields.spreadsheetUrl = \"\";\r\n    }\r\n    const handleOpenNextcloudUrl = async function(value: string) {\r\n      await openNextcloudUrl(value);\r\n      state.fields.nextcloudUrl = \"\";\r\n    }\r\n    const spreadsheetId = computed(() => state.fields.spreadsheetUrl ? getSpreadsheetIdFromUrl(state.fields.spreadsheetUrl): \"\")\r\n\r\n    return  {\r\n      state,\r\n      isValidNextcloudUrl,\r\n      spreadsheetId,\r\n      openNextcloudUrl,\r\n      removeFromRecentProjectSpreadsheets,\r\n      removeFromRecentProjectNames,\r\n      handleOpenIco,\r\n      handleOpenSpreadsheet,\r\n      handleOpenNextcloudUrl, \r\n      recentSpreadsheetProjects,\r\n      recentNextcloudProjects,\r\n      recentIcoProjects,removeFromRecentProjects, getHrefFromTypeId\r\n    }\r\n\r\n  }\r\n});\r\n</script>\r\n","import { render } from \"./OpenDialog.vue?vue&type=template&id=62743f52&ts=true\"\nimport script from \"./OpenDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./OpenDialog.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-card class=\"text-center\">\r\n    <v-card-title class=\"justify-center\">About MyChoice</v-card-title>\r\n    <v-card-text>\r\n      <b>MyChoice</b> is a web application supporting collective decision,\r\n      designed by INRAE.\r\n    </v-card-text>\r\n\r\n    <!-- <v-card-subtitle class=\"subtitle-1\">Credits</v-card-subtitle> -->\r\n    <v-card-text>\r\n      <div>\r\n        <v-divider class=\"my-2\" />\r\n\r\n        <v-card-subtitle class=\"p-0\">Scientific contacts</v-card-subtitle>\r\n\r\n        <!-- <v-row>\r\n      <v-subheader>Credits</v-subheader>\r\n    </v-row>-->\r\n\r\n        <v-row>\r\n          <v-col>\r\n            <b>\r\n              <a href=\"mailto:rallou.thomopoulos@inrae.fr\"\r\n                >Rallou Thomopoulos</a\r\n              >\r\n            </b>\r\n            <br />\r\n            <small>INRAE (IATE lab) / INRIA (GraphIK lab)</small>\r\n          </v-col>\r\n          <v-col>\r\n            <b>\r\n              <a href=\"mailto:julien.cufi@inrae.fr\">Julien Cufi</a>\r\n            </b>\r\n            <br />\r\n            <small>INRAE (IATE lab)</small>\r\n          </v-col>\r\n        </v-row>\r\n        <v-divider class=\"my-2\" />\r\n        <v-card-subtitle>UX &amp; front-end development</v-card-subtitle>\r\n\r\n        <v-row>\r\n          <v-col>\r\n            <b>\r\n              <a href=\"https://maximelebreton.com\" target=\"_blank\"\r\n                >Maxime Le Breton</a\r\n              >\r\n            </b>\r\n            <br />\r\n            <small\r\n              >Independent designer &amp;&nbsp;front-end&nbsp;developer</small\r\n            >\r\n          </v-col>\r\n        </v-row>\r\n\r\n        <v-divider class=\"my-2\" />\r\n        <v-card-subtitle>Other contributors</v-card-subtitle>\r\n\r\n        <v-row>\r\n          <v-col>\r\n            <b>\r\n              Thomas Bosch\r\n            </b>\r\n            <br />\r\n            <small>Former student at IATE lab</small>\r\n          </v-col>\r\n        </v-row>\r\n\r\n        <v-divider class=\"my-2\" />\r\n        <v-row>\r\n          <v-col>\r\n            <a :href=\"state.baseUrl + 'licenses.txt'\" target=\"_blank\"\r\n              >Open source licenses</a\r\n            >\r\n          </v-col>\r\n          <v-col>\r\n            <a :href=\"state.baseUrl + 'Open_source_license_terms.pdf'\" target=\"_blank\"\r\n              >Open source licenses terms</a\r\n            >\r\n          </v-col>\r\n        </v-row>\r\n      </div>\r\n    </v-card-text>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { state } from \"@/store\";\r\nexport default {\r\n  data: () => ({\r\n    state\r\n  })\r\n};\r\n</script>\r\n","import { render } from \"./About.vue?vue&type=template&id=50aedd42\"\nimport script from \"./About.vue?vue&type=script&lang=js\"\nexport * from \"./About.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=3af97c56\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=3af97c56&lang=scss\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport 'vuetify/styles'\r\nimport { createVuetify } from 'vuetify'\r\nimport {\r\n  VApp,\r\n  VAppBar,\r\n  VNavigationDrawer,\r\n  VList,\r\n  VListItem,\r\n  VListItemTitle,\r\n  VListItemSubtitle,\r\n  VDivider,\r\n  VBtn,\r\n  VIcon,\r\n  VCard,\r\n  VCardTitle,\r\n  VCardText,\r\n  VDialog,\r\n  VMain,\r\n  VItemGroup,       // pour remplacer VListItemGroup\r\n  VListSubheader,   // pour remplacer VSubheader\r\n  VOverlay,\r\n  VProgressCircular,\r\n  VSnackbar,\r\n  VFooter,\r\n  VContainer,\r\n  VListItemAction,\r\n  VSpacer,\r\n  VCardSubtitle,\r\n  VRow,\r\n  VCol,\r\n  VToolbarTitle,\r\n  VTooltip,\r\n  VAppBarNavIcon,\r\n  VForm,\r\n  VCombobox,\r\n  VImg,\r\n  VAvatar,\r\n  VChip,\r\n  VBadge,\r\n  VExpandTransition,\r\n  VMenu,\r\n  VBtnToggle,\r\n  VToolbar,\r\n  VAutocomplete,\r\n  VTextField,\r\n  VSelect,\r\n  VTable\r\n} from 'vuetify/components'\r\nimport * as directives from 'vuetify/directives'\r\nimport { aliases, mdi } from 'vuetify/iconsets/mdi'\r\n\r\nconst vuetify = createVuetify({\r\n  components: {\r\n    VApp,\r\n    VAppBar,\r\n    VNavigationDrawer,\r\n    VList,\r\n    VListItem,\r\n    VListItemTitle,\r\n    VListItemSubtitle,\r\n    VDivider,\r\n    VBtn,\r\n    VIcon,\r\n    VCard,\r\n    VCardTitle,\r\n    VCardText,\r\n    VDialog,\r\n    VMain,\r\n    VItemGroup,       // pour remplacer VListItemGroup\r\n    VListSubheader,   // pour remplacer VSubheader\r\n    VOverlay,\r\n    VProgressCircular,\r\n    VSnackbar,\r\n    VFooter,\r\n    VContainer,\r\n    VListItemAction,\r\n    VSpacer,\r\n    VCardSubtitle,\r\n    VRow,\r\n    VCol,\r\n    VToolbarTitle,\r\n    VTooltip,\r\n    VAppBarNavIcon,\r\n    VForm,\r\n    VCombobox,\r\n    VImg,\r\n    VAvatar,\r\n    VChip,\r\n    VBadge,\r\n    VExpandTransition,\r\n    VMenu,\r\n    VBtnToggle,\r\n    VToolbar,\r\n    VAutocomplete,\r\n    VTextField,\r\n    VSelect,\r\n    VTable\r\n  },\r\n  directives,\r\n  icons: {\r\n    defaultSet: 'mdi',\r\n    aliases,\r\n    sets: { mdi },\r\n  },\r\n  theme: {\r\n    defaultTheme: 'light',\r\n    themes: {\r\n      light: {\r\n        colors: {\r\n          primary: '#4F4F4F',\r\n          secondary: '#00A3F6',\r\n          accent: '#8c9eff',\r\n          error: '#b71c1c',\r\n        },\r\n      },\r\n      dark: {\r\n        colors: {\r\n          primary: '#4F4F4F',\r\n          secondary: '#00A3A6',\r\n          accent: '#8c9eff',\r\n          error: '#b71c1c',\r\n        },\r\n      },\r\n    },\r\n  },\r\n})\r\n\r\nexport default vuetify\r\n// Vue.use(Vuetify);\r\n\r\n// export default new Vuetify({\r\n//   theme: {\r\n//     themes: {\r\n//       light: {\r\n//         primary: \"#4F4F4F\",\r\n//         secondary: \"#00A3A6\"\r\n//         // secondary: \"#b0bec5\",\r\n//         // accent: \"#8c9eff\",\r\n//         // error: \"#b71c1c\"\r\n//       }\r\n//     }\r\n//   }\r\n// });\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { App } from 'vue';\r\nimport Highlighter from 'vue-highlight-words';\r\n\r\n  export default {\r\n    install(app: App) {\r\n      app.component('Highlighter', Highlighter);\r\n    },\r\n  };","import { setRecentProjectsState } from \".\";\r\n\r\nexport const onAppInit = async () => {\r\n  setRecentProjectsState();\r\n};\r\n\r\nexport const onProjectLoad = () => {};\r\n","/*\r\nCopyright INRAE\r\nContact contributor(s) : Rallou Thomopoulos / Julien Cufi (26/03/2020)\r\nMyChoice is a web application supporting collective decision.\r\nSee more on https://ico.iate.inra.fr/MyChoice\r\nThis application is registered to the European organization for the\r\nprotection of authors and publishers of digital creations with\r\nthe following identifier: IDDN.FR.001.280002.000.R.P.2020.000.20900 \r\n\r\nThis software is governed by the CeCILL-C license under French law and\r\nabiding by the rules of distribution of free software.  You can  use, \r\nmodify and/ or redistribute the software under the terms of the CeCILL-C\r\nlicense as circulated by CEA, CNRS and INRIA at the following URL\r\n\"http://www.cecill.info\". \r\nAs a counterpart to the access to the source code and  rights to copy,\r\nmodify and redistribute granted by the license, users are provided only\r\nwith a limited warranty  and the software's author,  the holder of the\r\neconomic rights,  and the successive licensors  have only  limited\r\nliability. \r\nIn this respect, the user's attention is drawn to the risks associated\r\nwith loading,  using,  modifying and/or developing or reproducing the\r\nsoftware by the user in light of its specific status of free software,\r\nthat may mean  that it is complicated to manipulate,  and  that  also\r\ntherefore means  that it is reserved for developers  and  experienced\r\nprofessionals having in-depth computer knowledge. Users are therefore\r\nencouraged to load and test the software's suitability as regards their\r\nrequirements in conditions enabling the security of their systems and/or \r\ndata to be ensured and,  more generally, to use and operate it in the \r\nsame conditions as regards security. \r\nThe fact that you are presently reading this means that you have had\r\nknowledge of the CeCILL-C license and that you accept its terms.\r\n*/\r\nimport { createApp } from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport vuetify from './plugins/vuetify';\r\nimport Highlighter from './plugins/text-highlight';\r\nimport 'roboto-fontface/css/roboto/roboto-fontface.css';\r\nimport '@mdi/font/css/materialdesignicons.css';\r\n\r\nimport { onAppInit } from './store/events';\r\n\r\n(async () => {\r\n  await onAppInit();\r\n\r\n  const app = createApp(App);\r\n  app.use(router);\r\n  app.use(vuetify);\r\n  app.use(Highlighter); //  Enregistre TextHighlight globalement\r\n  app.mount('#app');\r\n})();\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmy_choice\"] = self[\"webpackChunkmy_choice\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(5186); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_v_app","class","default","_withCtx","_createVNode","_component_AppBar","_component_Drawer","_createElementVNode","type","ref","accept","style","onChange","_cache","args","_ctx","onFileChange","_component_v_main","_component_router_view","_","_component_v_dialog","modelValue","state","openDialog","$event","_component_v_card","_component_v_card_title","_component_v_icon","_createTextVNode","_component_v_card_text","_component_OpenDialog","aboutDialog","_component_About","_component_v_overlay","overlay","_component_v_progress_circular","indeterminate","size","color","_component_v_snackbar","isNotification","location","_createElementBlock","_Fragment","_renderList","notifications","notification","index","key","_toDisplayString","message","actions","_component_v_btn","variant","onClick","refreshProject","isError","timeout","getErrors","getErrorMessage","clearErrors","DEFAULTS","mode","globalCardType","searchInput","selectedSuperset","selectedSupersets","selectedAims","selectedCriterions","selectedStakeholders","compareDialog","dialog","spreadsheet","selectedView","data","project","creditsDialog","dropFileInputRef","reactive","vm","baseUrl","process","modes","consensus","name","interplay","prospective","expertise","chartFilters","selectedAlternative","analysisPer","selectedCriterion","icons","subOption","compare","drawer","errors","FAILED_TO_FETCH_SPREADSHEET","FAILED_TO_FETCH_ICO","snackbar","fields","projectName","spreadsheetUrl","nextcloudUrl","errorMessages","recentProjects","recentProjectNames","localStorage","JSON","parse","recentProjectSpreadsheets","clearAppDataAndProject","clearAppMode","clearAll","clearAppFilters","clearAppDialogs","splice","getImagePath","url","regex","RegExp","isAbsoluteUrl","test","isSpreadsheet","computed","$route","query","isLoading","isEmptyProject","getSpreadsheetLink","spreadsheetId","is1stLevelStakeholdersMode","showOverlay","hideOverlay","watch","newValue","oldValue","recentSpreadsheetProjects","Object","entries","filter","recentIcoProjects","recentNextcloudProjects","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","render","$props","$setup","$data","$options","_resolveComponent","_component_v_img","_component_v_avatar","_component_v_list_item","_component_v_col","_component_v_row","_component_v_container","_component_Empty","_openBlock","width","src","image","cover","alternativesIds","alternativeId","_createCommentVNode","getAlternatives","icon","switchToView","description","href","target","elevation","getRouteProjectId","defineComponent","setup","__exports__","components","Empty","getFilteredItemsBy","justify","cols","sm","lg","_component_v_sheet","alt","_component_v_responsive","controls","py","handleLoadFile","_component_v_list_subheader","flat","length","_component_v_list","density","value","to","getHrefFromTypeId","id","append","_withModifiers","removeFromRecentProjects","_component_v_list_item_title","_component_Version","version","Version","_component_Header","fluid","rounded","_component_TableList","disabled","_component_v_badge","content","floating","_component_SupersetCard","superset","_component_v_expand_transition","_defineComponent","__name","props","chartSelectedChart","__props","router","useRouter","isActiveRoute","currentRoute","alternativesMap","alternatives","values","firstAlternative","chartSelectedAlternative","get","set","chartAnalysisPer","chartSelectedCriterion","alternativeOptions","map","title","allOptions","isCrosstabChart","analysisPerOptions","clearSearch","debounceInput","debounce","getSelectModesComputed","getSelectModes","orderedStakeholders","orderByPropName","getSelectStakeholders","orderedCriterions","getSelectCriterions","orderedAims","getSelectAims","isArgumentCountChart","isAlternativesComparisonChart","immediate","async","getProjectTypeFromRoute","loadAll","PROJECT_TYPE_ROUTES","GOOGLE_SPREADSHEET","ICO","keys","_component_v_menu","_component_v_tooltip","_component_v_select","_component_v_toolbar","_component_v_autocomplete","_component_v_text_field","text","activator","tooltipProps","menuProps","_mergeProps","_unref","items","label","clearable","multiple","hint","autocomplete","md","_component_TableListHead","_component_TableListCriterion","_component_TableListAim","_component_TableListAlternative","_component_TableListFoot","c_criterionsIds","criterionId","getAimsBy","aim","_withDirectives","_vShow","getFilteredCriterions","includes","getFilteredAims","subOptionsIds","subOptionId","getFilteredItems","colspan","_component_ProductDetailsDialog","openProductDialog","hasProductInfo","showProductDialog","alternative","products","compositions","_hoisted_12","_hoisted_13","_hoisted_14","_component_v_divider","_component_v_chip","_component_CompositionTree","_component_v_alert","isOpen","relatedProducts","closeDialog","_normalizeStyle","product","productUri","nameProduct","truncateUri","tagProduct","getDisplayedTags","tag","expandedProductTags","toggleProductTags","showAllComponents","uri","showAll","level","filteredCompositions","_normalizeClass","composition","uriComposant","rang","typeComposant","nameComposant","tagComposant","slice","hasSubComponents","String","required","Array","Boolean","Number","comps","this","c","uriCompose","sort","a","b","hasTagsInBranch","methods","some","subComps","comp","CompositionTree","emits","$emit","p","nameAlternative","uniqueProducts","from","Map","getCompositions","getFilteredCompositions","allCompositions","maxLength","substring","ProductDetailsDialog","selectedAlternativeId","alternativeName","tablelistfoot","getAllItems","pluralize","totalAcceptability","_component_ScoreIcon","score","getColorName","getAcceptabilityName","getAcceptabilityFromAlternativeId","getWeightedAcceptability","getSubOptions","ScoreIcon","_component_Acceptability","_component_ItemsCount","c_alternativesIds","aimsItems","count","totalItems","acceptability","getAcceptabilityFromProCon","scoreTitle","toRefs","obj","forEach","reduce","acc","Acceptability","ItemsCount","rowspan","c_criterions","criterion","criterionItems","result","getLabels","getCardsByStakeholder","_component_TableListCard","property","toggleSuperset","_component_Highlighter","searchWords","textToHighlight","getStakeholderName","stakeholder","findSuperset","addSupersetInSelection","removeSupersetInSelection","condition","getItemsBy","item","TableListCard","sortBy","getUniqueFilteredLabelsBy","getItems","getFilteredItemsGroupByProp","TableListCriterion","TableListHead","TableListFoot","TableListAlternative","TableListAim","filteredCriterions","filteredItems","filteredAims","subOptions","criterions","criterionsIds","aims","aimsIds","unselectSuperset","getAlternativeName","getCriterionName","getAimName","textContent","supersetItems","duplicateGroups","_component_SupersetCardItem","duplicatesCount","ripple","outlined","openMe","open","source","assertion","explanation","tagInitiator","date","formatDate","getCriterionById","mounted","SupersetCardItem","getDuplicatesGroups","Header","TableList","SupersetCard","_component_PropertyListRow","_component_v_table","getAlternativeById","getNormalizedItemsByUniqueItemProp","_component_PropertiesListCriterion","hasMany","showDetails","aimItems","row","getAimsCountFromAimsAndCriterion","getAimsFromItems","argument","getAimById","filterItemsBy","uniqBy","countBy","getSubOptionById","normalizeByAlternative","PropertiesListCriterion","height","setHeight","tableFilters","document","querySelector","tableFiltersRect","getBoundingClientRect","window","innerHeight","bottom","PropertyListRow","$nextTick","updated","created","addEventListener","destroyed","removeEventListener","_component_StakeholderListRow","aimItem","aimIndex","stakeholderItem","stakeholderIndex","alternativeIndex","stakeholderItems","console","log","onMounted","onUpdated","onBeforeUnmount","StakeholderListRow","_component_ArgumentCount","_component_BarChart","_component_CircleChart","_component_AlternativesComparison","_component_CrosstabChart","selectedChart","charts","chart","active","prepend","arguments","criterionsMap","stakeholdersMap","stakeholders","filteredItemsForCrosstab","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","totalCount","favorableCount","unfavorableCount","legendItems","backgroundColor","separatedChartsData","altData","altId","ref_for","el","setSvgRef","chartRef","svgRefs","filteredArguments","filtered","matchingAltId","find","undefined","arg","favorable","chartData","grouped","stakeholderName","criterionName","unfavorable","sortEntriesByCount","altArguments","colors","sum","renderChart","svg","innerHTML","total","centerX","centerY","radius","Math","min","currentAngle","PI","sliceAngle","endAngle","startX","cos","startY","sin","endX","endY","largeArcFlag","path","createElementNS","d","midAngle","midX","midY","join","setAttribute","appendChild","renderSeparatedCharts","nextTick","deep","flush","alternativeLabel","tableRows","getCellColor","attitude","parseFloat","chartHeight","separatedChartRefs","rowHeight","headerHeight","rows","groupByLabel","isNaN","altIds","Set","altName","has","entry","resolveLabel","toFixed","localeCompare","max","renderChartContent","margin","left","right","top","chartWidth","contentHeight","pairHeight","barHeight","barGap","maxValue","r","g","favorableColor","unfavorableColor","pairTop","pairCenter","favorableYPos","unfavorableYPos","favorableWidth","unfavorableWidth","favorableBar","favorableText","favorableTextX","favorableTextFill","unfavorableBar","unfavorableText","unfavorableTextX","unfavorableTextFill","line1","line2","midPoint","splitPoint","i","trim","label1","label2","legendG","favorableRect","favorableTextLegend","unfavorableRect","unfavorableTextLegend","attitudeNum","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","alternativeTitle","tableWidth","tableHeight","x1","labelWidth","y1","x2","y2","stroke","itemsData","cellWidth","itemId","getSplitText","itemName","x","getCellCenterX","y","fill","getFavorableY","getCircleRadius","getUnfavorableY","cx","cy","getCircleRadiusSeparated","minRadius","maxRadius","minCellWidth","maxCellWidth","generateItemsData","groupKey","counts","finalFiltered","itemsForAlt","cellWidthForAlt","tableWidthForAlt","maxNameLength","ceil","maxCount","flatMap","scale","sqrt","itemsDataList","rowLabel","getAttitude","rowId","exportToPDF","getCountColor","getCellCount","stakeholderId","ArgumentCount","BarChart","CircleChart","AlternativesComparison","CrosstabChart","selectedAlt","routes","component","Home","Main","Project","Properties","Stakeholders","ChartView","createRouter","history","createWebHistory","beforeEach","next","afterEach","startsWith","toProjectType","fromProjectType","toProjectId","getRouteTypeValue","fromProjectId","isSameProject","loadProject","meta","setDocumentTitle","route","NEXTCLOUD","e","info","clearProjectDataCacheFromRoute","pushRouteWithQuery","routeParams","Error","routeToPush","push","routeName","projectNameRouteQuery","spreadsheetIdRouteQuery","nextcloudIdRouteQuery","XLSX","errorName","error","dayjs","customParseFormat","MyChoiceError","constructor","super","captureStackTrace","stack","setError","errorValue","format","getRange","range","isFinite","list","propName","sortObject","o","k","str","object","suffix","formatted","match","exec","lastIndex","replace","wordToPluralize","linkedVar","plural","gsheets","require","getSpreadsheet","response","fetch","json","fetchSpreadsheetWorksheets","worksheets","sheets","promises","refs","worksheet","properties","getWorksheet","Promise","all","hasExpectedProperties","resolve","reject","lastTestedProp","hasAll","every","prop","prototype","hasOwnProperty","call","isValidWorkSheet","worksheetsExpectedProps","firstWorksheetItem","then","checkEmptyArguments","line","checkUniqueAimsHasUniqueCriterions","nameCriterion","getRenamedSpreadsheetItems","argumentWorksheet","rawSpreadsheetItems","spreadsheetItems","typeProCon","renamedItem","idArgument","sourceType","toString","getRenamedSpreadsheetProject","projectWorksheet","spreadsheetProject","alternativeWorksheet","iconAlternative","spreadsheetAlternatives","renamedAlternatives","imageAlternative","expertiseWorksheet","spreadsheetExpertises","renamedExpertiseEntities","nameStakeHolder","sourceTypeWorksheet","spreadsheetSourceType","renamedSourceTypeEntities","fiability","nameTypeSource","renamedProducts","productWorksheet","spreadsheetProducts","split","t","renamedCompositions","compositionWorksheet","spreadsheetCompositions","nameCompose","Rang","renamedProject","nameProject","expertiseEntities","sourceTypeEntities","getSpreadsheetData","renamedSpreadsheetItems","getSpreadsheetIdFromUrl","matches","getIcoRenamedProject","sourceProject","nameStakeholder","renamedAlternative","typeSource","hasExpertise","getIcoRenamedItems","sourceArguments","nameProperty","nameSource","getEquivalentTable","equivalentTable","csv","server","isProspective","getEquivalentAppPropFromSource","findKey","getEquivalentSourcePropFromApp","equivalent","getRenamedItemPropFromTo","appProperty","toProperty","getRenamedItemsFromSpreadsheetToCSV","v","renamedProp","getPropertyUniqueValues","allValues","uniq","getCriterions","getAimsWithParentCriterion","allAimsTuples","aimsTuples","joinTuple","tuple","aimId","getIdFrom","getStakeholders","getProperties","array","getPropertyValueTuples","allPropertyValueTuples","propertyValueTuples","normalizeArray","normalizeAlternatives","pop","parseItems","toLowerCase","getNormalizedSubsets","normalizedCriterions","normalizedAlternatives","normalizedStakeholders","normalizedAims","normalizedItems","getNormalizedData","normalizedData","labels","getInterplayItems","propertyGroups","groupBy","propertyGroupsWithMultipleAims","groupItems","aimGroups","interplayItems","flatten","getMultiStakholderItems","aimGroupsWithMultipleStakeholders","stakeholderGroups","multiStakeholderItems","filterDataAsExpertise","expertiseArguments","entity","filterDataAsReliability","prospectiveArguments","filterDataAsProspective","filterDataAsInterplay","filterDataAsMultiStakeholder","isValidNextcloudUrl","getNextcloudDownloadUrlFromId","nextcloudId","getNextcloudFileFromUrl","downloadUrl","blob","getNextcloudIdFromUrl","file","File","getNextcloudDataFromUrl","geXlsxData","setDataFromXlsxFile","clear","setData","openXlsxFromFile","getJsonFromXlsx","xlsxParser","getXlsxWorksheets","openSpreadsheet","openIco","openNextcloudUrl","getIcoData","getIcoProjectData","icoId","getIcoItemsData","projectSource","fetchIcoProject","dataSource","fetchIcoData","rawItems","rawProject","parsedData","interplayData","normalizedInterplayData","freeze","prospectiveData","normalizedProspectiveData","reliabilityData","normalizedReliabilityData","expertiseData","normalizedExpertiseData","multiStakeholderData","normalizedMultiStakeholderData","ProjectGroupNames","initialCacheState","projects","LOCAL_STORAGE_CACHE_KEY","getLocalStorageCache","cachedData","getItem","getProjectsCache","cache","getProjectFromCache","setLocalStorageCache","setItem","stringify","updateLocalStorageCache","toMerge","currentCache","mergedCache","merge","removeFromLocalStorageCache","updatedCache","omit","updateProjectCache","projectItem","saveProjectToCache","getRecentProjectsByTypeFromCache","getAsFlattenProjects","typeId","itemValue","itemFullId","getProjectFullId","hasRecentProjects","setRecentProjectsState","getProjectsSortedByDate","prev","recentProjectsArray","saveToRecentProjects","isProjectInCache","Date","now","isProjectExist","removeProjectFromCache","removeProjectDataFromCache","isProjectCached","getProjectDataCacheFromRoute","getProjectCacheFromRoute","setProjectCache","removeFromRecentProjectNames","removeFromRecentProjectSpreadsheets","getIcoApiUrl","projectId","warn","getRouteTypeFromProjectType","loadSpreadsheetFromRoute","loadIcoFromRoute","loadNextcloudFromRoute","routeType","params","matched","fullPath","hash","redirectedFrom","fileInput","files","getAlternativesAsArray","getAims","getAimsAsArray","filterItemsByValue","payload","input","normalizeByAim","itemProp","normalizedObject","itemPropValue","stakeholdersIds","getPayloadHash","ordered","getSelectedSupersets","selectSuperset","string","indexOf","stringifiedObject","roundNumber","number","round","alternativeSums","alternativeAcceptability","j","alternativeWeigths","getWeightByAlternativeV2","alternativeWeight","l","sums","sumArray","numberOrNull","alternativeItems","pro","con","proCount","noItemsAtAll","noItemsForThisAlternative","weight","arrayToSum","filterLabelsBy","click","preventDefaults","preventDefault","stopPropagation","onFileDragEnter","highlightDrop","onFileDragLeave","unhighlightDrop","onFileDragOver","onFileDrop","dataTransfer","isXlsxType","currentTarget","classList","add","remove","initDropArea","dropArea","Parser","getCSVFromJSON","opts","excelStrings","delimiter","quote","includeEmptyRows","defaultValue","parser","isExportableToCSV","exportToCSV","projectType","exportWorksheetsToCSV","inputElement","headersLengths","multiCSV","headerOrder","firstItem","headerLength","CSV","maxHeaderLength","lineSeparator","repeat","sortedMultiCSV","mergedCSV","getAsCSVBlob","saveAs","Blob","useRoute","isProjectRoute","_component_v_navigation_drawer","temporary","scrim","block","nav","dense","_component_v_item_group","_component_v_footer","_component_router_link","_component_v_list_item_subtitle","subheader","tile","_component_v_card_subtitle","_component_v_spacer","_component_v_list_item_action","_component_v_combobox","_component_v_form","onSubmit","handleOpenIco","handleOpenSpreadsheet","handleOpenNextcloudUrl","AppBar","Drawer","OpenDialog","About","val","vuetify","createVuetify","VApp","VAppBar","VNavigationDrawer","VList","VListItem","VListItemTitle","VListItemSubtitle","VDivider","VBtn","VIcon","VCard","VCardTitle","VCardText","VDialog","VMain","VItemGroup","VListSubheader","VOverlay","VProgressCircular","VSnackbar","VFooter","VContainer","VListItemAction","VSpacer","VCardSubtitle","VRow","VCol","VToolbarTitle","VTooltip","VAppBarNavIcon","VForm","VCombobox","VImg","VAvatar","VChip","VBadge","VExpandTransition","VMenu","VBtnToggle","VToolbar","VAutocomplete","VTextField","VSelect","VTable","directives","defaultSet","aliases","sets","mdi","theme","defaultTheme","themes","light","primary","secondary","accent","dark","install","app","Highlighter","onAppInit","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","n","getter","__esModule","definition","defineProperty","enumerable","globalThis","Function","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}