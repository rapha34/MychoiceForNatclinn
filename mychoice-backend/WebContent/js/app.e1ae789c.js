(function(){var e={5256:function(e,t,a){"use strict";var r=a(3751),l=a(641),n=a(33);function s(e,t,a,r,s,i){const o=(0,l.g2)("AppBar"),c=(0,l.g2)("Drawer"),u=(0,l.g2)("router-view"),d=(0,l.g2)("v-main"),p=(0,l.g2)("v-icon"),m=(0,l.g2)("v-card-title"),v=(0,l.g2)("OpenDialog"),h=(0,l.g2)("v-card-text"),g=(0,l.g2)("v-card"),b=(0,l.g2)("v-dialog"),f=(0,l.g2)("About"),k=(0,l.g2)("v-progress-circular"),y=(0,l.g2)("v-overlay"),C=(0,l.g2)("v-btn"),w=(0,l.g2)("v-snackbar"),E=(0,l.g2)("v-app");return(0,l.uX)(),(0,l.Wv)(E,{class:"bg-grey-lighten-4"},{default:(0,l.k6)((()=>[(0,l.bF)(o),(0,l.bF)(c),(0,l.Lk)("input",{type:"file",ref:"dropFileInputRef",accept:".xlsx",style:{display:"none"},onChange:t[0]||(t[0]=(...t)=>e.onFileChange&&e.onFileChange(...t))},null,544),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(u)])),_:1}),(0,l.bF)(b,{modelValue:e.state.openDialog,"onUpdate:modelValue":t[1]||(t[1]=t=>e.state.openDialog=t),"max-width":"600"},{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(m,{class:"d-flex align-center"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{class:"mr-2"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("mdi-cloud-upload")]))),_:1}),t[6]||(t[6]=(0,l.Lk)("span",null,"Open online project",-1))])),_:1}),(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(v)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)(b,{modelValue:e.state.aboutDialog,"onUpdate:modelValue":t[2]||(t[2]=t=>e.state.aboutDialog=t),"max-width":"600"},{default:(0,l.k6)((()=>[(0,l.bF)(f)])),_:1},8,["modelValue"]),(0,l.bF)(y,{"model-value":e.state.overlay,class:"d-flex justify-center align-center","z-index":"3"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{indeterminate:"",size:"64",color:"primary"})])),_:1},8,["model-value"]),(0,l.bF)(w,{modelValue:e.isNotification,"onUpdate:modelValue":t[3]||(t[3]=t=>e.isNotification=t),color:"info",location:"top"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{class:"mr-2"},{default:(0,l.k6)((()=>t[7]||(t[7]=[(0,l.eW)("mdi-information")]))),_:1}),(0,l.Lk)("div",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.notifications,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t},(0,n.v_)(e.message),1)))),128))])])),actions:(0,l.k6)((()=>[(0,l.bF)(C,{variant:"outlined",size:"small",onClick:e.refreshProject},{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.eW)("Refresh")]))),_:1},8,["onClick"])])),_:1},8,["modelValue"]),(0,l.bF)(w,{modelValue:e.isError,"onUpdate:modelValue":t[4]||(t[4]=t=>e.isError=t),color:"error",timeout:"0","multi-line":""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.getErrors,((t,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a},(0,n.v_)(e.getErrorMessage(t)),1)))),128))])),actions:(0,l.k6)((()=>[(0,l.bF)(C,{variant:"text",onClick:e.clearErrors},{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.eW)("Close")]))),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1})}a(8111),a(3579);var i=a(953),o=a(5220);a(4114),a(7588),a(2489);const c={mode:"consensus",globalCardType:"label",searchInput:"",selectedSuperset:"",selectedSupersets:[],selectedAims:[],selectedCriterions:[],selectedStakeholders:[],compareDialog:!1,dialog:!1,openDialog:!1,spreadsheet:null,selectedView:"table-view",data:null,project:null,aboutDialog:!1,creditsDialog:!1},u=(0,i.KR)(null),d=(0,i.Kh)({vm:null,notifications:[],baseUrl:"/",selectedView:c.selectedView,spreadsheet:c.spreadsheet,data:c.data,project:c.project,searchInput:c.searchInput,selectedSuperset:c.selectedSuperset,selectedSupersets:c.selectedSupersets,selectedAims:c.selectedAims,selectedCriterions:c.selectedCriterions,selectedStakeholders:c.selectedStakeholders,mode:c.mode,modes:{consensus:{name:"Consensus"},interplay:{name:"Interplay"},prospective:{name:"Prospective"},expertise:{name:"Expertise"},"data-reliability":{name:"Data reliability"},"multi-stakeholder":{name:"Multi Stakeholder"}},globalCardType:"label",chartFilters:{selectedAlternative:"all-merged",analysisPer:"criteria",selectedCriterion:""},dialog:c.dialog,compareDialog:c.compareDialog,openDialog:c.openDialog,aboutDialog:c.aboutDialog,creditsDialog:c.creditsDialog,icons:{subOption:{1:"mdi-emoticon-happy-outline",2:"mdi-emoticon-sad-outline"},compare:"mdi"},overlay:!1,drawer:!1,errors:{FAILED_TO_FETCH_SPREADSHEET:!1,FAILED_TO_FETCH_ICO:!1},snackbar:!1,fields:{projectName:"",spreadsheetUrl:"",nextcloudUrl:""},errorMessages:{FAILED_TO_FETCH_SPREADSHEET:"The Spreadsheet isn't published or doesn't exist",FAILED_TO_FETCH_ICO:"This project name doesn't exist (note: name is case-sensitive)"},recentProjects:[],recentProjectNames:localStorage.recentProjectNames&&null!==JSON.parse(localStorage.recentProjectNames)?JSON.parse(localStorage.recentProjectNames):{},recentProjectSpreadsheets:localStorage.recentProjectSpreadsheets&&null!==JSON.parse(localStorage.recentProjectSpreadsheets)?JSON.parse(localStorage.recentProjectSpreadsheets):{}}),p=()=>{d.data=c.data,d.project=c.project,d.spreadsheet=c.spreadsheet},m=()=>{d.mode=c.mode},v=()=>{p(),g(),m(),h()},h=()=>{d.selectedSuperset=c.selectedSuperset,d.selectedSupersets.splice(0),d.compareDialog=c.compareDialog,d.dialog=c.dialog,d.openDialog=c.openDialog},g=()=>{d.searchInput=c.searchInput,d.selectedAims=c.selectedAims,d.selectedCriterions=c.selectedCriterions,d.selectedStakeholders=c.selectedStakeholders},b=e=>{const t=new RegExp("^(?:[a-z]+:)?//","i"),a=t.test(e);return a?e:"hhttp://localhost:8080/img/"+d.project.name+"/"+e},f=(0,l.EW)((()=>!!(d.vm&&d.vm.$route&&d.vm.$route.query&&d.vm.$route.query.spreadsheet))),k=((0,l.EW)((()=>d.vm&&d.vm.$route?d.vm.$route:null)),(0,l.EW)((()=>d.overlay))),y=(0,l.EW)((()=>null===d.project)),C=e=>`https://docs.google.com/spreadsheets/d/${e}`,w=((0,l.EW)((()=>d.project&&d.project.name?d.project.name:null)),(0,l.EW)((()=>"stakeholder"===d.globalCardType))),E=(0,l.EW)((()=>d.selectedSupersets)),x=()=>{d.overlay=!0},F=()=>{d.overlay=!1};(0,l.wB)((()=>d.globalCardType),((e,t)=>{e!==t&&h()}));const _=(0,l.EW)((()=>Object.entries(d.recentProjects).filter((([e,{type:t}])=>"googlespreadsheet"===t)))),A=(0,l.EW)((()=>Object.entries(d.recentProjects).filter((([e,{type:t}])=>"ico"===t)))),L=(0,l.EW)((()=>Object.entries(d.recentProjects).filter((([e,{type:t}])=>"nextcloud"===t)))),S={class:"d-flex flex-column align-center justify-center h-100 text-white text-center px-4"},I={class:"text-h3 mb-2"},O={class:"d-flex flex-wrap justify-center"},W={key:0,class:"mx-2 text-caption font-weight-light my-span-vs"},j={class:"d-flex align-center mx-2"},X={class:"text-center my-4 mt-n6"},P={class:"text-body-1"},T={class:"d-flex flex-wrap justify-center"},R={key:0,class:"d-flex align-center mx-4"},D={class:"text-h6 font-weight-bold mb-1"},N=["src"];function M(e,t,a,r,s,i){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("v-img"),u=(0,l.g2)("v-btn"),d=(0,l.g2)("v-card-text"),p=(0,l.g2)("v-avatar"),m=(0,l.g2)("v-list-item"),v=(0,l.g2)("v-card"),h=(0,l.g2)("v-col"),g=(0,l.g2)("v-row"),b=(0,l.g2)("v-container"),f=(0,l.g2)("Empty");return(0,l.uX)(),(0,l.Wv)(v,{class:"flex-grow-1 bg-grey-lighten-4"},{default:(0,l.k6)((()=>[e.state.project?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.bF)(c,{class:"align-center my-v-img","max-height":"300",width:"100%",src:e.getImagePath(e.state.project.image),cover:""},{default:(0,l.k6)((()=>[(0,l.Lk)("div",S,[(0,l.Lk)("h1",I,(0,n.v_)(e.state.project.name),1),t[1]||(t[1]=(0,l.Lk)("div",{class:"text-h6 font-weight-light mb-2"}," The alternatives discussed in the project are: ",-1)),(0,l.Lk)("div",O,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.alternativesIds,((t,a)=>((0,l.uX)(),(0,l.CE)(l.FK,{key:t},[0!==a?((0,l.uX)(),(0,l.CE)("span",W,"VS")):(0,l.Q3)("",!0),(0,l.Lk)("div",j,[(0,l.bF)(o,{class:"me-1"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.getAlternatives[t].icon),1)])),_:2},1024),(0,l.Lk)("span",null,(0,n.v_)(e.getAlternatives[t].name),1)])],64)))),128))])])])),_:1},8,["src"]),(0,l.Lk)("div",X,[(0,l.bF)(u,{onClick:t[0]||(t[0]=t=>e.switchToView("global-view")),size:"x-large",color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)(" Open "+(0,n.v_)(e.state.project.name)+" project ",1)])),_:1})]),(0,l.bF)(b,{style:{"max-width":"1200px"}},{default:(0,l.k6)((()=>[(0,l.bF)(d,{class:"text-primary text-center"},{default:(0,l.k6)((()=>[(0,l.Lk)("p",P,(0,n.v_)(e.state.project.description),1)])),_:1}),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(h,{style:{"overflow-x":"auto","text-align":"center"}},{default:(0,l.k6)((()=>[(0,l.Lk)("div",T,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.alternativesIds,((a,r)=>((0,l.uX)(),(0,l.CE)(l.FK,{key:"card-"+a+r},[0!==r?((0,l.uX)(),(0,l.CE)("div",R,t[2]||(t[2]=[(0,l.Lk)("small",{class:"text-grey-darken-1 font-weight-bold text-h6"},"VS",-1)]))):(0,l.Q3)("",!0),(0,l.bF)(v,{"min-width":"280","max-width":"320",class:"mx-2 mb-4",variant:"outlined"},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",D,[(0,l.bF)(o,{class:"text-primary me-2"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.getAlternatives[a].icon),1)])),_:2},1024),(0,l.eW)(" "+(0,n.v_)(e.getAlternatives[a].name),1)]),(0,l.bF)(p,{size:"56",color:"grey"},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{src:e.getImagePath(e.getAlternatives[a].image)},null,8,N)])),_:2},1024)])),_:2},1024),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.Lk)("p",null,(0,n.v_)(e.getAlternatives[a].description),1)])),_:2},1024)])),_:2},1024)],64)))),128))])])),_:1})])),_:1}),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(h,null,{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.Lk)("div",{class:"mt-6"},[(0,l.Lk)("h2",{class:"text-h6 font-weight-bold"},"Disclaimer"),(0,l.Lk)("ul",{class:"text-caption ps-4"},[(0,l.Lk)("li",null," The authors and publisher of the software cannot be held liable in any way for the consequences that may result from the use or interpretation of the information processed by the MyChoice software... "),(0,l.Lk)("li",null,[(0,l.eW)(" By using the MyChoice software, users agree to explicitly cite the tool (home page "),(0,l.Lk)("a",{href:"https://ico.iate.inra.fr/MyChoice/",target:"_blank"},"https://ico.iate.inra.fr/MyChoice/"),(0,l.eW)(")... ")])])],-1)]))),_:1})])),_:1})])),_:1})],64)):((0,l.uX)(),(0,l.Wv)(f,{key:1}))])),_:1})}const $={key:0,class:"d-flex flex-column align-center justify-center flex-grow-1",style:{"min-height":"100%"}},H={class:"mb-5"},B={key:0},V=["href"];function q(e,t,a,r,s,i){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("v-btn"),u=(0,l.g2)("v-container"),d=(0,l.g2)("v-card");return e.isEmptyProject&&!e.isLoading?((0,l.uX)(),(0,l.CE)("div",$,[(0,l.bF)(d,{color:"transparent",class:"text-center",elevation:"0"},{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.Lk)("h4",H,[e.isSpreadsheet?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("span",B,(0,n.v_)(e.getRouteProjectId),1)),e.isSpreadsheet?((0,l.uX)(),(0,l.CE)("a",{key:1,target:"_blank",href:e.getSpreadsheetLink(e.getRouteProjectId)},(0,n.v_)(e.getRouteProjectId),9,V)):(0,l.Q3)("",!0),e.isSpreadsheet?((0,l.uX)(),(0,l.Wv)(o,{key:2,class:"ml-2"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("mdi-google-spreadsheet")]))),_:1})):(0,l.Q3)("",!0)]),(0,l.bF)(c,{onClick:e.refreshProject},{default:(0,l.k6)((()=>[(0,l.bF)(o,{size:"small",class:"mr-3"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)("mdi-autorenew")]))),_:1}),t[2]||(t[2]=(0,l.eW)("Refresh project "))])),_:1},8,["onClick"])])),_:1})])),_:1})])):(0,l.Q3)("",!0)}var U=(0,l.pM)({setup(){return{getSpreadsheetLink:C,isSpreadsheet:f,getRouteProjectId:bn,state:d,refreshProject:zo,isLoading:k,isEmptyProject:y}}}),z=a(6262);const G=(0,z.A)(U,[["render",q]]);var K=G,Q=(0,l.pM)({components:{Empty:K},setup(){return{state:d,getImagePath:b,getFilteredItemsBy:Ki,switchToView:pn,alternativesIds:(0,l.EW)((()=>xi())),getAlternatives:(0,l.EW)((()=>wi()))}}});const Y=(0,z.A)(Q,[["render",M],["__scopeId","data-v-19fbed7c"]]);var J=Y;const Z={class:"page-bg bg-grey-lighten-4"},ee={class:"page-container page-container--home"},te={class:"text-left mb-6"},ae=["src"],re={class:"my-6 d-flex justify-center"},le={class:"v-footer v-theme--mychoiceTheme",style:{height:"auto"}};function ne(e,t,a,s,i,o){const c=(0,l.g2)("v-responsive"),u=(0,l.g2)("v-sheet"),d=(0,l.g2)("v-col"),p=(0,l.g2)("v-btn"),m=(0,l.g2)("v-list-subheader"),v=(0,l.g2)("v-card-text"),h=(0,l.g2)("v-list-item-title"),g=(0,l.g2)("v-icon"),b=(0,l.g2)("v-list-item"),f=(0,l.g2)("v-list"),k=(0,l.g2)("v-card"),y=(0,l.g2)("v-row"),C=(0,l.g2)("Version");return(0,l.uX)(),(0,l.CE)("div",Z,[(0,l.Lk)("div",ee,[(0,l.bF)(y,{class:"page-row py-6",justify:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{cols:"12",sm:"8",lg:"8"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{elevation:"0",class:"pa-0","max-width":"100%"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",te,[(0,l.Lk)("img",{src:e.state.baseUrl+"logo-mychoice-color.svg",style:{"max-width":"240px",width:"100%"},alt:"MyChoice Logo"},null,8,ae)]),t[2]||(t[2]=(0,l.Lk)("p",null,[(0,l.Lk)("b",null,"MyChoice"),(0,l.eW)(" is a web application supporting collective decision, designed by INRAE. The software enables project participants to: ")],-1)),t[3]||(t[3]=(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,"Analyze, compare and assess stakeholders' attitudes towards different alternatives."),(0,l.Lk)("li",null,"Review explanatory arguments stemming from various sources and reflecting different concerns."),(0,l.Lk)("li",null,"Explain the criteria, aims and features pursued."),(0,l.Lk)("li",null,"Highlight potential synergies or competing concerns."),(0,l.Lk)("li",null,"Propose different modes of decision support (expert, consensual, prospective, etc.).")],-1)),(0,l.Lk)("div",re,[(0,l.bF)(c,{"aspect-ratio":"16/9",style:{"max-width":"600px",width:"100%"}},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.Lk)("video",{controls:"",style:{width:"100%",height:"100%"}},[(0,l.Lk)("source",{src:"presentation_mychoice.mp4"}),(0,l.eW)(" Your browser does not support the "),(0,l.Lk)("code",null,"video"),(0,l.eW)(" element. ")],-1)]))),_:1})]),t[4]||(t[4]=(0,l.Lk)("h6",{class:"text-overline mb-2"},"References",-1)),t[5]||(t[5]=(0,l.Lk)("ul",{class:"text-caption"},[(0,l.Lk)("li",null,[(0,l.eW)(" Rallou Thomopoulos, Julien Cufi, Maxime Le Breton. A Generic Software to Support Collective Decision in Food Chains and in Multi-Stakeholder Situations. "),(0,l.Lk)("em",null,"FoodSim 2020"),(0,l.eW)(", Sep 2020, Ghent, Belgium. ("),(0,l.Lk)("a",{href:"https://hal.archives-ouvertes.fr/hal-02484363",target:"_blank"},"hal-02484363"),(0,l.eW)(") ")]),(0,l.Lk)("li",null,[(0,l.eW)(" Rallou Thomopoulos. A practical application approach to argumentation for multicriteria analysis and decision support. "),(0,l.Lk)("em",null,"EURO journal on decision processes"),(0,l.eW)(", Springer, 2018, 6 (3-4), pp.237-255. ("),(0,l.Lk)("a",{href:"https://dx.doi.org/10.1007/s40070-018-0087-2",target:"_blank"},"10.1007/s40070-018-0087-2"),(0,l.eW)(") ("),(0,l.Lk)("a",{href:"https://hal.archives-ouvertes.fr/hal-01918020",target:"_blank"},"hal-01918020"),(0,l.eW)(") ")])],-1)),t[6]||(t[6]=(0,l.Lk)("h6",{class:"text-overline mt-6 mb-2"},"Disclaimer",-1)),t[7]||(t[7]=(0,l.Lk)("div",{class:"text-caption"},[(0,l.Lk)("ul",null,[(0,l.Lk)("li",null," The authors and publisher of the software cannot be held liable for the consequences resulting from the use of MyChoice. Information entered is the user's responsibility and affects the final result. "),(0,l.Lk)("li",null," Users agree to cite the tool in any communication and not use contributor branding without explicit consent. ")])],-1))])),_:1})])),_:1}),(0,l.bF)(d,{lg:"4",py:"0",class:"d-none d-lg-flex"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{elevation:"0"},{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,{cols:"12",class:"d-flex justify-center mb-4"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{onClick:e.handleLoadFile,"prepend-icon":"mdi-upload"},{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.eW)(" Open local project ")]))),_:1},8,["onClick"])])),_:1}),(0,l.bF)(d,{cols:"12",class:"d-flex justify-center mb-4"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{onClick:t[0]||(t[0]=t=>e.state.openDialog=!0),"prepend-icon":"mdi-cloud-upload"},{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.eW)(" Open online project ")]))),_:1})])),_:1}),(0,l.bF)(d,{cols:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>t[10]||(t[10]=[(0,l.eW)("Recent projects")]))),_:1}),(0,l.bF)(k,{flat:""},{default:(0,l.k6)((()=>[e.recentProjects.length?((0,l.uX)(),(0,l.Wv)(f,{key:1,density:"compact"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.recentProjects,((a,s)=>((0,l.uX)(),(0,l.Wv)(b,{key:"home-recent-"+s,to:e.getHrefFromTypeId({type:a.type,id:a.id})},{append:(0,l.k6)((()=>["googlespreadsheet"===a.type?((0,l.uX)(),(0,l.Wv)(g,{key:0},{default:(0,l.k6)((()=>t[12]||(t[12]=[(0,l.eW)("mdi-google-spreadsheet")]))),_:1})):(0,l.Q3)("",!0),(0,l.bF)(p,{icon:"mdi-close",variant:"text",size:"small",onClick:(0,r.D$)((t=>e.removeFromRecentProjects(a.type,{id:a.id})),["stop","prevent"])},null,8,["onClick"])])),default:(0,l.k6)((()=>[(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(a.name||a.id),1)])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:1})):((0,l.uX)(),(0,l.Wv)(v,{key:0,class:"text-grey"},{default:(0,l.k6)((()=>t[11]||(t[11]=[(0,l.eW)("No recent projects")]))),_:1}))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})]),(0,l.Lk)("footer",le,[(0,l.bF)(C)])])}const se={class:"text-caption text-grey"};function ie(e,t,a,r,s,i){return(0,l.uX)(),(0,l.CE)("small",se,"v"+(0,n.v_)(e.version),1)}var oe={data:()=>({version:"0.0.1-natclinn"})};const ce=(0,z.A)(oe,[["render",ie]]);var ue=ce,de=(0,l.pM)({components:{Version:ue},setup(){return{state:d,recentProjects:Ks,getHrefFromTypeId:yi,removeFromRecentProjects:ti,handleLoadFile:So}}});const pe=(0,z.A)(de,[["render",ne]]);var me=pe;const ve={key:0,class:"view-container"},he={class:"header-section"},ge={class:"tablelist-section"},be={class:"compare-container elevation-3"},fe={class:"close-btn-container"};function ke(e,t,a,n,s,i){const o=(0,l.g2)("Header"),c=(0,l.g2)("v-container"),u=(0,l.g2)("TableList"),d=(0,l.g2)("v-card"),p=(0,l.g2)("v-icon"),m=(0,l.g2)("v-badge"),v=(0,l.g2)("v-btn"),h=(0,l.g2)("SupersetCard"),g=(0,l.g2)("v-dialog"),b=(0,l.g2)("v-expand-transition");return e.state.project&&e.state.data?((0,l.uX)(),(0,l.CE)("div",ve,[(0,l.Lk)("div",he,[(0,l.bF)(c,{style:{"max-width":"1400px"}},{default:(0,l.k6)((()=>[(0,l.bF)(o)])),_:1})]),(0,l.Lk)("div",ge,[(0,l.bF)(c,{class:"tablelist-container",fluid:"",style:{"max-width":"1600px"}},{default:(0,l.k6)((()=>[(0,l.bF)(d,{elevation:"0",rounded:"lg"},{default:(0,l.k6)((()=>[t[3]||(t[3]=(0,l.Lk)("div",{class:"tablelist-x-shadow"},null,-1)),t[4]||(t[4]=(0,l.Lk)("div",{class:"tablelist-y-shadow"},null,-1)),((0,l.uX)(),(0,l.Wv)(u,{key:e.state.project?.name}))])),_:1})])),_:1})]),t[5]||(t[5]=(0,l.Lk)("div",{class:"bottom-padding"},null,-1)),(0,l.bF)(v,{onClick:t[0]||(t[0]=t=>e.state.compareDialog=!e.state.compareDialog),color:"secondary",disabled:0===e.selectedSupersets.length,class:"floating-button",variant:"flat",elevation:"8"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{icon:"mdi-select-compare"}),e.selectedSupersets.length>0?((0,l.uX)(),(0,l.Wv)(m,{key:0,content:e.selectedSupersets.length,color:"black","text-color":"white",floating:"","offset-x":"-12","offset-y":"-12"},null,8,["content"])):(0,l.Q3)("",!0)])),_:1},8,["disabled"]),(0,l.bF)(g,{"onClick:outside":t[1]||(t[1]=t=>e.state.selectedSuperset=""),"model-value":e.state.selectedSuperset.length>0,"max-width":"480px"},{default:(0,l.k6)((()=>[e.state.selectedSuperset.length?((0,l.uX)(),(0,l.Wv)(h,{key:0,superset:JSON.parse(e.state.selectedSuperset)},null,8,["superset"])):(0,l.Q3)("",!0)])),_:1},8,["model-value"]),(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.bo)((0,l.Lk)("div",be,[(0,l.bF)(d,{color:"grey-lighten-4",flat:""},{default:(0,l.k6)((()=>[(0,l.Lk)("div",fe,[(0,l.bF)(v,{onClick:t[2]||(t[2]=t=>e.state.compareDialog=!1),size:"x-small",icon:"",color:"secondary"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{icon:"mdi-close"})])),_:1})]),(0,l.bF)(c,{class:"supersets-container",fluid:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.selectedSupersets,(t=>((0,l.uX)(),(0,l.CE)("div",{class:"card-compare",key:t+e.state.mode},[(0,l.bF)(h,{compare:!0,cols:4,superset:JSON.parse(t)},null,8,["superset"])])))),128))])),_:1})])),_:1})],512),[[r.aG,e.state.compareDialog&&e.selectedSupersets.length]])])),_:1})])):(0,l.Q3)("",!0)}a(1701);var ye=a(2543);const Ce={class:"me-2 d-flex align-center"};var we=(0,l.pM)({__name:"Header",props:{chartSelectedChart:{}},setup(e){const t=e,a=(0,o.rd)(),r=e=>a.currentRoute.value.name===e;d.chartFilters||(d.chartFilters={selectedAlternative:"all-merged",analysisPer:"criteria",selectedCriterion:""});const n=(0,l.EW)({get:()=>d.chartFilters?.selectedAlternative||"all-merged",set:e=>{d.chartFilters&&(d.chartFilters.selectedAlternative=e)}}),s=(0,l.EW)({get:()=>d.chartFilters?.analysisPer||"criteria",set:e=>{d.chartFilters&&(d.chartFilters.analysisPer=e)}}),c=(0,l.EW)({get:()=>d.chartFilters?.selectedCriterion||"",set:e=>{d.chartFilters&&(d.chartFilters.selectedCriterion=e)}}),u=(0,l.EW)((()=>{const e=d.project?.alternatives?.map((e=>({title:e.name,value:e.name})))||[];return[...e,{title:"All alternatives (merged)",value:"all-merged"},{title:"All alternatives (separated)",value:"all-separated"}]})),p=[{title:"Criteria",value:"criteria"},{title:"Stakeholder",value:"stakeholder"}],m=()=>{d.searchInput=""},v=(0,ye.debounce)((e=>{d.searchInput=e}),200),h=(0,l.EW)((()=>Lo())),g=(0,l.EW)((()=>In(Fo(),"text"))),b=(0,l.EW)((()=>In(Ao(),"text"))),f=(0,l.EW)((()=>In(_o(),"text"))),k=(0,l.EW)((()=>r("chart-view")&&"argument-count"===t.chartSelectedChart));return(0,l.wB)((()=>d.mode),(async()=>{const e=a.currentRoute.value;if(vi(e))return void await Ci(e,!1);const t={};d.spreadsheet?t[mn.GOOGLE_SPREADSHEET]=d.spreadsheet:d.project?.name&&(t[mn.ICO]=d.project.name),0!==Object.keys(t).length?await Ci({...e,query:{...e.query,...t}},!1):await Ci(e,!1)})),(e,t)=>{const a=(0,l.g2)("v-icon"),o=(0,l.g2)("v-btn"),y=(0,l.g2)("v-list-item-title"),C=(0,l.g2)("v-list-item"),E=(0,l.g2)("v-list"),x=(0,l.g2)("v-menu"),F=(0,l.g2)("v-tooltip"),_=(0,l.g2)("v-select"),A=(0,l.g2)("v-toolbar"),L=(0,l.g2)("v-col"),S=(0,l.g2)("v-autocomplete"),I=(0,l.g2)("v-row"),O=(0,l.g2)("v-text-field");return(0,l.uX)(),(0,l.Wv)(I,{class:"table-filters"},{default:(0,l.k6)((()=>[(0,l.bF)(L,{class:"flex-grow-0",style:{"align-self":"center"}},{default:(0,l.k6)((()=>[(0,l.bF)(A,{color:"transparent",density:"comfortable",class:"pr-2 toolbar-filters"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",Ce,[(0,l.bF)(F,{text:"Global view",location:"top"},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(x,{location:"bottom"},{activator:(0,l.k6)((({props:n})=>[(0,l.bF)(o,(0,l.v6)({icon:"",class:"toolbar-icon-btn"},{...e,...n},{variant:r("global-view")?"flat":"text",onClick:t[0]||(t[0]=e=>(0,i.R1)(pn)("global-view"))}),{default:(0,l.k6)((()=>[(0,l.bF)(a,{icon:"mdi-table",color:r("global-view")?"primary":"grey"},null,8,["color"]),(0,l.bF)(a,{icon:"mdi-chevron-down",color:r("global-view")?"primary":"grey"},null,8,["color"])])),_:2},1040,["variant"])])),default:(0,l.k6)((()=>[(0,l.bF)(E,null,{default:(0,l.k6)((()=>[(0,i.R1)(w)?((0,l.uX)(),(0,l.Wv)(C,{key:1,onClick:t[2]||(t[2]=e=>(0,i.R1)(d).globalCardType="label")},{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>t[14]||(t[14]=[(0,l.eW)("By Label")]))),_:1})])),_:1})):((0,l.uX)(),(0,l.Wv)(C,{key:0,onClick:t[1]||(t[1]=e=>(0,i.R1)(d).globalCardType="stakeholder")},{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>t[13]||(t[13]=[(0,l.eW)("By Stakeholder")]))),_:1})])),_:1}))])),_:1})])),_:2},1024)])),_:1}),(0,l.bF)(F,{text:"Stakeholder view",location:"top"},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(o,(0,l.v6)({icon:"",class:"toolbar-icon-btn"},e,{variant:r("stakeholder-view")?"flat":"text",onClick:t[3]||(t[3]=e=>(0,i.R1)(pn)("stakeholder-view"))}),{default:(0,l.k6)((()=>[(0,l.bF)(a,{icon:"mdi-account-multiple",color:r("stakeholder-view")?"primary":"grey"},null,8,["color"])])),_:2},1040,["variant"])])),_:1}),(0,l.bF)(F,{text:"Property view",location:"top"},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(o,(0,l.v6)({icon:"",class:"toolbar-icon-btn"},e,{variant:r("property-view")?"flat":"text",onClick:t[4]||(t[4]=e=>(0,i.R1)(pn)("property-view"))}),{default:(0,l.k6)((()=>[(0,l.bF)(a,{icon:"mdi-format-list-bulleted",color:r("property-view")?"primary":"grey"},null,8,["color"])])),_:2},1040,["variant"])])),_:1}),(0,l.bF)(F,{text:"Chart view",location:"top"},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(o,(0,l.v6)({icon:"",class:"toolbar-icon-btn"},e,{variant:r("chart-view")?"flat":"text",onClick:t[5]||(t[5]=e=>(0,i.R1)(pn)("chart-view"))}),{default:(0,l.k6)((()=>[(0,l.bF)(a,{icon:"mdi-chart-bar",color:r("chart-view")?"primary":"grey"},null,8,["color"])])),_:2},1040,["variant"])])),_:1})]),(0,l.bF)(_,{items:h.value,"item-title":"text","item-value":"value",modelValue:(0,i.R1)(d).mode,"onUpdate:modelValue":t[6]||(t[6]=e=>(0,i.R1)(d).mode=e),label:"Select mode","hide-details":"",class:"ml-6 flex-grow-1 toolbar-select",color:"secondary",variant:"outlined",density:"comfortable",style:{"min-width":"200px"}},null,8,["items","modelValue"])])),_:1})])),_:1}),r("chart-view")?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(L,{key:0,class:"px-6"},{default:(0,l.k6)((()=>[(0,l.bF)(I,null,{default:(0,l.k6)((()=>[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.bF)(S,{clearable:"","item-color":"secondary",color:"secondary",label:"Stakeholders",modelValue:(0,i.R1)(d).selectedStakeholders,"onUpdate:modelValue":t[7]||(t[7]=e=>(0,i.R1)(d).selectedStakeholders=e),items:g.value,"item-title":"text",multiple:"",hint:`${(0,i.R1)(d).selectedStakeholders.length}/${(0,i.R1)(Fo).length}`,"persistent-hint":"",autocomplete:"off",id:"selected-stakeholders",density:"comfortable"},null,8,["modelValue","items","hint"])])),_:1}),(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.bF)(S,{clearable:"","item-color":"secondary",color:"secondary",label:"Criteria",modelValue:(0,i.R1)(d).selectedCriterions,"onUpdate:modelValue":t[8]||(t[8]=e=>(0,i.R1)(d).selectedCriterions=e),items:b.value,"item-title":"text",multiple:"",hint:`${(0,i.R1)(d).selectedCriterions.length}/${(0,i.R1)(Ao).length}`,"persistent-hint":"",autocomplete:"off",id:"selected-criteria",density:"comfortable"},null,8,["modelValue","items","hint"])])),_:1}),(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.bF)(S,{clearable:"","item-color":"secondary",color:"secondary",label:"Aims",modelValue:(0,i.R1)(d).selectedAims,"onUpdate:modelValue":t[9]||(t[9]=e=>(0,i.R1)(d).selectedAims=e),items:f.value,"item-title":"text",multiple:"",hint:`${(0,i.R1)(d).selectedAims.length}/${(0,i.R1)(_o).length}`,"persistent-hint":"",autocomplete:"off",id:"selected-aims",density:"comfortable"},null,8,["modelValue","items","hint"])])),_:1})])),_:1})])),_:1})),r("chart-view")?((0,l.uX)(),(0,l.Wv)(L,{key:1,class:"px-6"},{default:(0,l.k6)((()=>[(0,l.bF)(I,null,{default:(0,l.k6)((()=>[(0,l.bF)(L,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{"item-color":"secondary",color:"secondary",label:"Alternative",modelValue:n.value,"onUpdate:modelValue":t[10]||(t[10]=e=>n.value=e),items:u.value,density:"comfortable",variant:"outlined"},null,8,["modelValue","items"])])),_:1}),(0,l.bF)(L,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{"item-color":"secondary",color:"secondary",label:"Analysis per",modelValue:s.value,"onUpdate:modelValue":t[11]||(t[11]=e=>s.value=e),items:p,density:"comfortable",variant:"outlined"},null,8,["modelValue"])])),_:1}),(0,l.bF)(L,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{"item-color":"secondary",color:"secondary",label:"All criteria",modelValue:c.value,"onUpdate:modelValue":t[12]||(t[12]=e=>c.value=e),items:b.value,"item-title":"text","item-value":"value",clearable:"",density:"comfortable",variant:"outlined",disabled:k.value},null,8,["modelValue","items","disabled"])])),_:1})])),_:1})])),_:1})):(0,l.Q3)("",!0),r("chart-view")?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(L,{key:2,class:"flex-grow-0",style:{"min-width":"200px"}},{default:(0,l.k6)((()=>[(0,l.bF)(O,{color:"secondary",label:"Search","model-value":(0,i.R1)(d).searchInput,"onUpdate:modelValue":(0,i.R1)(v),clearable:"",density:"comfortable"},{"append-inner":(0,l.k6)((()=>[(0,l.bF)(a,{icon:"mdi-magnify",class:"cursor-pointer",onClick:m})])),_:1},8,["model-value","onUpdate:modelValue"])])),_:1}))])),_:1})}}});const Ee=(0,z.A)(we,[["__scopeId","data-v-2eee6bb6"]]);var xe=Ee;const Fe={class:"table-wrapper"},_e={class:"custom-table"},Ae={key:0,style:{height:"100%"},class:"text-center"},Le=["colspan"],Se={class:"text-grey"};function Ie(e,t,a,n,s,i){const o=(0,l.g2)("TableListHead"),c=(0,l.g2)("TableListCriterion"),u=(0,l.g2)("TableListAim"),d=(0,l.g2)("TableListAlternative"),p=(0,l.g2)("v-btn"),m=(0,l.g2)("TableListFoot"),v=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(v,{fluid:"",class:"pa-0 fill-height d-flex flex-column"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",Fe,[(0,l.Lk)("table",_e,[(0,l.Lk)("thead",null,[(0,l.bF)(o)]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_criterionsIds,(t=>((0,l.uX)(),(0,l.CE)(l.FK,{key:`criterion-block-${t}`},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.getAimsBy("criterion",t),((a,n)=>((0,l.uX)(),(0,l.CE)("tr",{key:`aim-${t}-${a.id}`},[0===n?(0,l.bo)(((0,l.uX)(),(0,l.Wv)(c,{key:0,aim:a,criterionId:t},null,8,["aim","criterionId"])),[[r.aG,e.getFilteredCriterions.includes(t)]]):(0,l.Q3)("",!0),(0,l.bo)((0,l.bF)(u,{aim:a},null,8,["aim"]),[[r.aG,e.getFilteredAims.includes(a.id)]]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.alternativesIds,(n=>((0,l.uX)(),(0,l.CE)(l.FK,{key:`alternative-block-${n}`},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.subOptionsIds,(s=>(0,l.bo)(((0,l.uX)(),(0,l.Wv)(d,{key:`alternative-${n}-${s}`,aim:a,criterionId:t,alternativeId:n,subOptionId:s,alternativesIds:e.alternativesIds,subOptionsIds:e.subOptionsIds},null,8,["aim","criterionId","alternativeId","subOptionId","alternativesIds","subOptionsIds"])),[[r.aG,e.getFilteredAims.includes(a.id)]]))),128))],64)))),128))])))),128))],64)))),128)),e.getFilteredItems.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("tr",Ae,[(0,l.Lk)("td",{class:"pt-10",colspan:5+e.alternativesIds.length},[(0,l.Lk)("b",Se,[t[1]||(t[1]=(0,l.eW)(" No results. ")),t[2]||(t[2]=(0,l.Lk)("br",null,null,-1)),t[3]||(t[3]=(0,l.Lk)("br",null,null,-1)),(0,l.bF)(p,{size:"small",color:"secondary",onClick:e.clearAppFilters},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("clear filters")]))),_:1},8,["onClick"])])],8,Le)]))]),(0,l.Lk)("tfoot",null,[(0,l.bF)(m)])])])])),_:1})}const Oe={class:"text-uppercase"},We=["colspan","onClick"],je={class:"alternative-name"};function Xe(e,t,a,r,s,i){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("ProductDetailsDialog");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("tr",Oe,[t[1]||(t[1]=(0,l.Lk)("th",{class:"criterion"},"Criterion",-1)),t[2]||(t[2]=(0,l.Lk)("th",{class:"aim"},"Aim",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.alternativesIds,(t=>((0,l.uX)(),(0,l.CE)("th",{key:`alternative-${t}`,colspan:e.subOptionsIds.length,class:"alternative",onClick:a=>e.openProductDialog(t),style:(0,n.Tr)([{cursor:"pointer",position:"relative"},{backgroundColor:e.selectedAlternativeId===t?"#e3f2fd":"transparent"}])},[e.state.data?.alternatives?.[t]?.icon?((0,l.uX)(),(0,l.Wv)(o,{key:0,class:"mr-2"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.state.data.alternatives[t].icon),1)])),_:2},1024)):(0,l.Q3)("",!0),(0,l.Lk)("span",je,(0,n.v_)(e.getAlternatives[t]?.name||"Unnamed"),1),e.hasProductInfo(t)?((0,l.uX)(),(0,l.Wv)(o,{key:1,size:"x-small",class:"ml-2 text-info"})):(0,l.Q3)("",!0)],12,We)))),128))]),(0,l.bF)(c,{modelValue:e.showProductDialog,"onUpdate:modelValue":t[0]||(t[0]=t=>e.showProductDialog=t),alternative:e.selectedAlternative,products:e.state.project?.products||[],compositions:e.state.project?.compositions||[]},null,8,["modelValue","alternative","products","compositions"])],64)}const Pe={class:"d-flex",style:{background:"rgba(0,0,0,.7)",position:"relative"}},Te={class:"mr-auto zi-front"},Re={class:"subtitle-2 text-white text-uppercase"},De={class:"mx-4 my-4 zi-front"},Ne={class:"d-flex align-start mb-2"},Me={class:"flex-grow-1"},$e={class:"title text-primary"},He={class:"text-caption text-grey-darken-1"},Be={key:0,class:"mt-2"},Ve={class:"mb-4 d-flex align-center"},qe={class:"d-flex",style:{background:"rgba(0,0,0,.7)",position:"relative"}},Ue={class:"mr-auto zi-front"},ze={class:"subtitle-2 text-white text-uppercase"},Ge={class:"mx-4 my-4 zi-front"};function Ke(e,t,a,r,s,i){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("v-divider"),u=(0,l.g2)("v-chip"),d=(0,l.g2)("v-btn"),p=(0,l.g2)("CompositionTree"),m=(0,l.g2)("v-card-text"),v=(0,l.g2)("v-card"),h=(0,l.g2)("v-alert"),g=(0,l.g2)("v-dialog");return(0,l.uX)(),(0,l.Wv)(g,{modelValue:e.isOpen,"onUpdate:modelValue":t[1]||(t[1]=t=>e.isOpen=t),"max-width":"600px"},{default:(0,l.k6)((()=>[e.alternative&&e.relatedProducts.length>0?((0,l.uX)(),(0,l.Wv)(v,{key:0,class:"superset-card"},{actions:(0,l.k6)((()=>[(0,l.bF)(d,{class:"ml-auto",onClick:e.closeDialog,variant:"text",icon:"mdi-close"},null,8,["onClick"])])),default:(0,l.k6)((()=>[(0,l.Lk)("div",Pe,[(0,l.Lk)("div",{class:"card-background",style:(0,n.Tr)(`background-image: url(${e.getImagePath(e.alternative.image)}); background-size: cover;`)},null,4),(0,l.Lk)("div",Te,[(0,l.Lk)("div",Re,(0,n.v_)(e.alternative.name),1),t[2]||(t[2]=(0,l.Lk)("div",{class:"font-weight-light text-white text-caption"}," Product Details ",-1))]),(0,l.Lk)("div",De,[e.alternative.icon?((0,l.uX)(),(0,l.Wv)(o,{key:0,style:{color:"white"}},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.alternative.icon),1)])),_:1})):(0,l.Q3)("",!0)])]),(0,l.bF)(c,{class:"my-1"}),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.relatedProducts,(a=>((0,l.uX)(),(0,l.CE)("div",{key:a.productUri,class:"mb-5 no-mb-last"},[(0,l.Lk)("div",Ne,[(0,l.Lk)("div",Me,[(0,l.Lk)("div",$e,[(0,l.Lk)("b",null,(0,n.v_)(a.nameProduct),1)]),(0,l.Lk)("div",He,(0,n.v_)(e.truncateUri(a.productUri)),1),a.tagProduct&&a.tagProduct.length>0?((0,l.uX)(),(0,l.CE)("div",Be,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.getDisplayedTags(a),(e=>((0,l.uX)(),(0,l.Wv)(u,{key:e,size:"x-small",variant:"outlined",color:"primary",class:"mr-1 mb-1"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e),1)])),_:2},1024)))),128)),a.tagProduct.length>5?((0,l.uX)(),(0,l.Wv)(u,{key:0,size:"x-small",variant:"outlined",color:e.expandedProductTags[a.productUri]?"grey":"secondary",class:"mr-1 mb-1",onClick:t=>e.toggleProductTags(a.productUri),style:{cursor:"pointer"}},{default:(0,l.k6)((()=>[e.expandedProductTags[a.productUri]?((0,l.uX)(),(0,l.Wv)(o,{key:0,icon:"mdi-chevron-up",size:"x-small",class:"mr-1"})):((0,l.uX)(),(0,l.Wv)(o,{key:1,icon:"mdi-chevron-down",size:"x-small",class:"mr-1"})),(0,l.eW)(" "+(0,n.v_)(e.expandedProductTags[a.productUri]?"Show less":`+${a.tagProduct.length-5} more`),1)])),_:2},1032,["color","onClick"])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",Ve,[(0,l.bF)(d,{size:"small",variant:"outlined",color:"primary",onClick:t[0]||(t[0]=t=>e.showAllComponents=!e.showAllComponents),"prepend-icon":e.showAllComponents?"mdi-eye":"mdi-eye-off"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.showAllComponents?"All Components":"Tagged Only"),1)])),_:1},8,["prepend-icon"])]),(0,l.bF)(p,{uri:a.productUri,compositions:e.compositions,showAll:e.showAllComponents,level:0},null,8,["uri","compositions","showAll"])])))),128))])),_:1}),(0,l.bF)(c)])),_:1})):e.alternative?((0,l.uX)(),(0,l.Wv)(v,{key:1,class:"superset-card"},{actions:(0,l.k6)((()=>[(0,l.bF)(d,{class:"ml-auto",color:"secondary",onClick:e.closeDialog,variant:"text"},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("mdi-close")]))),_:1})])),_:1},8,["onClick"])])),default:(0,l.k6)((()=>[(0,l.Lk)("div",qe,[(0,l.Lk)("div",{class:"card-background",style:(0,n.Tr)(`background-image: url(${e.getImagePath(e.alternative.image)}); background-size: cover;`)},null,4),(0,l.Lk)("div",Ue,[(0,l.Lk)("div",ze,(0,n.v_)(e.alternative.name),1),t[3]||(t[3]=(0,l.Lk)("div",{class:"font-weight-light text-white text-caption"}," Product Details ",-1))]),(0,l.Lk)("div",Ge,[e.alternative.icon?((0,l.uX)(),(0,l.Wv)(o,{key:0,style:{color:"white"}},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.alternative.icon),1)])),_:1})):(0,l.Q3)("",!0)])]),(0,l.bF)(c,{class:"my-1"}),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(h,{type:"info",variant:"outlined"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)(" No product information available for this scenario. ")]))),_:1})])),_:1}),(0,l.bF)(c)])),_:1})):(0,l.Q3)("",!0)])),_:1},8,["modelValue"])}const Qe={class:"d-flex align-start pl-3 py-2 bg-grey-lighten-4 rounded"},Ye={class:"mr-2 text-caption text-grey"},Je={class:"flex-grow-1"},Ze={class:"d-flex align-center"},et={class:"text-body-2"},tt={key:0,class:"mt-1"},at={key:0,class:"ml-4 mt-1"};function rt(e,t,a,r,s,i){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("v-chip"),u=(0,l.g2)("CompositionTree",!0);return e.filteredCompositions.length>0?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,n.C4)(["composition-level",`level-${e.level}`])},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.filteredCompositions,(t=>((0,l.uX)(),(0,l.CE)("div",{key:t.uriComposant,class:"composition-item mb-2"},[(0,l.Lk)("div",Qe,[(0,l.Lk)("div",Ye,(0,n.v_)(t.rang)+".",1),(0,l.Lk)("div",Je,[(0,l.Lk)("div",Ze,[(0,l.bF)(o,{icon:"Product"===t.typeComposant?"mdi-package-variant":"mdi-food-variant",size:"x-small",color:"Product"===t.typeComposant?"orange":"green",class:"mr-1"},null,8,["icon","color"]),(0,l.Lk)("span",et,(0,n.v_)(t.nameComposant),1)]),t.tagComposant&&t.tagComposant.length>0?((0,l.uX)(),(0,l.CE)("div",tt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.tagComposant.slice(0,3),(e=>((0,l.uX)(),(0,l.Wv)(c,{key:e,size:"x-small",variant:"outlined",color:"primary",class:"mr-1 mb-1"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e),1)])),_:2},1024)))),128)),t.tagComposant.length>3?((0,l.uX)(),(0,l.Wv)(c,{key:0,size:"x-small",variant:"outlined",color:"grey",class:"mr-1 mb-1"},{default:(0,l.k6)((()=>[(0,l.eW)(" +"+(0,n.v_)(t.tagComposant.length-3),1)])),_:2},1024)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])]),e.hasSubComponents(t.uriComposant)?((0,l.uX)(),(0,l.CE)("div",at,[(0,l.bF)(u,{uri:t.uriComposant,compositions:e.compositions,showAll:e.showAll,level:e.level+1},null,8,["uri","compositions","showAll","level"])])):(0,l.Q3)("",!0)])))),128))],2)):(0,l.Q3)("",!0)}var lt=(0,l.pM)({name:"CompositionTree",props:{uri:{type:String,required:!0},compositions:{type:Array,required:!0},showAll:{type:Boolean,default:!0},level:{type:Number,default:0}},computed:{filteredCompositions(){const e=this.compositions.filter((e=>e.uriCompose===this.uri)).sort(((e,t)=>e.rang-t.rang));return this.showAll?e:e.filter((e=>this.hasTagsInBranch(e.uriComposant)||e.tagComposant&&e.tagComposant.length>0))}},methods:{hasSubComponents(e){return this.compositions.some((t=>t.uriCompose===e))},hasTagsInBranch(e){const t=this.compositions.filter((t=>t.uriCompose===e));for(const a of t){if(a.tagComposant&&a.tagComposant.length>0)return!0;if(this.hasTagsInBranch(a.uriComposant))return!0}return!1}}});const nt=(0,z.A)(lt,[["render",rt],["__scopeId","data-v-5b1825e0"]]);var st=nt,it=(0,l.pM)({name:"ProductDetailsDialog",components:{CompositionTree:st},props:{modelValue:{type:Boolean,default:!1},alternative:{type:Object,default:null},products:{type:Array,default:()=>[]},compositions:{type:Array,default:()=>[]}},emits:["update:modelValue"],data(){return{showAllComponents:!0,expandedProductTags:{}}},setup(){return{getImagePath:b}},computed:{isOpen:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},relatedProducts(){if(!this.alternative)return[];const e=this.products.filter((e=>e.nameAlternative===this.alternative?.name)),t=Array.from(new Map(e.map((e=>[e.productUri,e]))).values());return t}},methods:{getDisplayedTags(e){return this.expandedProductTags[e.productUri]?e.tagProduct:e.tagProduct.slice(0,5)},toggleProductTags(e){this.expandedProductTags[e]=!this.expandedProductTags[e],this.expandedProductTags={...this.expandedProductTags}},getCompositions(e){return this.compositions.filter((t=>t.uriCompose===e)).sort(((e,t)=>e.rang-t.rang))},getFilteredCompositions(e){const t=this.getCompositions(e);return this.showAllComponents?t:t.filter((e=>e.tagComposant&&e.tagComposant.length>0))},truncateUri(e){const t=50;return e.length>t?e.substring(0,t-3)+"...":e},closeDialog(){this.isOpen=!1}}});const ot=(0,z.A)(it,[["render",Ke],["__scopeId","data-v-e028bf02"]]);var ct=ot,ut=(0,l.pM)({name:"TableListHead",components:{ProductDetailsDialog:ct},data(){return{showProductDialog:!1,selectedAlternativeId:null}},setup(){return{state:d,alternativesIds:(0,l.EW)((()=>xi())),subOptionsIds:(0,l.EW)((()=>ao())),getAlternatives:(0,l.EW)((()=>wi()))}},computed:{selectedAlternative(){return null===this.selectedAlternativeId?null:this.getAlternatives[this.selectedAlternativeId]||null}},methods:{openProductDialog(e){this.selectedAlternativeId=e,this.showProductDialog=!0},hasProductInfo(e){const t=this.getAlternatives[e]?.name;return!(!t||!this.state.project?.products)&&this.state.project.products.some((e=>e.nameAlternative===t))}}});const dt=(0,z.A)(ut,[["render",Xe],["__scopeId","data-v-7ed3ce52"]]);var pt=dt;const mt={tablelistfoot:""},vt={"criterion-aim":"",class:"text-right",colspan:"2"},ht={class:"text-grey",style:{"font-weight":"normal"}},gt={style:{width:"90%"}},bt={class:"text-left"},ft={class:"text-right"};function kt(e,t,a,r,s,i){const o=(0,l.g2)("v-container"),c=(0,l.g2)("v-icon"),u=(0,l.g2)("ScoreIcon");return(0,l.uX)(),(0,l.CE)("tr",mt,[(0,l.Lk)("th",vt,[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("small",ht,[t[0]||(t[0]=(0,l.eW)(" Arguments: ")),(0,l.Lk)("b",null,(0,n.v_)(e.getFilteredItems.length)+"/"+(0,n.v_)(e.getAllItems.length),1)])])),_:1})]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.alternativesIds,(a=>((0,l.uX)(),(0,l.CE)("th",{key:`subOption-${a}`,alternative:"",colspan:2},[(0,l.Lk)("table",gt,[(0,l.Lk)("tr",null,[(0,l.Lk)("td",bt,[(0,l.bF)(c,{color:"green",title:e.pluralize("{count} {argument:count}",{count:e.getFilteredItemsBy({alternative:a,favorable:!0}).length})},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)(" mdi-emoticon-happy-outline ")]))),_:2},1032,["title"])]),(0,l.Lk)("td",null,[(0,l.eW)(" Attitude: "+(0,n.v_)(e.totalAcceptability[a])+" ",1),(0,l.bF)(u,{alternative:a,score:e.totalAcceptability[a]},null,8,["alternative","score"])]),(0,l.Lk)("td",ft,[(0,l.bF)(c,{color:"red",title:e.pluralize("{count} {argument:count}",{count:e.getFilteredItemsBy({alternative:a,favorable:!1}).length})},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)(" mdi-emoticon-sad-outline ")]))),_:2},1032,["title"])])])])])))),128))])}function yt(e,t,a,r,s,i){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("v-avatar"),u=(0,l.g2)("v-chip");return(0,l.uX)(),(0,l.CE)("span",null,[e.icon?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(o,{key:0,title:e.title,size:"x-small",color:e.getColorName(e.getAcceptabilityName(e.score))},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("mdi-circle")]))),_:1},8,["title","color"])),e.icon?((0,l.uX)(),(0,l.Wv)(u,{key:1,variant:"outlined",size:"x-small",title:e.title,style:{padding:"0"},color:e.getColorName(e.getAcceptabilityName(e.score))},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[e.state.data&&e.state.data.alternatives[e.alternative]?((0,l.uX)(),(0,l.Wv)(o,{key:0,size:"small",color:e.getColorName(e.getAcceptabilityName(e.score))},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.state.data.alternatives[e.alternative].icon),1)])),_:1},8,["color"])):(0,l.Q3)("",!0)])),_:1})])),_:1},8,["title","color"])):(0,l.Q3)("",!0)])}var Ct=(0,l.pM)({props:{score:{type:Number,default:null},title:{type:String,default:""},alternative:{type:Number,required:!0},icon:{type:Boolean,default:!1}},setup(e){return{state:d,getColorName:e=>"pro"===e?"green":"con"===e?"red":"mix"===e?"orange":"rgba(0,0,0,1)",getAcceptabilityName:Co}}});const wt=(0,z.A)(Ct,[["render",yt]]);var Et=wt,xt=(0,l.pM)({setup(){return{state:d,getAcceptabilityFromAlternativeId:wo,getFilteredItemsBy:Ki,getWeightedAcceptability:bo,pluralize:Wn,totalAcceptability:(0,l.EW)((()=>bo(qi()))),alternativesIds:(0,l.EW)((()=>xi())),subOptionsIds:(0,l.EW)((()=>ao())),getSubOptions:(0,l.EW)((()=>to())),getFilteredItems:(0,l.EW)((()=>qi())),getAllItems:(0,l.EW)((()=>Vi()))}},components:{ScoreIcon:Et}});const Ft=(0,z.A)(xt,[["render",kt]]);var _t=Ft;const At={aim:""},Lt={class:"d-flex flex-column justify-space-between text-break"},St={class:"d-flex"},It={class:"mt-1 d-flex flex-wrap flex-grow-1"};function Ot(e,t,a,r,s,i){const o=(0,l.g2)("Acceptability"),c=(0,l.g2)("ItemsCount");return(0,l.uX)(),(0,l.CE)("td",At,[(0,l.Lk)("div",Lt,[(0,l.Lk)("div",St,(0,n.v_)(e.aim.name),1),(0,l.Lk)("div",It,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_alternativesIds,((t,a)=>((0,l.uX)(),(0,l.Wv)(o,{key:"aim-alternative-"+a+e.aimsItems[t],class:"mb-1 mr-1",icon:!0,alternative:t,items:e.aimsItems[t]},null,8,["alternative","items"])))),128))])]),(0,l.bF)(c,{count:e.totalItems},null,8,["count"])])}a(8237);function Wt(e,t,a,r,s,i){const o=(0,l.g2)("v-chip");return(0,l.uX)(),(0,l.Wv)(o,{variant:"outlined",size:"x-small",color:"default",title:"title"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.count),1)])),_:1})}var jt=(0,l.pM)({props:["count"],setup(e){return{title:(0,l.EW)((()=>Wn("{count} {argument:count}",{count:e.count})))}}});const Xt=(0,z.A)(jt,[["render",Wt]]);var Pt=Xt,Tt=(0,l.pM)({__name:"Acceptability",props:{items:{},alternative:{},icon:{type:Boolean}},setup(e){const t=e,a=(0,l.EW)((()=>yo(t.items))),r=(0,l.EW)((()=>null!==a.value?`${Wn("{count} {argument:count}",{count:t.items.length})} - ${100*a.value}% pro`:""));return(e,t)=>((0,l.uX)(),(0,l.Wv)(Et,{title:r.value,alternative:e.alternative,icon:e.icon,score:a.value},null,8,["title","alternative","icon","score"]))}});const Rt=Tt;var Dt=Rt,Nt=(0,l.pM)({props:{aim:{type:Object}},setup(e){const{aim:t}=(0,i.QW)(e),a=(0,l.EW)((()=>{let e={};return Fi.value.forEach((a=>{const r=Ki({alternative:a,aim:t.value.id});e[a]=r})),e})),r=(0,l.EW)((()=>Object.values(a.value).reduce(((e,t)=>e+t.length),0)));return{c_alternativesIds:Fi,aimsItems:a,totalItems:r,getFilteredItemsBy:Ki}},components:{Acceptability:Dt,ItemsCount:Pt}});const Mt=(0,z.A)(Nt,[["render",Ot]]);var $t=Mt;const Ht=["rowspan"],Bt={class:"d-flex flex-column justify-space-between text-break"},Vt={class:"mt-1 flex-grow-1 flex-wrap d-flex"};function qt(e,t,a,r,s,i){const o=(0,l.g2)("Acceptability"),c=(0,l.g2)("ItemsCount");return(0,l.uX)(),(0,l.CE)("td",{class:"criterion",rowspan:e.getAimsBy("criterion",e.criterionId).length},[(0,l.Lk)("div",Bt,[(0,l.Lk)("div",null,(0,n.v_)(e.c_criterions[e.aim.criterion].name),1),(0,l.Lk)("div",Vt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_alternativesIds,((t,a)=>((0,l.uX)(),(0,l.Wv)(o,{key:`criterion-alternative-${a}-${e.criterionItems[t]}`,class:"mb-1 mr-1",icon:!0,alternative:t,items:e.criterionItems[t]},null,8,["alternative","items"])))),128))])]),(0,l.bF)(c,{count:e.totalItems},null,8,["count"])],8,Ht)}var Ut=(0,l.pM)({name:"TableListCriterion",components:{Acceptability:Dt,ItemsCount:Pt},props:{aim:{type:Object,required:!0},criterionId:{type:Number,required:!0}},setup(e){const{criterionId:t}=(0,i.QW)(e),a=(0,l.EW)((()=>{const e={};return Fi.value.forEach((a=>{e[a]=Ki({alternative:a,criterion:t.value})})),e})),r=(0,l.EW)((()=>Object.values(a.value).reduce(((e,t)=>e+t.length),0)));return{c_criterions:Di,c_alternativesIds:Fi,getAimsBy:Wi,criterionItems:a,totalItems:r}}});const zt=(0,z.A)(Ut,[["render",qt],["__scopeId","data-v-d4a07c98"]]);var Gt=zt;function Kt(e,t,a,r,s,i){const o=(0,l.g2)("TableListCard");return(0,l.uX)(),(0,l.CE)("td",{class:(0,n.C4)(e.getLabels().length?"":"is-empty"),key:`${e.alternativeId}-${e.subOptionId}`},[e.is1stLevelStakeholdersMode?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(e.getCardsByStakeholder(),((t,a)=>((0,l.uX)(),(0,l.Wv)(o,{key:`superset-${e.aim.id}-stakeholder-${a}`,superset:{criterion:e.criterionId,aim:e.aim.id,alternative:e.alternativeId,subOption:e.subOptionId,stakeholder:Number(a)}},null,8,["superset"])))),128)):((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(e.getLabels(),((t,a)=>((0,l.uX)(),(0,l.Wv)(o,{key:`superset-${t.property}-${t.value}-${a}`,superset:{criterion:e.criterionId,aim:e.aim.id,alternative:e.alternativeId,subOption:e.subOptionId,property:t.property,value:t.value}},null,8,["superset"])))),128))],2)}const Qt={key:0},Yt={key:1},Jt={class:"d-flex"},Zt={class:"card-compare-btn"},ea={key:0,class:"ml-auto mr-2 mb-1 text-right",style:{"text-overflow":"ellipsis",display:"block",overflow:"hidden",width:"calc(100% - 4em)","white-space":"nowrap"}};function ta(e,t,a,s,i,o){const c=(0,l.g2)("Highlighter"),u=(0,l.g2)("v-chip"),d=(0,l.g2)("v-container"),p=(0,l.g2)("v-icon"),m=(0,l.g2)("v-btn"),v=(0,l.g2)("v-card");return(0,l.uX)(),(0,l.Wv)(v,{elevation:"1",onClick:t[2]||(t[2]=t=>e.toggleSuperset(e.superset)),class:"text-center mb-3","max-width":"344"},{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[e.is1stLevelStakeholdersMode?((0,l.uX)(),(0,l.CE)("b",Qt,[(0,l.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:e.getStakeholderName(e.superset.stakeholder)??""},null,8,["searchWords","textToHighlight"])])):((0,l.uX)(),(0,l.CE)("b",Yt,[(0,l.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:e.superset.property??""},null,8,["searchWords","textToHighlight"])]))]),(0,l.Lk)("div",{class:(0,n.C4)([1===e.superset.subOption?"text-success":"text-error"])},[(0,l.bF)(c,{searchWords:[e.state.searchInput],textToHighlight:e.superset.value??""},null,8,["searchWords","textToHighlight"])],2),(0,l.bF)(u,{variant:"outlined",size:"x-small",color:"default"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.items.length),1)])),_:1})])),_:1}),(0,l.Lk)("div",Jt,[(0,l.Lk)("div",Zt,[e.findSuperset(e.superset)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(m,{key:0,onClick:t[0]||(t[0]=(0,r.D$)((t=>e.addSupersetInSelection(e.superset)),["stop"])),variant:"text",icon:"",size:"small"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{size:"x-small"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("mdi-plus-circle-outline")]))),_:1})])),_:1})),e.findSuperset(e.superset)?((0,l.uX)(),(0,l.Wv)(m,{key:1,onClick:t[1]||(t[1]=(0,r.D$)((t=>e.removeSupersetInSelection(e.superset)),["stop"])),variant:"text",icon:"",size:"small",color:"secondary"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{size:"x-small"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)("mdi-plus-circle")]))),_:1})])),_:1})):(0,l.Q3)("",!0)]),e.condition?((0,l.uX)(),(0,l.CE)("small",ea,(0,n.v_)(e.condition),1)):(0,l.Q3)("",!0)])])),_:1})}var aa=(0,l.pM)({setup(){return{state:d,addSupersetInSelection:mo,removeSupersetInSelection:vo,getItemsBy:zi,toggleSuperset:po,findSuperset:ho,getStakeholderName:so,is1stLevelStakeholdersMode:w}},computed:{items:function(){return w.value?zi({stakeholder:this.superset.stakeholder,alternative:this.superset.alternative,subOption:this.superset.subOption,aim:this.superset.aim,criterion:this.superset.criterion}):zi({property:this.superset.property,value:this.superset.value,alternative:this.superset.alternative,subOption:this.superset.subOption,aim:this.superset.aim,criterion:this.superset.criterion})},condition:function(){return this.items.reduce(((e,t)=>t.condition?e.length?e+", "+t.condition:e+t.condition:e),"")}},props:["superset","label"]});const ra=(0,z.A)(aa,[["render",ta]]);var la=ra,na=(0,l.pM)({setup(){return{is1stLevelStakeholdersMode:w}},components:{TableListCard:la},methods:{getLabels:function(){return(0,ye.sortBy)(xo({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId}),"property")},getItems:function(){return Ki({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId})},getCardsByStakeholder:function(){return eo({alternative:this.alternativeId,subOption:this.subOptionId,aim:this.aim.id,criterion:this.criterionId},"stakeholder")}},props:["alternativeId","subOptionId","aim","criterionId"]});const sa=(0,z.A)(na,[["render",Kt]]);var ia=sa,oa=(0,l.pM)({name:"TableList",components:{TableListCriterion:Gt,TableListHead:pt,TableListFoot:_t,TableListAlternative:ia,TableListAim:$t},setup(){const e=(0,l.EW)((()=>Bi())),t=(0,l.EW)((()=>qi())),a=(0,l.EW)((()=>Xi())),r=(0,l.EW)((()=>xi())),n=(0,l.EW)((()=>ao())),s=(0,l.EW)((()=>Ni())),i=(0,l.EW)((()=>Si()));return{state:d,sortBy:ye.sortBy,getAimsBy:Wi,clearAppFilters:g,c_criterionsIds:Mi,getFilteredCriterions:e,getFilteredItems:t,getFilteredAims:a,alternativesIds:r,subOptionsIds:n,criterionsIds:s,aimsIds:i,getAlternatives:(0,l.EW)((()=>wi())),getSubOptions:(0,l.EW)((()=>to()))}}});const ca=(0,z.A)(oa,[["render",Ie],["__scopeId","data-v-22edaf68"]]);var ua=ca;const da={class:"d-flex",style:{background:"rgba(0,0,0,.7)",position:"relative"}},pa={class:"mr-auto zi-front"},ma={class:"subtitle-2 text-white text-uppercase"},va={class:"font-weight-light text-white text-caption"},ha={class:"mx-4 my-4 zi-front"},ga={class:"mt-0 mb-3 d-flex"},ba={class:"mr-auto"},fa={style:{"margin-bottom":"-.33em"},class:"title d-flex text-primary"},ka={key:0};function ya(e,t,a,r,s,i){const o=(0,l.g2)("v-icon"),c=(0,l.g2)("v-card-text"),u=(0,l.g2)("v-divider"),d=(0,l.g2)("v-list-subheader"),p=(0,l.g2)("SupersetCardItem"),m=(0,l.g2)("v-btn"),v=(0,l.g2)("v-card");return(0,l.uX)(),(0,l.Wv)(v,{class:"superset-card"},{actions:(0,l.k6)((()=>[e.findSuperset(e.superset)||e.compare?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(m,{key:0,onClick:t[0]||(t[0]=t=>e.addSupersetInSelection(e.superset)),class:"mr-auto",variant:"text",icon:"mdi-plus-circle-outline"})),e.findSuperset(e.superset)?((0,l.uX)(),(0,l.Wv)(m,{key:1,class:(0,n.C4)(e.compare?"mx-auto":"mr-auto"),color:"secondary",onClick:t[1]||(t[1]=t=>e.removeSupersetInSelection(e.superset)),variant:"text"},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.compare?"mdi-close":"mdi-plus-circle"),1)])),_:1})])),_:1},8,["class"])):(0,l.Q3)("",!0),e.compare?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(m,{key:2,onClick:t[2]||(t[2]=t=>e.unselectSuperset(e.superset)),variant:"text",icon:"mdi-close"}))])),default:(0,l.k6)((()=>[(0,l.Lk)("div",da,[(0,l.Lk)("div",{class:"card-background",style:(0,n.Tr)(`background-image: url(${e.getImagePath(e.state.data.alternatives[e.superset.alternative].image)}); background-size: cover;`)},null,4),(0,l.Lk)("div",pa,[(0,l.Lk)("div",ma,(0,n.v_)(e.getAlternativeName(e.superset.alternative)),1),(0,l.Lk)("div",va,(0,n.v_)(e.getCriterionName(e.superset.criterion)),1)]),(0,l.Lk)("div",ha,[e.state.data?((0,l.uX)(),(0,l.Wv)(o,{key:0,style:{color:"white"}},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.state.data.alternatives[e.superset.alternative].icon),1)])),_:1})):(0,l.Q3)("",!0)])]),(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",ga,[(0,l.Lk)("span",ba,(0,n.v_)(e.getAimName(e.superset.aim)),1),(0,l.bF)(o,{class:"ml-2",size:"small"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("mdi-bullseye-arrow")]))),_:1})]),(0,l.Lk)("div",null,[(0,l.Lk)("div",fa,[e.is1stLevelStakeholdersMode?((0,l.uX)(),(0,l.CE)("b",ka,(0,n.v_)(e.getStakeholderName(e.superset.stakeholder)),1)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.Lk)("b",null,(0,n.v_)(e.superset.property),1),(0,l.bF)(o,{class:(0,n.C4)(["ml-auto",1===e.superset.subOption?"text-success":"text-error"])},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.state.icons.subOption[e.superset.subOption]),1)])),_:1},8,["class"])],64))]),e.is1stLevelStakeholdersMode?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,n.C4)(["title font-weight-regular",1===e.superset.subOption?"text-success":"text-error"])},(0,n.v_)(e.superset.value),3))])])),_:1}),(0,l.bF)(u,{class:"my-1"}),(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,{class:"px-0",textContent:(0,n.v_)(`Arguments (${e.supersetItems.length})`)},null,8,["textContent"]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.duplicateGroups,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"mb-5 no-mb-last"},[(0,l.bF)(p,{item:e[0],index:t,duplicatesCount:e.length},null,8,["item","index","duplicatesCount"])])))),128))])),_:1}),(0,l.bF)(u)])),_:1})}const Ca={class:"d-flex"},wa={class:"mb-5 overflow-hidden"},Ea={key:0},xa={key:1},Fa={key:1},_a={class:"ml-auto flex-shrink-0"},Aa={key:0,class:"text-secondary body-1"},La={class:"mb-5 body-1"},Sa={class:"body-1 text-secondary"},Ia={key:0,class:"mt-4"},Oa={key:1,class:"text-right text-secondary caption mt-4"};function Wa(e,t,a,s,i,o){const c=(0,l.g2)("v-chip"),u=(0,l.g2)("v-icon"),d=(0,l.g2)("v-btn"),p=(0,l.g2)("v-expand-transition"),m=(0,l.g2)("v-container"),v=(0,l.g2)("v-card");return(0,l.uX)(),(0,l.Wv)(v,{ripple:!1,outlined:"",onClick:t[0]||(t[0]=t=>e.openMe(e.index))},{default:(0,l.k6)((()=>[(0,l.bF)(m,{fluid:""},{default:(0,l.k6)((()=>[(0,l.Lk)("div",Ca,[(0,l.Lk)("div",wa,[(0,l.Lk)("div",{class:(0,n.C4)("caption "+(e.open[e.index]?"":"text-truncate"))},[e.is1stLevelStakeholdersMode?((0,l.uX)(),(0,l.CE)("b",Ea,(0,n.v_)(e.item.property),1)):((0,l.uX)(),(0,l.CE)("b",xa,"by "+(0,n.v_)(e.getStakeholderName(e.item.stakeholder)),1))],2),(0,l.Lk)("div",{class:(0,n.C4)("caption "+(e.open[e.index]?"":"text-truncate"))},[e.is1stLevelStakeholdersMode?((0,l.uX)(),(0,l.CE)("span",{key:0,class:(0,n.C4)("font-weight-regular\t  "+(1===e.item.subOption?"text-success":"text-error"))},(0,n.v_)(e.item.value),3)):((0,l.uX)(),(0,l.CE)("em",Fa,"in "+(0,n.v_)(e.item.source),1))],2)]),(0,l.Lk)("div",_a,[(0,l.bF)(c,{variant:"outlined",size:"x-small"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.duplicatesCount),1)])),_:1}),(0,l.bF)(d,{icon:""},{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.open[e.index]?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1})])]),e.open[e.index]?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",Aa,(0,n.v_)(e.item.assertion),1)),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bo)((0,l.Lk)("div",null,[t[2]||(t[2]=(0,l.Lk)("div",{class:"overline"},"Explanation",-1)),(0,l.Lk)("p",La,(0,n.v_)(e.item.explanation),1),t[3]||(t[3]=(0,l.Lk)("div",{class:"overline"},"Assertion",-1)),(0,l.Lk)("p",Sa,(0,n.v_)(e.item.assertion),1),e.item.tagInitiator?((0,l.uX)(),(0,l.CE)("div",Ia,[t[1]||(t[1]=(0,l.Lk)("div",{class:"overline"},"Tag Initiator",-1)),(0,l.bF)(c,{size:"x-small",variant:"outlined",color:"black",class:"font-weight-medium"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.item.tagInitiator),1)])),_:1})])):(0,l.Q3)("",!0),e.item.date?((0,l.uX)(),(0,l.CE)("div",Oa,[(0,l.Lk)("small",null,(0,n.v_)(e.formatDate(e.item.date)),1)])):(0,l.Q3)("",!0)],512),[[r.aG,e.open[e.index]]])])),_:1})])),_:1})])),_:1})}var ja=(0,l.pM)({setup(){return{state:d,getImagePath:b,openMe(e){this.open[e]=!this.open[e]},addSupersetInSelection:mo,removeSupersetInSelection:vo,unselectSuperset:uo,findSuperset:ho,getItemsBy:zi,getCriterionById:$i,getAlternativeName:Ai,getCriterionName:Hi,getStakeholderName:so,getAimName:ji,formatDate:Ln,is1stLevelStakeholdersMode:w}},props:["item","index","duplicatesCount"],data:()=>({open:[!1]}),computed:{supersetItems:function(){return zi(this.superset)}},mounted(){this.open=this.supersetItems.map((()=>!1))}});const Xa=(0,z.A)(ja,[["render",Wa]]);var Pa=Xa,Ta=(0,l.pM)({components:{SupersetCardItem:Pa},props:["superset","compare"],setup(){return{state:d,getImagePath:b,addSupersetInSelection:mo,removeSupersetInSelection:vo,unselectSuperset:uo,findSuperset:ho,getItemsBy:zi,getCriterionById:$i,getAlternativeName:Ai,getCriterionName:Hi,getStakeholderName:so,getAimName:ji,formatDate:Ln,is1stLevelStakeholdersMode:w}},computed:{supersetItems(){return zi(this.superset)},duplicateGroups(){return Gi(this.supersetItems)}}});const Ra=(0,z.A)(Ta,[["render",ya]]);var Da=Ra,Na=(0,l.pM)({components:{Header:xe,TableList:ua,SupersetCard:Da},setup(){return{state:d,selectedSupersets:E,getFilteredItems:(0,l.EW)((()=>qi())),getAllItems:(0,l.EW)((()=>Vi())),removeSupersetInSelection:vo}}});const Ma=(0,z.A)(Na,[["render",ke],["__scopeId","data-v-82ecae66"]]);var $a=Ma;function Ha(e,t,a,r,s,i){const o=(0,l.g2)("Header"),c=(0,l.g2)("PropertyListRow"),u=(0,l.g2)("v-table"),d=(0,l.g2)("v-card"),p=(0,l.g2)("v-container");return e.state.project&&e.state.data?((0,l.uX)(),(0,l.Wv)(p,{key:0,style:{"max-width":"1400px"}},{default:(0,l.k6)((()=>[(0,l.bF)(o),(0,l.bF)(d,{class:"mt-2"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{class:"properties-table",style:{"min-width":"1000px"}},{default:(0,l.k6)((()=>[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[t[0]||(t[0]=(0,l.Lk)("th",{class:"text-start"},"Property",-1)),t[1]||(t[1]=(0,l.Lk)("th",{class:"text-start"},"Criterion",-1)),t[2]||(t[2]=(0,l.Lk)("th",{class:"text-start"},"Aim",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_alternativesIds,((t,a)=>((0,l.uX)(),(0,l.CE)("th",{key:a,class:"text-center"},(0,n.v_)(e.getAlternativeById(t).name),1)))),128))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.getNormalizedItemsByUniqueItemProp("property"),((e,t)=>((0,l.uX)(),(0,l.Wv)(c,{key:t,items:e,property:t},null,8,["items","property"])))),128))])])),_:1})])),_:1})])),_:1})):(0,l.Q3)("",!0)}const Ba=["name","id"],Va={key:0,class:"text-grey"},qa={key:0,class:"text-grey"},Ua={key:0,class:"text-center"};function za(e,t,a,r,s,i){const o=(0,l.g2)("Highlighter"),c=(0,l.g2)("v-icon"),u=(0,l.g2)("PropertiesListCriterion"),d=(0,l.g2)("Acceptability");return(0,l.uX)(),(0,l.CE)("tr",{onClick:t[0]||(t[0]=t=>e.hasMany?e.showDetails=!e.showDetails:""),key:`${e.property}-${e.criterionItems.length}-${e.aimItems.length}`},[(0,l.Lk)("td",null,[(0,l.Lk)("a",{name:`${e.property}`,id:e.property},null,8,Ba),(0,l.Lk)("b",null,[(0,l.bF)(o,{searchWords:[e.state.searchInput],textToHighlight:e.property??""},null,8,["searchWords","textToHighlight"])]),e.criterionItems.length>1||e.aimItems.length>1?((0,l.uX)(),(0,l.Wv)(c,{key:0},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})):(0,l.Q3)("",!0)]),(0,l.Lk)("td",null,[e.criterionItems.length>1&&!e.showDetails?((0,l.uX)(),(0,l.CE)("div",Va,(0,n.v_)(e.criterionItems.length)+" criteria ",1)):(0,l.Q3)("",!0),e.criterionItems.length<=1||e.criterionItems.length>1&&e.showDetails?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(e.criterionItems,((t,a)=>((0,l.uX)(),(0,l.Wv)(u,{key:a,item:t,row:e.getAimsCountFromAimsAndCriterion(e.getAimsFromItems(e.items),t.criterion)},null,8,["item","row"])))),128)):(0,l.Q3)("",!0)]),(0,l.Lk)("td",null,[e.aimItems.length>1&&!e.showDetails?((0,l.uX)(),(0,l.CE)("div",qa,(0,n.v_)(e.aimItems.length)+" aims",1)):(0,l.Q3)("",!0),e.aimItems.length<=1||e.aimItems.length>1&&e.showDetails?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(e.aimItems,((t,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a},(0,n.v_)(e.getAimById(t.aim).name),1)))),128)):(0,l.Q3)("",!0)]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_alternativesIds,((t,a)=>((0,l.uX)(),(0,l.CE)("td",{key:a},[e.showDetails?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",Ua,[(0,l.bF)(d,{items:e.filterItemsBy(e.items,{alternative:t}),alternative:t,icon:!1},null,8,["items","alternative"])])),e.showDetails?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(e.aimItems,((a,r)=>((0,l.uX)(),(0,l.CE)("div",{class:"text-center",key:r},[(0,l.bF)(d,{items:e.filterItemsBy(e.items,{alternative:t,aim:a.aim}),alternative:t,icon:!1},null,8,["items","alternative"])])))),128)):(0,l.Q3)("",!0)])))),128))])}function Ga(e,t,a,r,s,i){return(0,l.uX)(),(0,l.CE)("div",null,(0,n.v_)(e.getCriterionById(e.item.criterion).name),1)}var Ka=(0,l.pM)({props:{item:{},row:{}},setup(){return{getCriterionById:$i}}});const Qa=(0,z.A)(Ka,[["render",Ga]]);var Ya=Qa,Ja=(0,l.pM)({props:{items:Array,property:{type:String,required:!0}},setup(e){const{items:t,property:a}=(0,i.QW)(e),r=(0,i.KR)(!1),n=(0,l.EW)((()=>(0,ye.uniqBy)(t.value,"criterion"))),s=(0,l.EW)((()=>(0,ye.uniqBy)(t.value,"aim"))),o=(0,l.EW)((()=>n.value.length>1||s.value.length>1));return{state:d,c_alternativesIds:Fi,showDetails:r,criterionItems:n,aimItems:s,hasMany:o,getAimsCountFromAimsAndCriterion:Ti,getAimsFromItems:Pi,countBy:ye.countBy,sortBy:ye.sortBy,getSubOptionById:ro,getCriterionById:$i,getAimById:Oi,getAcceptabilityFromProCon:yo,normalizeByAlternative:Yi,filterItemsBy:Ui,uniqBy:ye.uniqBy}},components:{Acceptability:Dt,PropertiesListCriterion:Ya}});const Za=(0,z.A)(Ja,[["render",za]]);var er=Za,tr=(0,l.pM)({setup(e){const t=(0,i.KR)(null);return{state:d,height:t,c_alternativesIds:Fi,setHeight:()=>{const e=document.querySelector("[table-filters]");if(e){const a=e.getBoundingClientRect();t.value=window.innerHeight-a.bottom-24}},getNormalizedItemsByUniqueItemProp:Zi,getAlternativeById:_i}},components:{Header:xe,PropertyListRow:er},mounted(){this.$nextTick(this.setHeight)},updated(){this.$nextTick(this.setHeight)},created(){window.addEventListener("resize",this.setHeight)},destroyed(){window.removeEventListener("resize",this.setHeight)}});const ar=(0,z.A)(tr,[["render",Ha]]);var rr=ar;const lr={style:{"overflow-x":"auto"}};function nr(e,t,a,r,s,i){const o=(0,l.g2)("Header"),c=(0,l.g2)("StakeholderListRow"),u=(0,l.g2)("v-table"),d=(0,l.g2)("v-card"),p=(0,l.g2)("v-container");return e.state.project&&e.state.data?((0,l.uX)(),(0,l.Wv)(p,{key:0,style:{"max-width":"1400px"}},{default:(0,l.k6)((()=>[(0,l.bF)(o),(0,l.bF)(d,{class:"mt-2"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",lr,[(0,l.bF)(u,{class:"properties-table",style:{"min-width":"1000px"}},{default:(0,l.k6)((()=>[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[t[0]||(t[0]=(0,l.Lk)("th",{class:"text-start"},"Criterion",-1)),t[1]||(t[1]=(0,l.Lk)("th",{class:"text-start"},"Aim",-1)),t[2]||(t[2]=(0,l.Lk)("th",{class:"text-start"},"Stakeholder",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_alternativesIds,((t,a)=>((0,l.uX)(),(0,l.CE)("th",{key:`alt-${a}`,class:"text-center"},(0,n.v_)(e.getAlternativeById(t).name),1)))),128))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.getNormalizedItemsByUniqueItemProp("criterion"),((t,a)=>((0,l.uX)(),(0,l.Wv)(c,{key:`crit-${a}`,items:t,property:e.getCriterionName(a)},null,8,["items","property"])))),128))])])),_:1})])])),_:1})])),_:1})):(0,l.Q3)("",!0)}const sr=["rowspan"],ir=["name","id"],or=["rowspan"],cr={stakeholder:""};function ur(e,t,a,r,s,i){const o=(0,l.g2)("Highlighter"),c=(0,l.g2)("Acceptability");return(0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.aimItems,((t,a)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.uniqBy(e.filterItemsBy(e.items,{aim:t.aim}),"stakeholder"),((r,s)=>((0,l.uX)(),(0,l.CE)("tr",{key:`stakeholder-${s}-${a}`},[0===a&&0===s?((0,l.uX)(),(0,l.CE)("td",{key:0,criterion:"",rowspan:e.uniqBy(e.filterItemsBy(e.items,{criterion:t.criterion}),"stakeholder").length*e.aimItems.length},[(0,l.Lk)("a",{name:`${e.property}`,id:e.property},null,8,ir),(0,l.bF)(o,{class:"inline-block",searchWords:[e.state.searchInput],"text-to-highlight":e.property},null,8,["searchWords","text-to-highlight"])],8,sr)):(0,l.Q3)("",!0),0===s?((0,l.uX)(),(0,l.CE)("td",{key:1,aim:"",rowspan:e.uniqBy(e.filterItemsBy(e.items,{aim:t.aim}),"stakeholder").length},[(0,l.Lk)("span",null,(0,n.v_)(e.getAimById(t.aim).name),1)],8,or)):(0,l.Q3)("",!0),(0,l.Lk)("td",cr,[(0,l.Lk)("b",null,(0,n.v_)(e.getStakeholderName(r.stakeholder)),1)]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.c_alternativesIds,((a,n)=>((0,l.uX)(),(0,l.CE)("td",{class:"text-center",alternative:"",key:n},[(0,l.bF)(c,{items:e.filterItemsBy(e.items,{alternative:a,aim:t.aim,stakeholder:r.stakeholder}),alternative:a,icon:!1},null,8,["items","alternative"])])))),128))])))),128))],64)))),256)}var dr=(0,l.pM)({props:{items:Array,property:{type:String,required:!0}},setup(e){const{items:t,property:a}=(0,i.QW)(e),r=(0,l.EW)((()=>(0,ye.uniqBy)(t.value,"stakeholder"))),n=(0,l.EW)((()=>(0,ye.uniqBy)(t.value,"criterion"))),s=(0,l.EW)((()=>(0,ye.uniqBy)(t.value,"aim")));return console.log("aimItems"),console.log(s.value),{state:d,c_alternativesIds:Fi,stakeholderItems:r,criterionItems:n,aimItems:s,hasMany:(0,l.EW)((()=>n.value.length>1||s.value.length>1)),getStakeholderName:so,getAimsCountFromAimsAndCriterion:Ti,getAimsFromItems:Pi,countBy:ye.countBy,sortBy:ye.sortBy,getSubOptionById:ro,getCriterionById:$i,getAimById:Oi,getAcceptabilityFromProCon:yo,normalizeByAlternative:Yi,filterItemsBy:Ui,uniqBy:ye.uniqBy}},components:{Acceptability:Dt}});const pr=(0,z.A)(dr,[["render",ur]]);var mr=pr,vr=(0,l.pM)({props:{id:Number},setup(){const e=(0,i.KR)(null),t=()=>{const t=document.querySelector("[table-filters]");if(t){const a=t.getBoundingClientRect();e.value=window.innerHeight-a.bottom-24}};return(0,l.sV)((()=>{t(),window.addEventListener("resize",t)})),(0,l.$u)(t),(0,l.xo)((()=>{window.removeEventListener("resize",t)})),{state:d,height:e,c_alternativesIds:Fi,getCriterionName:Hi,getNormalizedItemsByUniqueItemProp:Zi,getAlternativeById:_i,setHeight:t}},components:{Header:xe,StakeholderListRow:mr}});const hr=(0,z.A)(vr,[["render",nr],["__scopeId","data-v-4259a901"]]);var gr=hr;const br={key:0,class:"view-container"},fr={class:"header-section"},kr={class:"chart-main"},yr={class:"chart-container"},Cr={class:"chart-container"},wr={class:"chart-container"},Er={class:"chart-container"},xr={class:"chart-container"};function Fr(e,t,a,s,i,o){const c=(0,l.g2)("Header"),u=(0,l.g2)("v-container"),d=(0,l.g2)("v-icon"),p=(0,l.g2)("v-card-title"),m=(0,l.g2)("v-divider"),v=(0,l.g2)("v-list-item-title"),h=(0,l.g2)("v-list-item"),g=(0,l.g2)("v-list"),b=(0,l.g2)("v-card"),f=(0,l.g2)("v-col"),k=(0,l.g2)("ArgumentCount"),y=(0,l.g2)("v-card-text"),C=(0,l.g2)("BarChart"),w=(0,l.g2)("CircleChart"),E=(0,l.g2)("AlternativesComparison"),x=(0,l.g2)("CrosstabChart"),F=(0,l.g2)("v-row");return e.state.project&&e.state.data?((0,l.uX)(),(0,l.CE)("div",br,[(0,l.Lk)("div",fr,[(0,l.bF)(u,{style:{"max-width":"1600px"}},{default:(0,l.k6)((()=>[(0,l.bF)(c,{chartSelectedChart:e.selectedChart},null,8,["chartSelectedChart"])])),_:1})]),(0,l.Lk)("div",kr,[(0,l.bF)(u,{fluid:"",class:"fill-height chart-layout"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{class:"fill-height chart-row","no-gutters":""},{default:(0,l.k6)((()=>[(0,l.bF)(f,{cols:"12",sm:"3",md:"2",class:"sidebar"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{class:"sidebar-card",elevation:"2"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{class:"text-h6 d-flex align-center pa-4"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{icon:"mdi-chart-bar",class:"mr-2",color:"primary"}),t[0]||(t[0]=(0,l.eW)(" Charts "))])),_:1}),(0,l.bF)(m),(0,l.bF)(g,{class:"chart-menu",density:"compact"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.charts,(t=>((0,l.uX)(),(0,l.Wv)(h,{key:t.id,active:e.selectedChart===t.id,onClick:a=>e.selectedChart=t.id,class:"chart-menu-item"},{prepend:(0,l.k6)((()=>[(0,l.bF)(d,{icon:t.icon,size:"small",class:"mr-2"},null,8,["icon"])])),default:(0,l.k6)((()=>[(0,l.bF)(v,{class:"text-caption"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(t.label),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1})])),_:1})])),_:1}),(0,l.bF)(f,{cols:"12",sm:"9",md:"10",class:"content-area"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{class:"content-card",elevation:"2"},{default:(0,l.k6)((()=>[(0,l.bo)((0,l.Lk)("div",yr,[(0,l.bF)(p,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{icon:"mdi-counter",class:"mr-2",color:"primary"}),t[1]||(t[1]=(0,l.eW)(" Argument Count "))])),_:1}),(0,l.bF)(y,{class:"pa-6"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{arguments:e.filteredItems,selectedAlternative:e.state.chartFilters?.selectedAlternative,analysisPer:e.state.chartFilters?.analysisPer,alternativesMap:e.state.data?.alternatives||null,criterionsMap:e.state.data?.criterions||null,stakeholdersMap:e.state.data?.stakeholders||null},null,8,["arguments","selectedAlternative","analysisPer","alternativesMap","criterionsMap","stakeholdersMap"])])),_:1})],512),[[r.aG,"argument-count"===e.selectedChart]]),(0,l.bo)((0,l.Lk)("div",Cr,[(0,l.bF)(p,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{icon:"mdi-chart-bar",class:"mr-2",color:"primary"}),t[2]||(t[2]=(0,l.eW)(" Bar Chart of Argument Repartition "))])),_:1}),(0,l.bF)(y,{class:"pa-6"},{default:(0,l.k6)((()=>[(0,l.bF)(C,{arguments:e.filteredItems,selectedAlternative:e.state.chartFilters?.selectedAlternative,analysisPer:e.state.chartFilters?.analysisPer,selectedCriterion:e.state.chartFilters?.selectedCriterion,alternativesMap:e.state.data?.alternatives||null,criterionsMap:e.state.data?.criterions||null,stakeholdersMap:e.state.data?.stakeholders||null},null,8,["arguments","selectedAlternative","analysisPer","selectedCriterion","alternativesMap","criterionsMap","stakeholdersMap"])])),_:1})],512),[[r.aG,"bar-chart"===e.selectedChart]]),(0,l.bo)((0,l.Lk)("div",wr,[(0,l.bF)(p,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{icon:"mdi-chart-bubble",class:"mr-2",color:"primary"}),t[3]||(t[3]=(0,l.eW)(" Circle Chart of Argument Repartition "))])),_:1}),(0,l.bF)(y,{class:"pa-6"},{default:(0,l.k6)((()=>[(0,l.bF)(w,{arguments:e.filteredItems,criterionsMap:e.state.project.criterions},null,8,["arguments","criterionsMap"])])),_:1})],512),[[r.aG,"pie-chart"===e.selectedChart]]),(0,l.bo)((0,l.Lk)("div",Er,[(0,l.bF)(p,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{icon:"mdi-compare",class:"mr-2",color:"primary"}),t[4]||(t[4]=(0,l.eW)(" Comparison of Alternatives "))])),_:1}),(0,l.bF)(y,{class:"pa-6"},{default:(0,l.k6)((()=>[(0,l.bF)(E,{arguments:e.filteredItems},null,8,["arguments"])])),_:1})],512),[[r.aG,"alternatives-comparison"===e.selectedChart]]),(0,l.bo)((0,l.Lk)("div",xr,[(0,l.bF)(p,{class:"text-h5 d-flex align-center pa-6 pb-0"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{icon:"mdi-table",class:"mr-2",color:"primary"}),t[5]||(t[5]=(0,l.eW)(" Cross-tab: Criteria x Stakeholders "))])),_:1}),(0,l.bF)(y,{class:"pa-6"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{arguments:e.filteredItems,criterionsMap:e.state.project.criterions,stakeholdersMap:e.state.project.stakeholders},null,8,["arguments","criterionsMap","stakeholdersMap"])])),_:1})],512),[[r.aG,"crosstab"===e.selectedChart]])])),_:1})])),_:1})])),_:1})])),_:1})])])):(0,l.Q3)("",!0)}const _r={class:"argument-count"},Ar={class:"count-summary mb-6"},Lr={class:"summary-cards"},Sr={class:"text-h4"},Ir={class:"text-h4"},Or={class:"text-h4"},Wr={class:"pie-chart-container"},jr={class:"pie-chart-wrapper"},Xr={class:"pie-chart-legend"},Pr={class:"legend-label"},Tr={class:"legend-value"},Rr=["width","height"],Dr={key:1,class:"separated-charts-container"},Nr={class:"alternative-title"},Mr={class:"alternative-summary"},$r={class:"summary-badge primary"},Hr={class:"badge-value"},Br={class:"summary-badge success"},Vr={class:"badge-value"},qr={class:"summary-badge error"},Ur={class:"badge-value"},zr={class:"pie-chart-wrapper"},Gr={class:"pie-chart-legend"},Kr={class:"legend-label"},Qr={class:"legend-value"},Yr=["width","height"];function Jr(e,t,a,r,s,i){const o=(0,l.g2)("v-card-text"),c=(0,l.g2)("v-card");return(0,l.uX)(),(0,l.CE)("div",_r,["all-separated"!==e.selectedAlternative?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.Lk)("div",Ar,[(0,l.Lk)("div",Lr,[(0,l.bF)(c,{variant:"tonal",color:"primary",class:"summary-card"},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",Sr,(0,n.v_)(e.totalCount),1),t[0]||(t[0]=(0,l.Lk)("div",{class:"text-caption"},"Total Arguments",-1))])),_:1})])),_:1}),(0,l.bF)(c,{variant:"tonal",color:"success",class:"summary-card"},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",Ir,(0,n.v_)(e.favorableCount),1),t[1]||(t[1]=(0,l.Lk)("div",{class:"text-caption"},"Favorable",-1))])),_:1})])),_:1}),(0,l.bF)(c,{variant:"tonal",color:"error",class:"summary-card"},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",Or,(0,n.v_)(e.unfavorableCount),1),t[2]||(t[2]=(0,l.Lk)("div",{class:"text-caption"},"Unfavorable",-1))])),_:1})])),_:1})])]),(0,l.Lk)("div",Wr,[(0,l.Lk)("div",jr,[(0,l.Lk)("div",Xr,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.legendItems,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.label,class:"legend-item"},[(0,l.Lk)("span",{class:"legend-swatch",style:(0,n.Tr)({backgroundColor:e.color})},null,4),(0,l.Lk)("span",Pr,(0,n.v_)(e.label),1),(0,l.Lk)("span",Tr,(0,n.v_)(e.count),1)])))),128))]),((0,l.uX)(),(0,l.CE)("svg",{ref:"chartRef",width:e.width,height:e.height},null,8,Rr))])])],64)):((0,l.uX)(),(0,l.CE)("div",Dr,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.separatedChartsData,((a,r)=>((0,l.uX)(),(0,l.CE)("div",{key:r,class:"alternative-chart-card"},[(0,l.Lk)("h3",Nr,(0,n.v_)(a.name),1),(0,l.Lk)("div",Mr,[(0,l.Lk)("div",$r,[(0,l.Lk)("span",Hr,(0,n.v_)(a.totalCount),1),t[3]||(t[3]=(0,l.Lk)("span",{class:"badge-label"},"Total",-1))]),(0,l.Lk)("div",Br,[(0,l.Lk)("span",Vr,(0,n.v_)(a.favorableCount),1),t[4]||(t[4]=(0,l.Lk)("span",{class:"badge-label"},"Favorable",-1))]),(0,l.Lk)("div",qr,[(0,l.Lk)("span",Ur,(0,n.v_)(a.unfavorableCount),1),t[5]||(t[5]=(0,l.Lk)("span",{class:"badge-label"},"Unfavorable",-1))])]),(0,l.Lk)("div",zr,[(0,l.Lk)("div",Gr,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.legendItems,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.label,class:"legend-item"},[(0,l.Lk)("span",{class:"legend-swatch",style:(0,n.Tr)({backgroundColor:e.color})},null,4),(0,l.Lk)("span",Kr,(0,n.v_)(e.label),1),(0,l.Lk)("span",Qr,(0,n.v_)(e.count),1)])))),128))]),((0,l.uX)(),(0,l.CE)("svg",{ref_for:!0,ref:t=>e.setSvgRef(r,t),width:e.width,height:e.height,class:"chart-svg"},null,8,Yr))])])))),128))]))])}a(116);var Zr=(0,l.pM)({name:"ArgumentCount",props:{arguments:{type:Array,required:!0},alternativesMap:{type:Object,default:null},criterionsMap:{type:Object,default:null},stakeholdersMap:{type:Object,default:null},selectedAlternative:{type:String,default:"all-merged"},analysisPer:{type:String,default:"criteria"}},setup(e){const t=(0,i.KR)(null),a=(0,i.KR)({}),r=700,n=500,s=(0,l.EW)((()=>{let t=[...e.arguments];if(e.selectedAlternative&&"all-merged"!==e.selectedAlternative&&"all-separated"!==e.selectedAlternative){const a=e.alternativesMap||{},r=Object.values(a).find((t=>t.name===e.selectedAlternative))?.id;void 0!==r&&(t=t.filter((e=>e.alternative===r)))}return t})),o=(0,l.EW)((()=>s.value.length)),c=(0,l.EW)((()=>s.value.filter((e=>e.favorable)).length)),u=(0,l.EW)((()=>s.value.filter((e=>!e.favorable)).length)),d=(0,l.EW)((()=>{const t={};return s.value.forEach((a=>{let r;if("stakeholder"===e.analysisPer){const t=e.stakeholdersMap?.[a.stakeholder]?.name;r=t||`Stakeholder ${a.stakeholder}`}else{const t=e.criterionsMap?.[a.criterion]?.name;r=t||`Criterion ${a.criterion}`}t[r]||(t[r]={favorable:0,unfavorable:0}),a.favorable?t[r].favorable++:t[r].unfavorable++})),t})),p=e=>e.sort((([,e],[,t])=>t.favorable+t.unfavorable-(e.favorable+e.unfavorable))),m=(0,l.EW)((()=>{const t={},a=e.alternativesMap||{};return Object.entries(a).forEach((([a,r])=>{const l=e.arguments.filter((e=>e.alternative===r.id)),n={};l.forEach((t=>{let a;if("stakeholder"===e.analysisPer){const r=e.stakeholdersMap?.[t.stakeholder]?.name;a=r||`Stakeholder ${t.stakeholder}`}else{const r=e.criterionsMap?.[t.criterion]?.name;a=r||`Criterion ${t.criterion}`}n[a]||(n[a]={favorable:0,unfavorable:0}),t.favorable?n[a].favorable++:n[a].unfavorable++}));const s=["#2196F3","#4CAF50","#FF9800","#F44336","#9C27B0","#00BCD4","#8BC34A","#FFC107","#E91E63","#3F51B5","#009688","#CDDC39","#FF5722","#673AB7","#795548"],i=p(Object.entries(n)),o=i.map((([e,t],a)=>{const r=t.favorable+t.unfavorable;return{label:e||"Unknown",count:r,color:s[a%s.length]}})),c=l.length,u=l.filter((e=>e.favorable)).length,d=l.filter((e=>!e.favorable)).length;t[r.id]={name:r.name,totalCount:c,favorableCount:u,unfavorableCount:d,chartData:n,legendItems:o}})),t})),v=["#2196F3","#4CAF50","#FF9800","#F44336","#9C27B0","#00BCD4","#8BC34A","#FFC107","#E91E63","#3F51B5","#009688","#CDDC39","#FF5722","#673AB7","#795548"],h=(0,l.EW)((()=>{const e=p(Object.entries(d.value));e.reduce(((e,[,t])=>e+t.favorable+t.unfavorable),0);return e.map((([e,t],a)=>{const r=t.favorable+t.unfavorable;return{label:e||"Unknown",count:r,color:v[a%v.length]}}))})),g=(e,t)=>{a.value[e]=t},b=()=>{if(!t.value)return;const e=t.value;e.innerHTML="";const a=p(Object.entries(d.value));if(0===a.length)return;const l=a.reduce(((e,[,t])=>e+t.favorable+t.unfavorable),0);if(0===l)return;const s=r/2,i=n/2,o=Math.min(r,n)/2-120;let c=-Math.PI/2;a.forEach((([t,a],r)=>{const n=a.favorable+a.unfavorable,u=n/l*2*Math.PI,d=c+u,p=s+o*Math.cos(c),m=i+o*Math.sin(c),h=s+o*Math.cos(d),g=i+o*Math.sin(d),b=u>Math.PI?1:0,f=document.createElementNS("http://www.w3.org/2000/svg","path");let k;if(u>=2*Math.PI-.01){const e=c+Math.PI,t=s+o*Math.cos(e),a=i+o*Math.sin(e);k=[`M ${s} ${i}`,`L ${p} ${m}`,`A ${o} ${o} 0 1 1 ${t} ${a}`,`A ${o} ${o} 0 1 1 ${p} ${m}`,"Z"].join(" ")}else k=[`M ${s} ${i}`,`L ${p} ${m}`,`A ${o} ${o} 0 ${b} 1 ${h} ${g}`,"Z"].join(" ");f.setAttribute("d",k),f.setAttribute("fill",v[r%v.length]),f.setAttribute("stroke","white"),f.setAttribute("stroke-width","2"),e.appendChild(f),c=d}))},f=()=>{Object.entries(m.value).forEach((([e,t])=>{const l=a.value[e];if(!l)return;l.innerHTML="";const s=p(Object.entries(t.chartData));if(0===s.length)return;const i=s.reduce(((e,[,t])=>e+t.favorable+t.unfavorable),0);if(0===i)return;const o=r/2,c=n/2,u=Math.min(r,n)/2-120;let d=-Math.PI/2;s.forEach((([e,t],a)=>{const r=t.favorable+t.unfavorable,n=r/i*2*Math.PI,s=d+n,p=o+u*Math.cos(d),m=c+u*Math.sin(d),h=o+u*Math.cos(s),g=c+u*Math.sin(s),b=n>Math.PI?1:0,f=document.createElementNS("http://www.w3.org/2000/svg","path");let k;if(n>=2*Math.PI-.01){const e=d+Math.PI,t=o+u*Math.cos(e),a=c+u*Math.sin(e);k=[`M ${o} ${c}`,`L ${p} ${m}`,`A ${u} ${u} 0 1 1 ${t} ${a}`,`A ${u} ${u} 0 1 1 ${p} ${m}`,"Z"].join(" ")}else k=[`M ${o} ${c}`,`L ${p} ${m}`,`A ${u} ${u} 0 ${b} 1 ${h} ${g}`,"Z"].join(" ");f.setAttribute("d",k),f.setAttribute("fill",v[a%v.length]),f.setAttribute("stroke","white"),f.setAttribute("stroke-width","2"),l.appendChild(f),d=s}))}))};return(0,l.sV)((()=>{"all-separated"!==e.selectedAlternative?b():(0,l.dY)((()=>{f()}))})),(0,l.wB)((()=>e.selectedAlternative),(async()=>{await(0,l.dY)(),"all-separated"!==e.selectedAlternative?b():f()})),(0,l.wB)((()=>[d.value,e.analysisPer]),(async()=>{"all-separated"!==e.selectedAlternative&&(await(0,l.dY)(),b())}),{deep:!0,flush:"post"}),(0,l.wB)((()=>h.value),(async()=>{"all-separated"!==e.selectedAlternative&&(await(0,l.dY)(),b())}),{deep:!0,flush:"post"}),(0,l.wB)((()=>e.arguments),(async()=>{await(0,l.dY)(),"all-separated"!==e.selectedAlternative?b():f()}),{deep:!0,flush:"post"}),(0,l.wB)((()=>[m.value,e.analysisPer]),(async()=>{"all-separated"===e.selectedAlternative&&(await(0,l.dY)(),f())}),{deep:!0,flush:"post"}),{chartRef:t,width:r,height:n,totalCount:o,favorableCount:c,unfavorableCount:u,legendItems:h,separatedChartsData:m,setSvgRef:g}}});const el=(0,z.A)(Zr,[["render",Jr],["__scopeId","data-v-245f0ccd"]]);var tl=el;const al={class:"bar-chart-container"},rl={key:0,class:"chart-wrapper"},ll={class:"chart-area"},nl=["width","height"],sl={class:"attitude-column"},il={class:"attitude-value"},ol={key:1,class:"separated-charts-container"},cl={class:"alternative-title"},ul={class:"chart-wrapper"},dl={class:"chart-area"},pl=["width","height"],ml={class:"attitude-column"},vl={class:"attitude-value"};function hl(e,t,a,r,s,i){return(0,l.uX)(),(0,l.CE)("div",al,["all-separated"!==e.selectedAlternative?((0,l.uX)(),(0,l.CE)("div",rl,[(0,l.Lk)("div",ll,[((0,l.uX)(),(0,l.CE)("svg",{ref:"chartRef",width:e.width,height:e.height,class:"horizontal-bars"},null,8,nl))]),(0,l.Lk)("div",sl,[t[0]||(t[0]=(0,l.Lk)("div",{class:"attitude-header"},"Attitude",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.tableRows,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.key,class:"attitude-item"},[(0,l.Lk)("div",il,(0,n.v_)(e.attitude),1)])))),128))])])):((0,l.uX)(),(0,l.CE)("div",ol,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.separatedChartsData,((a,r)=>((0,l.uX)(),(0,l.CE)("div",{key:r,class:"alternative-chart-card"},[(0,l.Lk)("h3",cl,(0,n.v_)(a.name),1),(0,l.Lk)("div",ul,[(0,l.Lk)("div",dl,[((0,l.uX)(),(0,l.CE)("svg",{ref_for:!0,ref:t=>e.setSvgRef(String(r),t),width:e.width,height:a.chartHeight,class:"horizontal-bars"},null,8,pl))]),(0,l.Lk)("div",ml,[t[1]||(t[1]=(0,l.Lk)("div",{class:"attitude-header"},"Attitude",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.tableRows,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.key,class:"attitude-item"},[(0,l.Lk)("div",vl,(0,n.v_)(e.attitude),1)])))),128))])])])))),128))]))])}a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);var gl=(0,l.pM)({name:"BarChart",props:{arguments:{type:Array,required:!0},selectedAlternative:{type:String,default:"all-merged"},analysisPer:{type:String,default:"criteria"},selectedCriterion:{type:[String,Number],default:""},alternativesMap:{type:Object,default:null},criterionsMap:{type:Object,default:null},stakeholdersMap:{type:Object,default:null}},setup(e){const t=(0,i.KR)(null),a=(0,i.KR)(new Map),r=600,n=(0,l.EW)((()=>{const e=40,t=60,a=m.value.length;return t+a*e})),s=(0,l.EW)((()=>"stakeholder"===e.analysisPer?"Stakeholders":"Criteria")),o=(0,l.EW)((()=>e.selectedAlternative&&"all-merged"!==e.selectedAlternative&&"all-separated"!==e.selectedAlternative?e.selectedAlternative:"All alternatives")),c=(0,l.EW)((()=>{let t=[...e.arguments];if(e.selectedAlternative&&"all-merged"!==e.selectedAlternative&&"all-separated"!==e.selectedAlternative){const a=e.alternativesMap||{},r=Object.values(a).find((t=>t.name===e.selectedAlternative))?.id;void 0!==r&&(t=t.filter((e=>e.alternative===r)))}if(""!==e.selectedCriterion&&null!==e.selectedCriterion){const a=Number(e.selectedCriterion);Number.isNaN(a)||(t=t.filter((e=>e.criterion===a)))}return t})),u=(0,l.EW)((()=>{const t=e.alternativesMap||{},a={},r=Array.from(new Set(e.arguments.map((e=>e.alternative))));return r.forEach((r=>{const l=t[r]?.name||`Alternative ${r}`,n=e.arguments.filter((e=>e.alternative===r));let s=[...n];if(""!==e.selectedCriterion&&null!==e.selectedCriterion){const t=Number(e.selectedCriterion);Number.isNaN(t)||(s=s.filter((e=>e.criterion===t)))}const i=new Map;s.forEach((t=>{const a="stakeholder"===e.analysisPer?t.stakeholder:t.criterion;i.has(a)||i.set(a,{favorable:0,unfavorable:0});const r=i.get(a);t.favorable?r.favorable+=1:r.unfavorable+=1}));const o=Array.from(i.entries()).map((([e,t])=>{const a=t.favorable+t.unfavorable,r=0===a?0:t.favorable/a;return{key:e,label:d(e),favorable:t.favorable,unfavorable:t.unfavorable,attitude:r.toFixed(2)}})).sort(((e,t)=>e.label.localeCompare(t.label))),c=Math.max(300,40*o.length);a[String(r)]={id:r,name:l,tableRows:o,chartHeight:c}})),a})),d=t=>"stakeholder"===e.analysisPer?e.stakeholdersMap?.[t]?.name||`Stakeholder ${t}`:e.criterionsMap?.[t]?.name||`Criterion ${t}`,p=(e,t)=>{t&&a.value.set(e,t)},m=(0,l.EW)((()=>{const t=new Map;return c.value.forEach((a=>{const r="stakeholder"===e.analysisPer?a.stakeholder:a.criterion;t.has(r)||t.set(r,{favorable:0,unfavorable:0});const l=t.get(r);a.favorable?l.favorable+=1:l.unfavorable+=1})),Array.from(t.entries()).map((([e,t])=>{const a=t.favorable+t.unfavorable,r=0===a?0:t.favorable/a;return{key:e,label:d(e),favorable:t.favorable,unfavorable:t.unfavorable,attitude:r.toFixed(2)}})).sort(((e,t)=>e.label.localeCompare(t.label)))})),v=(e,t,a)=>{if(e.innerHTML="",0===t.length)return;const l={left:280,right:20,top:60,bottom:0},n=r-l.left-l.right,s=a-l.top-l.bottom,i=s/t.length,o=Math.max(12,.35*i),c=4,u=Math.max(...t.map((e=>e.favorable+e.unfavorable))),d=document.createElementNS("http://www.w3.org/2000/svg","g");d.setAttribute("transform",`translate(${l.left},${l.top})`);const p="#4CAF50",m="#F44336";t.forEach(((e,t)=>{const a=t*i,r=a+i/2,l=r-o-c/2,s=r+c/2,v=e.favorable/u*n,h=e.unfavorable/u*n,g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("x","0"),g.setAttribute("y",String(l)),0===e.favorable?(g.setAttribute("width","12"),g.setAttribute("opacity","0.4")):(g.setAttribute("width",String(v)),g.setAttribute("opacity","1")),g.setAttribute("height",String(o)),g.setAttribute("fill",p),d.appendChild(g);const b=document.createElementNS("http://www.w3.org/2000/svg","text");let f,k;0===e.favorable?(f=5,k="black"):v>35?(f=5,k="white"):(f=v+8,k="black"),b.setAttribute("x",String(f)),b.setAttribute("y",String(l+o/2+4)),b.setAttribute("text-anchor","start"),b.setAttribute("font-size","11"),b.setAttribute("font-weight","bold"),b.setAttribute("fill",k),b.textContent=String(e.favorable),d.appendChild(b);const y=document.createElementNS("http://www.w3.org/2000/svg","rect");y.setAttribute("x","0"),y.setAttribute("y",String(s)),0===e.unfavorable?(y.setAttribute("width","12"),y.setAttribute("opacity","0.4")):(y.setAttribute("width",String(h)),y.setAttribute("opacity","1")),y.setAttribute("height",String(o)),y.setAttribute("fill",m),d.appendChild(y);const C=document.createElementNS("http://www.w3.org/2000/svg","text");let w,E;0===e.unfavorable?(w=5,E="black"):h>35?(w=5,E="white"):(w=h+8,E="black"),C.setAttribute("x",String(w)),C.setAttribute("y",String(s+o/2+4)),C.setAttribute("text-anchor","start"),C.setAttribute("font-size","11"),C.setAttribute("font-weight","bold"),C.setAttribute("fill",E),C.textContent=String(e.unfavorable),d.appendChild(C);let x=e.label,F="";if(e.label.length>40){const t=20;let a=t;for(let r=t;r<e.label.length&&r<t+10;r++)if(" "===e.label[r]){a=r;break}x=e.label.substring(0,a).trim(),F=e.label.substring(a).trim(),F.length>25&&(F=F.substring(0,25)+"...")}const _=document.createElementNS("http://www.w3.org/2000/svg","text");if(_.setAttribute("x","-20"),_.setAttribute("y",String(r-4)),_.setAttribute("text-anchor","end"),_.setAttribute("font-size","12"),_.setAttribute("color","#333"),_.textContent=x,d.appendChild(_),F){const e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("x","-20"),e.setAttribute("y",String(r+10)),e.setAttribute("text-anchor","end"),e.setAttribute("font-size","12"),e.setAttribute("color","#333"),e.textContent=F,d.appendChild(e)}}));const v=document.createElementNS("http://www.w3.org/2000/svg","g");v.setAttribute("transform","translate(0, -15)");const h=document.createElementNS("http://www.w3.org/2000/svg","rect");h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width","12"),h.setAttribute("height","12"),h.setAttribute("fill",p),v.appendChild(h);const g=document.createElementNS("http://www.w3.org/2000/svg","text");g.setAttribute("x","18"),g.setAttribute("y","10"),g.setAttribute("font-size","12"),g.textContent="Favorable",v.appendChild(g);const b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("x","120"),b.setAttribute("y","0"),b.setAttribute("width","12"),b.setAttribute("height","12"),b.setAttribute("fill",m),v.appendChild(b);const f=document.createElementNS("http://www.w3.org/2000/svg","text");f.setAttribute("x","136"),f.setAttribute("y","10"),f.setAttribute("font-size","12"),f.textContent="Unfavorable",v.appendChild(f),d.appendChild(v),e.appendChild(d)},h=()=>{t.value&&v(t.value,m.value,n.value)},g=()=>{Object.entries(u.value).forEach((([e,t])=>{const r=a.value.get(e);r&&v(r,t.tableRows,t.chartHeight)}))};return(0,l.sV)((()=>{"all-separated"!==e.selectedAlternative?h():(0,l.dY)((()=>{g()}))})),(0,l.wB)((()=>e.selectedAlternative),(async()=>{await(0,l.dY)(),"all-separated"!==e.selectedAlternative?h():g()})),(0,l.wB)((()=>[m.value,e.analysisPer,e.selectedCriterion]),(()=>{"all-separated"!==e.selectedAlternative&&h()}),{deep:!0}),(0,l.wB)((()=>[u.value,e.analysisPer,e.selectedCriterion]),(()=>{"all-separated"===e.selectedAlternative&&g()}),{deep:!0}),{chartRef:t,width:r,height:n,groupByLabel:s,alternativeLabel:o,tableRows:m,separatedChartsData:u,setSvgRef:p,renderChart:h,renderSeparatedCharts:g}}});const bl=(0,z.A)(gl,[["render",hl],["__scopeId","data-v-78806f70"]]);var fl=bl;const kl={class:"circle-chart"},yl={class:"table-container"},Cl=["width","height"],wl={class:"grid"},El=["x1","x2"],xl=["x1","y1","x2","y2"],Fl=["x1","y1","x2","y2"],_l=["x1","y1","x2","y2"],Al=["x1","x2","y2"],Ll=["x1","x2","y2"],Sl={class:"headers"},Il=["x","y"],Ol=["x","y"],Wl=["x","y"],jl=["x1","y1","x2","y2"],Xl=["cx","cy","r"],Pl=["cx","cy","r"],Tl=["x","y"],Rl=["x","y"],Dl=["x","y"],Nl={class:"footer-container"},Ml={class:"footer-values"};function $l(e,t,a,r,s,i){return(0,l.uX)(),(0,l.CE)("div",kl,[(0,l.Lk)("div",yl,[((0,l.uX)(),(0,l.CE)("svg",{width:e.tableWidth,height:e.tableHeight,class:"circle-svg"},[(0,l.Lk)("g",wl,[(0,l.Lk)("line",{x1:e.labelWidth,y1:0,x2:e.tableWidth,y2:0,stroke:"#ddd","stroke-width":"1"},null,8,El),(0,l.Lk)("line",{x1:e.labelWidth,y1:e.headerHeight,x2:e.tableWidth,y2:e.headerHeight,stroke:"#ddd","stroke-width":"1"},null,8,xl),(0,l.Lk)("line",{x1:e.labelWidth,y1:e.headerHeight+e.rowHeight,x2:e.tableWidth,y2:e.headerHeight+e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Fl),(0,l.Lk)("line",{x1:e.labelWidth,y1:e.headerHeight+2*e.rowHeight,x2:e.tableWidth,y2:e.headerHeight+2*e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,_l),(0,l.Lk)("line",{x1:e.labelWidth,y1:0,x2:e.labelWidth,y2:e.headerHeight+2*e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Al),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.criteriaData.length,(t=>((0,l.uX)(),(0,l.CE)("line",{key:"vline-"+t,x1:e.labelWidth+t*e.cellWidth,y1:0,x2:e.labelWidth+t*e.cellWidth,y2:e.headerHeight+2*e.rowHeight,stroke:"#ddd","stroke-width":"1"},null,8,Ll)))),128))]),(0,l.Lk)("g",Sl,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.criteriaData,((t,a)=>((0,l.uX)(),(0,l.CE)("text",{key:"header-"+t.criterionId,x:e.labelWidth+a*e.cellWidth+e.cellWidth/2,y:e.headerHeight/2+5,"text-anchor":"middle","font-size":"13","font-weight":"500",fill:"#333"},(0,n.v_)(t.criterionName),9,Il)))),128))]),(0,l.Lk)("text",{x:e.labelWidth/2,y:e.headerHeight+e.rowHeight/2+5,"text-anchor":"middle","font-size":"18","font-weight":"500",fill:"#333"}," + ",8,Ol),(0,l.Lk)("text",{x:e.labelWidth/2,y:e.headerHeight+1.5*e.rowHeight+5,"text-anchor":"middle","font-size":"18","font-weight":"500",fill:"#333"}," - ",8,Wl),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.criteriaData,((t,a)=>((0,l.uX)(),(0,l.CE)("g",{key:"circles-"+t.criterionId},[t.favorable>0&&t.unfavorable>0?((0,l.uX)(),(0,l.CE)("line",{key:0,x1:e.getCellCenterX(a),y1:e.getFavorableY()+e.getCircleRadius(t.favorable),x2:e.getCellCenterX(a),y2:e.getUnfavorableY()-e.getCircleRadius(t.unfavorable),stroke:"#999","stroke-width":"1","stroke-dasharray":"3,3"},null,8,jl)):(0,l.Q3)("",!0),t.favorable>0?((0,l.uX)(),(0,l.CE)("circle",{key:1,cx:e.getCellCenterX(a),cy:e.getFavorableY(),r:e.getCircleRadius(t.favorable),fill:"#4CAF50",stroke:"white","stroke-width":"2"},null,8,Xl)):(0,l.Q3)("",!0),t.unfavorable>0?((0,l.uX)(),(0,l.CE)("circle",{key:2,cx:e.getCellCenterX(a),cy:e.getUnfavorableY(),r:e.getCircleRadius(t.unfavorable),fill:"#F44336",stroke:"white","stroke-width":"2"},null,8,Pl)):(0,l.Q3)("",!0),t.favorable>0?((0,l.uX)(),(0,l.CE)("text",{key:3,x:e.getCellCenterX(a),y:e.getFavorableY()+5,"text-anchor":"middle","font-size":"14","font-weight":"bold",fill:"white"},(0,n.v_)(t.favorable),9,Tl)):(0,l.Q3)("",!0),t.unfavorable>0?((0,l.uX)(),(0,l.CE)("text",{key:4,x:e.getCellCenterX(a),y:e.getUnfavorableY()+5,"text-anchor":"middle","font-size":"14","font-weight":"bold",fill:"white"},(0,n.v_)(t.unfavorable),9,Rl)):(0,l.Q3)("",!0)])))),128)),(0,l.Lk)("text",{x:e.labelWidth/2,y:e.headerHeight/2+5,"text-anchor":"middle","font-size":"11","font-weight":"500",fill:"#666"}," Criterion ",8,Dl)],8,Cl)),(0,l.Lk)("div",Nl,[t[0]||(t[0]=(0,l.Lk)("div",{class:"footer-label"},[(0,l.Lk)("span",null,"Collective attitude")],-1)),(0,l.Lk)("div",Ml,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.criteriaData,((t,a)=>((0,l.uX)(),(0,l.CE)("div",{key:"footer-"+t.criterionId,class:"attitude-cell",style:(0,n.Tr)({left:e.labelWidth+a*e.cellWidth+"px",width:e.cellWidth+"px"})},(0,n.v_)(t.attitude.toFixed(2)),5)))),128))])])])])}a(531);var Hl=(0,l.pM)({name:"CircleChart",props:{arguments:{type:Array,required:!0},criterionsMap:{type:Object,default:null}},setup(e){const t=180,a=60,r=60,n=250,s=20,i=70,o=(0,l.EW)((()=>{const t=new Map;return e.arguments.forEach((e=>{t.has(e.criterion)||t.set(e.criterion,{favorable:0,unfavorable:0});const a=t.get(e.criterion);e.favorable?a.favorable++:a.unfavorable++})),Array.from(t.entries()).map((([t,a])=>{const r=a.favorable+a.unfavorable,l=0===r?0:a.favorable/r,n=e.criterionsMap?.[t]?.name||`Criterion ${t}`;return{criterionId:t,criterionName:n,favorable:a.favorable,unfavorable:a.unfavorable,attitude:l}}))})),c=(0,l.EW)((()=>a+o.value.length*t)),u=r+2*n;function d(e){return a+e*t+t/2}function p(){return r+n/2}function m(){return r+1.5*n}function v(e){if(0===e)return 0;const t=Math.max(...o.value.flatMap((e=>[e.favorable,e.unfavorable])));if(0===t)return s;const a=Math.sqrt(e/t);return s+(i-s)*a}return{criteriaData:o,tableWidth:c,tableHeight:u,labelWidth:a,headerHeight:r,rowHeight:n,cellWidth:t,getCellCenterX:d,getFavorableY:p,getUnfavorableY:m,getCircleRadius:v}}});const Bl=(0,z.A)(Hl,[["render",$l],["__scopeId","data-v-0ebc65a7"]]);var Vl=Bl;const ql={class:"alternatives-comparison"},Ul=["width","height"];function zl(e,t,a,r,n,s){return(0,l.uX)(),(0,l.CE)("div",ql,[((0,l.uX)(),(0,l.CE)("svg",{ref:"chartRef",width:e.width,height:e.height},null,8,Ul))])}var Gl=(0,l.pM)({name:"AlternativesComparison",props:{arguments:{type:Array,required:!0}},setup(e){const t=(0,i.KR)(null),a=800,r=400,n=(0,l.EW)((()=>{const t={};return e.arguments.forEach((e=>{const a=e.alternative||"Unknown";t[a]||(t[a]={favorable:0,unfavorable:0}),e.favorable?t[a].favorable++:t[a].unfavorable++})),t})),s=()=>{if(!t.value)return;const e=t.value;e.innerHTML="";const l=Object.entries(n.value);if(0===l.length)return;const s={top:20,right:20,bottom:60,left:60},i=a-s.left-s.right,o=r-s.top-s.bottom,c=Math.max(...l.map((([,e])=>e.favorable+e.unfavorable))),u=i/l.length/2.5,d=i/l.length,p=document.createElementNS("http://www.w3.org/2000/svg","g");p.setAttribute("transform",`translate(${s.left},${s.top})`),l.forEach((([e,t],a)=>{const r=a*d,l=t.favorable/c*o,n=t.unfavorable/c*o,s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("x",String(r)),s.setAttribute("y",String(o-l)),s.setAttribute("width",String(u)),s.setAttribute("height",String(l)),s.setAttribute("fill","#4CAF50"),p.appendChild(s);const i=document.createElementNS("http://www.w3.org/2000/svg","rect");i.setAttribute("x",String(r+u+5)),i.setAttribute("y",String(o-n)),i.setAttribute("width",String(u)),i.setAttribute("height",String(n)),i.setAttribute("fill","#F44336"),p.appendChild(i);const m=document.createElementNS("http://www.w3.org/2000/svg","text");m.setAttribute("x",String(r+u)),m.setAttribute("y",String(o+20)),m.setAttribute("text-anchor","middle"),m.setAttribute("font-size","12"),m.setAttribute("transform",`rotate(45, ${r+u}, ${o+20})`),m.textContent=e.length>12?e.substring(0,12)+"...":e,p.appendChild(m)}));const m=document.createElementNS("http://www.w3.org/2000/svg","line");m.setAttribute("x1","0"),m.setAttribute("y1","0"),m.setAttribute("x2","0"),m.setAttribute("y2",String(o)),m.setAttribute("stroke","#666"),p.appendChild(m);const v=document.createElementNS("http://www.w3.org/2000/svg","line");v.setAttribute("x1","0"),v.setAttribute("y1",String(o)),v.setAttribute("x2",String(i)),v.setAttribute("y2",String(o)),v.setAttribute("stroke","#666"),p.appendChild(v),e.appendChild(p)};return(0,l.sV)((()=>{s()})),(0,l.wB)((()=>e.arguments),(()=>{s()}),{deep:!0}),{chartRef:t,width:a,height:r}}});const Kl=(0,z.A)(Gl,[["render",zl],["__scopeId","data-v-225f8ca9"]]);var Ql=Kl;const Yl={class:"crosstab-chart"},Jl={class:"font-weight-medium"};function Zl(e,t,a,r,s,i){const o=(0,l.g2)("v-chip"),c=(0,l.g2)("v-table");return(0,l.uX)(),(0,l.CE)("div",Yl,[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[t[0]||(t[0]=(0,l.Lk)("th",{class:"text-left"},"Criteria / Stakeholders",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.stakeholders,(e=>((0,l.uX)(),(0,l.CE)("th",{key:e.id,class:"text-center"},(0,n.v_)(e.name),1)))),128))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.criterions,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",Jl,(0,n.v_)(t.name),1),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.stakeholders,(a=>((0,l.uX)(),(0,l.CE)("td",{key:`${t.id}-${a.id}`,class:"text-center"},[(0,l.bF)(o,{color:e.getColor(e.getCellCount(t.id,a.id)),"text-color":"white",size:"small"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.getCellCount(t.id,a.id)),1)])),_:2},1032,["color"])])))),128))])))),128))])])),_:1})])}var en=(0,l.pM)({name:"CrosstabChart",props:{arguments:{type:Array,required:!0},stakeholdersMap:{type:Object,default:null},criterionsMap:{type:Object,default:null}},setup(e){const t=(0,l.EW)((()=>e.stakeholdersMap?Object.values(e.stakeholdersMap).sort(((e,t)=>e.name.localeCompare(t.name))):[])),a=(0,l.EW)((()=>e.criterionsMap?Object.values(e.criterionsMap).sort(((e,t)=>e.name.localeCompare(t.name))):[])),r=(t,a)=>e.arguments.filter((e=>e.criterion===t&&e.stakeholder===a)).length,n=e=>0===e?"#E0E0E0":e<=2?"#FFEB3B":e<=5?"#FF9800":"#F44336";return{stakeholders:t,criterions:a,getCellCount:r,getColor:n}}});const tn=(0,z.A)(en,[["render",Zl],["__scopeId","data-v-4e1da175"]]);var an=tn,rn=(0,l.pM)({name:"ChartView",components:{Header:xe,ArgumentCount:tl,BarChart:fl,CircleChart:Vl,AlternativesComparison:Ql,CrosstabChart:an},setup(){const e=(0,i.KR)("argument-count"),t=[{id:"argument-count",label:"Argument Count",icon:"mdi-counter"},{id:"bar-chart",label:"Bar Chart",icon:"mdi-chart-bar"},{id:"pie-chart",label:"Circle Chart",icon:"mdi-chart-bubble"},{id:"alternatives-comparison",label:"Alternatives Comparison",icon:"mdi-compare"},{id:"crosstab",label:"Cross-tab: Criteria x Stakeholders",icon:"mdi-table"}],a=(0,l.EW)((()=>qi()));return{state:d,selectedChart:e,charts:t,filteredItems:a}}});const ln=(0,z.A)(rn,[["render",Fr],["__scopeId","data-v-d5816196"]]);var nn=ln;const sn=[{name:"home",path:"/",component:me},{name:"global-view",path:"/project/global-view",component:$a},{name:"project",path:"/project/",component:J},{name:"property-view",path:"/project/property-view",component:rr,props:!0},{name:"stakeholder-view",path:"/project/stakeholder-view",component:gr,props:!0},{name:"chart-view",path:"/project/chart-view",component:nn}],on=(0,o.aE)({history:(0,o.LA)("/"),routes:sn});on.beforeEach((async(e,t,a)=>{x(),a()})),on.afterEach((async(e,t)=>{if(e.path.startsWith("/project")){const a=vi(e),r=vi(t),l=gi(e),n=gi(t),s=a===r&&l===n;s||await cn()}else"string"===typeof e.meta?.title?jn(e.meta.title):jn("My Choice");F()}));const cn=async()=>{const e=on.currentRoute.value;if(e.query[mn.ICO]||e.query[mn.GOOGLE_SPREADSHEET]||e.query[mn.NEXTCLOUD]||e.query["demo"])try{await Ci(e)}catch(t){console.info("LOAD FAIL, RETRY WITHOUT CACHE!"),li(e),await Ci(e)}};var un=on;const dn=e=>{const t=un.currentRoute.value.query||{};if(!e.name&&!e.path)throw new Error("La route doit contenir un `name` ou un `path`");const a={query:t,...e};e.name&&delete a.path,e.path&&delete a.name,un.push(a)},pn=e=>{dn({name:e})};var mn;(function(e){e["ICO"]="name",e["GOOGLE_SPREADSHEET"]="spreadsheet",e["XLSX"]="xlsx",e["NEXTCLOUD"]="nextcloud"})(mn||(mn={}));const vn=mn.ICO,hn=mn.GOOGLE_SPREADSHEET,gn=(mn.XLSX,mn.NEXTCLOUD),bn=(0,l.EW)((()=>d.vm&&d.vm.$route&&d.vm.$route.query&&(d.vm.$route.query.name||d.vm.$route.query.spreadsheet)?d.vm.$route.query.name||d.vm.$route.query.spreadsheet:null)),fn=(0,l.EW)((()=>(0,ye.uniqBy)(d.notifications,"message"))),kn=()=>{const e=[];return Object.entries(d.errors).forEach((([t,a])=>{if(!1!==a)return e.push(t)})),e},yn=e=>d.errorMessages[e]||d.errors[e],Cn=()=>{Object.keys(d.errors).forEach((e=>{d.errors[e]=!1}))};a(1148);var wn=a(4353),En=a.n(wn),xn=a(445),Fn=a.n(xn);En().extend(Fn());class _n extends Error{constructor(e,...t){super(...t),this.name=e,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack}}const An=(e,t)=>{d.errors[e]=t},Ln=e=>En()(e,"DD/MM/YY").format("MMMM YYYY"),Sn=function(e,t,a){let r=(e-t)/(a-t);return isFinite(r)||(r=e),r},In=(e,t)=>e.sort(((e,a)=>e[t]>a[t]?1:-1)),On=e=>Object.keys(e).sort().reduce(((t,a)=>(t[a]=e[a],t)),{}),Wn=function(e,t,a="s"){let r=e;const l=/{([^:}]+)(?:(?::)([^}]+))?}/g;let n;while(null!==(n=l.exec(e))){if(n.index===l.lastIndex&&l.lastIndex++,void 0===n[2]){const e=new RegExp("\\{"+n[1]+"\\}","g");r=r.replace(e,`${t[n[1]]}`)}if(void 0!==n[2]){const e=n[1],l=n[2],s=t[l],i=new RegExp("\\{"+e+":"+l+"\\}","g");r=Number(s)>1&&t.plural?r.replace(i,`${t.plural}`):r.replace(i,`${e}${Number(s)>1?a:""}`)}}return r},jn=e=>{document.title=e},Xn=a(5811),Pn=async e=>{const t=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${e}?key=AIzaSyDEksLxmlJt3Ru6Uv8qakqnCZ05ViwHZyA`),a=await t.json();return a},Tn=async e=>{try{const t=await Pn(e),a=t.sheets,r=[],l={};a.forEach((t=>{l[t.properties.index]=t.properties.title,r.push(Xn.getWorksheet(e,t.properties.title,"AIzaSyDEksLxmlJt3Ru6Uv8qakqnCZ05ViwHZyA"))}));const n=await Promise.all(r);return n.map((({data:e},t)=>({data:e,title:l[t],index:t})))}catch(t){throw t}},Rn=(e,t)=>new Promise(((a,r)=>{let l=null;const n=t.every((t=>(l=t,!!Object.prototype.hasOwnProperty.call(e,t))));n?a(!0):r(l)})),Dn=async e=>{const t={argument:["idArgument","assertion","explanation","date","nameStakeHolder","nameProperty","value","typeProCon","nameAlternative","nameCriterion","nameSource","aim","nameTypeSource","isProspective"],project:["nameProject"],alternative:["nameAlternative","iconAlternative"],product:["nameAlternative","productUri","nameProduct","tagProduct"],composition:["uriCompose","nameCompose","typeComposant","uriComposant","nameComposant","Rang","tagComposant"]},a=t[e.title],r=e.data[0];if(r)return await Rn(r,a).then((e=>e),(t=>{throw new _n("SPREADSHEET_ERROR",`On <b>${e.title}</b> sheet, the <b>${t}</b> column is missing or misspelled`)}));An("SPREADSHEET_ERROR",`No data found in the <b>${e.title}</b> sheet`)},Nn=({spreadsheetId:e,item:t,worksheet:a,line:r,keys:l})=>{l.forEach(((e,l)=>{if(null===t[e])throw new _n("SPREADSHEET_ERROR",`On <b>${a.title}</b> sheet, the <b>${String(e)}</b> on line <b>${r}</b> is empty and must be filled`)}))},Mn=e=>{const t={};e.forEach((e=>{t[e.aim]?t[e.aim].includes(e.nameCriterion)||t[e.aim].push(e.nameCriterion):t[e.aim]=[e.nameCriterion]})),Object.entries(t).forEach((([e,t])=>{t.length>1&&An("SPREADSHEET_ERROR_"+e,`The <b>${e}</b> aim should be associated with only one criterion, but has been found in ${t.length} criteria : <b>${t.join("</b>, <b>")}</b>`)}))},$n=async(e,t)=>{const a=e.find((e=>"argument"===e.title)),r=e[a.index].data,l=r.map((e=>Object.keys(e).reduce((function(t,a){try{t[a]=JSON.parse(e[a])}catch(r){t[a]=e[a]}return t}),{})));try{await Dn(a),Mn(l)}catch(n){throw n}return l.map(((e,r)=>{const l=r+2;if("-"!==e.typeProCon&&"+"!==e.typeProCon)throw new _n("SPREADSHEET_ERROR",`On <b>${a.title}</b> sheet, the <b>typeProCon</b> on line <b>${l}</b> is <b>${e.typeProCon}</b> and should be <b>-</b> or <b>+</b> `);Nn({spreadsheetId:t,item:e,worksheet:a,line:l,keys:["nameSource","idArgument","nameProperty","value","nameStakeHolder","nameAlternative","nameCriterion","aim","nameTypeSource"]});const n={id:e.idArgument,stakeholder:e["nameStakeHolder"],property:e["nameProperty"],favorable:"+"===e.typeProCon,alternative:e["nameAlternative"],criterion:e["nameCriterion"],source:e["nameSource"],sourceType:e["nameTypeSource"],value:e["value"],aim:e["aim"],date:e["date"]?e["date"].toString():null,tagInitiator:e["tagInitiator"]||void 0};return delete e.idArgument,delete e["nameStakeHolder"],delete e["nameProperty"],delete e.typeProCon,delete e["nameAlternative"],delete e["nameCriterion"],delete e["nameSource"],delete e["nameTypeSource"],delete e["value"],delete e["aim"],delete e["tagInitiator"],{...e,...n}}))},Hn=async e=>{const t=e.find((e=>"project"===e.title));try{await Dn(t)}catch(b){throw b}const a=t.data[0],r=e.find((e=>"alternative"===e.title));try{await Dn(r),r.data.forEach(((e,t)=>{const a=t+2;if(null===e.iconAlternative)throw new _n("SPREADSHEET_ERROR",`On <b>${r.title}</b> sheet, the <b>iconAlternative</b> on line <b>${a}</b> is <b>empty</b> and should be a valid icon name`)}))}catch(b){throw b}const l=r.data,n=l.map((e=>({name:e.nameAlternative,description:e.description,image:e.imageAlternative,icon:e.iconAlternative}))),s=e.find((e=>"hasexpertise"===e.title)),i=s.data,o=i.map((e=>({nameStakeHolder:e["nameStakeHolder"],nameCriterion:e["nameCriterion"]}))),c=e.find((e=>"typesource"===e.title)),u=c.data,d=u.map((e=>({fiability:e.fiability.toString(),nameTypeSource:e.nameTypeSource})));let p=[];const m=e.find((e=>"product"===e.title));if(m&&m.data.length>0)try{await Dn(m);const e=m.data;p=e.map((e=>({nameAlternative:e.nameAlternative,productUri:e.productUri,nameProduct:e.nameProduct,tagProduct:e.tagProduct?e.tagProduct.split(",").map((e=>e.trim())).filter((e=>""!==e)):[]})))}catch(b){throw b}let v=[];const h=e.find((e=>"composition"===e.title));if(h&&h.data.length>0)try{await Dn(h);const e=h.data;v=e.map((e=>({uriCompose:e.uriCompose,nameCompose:e.nameCompose,typeComposant:e.typeComposant,uriComposant:e.uriComposant,nameComposant:e.nameComposant,rang:e.Rang,tagComposant:e.tagComposant?e.tagComposant.split(",").map((e=>e.trim())).filter((e=>""!==e)):[]})))}catch(b){throw b}const g={name:a.nameProject,image:a.image,description:a.description,alternatives:n,expertiseEntities:o,sourceTypeEntities:d,products:p.length>0?p:void 0,compositions:v.length>0?v:void 0};return g},Bn=async e=>{try{const t=await Tn(e),a=await $n(t,e),r=await Hn(t);return{items:a,project:r}}catch(t){throw t}},Vn=e=>{const t=new RegExp("/spreadsheets/d/([a-zA-Z0-9-_]+)").exec(e);if(t){const e=t[1];return e}return e},qn=e=>{const t=e,a={stakeholders:t.nameStakeholder,name:t.nameProject,aims:t.aim,criterions:t.nameCriterion,alternatives:t.alternatives.map((e=>{const t={name:e.nameAlternative,image:e.imageAlternative,icon:e.iconAlternative};return delete e.nameAlternative,{...e,...t}})),sourceTypeEntities:t.typeSource,expertiseEntities:t.hasExpertise};return delete t.typeSource,delete t.hasExpertise,delete t.nameStakeholder,delete t.aim,delete t.nameProject,delete t.nameCriterion,{...t,...a}},Un=e=>e.map((e=>{const t={id:e.idArgument,stakeholder:e.nameStakeHolder,property:e.nameProperty,favorable:e.typeProCon,alternative:e.nameAlternative,criterion:e.nameCriterion,source:e.nameSource,sourceType:e.nameTypeSource};return delete e.idArgument,delete e.nameStakeHolder,delete e.nameProperty,delete e.typeProCon,delete e.nameAlternative,delete e.nameCriterion,delete e.nameSource,delete e.nameTypeSource,{...e,...t}})),zn=()=>{const e={id:{csv:"idArgument",server:"idArgument",spreadsheet:"idArgument"},aim:{csv:"aim.description",server:"aim",spreadsheet:"aim"},alternative:{csv:"alternative.nameAlternative",server:"nameAlternative",spreadsheet:"nameAlternative"},assertion:{csv:"assertion",server:"assertion",spreadsheet:"assertion"},criterion:{csv:"criterion.nameCriterion",server:"nameCriterion",spreadsheet:"nameCriterion"},date:{csv:"date",server:"date",spreadsheet:"date"},explanation:{csv:"explanation",server:"explanation",spreadsheet:"explanation"},favorable:{csv:"typeProCon",server:"typeProCon",spreadsheet:"typeProCon"},isProspective:{csv:"isProspective",server:"isProspective",spreadsheet:"isProspective"},property:{csv:"property.nameProperty",server:"nameProperty",spreadsheet:"nameProperty"},source:{csv:"source.nameSource",server:"nameSource",spreadsheet:"nameSource"},sourceType:{csv:"typesource.nameTypeSource",server:"nameTypeSource",spreadsheet:"nameTypeSource"},stakeholder:{csv:"stakeholder.nameStakeholder",server:"nameStakeHolder",spreadsheet:"nameStakeHolder"},value:{csv:"qualvalue.qualValue",server:"value",spreadsheet:"value"},condition:{csv:"condition",server:"condition",spreadsheet:"condition"}};return e},Gn=(e,t)=>(0,ye.findKey)(zn(),(function(a){return a[e]===t})),Kn=(e,t)=>{const a=zn()[t]&&zn()[t][e];return a||null},Qn=(e,t,a)=>{const r=Gn(e,a),l=Kn(t,r);return l||null},Yn=e=>e.map((e=>{const t={};return Object.entries(e).forEach((([e,a])=>{const r=Qn("spreadsheet","csv",e);r&&(t[r]=a)})),t})),Jn=(e,t)=>{const a=e.map((e=>e[t])),r=(0,ye.uniq)(a);return r},Zn=e=>{const t=Jn(e,"criterion");return t},es=(e,t)=>{const a=e.map((e=>[e["aim"],e["criterion"]])),r=(0,ye.sortBy)((0,ye.uniqBy)(a,rs),(([e,t])=>e)),l={};return r.forEach(((e,a)=>{const r=e[0],n=is(t,e[1],"nameCriterion");a++,l[a]={id:a,name:r,criterion:n}})),l},ts=e=>{const t=Jn(e,"stakeholder");return t},as=e=>{const t=Jn(e,"property");return t},rs=e=>e.join(":"),ls=e=>{const t=e.map((e=>[e["property"],e["value"]])),a=(0,ye.uniqBy)(t,rs);return a},ns=e=>{const t={};return e.forEach(((e,a)=>{a++,t[a]={id:a,name:e}})),t},ss=e=>{const t={};return e.forEach(((e,a)=>{a++,t[a]={id:a,...e,icon:"mdi-"+e.icon.replace(/\.[^/.]+$/,"").split(/(\\|\/)/g).pop()||0}})),t},is=(e,t,a)=>{const r=Object.values(e).find((e=>e.name===t));try{return r.id}catch(l){throw new _n("SPREADSHEET_ERROR",`Cannot find <b>${t}</b> in ${"nameAlternative"===a?"alternatives":`<b>${a}</b>`}`)}},os=(e,{criterions:t,aims:a,alternatives:r,stakeholders:l})=>e.map((e=>({...e,subOption:!0===JSON.parse(e.favorable.toString().toLowerCase())?1:2,criterion:is(t,e.criterion,"nameCriterion"),stakeholder:is(l,e.stakeholder,"nameStakeHolder"),aim:is(a,e.aim,"aim"),alternative:is(r,e.alternative,"nameAlternative"),isProspective:1===Number(e.isProspective)}))),cs=(e,t)=>{const a=Zn(e),r=ts(e),l=t.alternatives,n=ns(a.sort()),s=ss(l),i=ns(r.sort()),o=es(e,n),c=os(e,{criterions:n,aims:o,alternatives:s,stakeholders:i});return{criterions:n,alternatives:s,stakeholders:i,aims:o,items:c}},us=(e,t)=>{const a=ls(e),r=as(e),{criterions:l,alternatives:n,stakeholders:s,aims:i,items:o}=cs(e,t),c={criterions:l,alternatives:n,stakeholders:s,labels:a,properties:r,aims:i,items:o,subOptions:{1:{id:1,name:""},2:{id:2,name:""}}};return c},ds=function(e){const t=(0,ye.groupBy)(e,"property"),a=Object.values(t).filter((e=>{const t=(0,ye.groupBy)(e,"aim");if(Object.keys(t).length>1)return e})),r=(0,ye.flatten)(a);return r},ps=function(e){const t=(0,ye.groupBy)(e,"aim"),a=Object.values(t).filter((e=>{const t=(0,ye.groupBy)(e,"stakeholder");if(Object.keys(t).length>1)return e})),r=(0,ye.flatten)(a);return r},ms=(e,t)=>{const a=t.filter((t=>e.some((e=>e.nameCriterion===t.criterion&&e.nameStakeHolder===t.stakeholder))));return a},vs=(e,t)=>{const a=t.filter((t=>e.some((e=>e.nameTypeSource===t.sourceType&&1===Number(e.fiability)))));return a},hs=e=>{const t=e.filter((e=>1===Number(e.isProspective)));return t},gs=e=>{const t=ds(e);return t},bs=e=>{const t=ps(e);return t};var fs=a(7065);const ks=(0,l.EW)((()=>d.fields.nextcloudUrl)),ys=e=>`https://icotest.iate.inra.fr/nextcloud/s/${e}/download`,Cs=async e=>{const t=e,a=await fetch(t),r=await a.blob(),l=Es(e),n=new File([r],l);return n},ws=async e=>{try{const t=await Cs(e),a=await Ls(t);return a}catch(t){throw t}},Es=e=>{const t=new RegExp("https://icotest.iate.inra.fr/nextcloud/s/([a-zA-Z0-9-_]+)").exec(e);if(t){const e=t[1];return e}return e},xs=async(e,t)=>{try{const a=await Ls(e);Ps(a.items,a.project,t)}catch(a){throw a}},Fs=async(e,t)=>{await xs(e,t)},_s=async e=>{const t=await fs.onFileSelection(e);return t},As=async e=>{const t=await _s(e),a=Object.entries(t).map((([e,t],a)=>({title:e,data:t,index:a})));return a},Ls=async e=>{try{const t=await As(e),a=await $n(t),r=await Hn(t);return{items:a,project:r}}catch(t){throw t}},Ss=async e=>{const t=Vn(e),a={query:{[hn]:t},name:"project",path:"/project"},r=un.resolve(a);await un.push(r),await Ci(r)},Is=async e=>{const t={query:{[vn]:e},name:"project"},a=un.resolve(t);await un.push(a),await Ci(a)},Os=async e=>{const t=Es(e),a={query:{[gn]:t},name:"project",path:"/project"},r=un.resolve(a);await un.push(a),await Ci(r)},Ws=async e=>{const[t,a]=await Promise.all([await js(e),await Xs(e)]),r={project:t,items:a};return r},js=async e=>{try{let t=null;const a=await mi(e);return t=qn(a),Promise.resolve(t)}catch(t){throw t}},Xs=async e=>{try{let t=null;const a=await pi(e);return t=Un(a),Promise.resolve(t)}catch(t){throw t}},Ps=(e,t,a)=>{!1!==a?v():(h(),p()),Cn();try{let a;if("interplay"===d.mode){const r=gs(e),l=us(r,t);a=Object.freeze(l)}else if("prospective"===d.mode){const r=hs(e),l=us(r,t);a=Object.freeze(l)}else if("data-reliability"===d.mode){const r=vs(t.sourceTypeEntities,e),l=us(r,t);a=Object.freeze(l)}else if("expertise"===d.mode){const r=ms(t.expertiseEntities,e),l=us(r,t);a=Object.freeze(l)}else if("multi-stakeholder"===d.mode){const r=bs(e),l=us(r,t);a=Object.freeze(l)}else{const r=us(e,t);a=Object.freeze(r)}d.data=a,d.project=t}catch(r){throw r}};var Ts;(function(e){e["ICO"]="ico",e["GOOGLE_SPREADSHEET"]="googlespreadsheet",e["NEXTCLOUD"]="nextcloud",e["XLSX"]="xlsx"})(Ts||(Ts={}));const Rs={projects:{[Ts.ICO]:{},[Ts.GOOGLE_SPREADSHEET]:{},[Ts.NEXTCLOUD]:{},[Ts.XLSX]:{}}},Ds="MYCHOICE_CACHE",Ns=()=>{const e=localStorage.getItem(Ds);return JSON.parse(e||"{}")||Rs},Ms=()=>{const e=Ns();return e?.projects||Rs.projects},$s=(e,t)=>Object.values(Ms()[e]).find((e=>e.id===t)),Hs=e=>{localStorage.setItem(Ds,JSON.stringify(e))},Bs=e=>{const t=Ns(),a=(0,ye.merge)(t,e);Hs(a)},Vs=e=>{const t=Ns(),a=(0,ye.omit)(t,e);Hs(a)},qs=(e,t)=>{Bs({projects:{[e]:{[t.id]:t}}})},Us=(e,t)=>{qs(e,t)},zs=e=>Ms()[e],Gs=e=>{if(!e)return{};const t={};return Object.entries(e).filter((([e])=>e!==Ts.GOOGLE_SPREADSHEET&&e!==Ts.NEXTCLOUD)).forEach((([e,a])=>{Object.entries(a).forEach((([a,r])=>{const l=ei(e,a);t[l]={...r,type:e}}))})),t},Ks=(0,l.EW)((()=>d.recentProjects)),Qs=(0,l.EW)((()=>!!Object.keys(Ks.value).length)),Ys=()=>{d.recentProjects=Js(Ms())},Js=e=>{const t=Gs(e),a=Object.keys(t).sort(((e,a)=>t[a].date-t[e].date)).reduce(((e,a,r)=>(e[r]=t[a],e)),{}),r=Object.entries(a).map((([e,t])=>t));return r},Zs=(e,{name:t,id:a})=>{if(void 0===a)return;const r=Object.keys(zs(e)).includes(a);r?(t&&qs(e,{name:t,id:a}),qs(e,{date:Date.now(),id:a,type:e})):qs(e,{name:t,id:a,date:Date.now(),type:e}),Ys()},ei=(e,t)=>`${e}-${t}`,ti=(e,{id:t})=>{const a=d.recentProjects.some((a=>a.type===e&&a.id===t));a&&(ai(e,t),Ys())},ai=(e,t)=>{Vs(`projects.${e}.${t}`)},ri=(e,t)=>{Vs(`projects.${e}.${t}.data`)},li=e=>{e.query[mn.ICO]&&ri(Ts.ICO,e.query[mn.ICO]),e.query[mn.GOOGLE_SPREADSHEET]&&ri(Ts.GOOGLE_SPREADSHEET,e.query[mn.GOOGLE_SPREADSHEET]),e.query[mn.NEXTCLOUD]&&ri(Ts.NEXTCLOUD,e.query[mn.NEXTCLOUD]),e.query[mn.XLSX]&&ri(Ts.XLSX,e.query[mn.XLSX])},ni=e=>!!oi(e),si=e=>{const t=gi(e);if(t)return e.query[mn.GOOGLE_SPREADSHEET]?$s(Ts.GOOGLE_SPREADSHEET,t):e.query[mn.ICO]?$s(Ts.ICO,t):e.query[mn.NEXTCLOUD]?$s(Ts.NEXTCLOUD,t):e.query[mn.XLSX]?$s(Ts.XLSX,t):void 0},ii=(e,t)=>{const a=gi(e);a&&(e.query[mn.GOOGLE_SPREADSHEET]&&Us(Ts.GOOGLE_SPREADSHEET,{id:a,data:t}),e.query[mn.ICO]&&Us(Ts.ICO,{id:a,data:t}),e.query[mn.NEXTCLOUD]&&Us(Ts.NEXTCLOUD,{id:a,data:t}),e.query[mn.XLSX]&&Us(Ts.XLSX,{id:a,data:t}))},oi=e=>{const t=si(e);return t?.data},ci=e=>{d.recentProjectNames[e]&&(delete d.recentProjectNames[e],localStorage.recentProjectNames=JSON.stringify(d.recentProjectNames))},ui=e=>{ti(Ts.GOOGLE_SPREADSHEET,{id:e})},di=()=>"http://localhost:8080/api/",pi=async e=>{let t=null;const a=di()+"arguments?project="+e;try{if(!e)throw Error();const r=await fetch(a);t=await r.json()}catch(r){throw console.warn("Fetch error, unable to fetch arguments: "+a),r}return t},mi=async e=>{let t=null;const a=di()+"project?name="+e;try{if(!e)throw Error();const r=await fetch(a);t=await r.json()}catch(r){throw console.warn("Fetch error, unable to fetch project:"+a),r}return t},vi=e=>Object.prototype.hasOwnProperty.call(e.query,mn.GOOGLE_SPREADSHEET)?Ts.GOOGLE_SPREADSHEET:Object.prototype.hasOwnProperty.call(e.query,mn.ICO)?Ts.ICO:Object.prototype.hasOwnProperty.call(e.query,mn.XLSX)?Ts.XLSX:Object.prototype.hasOwnProperty.call(e.query,mn.NEXTCLOUD)?Ts.NEXTCLOUD:null,hi=e=>e===Ts.GOOGLE_SPREADSHEET?mn.GOOGLE_SPREADSHEET:e===Ts.ICO?mn.ICO:e===Ts.XLSX?mn.XLSX:e===Ts.NEXTCLOUD?mn.NEXTCLOUD:null,gi=e=>Object.prototype.hasOwnProperty.call(e.query,mn.GOOGLE_SPREADSHEET)?e.query[mn.GOOGLE_SPREADSHEET]:Object.prototype.hasOwnProperty.call(e.query,mn.ICO)?e.query[mn.ICO]:Object.prototype.hasOwnProperty.call(e.query,mn.XLSX)?e.query[mn.XLSX]:Object.prototype.hasOwnProperty.call(e.query,mn.NEXTCLOUD)?e.query[mn.NEXTCLOUD]:null,bi=async(e,t)=>{const a=gi(e);if(!a)throw new Error("Spreadsheet ID is required");Zs(Ts.GOOGLE_SPREADSHEET,{id:a});let r=null;if(ni(e)?(r=oi(e),d.notifications.push({message:"Spreadsheet loaded from cache"})):r=await Bn(a),!r)throw new Error("Failed to load spreadsheet data");Zs(Ts.GOOGLE_SPREADSHEET,{name:r.project&&r.project.name?r.project.name:void 0,id:a});try{Ps(r.items,r.project,t),ii(e,r),d.spreadsheet=a}catch(l){throw l}},fi=async(e,t)=>{const a=gi(e);if(!a)throw new Error("ICO ID is required");Zs(Ts.ICO,{id:a});let r=null;if(ni(e)?(r=oi(e),d.notifications.push({message:"Ico project loaded from cache"})):r=await Ws(a),!r)throw new Error("Failed to load ICO data");r.project&&r.project.name&&Zs(Ts.ICO,{name:r.project.name?r.project.name:void 0,id:r.project.name});try{Ps(r.items,r.project,t),ii(e,r)}catch(l){throw l}},ki=async(e,t)=>{const a=gi(e);if(!a)throw new Error("Nextcloud ID is required");Zs(Ts.NEXTCLOUD,{id:a});let r=null;if(ni(e))r=oi(e),d.notifications.push({message:"Nextcloud project loaded from cache"});else{const e=ys(a);r=await ws(e)}if(!r)throw new Error("Failed to load Nextcloud data");Zs(Ts.NEXTCLOUD,{name:r.project&&r.project.name?r.project.name:void 0,id:a});try{Ps(r.items,r.project,t),ii(e,r)}catch(l){throw l}},yi=({type:e,id:t})=>{const a=hi(e);if(!a)throw new Error("Route type is undefined for this project type.");const r={query:{[a]:t},name:"project",path:"/project",params:{},matched:[],fullPath:"/project",hash:"",redirectedFrom:void 0,meta:{}},l=un.resolve(r).href;return l},Ci=async(e,t)=>{x();try{if(vi(e)===Ts.GOOGLE_SPREADSHEET&&await bi(e,t),vi(e)===Ts.ICO&&await fi(e,t),vi(e)===Ts.NEXTCLOUD&&await ki(e,t),vi(e)===Ts.XLSX){const e=u.value;if(e&&e.files&&e.files[0]){const a=e.files[0];await Fs(a,t)}else console.error("No file selected or file input is not valid.")}F()}catch(a){throw F(),a instanceof _n?(console.warn(a.name,"MYCHOICE ERROR"),An(a.name,a.message),Error(a.stack)):(An(a.name,a.message),console.warn(a.stack,"stack"),a)}},wi=function(){return d.data.alternatives},Ei=function(){const e=Object.keys(wi());return e.map((e=>Number(e)))},xi=function(){return Object.keys(wi()).map((e=>Number(e)))},Fi=(0,l.EW)((()=>Object.keys(wi()).map((e=>Number(e))))),_i=function(e){return wi()[e]},Ai=function(e){return _i(e).name},Li=function(){const e=d.data.aims;return e},Si=function(){return Object.keys(Li()).map((e=>Number(e)))},Ii=function(){const e=Object.keys(Li());return e.map((e=>Number(e)))},Oi=function(e){return Li()[e]},Wi=(e,t)=>{const a=Object.values(Li()).filter((a=>Number(a[e])===Number(t)));return a},ji=function(e){return Li()[e]&&Li()[e].name},Xi=()=>Si().filter((e=>qi().some((t=>t.aim===e)))),Pi=e=>(0,ye.uniqBy)(e,"aim").map((e=>e.aim)),Ti=(e,t)=>e.filter((e=>Oi(e).criterion===t)).length,Ri=function(){const e=d.data.criterions;return e},Di=(0,l.EW)((()=>d.data.criterions)),Ni=function(){return Object.keys(Ri()).map((e=>Number(e)))},Mi=(0,l.EW)((()=>Object.keys(Di.value).map((e=>Number(e))))),$i=function(e){return Ri()[e]},Hi=function(e){return Ri()[Number(e)].name},Bi=()=>Ni().filter((e=>qi().some((t=>t.criterion===e)))),Vi=((0,l.EW)((()=>Mi.value.filter((e=>qi().some((t=>t.criterion===e)))))),function(){const e=d.data.items;return e}),qi=function(){let e=Qi(Vi(),d.searchInput);return d.selectedAims.length&&(e=e.filter((e=>d.selectedAims.includes(e["aim"])))),d.selectedStakeholders.length&&(e=e.filter((e=>d.selectedStakeholders.includes(e["stakeholder"])))),d.selectedCriterions.length&&(e=e.filter((e=>d.selectedCriterions.includes(Number(Li()[e["aim"]].criterion))))),e},Ui=(e,t)=>{const a=Object.entries(t);return e.filter((e=>a.every((([t,a])=>e[t]===a))))},zi=function(e){return e?Ui(Vi(),e):[]},Gi=function(e){return Object.values((0,ye.groupBy)(e,(({property:e,value:t,assertion:a,explanation:r,stakeholder:l})=>JSON.stringify({property:e,value:t,assertion:a,explanation:r,stakeholder:l}))))},Ki=function(e){return Ui(qi(),e)},Qi=function(e,t){return e.filter((e=>Object.keys(e).some((a=>{if(["property","value"].includes(a)){const r=e[a];return r.toString().toLowerCase().includes(t.toString().toLowerCase())}}))))},Yi=e=>{const t={},a=Ei();return a.forEach((a=>{const r=e.filter((e=>e.alternative===a));t[a]=r})),t},Ji=e=>{const t={},a=Ii();return a.forEach((a=>{const r=e.filter((e=>e.aim===a));t[a]=r})),t},Zi=function(e,t=!0){const a={},r=t?qi():Vi();return r.forEach((t=>{const r=t[e];a[r]?a[r].push(t):a[r]=[t]})),On(a)},eo=(e,t)=>(0,ye.groupBy)(Ki(e),t),to=function(){return d.data.subOptions},ao=function(){return Object.keys(to()).map((e=>Number(e)))},ro=function(e){return to()[e]},lo=function(){const e=d.data.stakeholders;return e},no=function(){return Object.keys(lo()).map((e=>Number(e)))},so=function(e){return lo()[e]&&lo()[e].name},io=e=>{const t={};return Object.keys(e).sort().forEach((function(a){t[a]=e[a]})),JSON.stringify(t)},oo=()=>d.selectedSupersets,co=function(e){d.selectedSuperset=io(e)},uo=function(e){d.selectedSuperset=""},po=function(e){d.selectedSuperset===io(e)?uo(e):co(e)},mo=function(e){ho(e)||d.selectedSupersets.push(io(e))},vo=function(e){const t=io(e),a=oo().indexOf(t);a>-1&&d.selectedSupersets.splice(a,1)},ho=function(e){return oo().find((t=>t===io(e)))},go=e=>Math.round(100*e)/100,bo=(e,t=!0)=>{const a=Ji(e),r={},l={};return Object.entries(a).map((([e,t])=>{Number(e);const a=fo(t);Object.entries(a).forEach((([e,t])=>{const a=Number(e);(r[a]||(r[a]=[])).push(t)}))})),Object.entries(r).forEach((([a,r])=>{const n=ko(r)/e.length,s=Number.isNaN(n)?null:t?go(n):n;l[Number(a)]=s})),l},fo=e=>{const t=Yi(e),a={};return Object.entries(t).forEach((([t,r])=>{const l=Number(t),n=r.filter((e=>1===e.subOption)),s=r.filter((e=>2===e.subOption)),i=n.length+1,o=(s.length,r.length+2),c=0===e.length,u=0===n.length&&0===s.length&&e.length>0;let d;d=c?0:u?.5:i/o;const p=d*e.length;a[l]=p})),a},ko=e=>e.reduce(((e,t)=>e+t)),yo=(e,t=!0)=>{if(0===e.length)return null;e.filter((e=>1===e.subOption));const a=e.filter((e=>2===e.subOption)),r=e.length-a.length,l=Sn(r,0,e.length);return t?go(l):l},Co=e=>null===e?"":1===e?"pro":0===e?"con":"mix",wo=(e,t=!0)=>{const a=qi(),r=Yi(a),l=r[e];return yo(l)},Eo=(e,t)=>{const a=Ui(e,t).map((({property:e,value:t})=>({property:e,value:t})));return(0,ye.uniqBy)(a,(e=>[e.property,e.value].join(":")))},xo=e=>Eo(qi(),e),Fo=function(){return no().map((e=>({text:so(e),value:e})))},_o=function(){return Si().map((e=>({text:ji(e),value:e})))},Ao=function(){return Ni().map((e=>({text:Hi(e),value:e})))},Lo=function(){return Object.entries(d.modes).map((([e,t])=>({text:t.name,value:e})))},So=()=>{u.value?.click()},Io=e=>{e.preventDefault(),e.stopPropagation()},Oo=e=>{Io(e),Ro(e)},Wo=e=>{Io(e),Do(e)},jo=e=>{Io(e),Ro(e)},Xo=e=>{Io(e),Do(e);const t=e.dataTransfer.files;u.value.files=t,Po()},Po=async()=>{const e=u.value?.files?.[0];if(!e)return;const t=un.resolve(`/project?xlsx=${e.name}`);await Ci(t),un.push(t)},To=((0,l.EW)((()=>u.value)),(0,l.EW)((()=>u.value?.files?.[0])),e=>"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e),Ro=e=>{e.currentTarget.classList.add("fileDropHighlight"),To(e.dataTransfer.items[0].type)||e.currentTarget.classList.add("fileDropHighlight--invalid")},Do=e=>{e.currentTarget.classList.remove("fileDropHighlight","fileDropHighlight--invalid")},No=e=>{const t=document.querySelector("body");t.addEventListener("dragenter",Oo,!1),t.addEventListener("dragleave",Wo,!1),t.addEventListener("dragover",jo,!1),t.addEventListener("drop",Xo,!1)},{Parser:Mo}=a(8992),$o=e=>{const t={excelStrings:!1,delimiter:";",quote:'"',includeEmptyRows:!0,defaultValue:""};try{const a=new Mo(t),r=a.parse(e);return r}catch(a){throw a}};var Ho=a(4213);const Bo=()=>{const e=vi(un.currentRoute.value);return e===Ts.GOOGLE_SPREADSHEET||e===Ts.XLSX||e===Ts.NEXTCLOUD},Vo=async e=>{const t=gi(e);if(!t)return;const a=vi(e);if(a===Ts.GOOGLE_SPREADSHEET){const e=await Tn(t);await qo(e)}if(a===Ts.NEXTCLOUD){const e=ys(t),a=await Cs(e),r=await As(a);await qo(r)}if(a===Ts.XLSX){const e=u.value;if(e?.files?.length){const t=e.files[0],a=await As(t);await qo(a)}else console.error("Aucun fichier XLSX slectionn.")}},qo=async e=>{const t=[],a={},r=["project","alternative","typesource","argument","hasexpertise"];e.forEach((e=>{let r=e.data;const l=r[0];if("parameters"===e.title||!l)return;const n=Object.keys(l).length-1;t.push(n),"argument"===e.title&&(r=Yn(r));const s=$o(r);a[e.title]=s}));const l=Math.max(...t),n=";".repeat(l),s=Object.entries(a).sort((([e],[t])=>r.indexOf(e)-r.indexOf(t))).reduce(((e,[t,a])=>({...e,[t]:a})),{}),i=Object.entries(s).map((([e,t])=>`"${e}"${n}\n${t}\n${n}`)).join("\n"),o=Uo(i),c=d.project?.name||"project";(0,Ho.saveAs)(o,c+".csv")},Uo=e=>new Blob([e],{type:"text/csv;charset=utf-8;"}),zo=async()=>{li(un.currentRoute.value),await Ci(un.currentRoute.value)},Go={class:"mychoice-logo-container"},Ko=["src"],Qo={class:"d-flex align-center mr-4"},Yo=["src"];var Jo={__name:"AppBar",setup(e){const t=(0,o.lq)(),a=(0,l.EW)((()=>t.path.includes("/project")));return(e,t)=>{const s=(0,l.g2)("v-app-bar-nav-icon"),o=(0,l.g2)("v-btn"),c=(0,l.g2)("v-icon"),u=(0,l.g2)("v-tooltip"),p=(0,l.g2)("v-toolbar-title"),m=(0,l.g2)("v-spacer"),v=(0,l.g2)("router-link"),h=(0,l.g2)("v-app-bar");return(0,l.uX)(),(0,l.Wv)(h,{elevation:"0",color:"secondary",theme:"dark"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{onClick:t[0]||(t[0]=(0,r.D$)((e=>(0,i.R1)(d).drawer=!(0,i.R1)(d).drawer),["stop"]))}),(0,i.R1)(d).project&&a.value?((0,l.uX)(),(0,l.Wv)(p,{key:0,class:"d-flex align-center"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{variant:"text",class:"text-white text-truncate",style:{"max-width":"200px",display:"block"},title:(0,i.R1)(d).project.name,onClick:t[1]||(t[1]=e=>(0,i.R1)(pn)("project"))},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)((0,i.R1)(d).project.name),1)])),_:1},8,["title"]),(0,i.R1)(d).spreadsheet?((0,l.uX)(),(0,l.Wv)(u,{key:0,location:"bottom"},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(o,(0,l.v6)({icon:"",target:"_blank",href:(0,i.R1)(C)((0,i.R1)(d).spreadsheet)},e),{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("mdi-google-spreadsheet")]))),_:1})])),_:2},1040,["href"])])),default:(0,l.k6)((()=>[t[3]||(t[3]=(0,l.Lk)("span",null,"Open Spreadsheet",-1))])),_:1})):(0,l.Q3)("",!0)])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(m),(0,l.Lk)("div",Go,[(0,l.bF)(v,{to:"/",class:"logo-mychoice"},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{src:(0,i.R1)(d).baseUrl+"logo-mychoice.svg",alt:"MyChoice Logo"},null,8,Ko)])),_:1})]),(0,l.Lk)("div",Qo,[(0,l.Lk)("img",{src:(0,i.R1)(d).baseUrl+"logo-inrae-white-transparent.png",alt:"INRAE Logo",class:"logo-inrae"},null,8,Yo)])])),_:1})}}};const Zo=(0,z.A)(Jo,[["__scopeId","data-v-bdc19b12"]]);var ec=Zo;const tc=["src"],ac={class:"pa-2"};function rc(e,t,a,r,s,i){const o=(0,l.g2)("router-link"),c=(0,l.g2)("v-list-item-title"),u=(0,l.g2)("v-list-item"),d=(0,l.g2)("v-divider"),p=(0,l.g2)("v-icon"),m=(0,l.g2)("v-item-group"),v=(0,l.g2)("v-list-item-subtitle"),h=(0,l.g2)("v-list"),g=(0,l.g2)("v-list-subheader"),b=(0,l.g2)("v-card-subtitle"),f=(0,l.g2)("v-card"),k=(0,l.g2)("v-btn"),y=(0,l.g2)("Version"),C=(0,l.g2)("v-footer"),w=(0,l.g2)("v-navigation-drawer");return(0,l.uX)(),(0,l.Wv)(w,{modelValue:e.state.drawer,"onUpdate:modelValue":t[2]||(t[2]=t=>e.state.drawer=t),temporary:"",scrim:"false"},{append:(0,l.k6)((()=>[(0,l.Lk)("div",ac,[(0,l.bF)(k,{block:"",color:"red",class:"text-white",onClick:e.refreshProject,disabled:!e.route.path.includes("project")},{default:(0,l.k6)((()=>[(0,l.bF)(p,{size:"small",class:"mr-3"},{default:(0,l.k6)((()=>t[13]||(t[13]=[(0,l.eW)("mdi-autorenew")]))),_:1}),t[14]||(t[14]=(0,l.eW)(" Refresh project "))])),_:1},8,["onClick","disabled"])]),(0,l.bF)(h,{nav:"",dense:""},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,{onClick:t[1]||(t[1]=t=>e.state.aboutDialog=!0)},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>t[15]||(t[15]=[(0,l.eW)("About")]))),_:1})])),_:1})])),_:1})])),_:1}),(0,l.bF)(d),(0,l.bF)(C,{class:"flex-grow-1"},{default:(0,l.k6)((()=>[(0,l.bF)(y)])),_:1})])),default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{class:"title"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{to:"/"},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{style:{padding:"2rem 0",width:"100%",margin:"auto"},src:e.state.baseUrl+"logo-mychoice-color.svg"},null,8,tc)])),_:1})])),_:1})])),_:1}),(0,l.bF)(d),(0,l.bF)(h,{nav:"",dense:""},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,{onClick:e.handleLoadFile},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("mdi-upload")]))),_:1}),(0,l.bF)(c,null,{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)("Open local project "),(0,l.Lk)("small",null,"(.xlsx)",-1)]))),_:1})])),_:1},8,["onClick"]),(0,l.bF)(u,{onClick:t[0]||(t[0]=t=>e.state.openDialog=!0)},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("mdi-cloud-upload")]))),_:1}),(0,l.bF)(c,null,{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.eW)("Open online project")]))),_:1})])),_:1})])),_:1}),(0,l.bF)(u,{href:"https://docs.google.com/spreadsheets/d/1Cj5tC6JyLQxCHdtZJ8d9_-FSV9UbHT7AGE3wrLEMlig/copy",target:"_blank"},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>t[7]||(t[7]=[(0,l.eW)("mdi-plus-circle-outline")]))),_:1}),(0,l.bF)(c,null,{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.eW)("Create new project")]))),_:1}),(0,l.bF)(v,null,{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.eW)("from spreadsheet template")]))),_:1})])),_:1})])),_:1}),(0,l.bF)(d),(0,l.bF)(g,null,{default:(0,l.k6)((()=>t[10]||(t[10]=[(0,l.eW)("Recent projects")]))),_:1}),e.hasRecentProjects?((0,l.uX)(),(0,l.Wv)(h,{key:1,subheader:"",nav:"",dense:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.recentProjects,((a,r)=>((0,l.uX)(),(0,l.Wv)(u,{key:r,to:e.getHrefFromTypeId({type:a.type,id:a.id})},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(a.name||a.id),1)])),_:2},1024),"googlespreadsheet"===a.type?((0,l.uX)(),(0,l.Wv)(p,{key:0},{default:(0,l.k6)((()=>t[12]||(t[12]=[(0,l.eW)("mdi-google-spreadsheet")]))),_:1})):(0,l.Q3)("",!0)])),_:2},1032,["to"])))),128))])),_:1})):((0,l.uX)(),(0,l.Wv)(f,{key:0,disabled:"",flat:"",tile:""},{default:(0,l.k6)((()=>[(0,l.bF)(b,null,{default:(0,l.k6)((()=>t[11]||(t[11]=[(0,l.eW)("No recent projects")]))),_:1})])),_:1}))])),_:1},8,["modelValue"])}var lc=(0,l.pM)({components:{Version:ue},setup(){const e=(0,o.lq)();return{state:d,route:e,recentProjects:Ks,hasRecentProjects:Qs,getHrefFromTypeId:yi,handleLoadFile:So,isExportableToCSV:Bo,openIco:Is,openSpreadsheet:Ss,getImagePath:b,exportToCSV:Vo,refreshProject:zo}}});const nc=(0,z.A)(lc,[["render",rc]]);var sc=nc;function ic(e,t,a,s,i,o){const c=(0,l.g2)("v-list-item-title"),u=(0,l.g2)("v-spacer"),d=(0,l.g2)("v-icon"),p=(0,l.g2)("v-btn"),m=(0,l.g2)("v-list-item-action"),v=(0,l.g2)("v-list-item"),h=(0,l.g2)("v-combobox"),g=(0,l.g2)("v-form"),b=(0,l.g2)("v-col"),f=(0,l.g2)("v-row");return(0,l.uX)(),(0,l.Wv)(f,null,{default:(0,l.k6)((()=>[(0,l.bF)(b,null,{default:(0,l.k6)((()=>[t[4]||(t[4]=(0,l.Lk)("h3",null,"From INRAE's server",-1)),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.bF)(b,{cols:"12",class:""},{default:(0,l.k6)((()=>[(0,l.bF)(g,{onSubmit:t[1]||(t[1]=(0,r.D$)((t=>{e.handleOpenIco(e.state.fields.projectName),e.state.openDialog=!1}),["prevent"]))},{default:(0,l.k6)((()=>[(0,l.bF)(h,{items:e.recentIcoProjects.map((([e,t])=>({text:t.name,value:t}))),"item-text":"text","item-value":"value",label:"Project name",id:"comboprojectname",autocomplete:"off","search-input":e.state.fields.projectName,outlined:""},{item:(0,l.k6)((({index:a,item:s})=>[(0,l.bF)(v,{to:e.getHrefFromTypeId({type:s.value.type,id:s.value.id})},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(s.text),1)])),_:2},1024),(0,l.bF)(u),(0,l.bF)(m,{onClick:t[0]||(t[0]=(0,r.D$)((()=>{}),["stop"]))},{default:(0,l.k6)((()=>[(0,l.bF)(p,{icon:"",onClick:(0,r.D$)((t=>e.removeFromRecentProjects(s.value.type,{id:s.value.id})),["stop","prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("mdi-close")]))),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["to"])])),_:1},8,["items","search-input"]),(0,l.bF)(p,{class:"ml-auto d-flex",color:"secondary",disabled:!e.state.fields.projectName,type:"submit"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("Open from Ico")]))),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var oc=(0,l.pM)({setup(){const e=async function(e){await Is(e),d.fields.projectName=""},t=async function(e){await Ss(e),d.fields.spreadsheetUrl=""},a=async function(e){await Os(e),d.fields.nextcloudUrl=""},r=(0,l.EW)((()=>d.fields.spreadsheetUrl?Vn(d.fields.spreadsheetUrl):""));return{state:d,isValidNextcloudUrl:ks,spreadsheetId:r,openNextcloudUrl:Os,removeFromRecentProjectSpreadsheets:ui,removeFromRecentProjectNames:ci,handleOpenIco:e,handleOpenSpreadsheet:t,handleOpenNextcloudUrl:a,recentSpreadsheetProjects:_,recentNextcloudProjects:L,recentIcoProjects:A,removeFromRecentProjects:ti,getHrefFromTypeId:yi}}});const cc=(0,z.A)(oc,[["render",ic]]);var uc=cc;const dc=["href"],pc=["href"];function mc(e,t,a,r,n,s){const i=(0,l.g2)("v-card-title"),o=(0,l.g2)("v-card-text"),c=(0,l.g2)("v-divider"),u=(0,l.g2)("v-card-subtitle"),d=(0,l.g2)("v-col"),p=(0,l.g2)("v-row"),m=(0,l.g2)("v-card");return(0,l.uX)(),(0,l.Wv)(m,{class:"text-center"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{class:"justify-center"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("About MyChoice")]))),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.Lk)("b",null,"MyChoice",-1),(0,l.eW)(" is a web application supporting collective decision, designed by INRAE. ")]))),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(c,{class:"my-2"}),(0,l.bF)(u,{class:"p-0"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("Scientific contacts")]))),_:1}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.Lk)("b",null,[(0,l.Lk)("a",{href:"mailto:rallou.thomopoulos@inrae.fr"},"Rallou Thomopoulos")],-1),(0,l.Lk)("br",null,null,-1),(0,l.Lk)("small",null,"INRAE (IATE lab) / INRIA (GraphIK lab)",-1)]))),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.Lk)("b",null,[(0,l.Lk)("a",{href:"mailto:julien.cufi@inrae.fr"},"Julien Cufi")],-1),(0,l.Lk)("br",null,null,-1),(0,l.Lk)("small",null,"INRAE (IATE lab)",-1)]))),_:1})])),_:1}),(0,l.bF)(c,{class:"my-2"}),(0,l.bF)(u,null,{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("UX & front-end development")]))),_:1}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.Lk)("b",null,[(0,l.Lk)("a",{href:"https://maximelebreton.com",target:"_blank"},"Maxime Le Breton")],-1),(0,l.Lk)("br",null,null,-1),(0,l.Lk)("small",null,"Independent designer &front-enddeveloper",-1)]))),_:1})])),_:1}),(0,l.bF)(c,{class:"my-2"}),(0,l.bF)(u,null,{default:(0,l.k6)((()=>t[7]||(t[7]=[(0,l.eW)("Other contributors")]))),_:1}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.Lk)("b",null," Thomas Bosch ",-1),(0,l.Lk)("br",null,null,-1),(0,l.Lk)("small",null,"Former student at IATE lab",-1)]))),_:1})])),_:1}),(0,l.bF)(c,{class:"my-2"}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.Lk)("a",{href:e.state.baseUrl+"licenses.txt",target:"_blank"},"Open source licenses",8,dc)])),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.Lk)("a",{href:e.state.baseUrl+"Open_source_license_terms.pdf",target:"_blank"},"Open source licenses terms",8,pc)])),_:1})])),_:1})])])),_:1})])),_:1})}var vc={data:()=>({state:d})};const hc=(0,z.A)(vc,[["render",mc]]);var gc=hc,bc=(0,l.pM)({name:"App",components:{AppBar:ec,Drawer:sc,OpenDialog:uc,About:gc},setup(){(0,l.sV)((()=>{No()}));const e=(0,l.EW)({get:()=>d.notifications.length>0,set:e=>{e||(d.notifications=[])}}),t=(0,l.EW)({get:()=>Object.values(d.errors).some((e=>!1!==e)),set:e=>{e||Cn()}});return{dropFileInputRef:u,onFileChange:Po,onFileDrop:Xo,onFileDragEnter:Oo,onFileDragLeave:Wo,onFileDragOver:jo,clearErrors:Cn,getErrorMessage:yn,refreshProject:zo,state:d,getErrors:kn,notifications:fn,isNotification:e,isError:t}}});const fc=(0,z.A)(bc,[["render",s]]);var kc=fc,yc=(a(5524),a(3925)),Cc=a(9547),wc=a(9693),Ec=a(3051),xc=a(9293),Fc=a(8741),_c=a(8210),Ac=a(2034),Lc=a(5526),Sc=a(4789),Ic=a(365),Oc=a(8400),Wc=a(5939),jc=a(4810),Xc=a(6832),Pc=a(1541),Tc=a(3679),Rc=a(4146),Dc=a(9321),Nc=a(5286),Mc=a(9416),$c=a(6843),Hc=a(6838),Bc=a(2940),Vc=a(2281),qc=a(857),Uc=a(4629),zc=a(1539),Gc=a(8591),Kc=a(9283),Qc=a(7789),Yc=a(1529),Jc=a(9468),Zc=a(6731),eu=a(6992),tu=a(3495),au=a(3548),ru=a(3714),lu=a(9271),nu=a(5634),su=a(802),iu=a(7609),ou=a(7163),cu=a(2049),uu=a(193),du=a(9064),pu=a(6526);const mu=(0,yc.$N)({components:{VApp:Cc.E,VAppBar:wc.z,VNavigationDrawer:Ec.e,VList:xc.x8,VListItem:Fc.g,VListItemTitle:_c.U,VListItemSubtitle:Ac.w,VDivider:Lc.G,VBtn:Sc.D,VIcon:Ic.w,VCard:Oc.J,VCardTitle:Wc.r,VCardText:jc.O,VDialog:Xc.p,VMain:Pc.Y,VItemGroup:Tc.$V,VListSubheader:Rc.w,VOverlay:Dc.L,VProgressCircular:Nc.x,VSnackbar:Mc.K,VFooter:$c.O,VContainer:Hc.I,VListItemAction:Bc.k,VSpacer:Vc.h,VCardSubtitle:qc.Z,VRow:Uc.L,VCol:zc.B,VToolbarTitle:Gc.s,VTooltip:Kc.y,VAppBarNavIcon:Qc.Z,VForm:Yc.n,VCombobox:Jc.A,VImg:Zc.y,VAvatar:eu.y,VChip:tu.x,VBadge:au.Q,VExpandTransition:ru.Qo,VMenu:lu.q,VBtnToggle:nu.H_,VToolbar:su.u,VAutocomplete:iu.V,VTextField:ou.W,VSelect:cu.d4,VTable:uu.Z},directives:du,icons:{defaultSet:"mdi",aliases:pu.z,sets:{mdi:pu.r}},theme:{defaultTheme:"light",themes:{light:{colors:{primary:"#4F4F4F",secondary:"#00A3F6",accent:"#8c9eff",error:"#b71c1c"}},dark:{colors:{primary:"#4F4F4F",secondary:"#00A3A6",accent:"#8c9eff",error:"#b71c1c"}}}}});var vu=mu,hu=a(5727),gu={install(e){e.component("Highlighter",hu.Ay)}};const bu=async()=>{Ys()};(async()=>{await bu();const e=(0,r.Ef)(kc);e.use(un),e.use(vu),e.use(gu),e.mount("#app")})()},6251:function(){},7233:function(){},9800:function(){}},t={};function a(r){var l=t[r];if(void 0!==l)return l.exports;var n=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=e,function(){var e=[];a.O=function(t,r,l,n){if(!r){var s=1/0;for(u=0;u<e.length;u++){r=e[u][0],l=e[u][1],n=e[u][2];for(var i=!0,o=0;o<r.length;o++)(!1&n||s>=n)&&Object.keys(a.O).every((function(e){return a.O[e](r[o])}))?r.splice(o--,1):(i=!1,n<s&&(s=n));if(i){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,l,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var l,n,s=r[0],i=r[1],o=r[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(o)var u=o(a)}for(t&&t(r);c<s.length;c++)n=s[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},r=self["webpackChunkmy_choice"]=self["webpackChunkmy_choice"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(5256)}));r=a.O(r)})();
//# sourceMappingURL=app.e1ae789c.js.map